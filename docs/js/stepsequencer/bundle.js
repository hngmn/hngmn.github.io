/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r},t.exports.default=t.exports,t.exports.__esModule=!0},858:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}t.exports=function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t},t.exports.default=t.exports,t.exports.__esModule=!0},884:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,s=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(r=n.next()).done)&&(s.push(r.value),!e||s.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return s}},t.exports.default=t.exports,t.exports.__esModule=!0},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},38:(t,e,n)=>{var r=n(858),i=n(884),s=n(323),o=n(521);t.exports=function(t,e){return r(t)||i(t,e)||s(t,e)||o()},t.exports.default=t.exports,t.exports.__esModule=!0},323:(t,e,n)=>{var r=n(228);t.exports=function(t,e){if(t){if("string"==typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},382:function(t,e,n){!function(t,e,n,r){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var s=i(e),o=i(n),a=i(r),u=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},l=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},c=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},f=function(t,e,n){var r=n.startTime,i=n.target,s=n.timeConstant;return i+(e-i)*Math.exp((r-t)/s)},d=function(t){return"exponentialRampToValue"===t.type},p=function(t){return"linearRampToValue"===t.type},m=function(t){return d(t)||p(t)},g=function(t){return"setValue"===t.type},v=function(t){return"setValueCurve"===t.type},_=function t(e,n,r,i){var s=e[n];return void 0===s?i:m(s)||g(s)?s.value:v(s)?s.values[s.values.length-1]:f(r,t(e,n-1,s.startTime,i),s)},y=function(t,e,n,r,i){return void 0===n?[r.insertTime,i]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:v(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,_(t,e-1,n.startTime,i)]},b=function(t){return"cancelAndHold"===t.type},w=function(t){return"cancelScheduledValues"===t.type},x=function(t){return b(t)||w(t)?t.cancelTime:d(t)||p(t)?t.endTime:t.startTime},k=function(t,e,n,r){var i=r.endTime,s=r.value;return n===s?s:0<n&&0<s||n<0&&s<0?n*Math.pow(s/n,(t-e)/(i-e)):0},S=function(t,e,n,r){return n+(t-e)/(r.endTime-e)*(r.value-n)},T=function(t,e){var n=e.duration,r=e.startTime,i=e.values;return function(t,e){var n=Math.floor(e),r=Math.ceil(e);return n===r?t[n]:(1-(e-n))*t[n]+(1-(r-e))*t[r]}(i,(t-r)/n*(i.length-1))},C=function(t){return"setTarget"===t.type},E=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(b(t)||w(t)){var n=this._automationEvents.findIndex((function(n){return w(t)&&v(n)?n.startTime+n.duration>=e:x(n)>=e})),r=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==r&&m(r)){if(C(i))throw new Error("The internal list is malformed.");var s=v(i)?i.startTime+i.duration:x(i),o=v(i)?i.values[i.values.length-1]:i.value,a=d(r)?k(e,s,o,r):S(e,s,o,r),f=d(r)?u(a,e,this._currenTime):l(a,e,this._currenTime);this._automationEvents.push(f)}void 0!==i&&C(i)&&this._automationEvents.push(c(this.getValue(e),e)),void 0!==i&&v(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return x(t)>e})),_=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==_&&v(_)&&x(_)+_.duration>e)return!1;var y=d(t)?u(t.value,t.endTime,this._currenTime):p(t)?l(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(y);else{if(v(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return x(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),r=n[0];C(r)&&n.unshift(c(_(this._automationEvents,e-2,r.startTime,this._defaultValue),r.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return x(e)>t})),n=this._automationEvents[e],r=(-1===e?this._automationEvents.length:e)-1,i=this._automationEvents[r];if(void 0!==i&&C(i)&&(void 0===n||!m(n)||n.insertTime>t))return f(t,_(this._automationEvents,r-1,i.startTime,this._defaultValue),i);if(void 0!==i&&g(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==i&&v(i)&&(void 0===n||!m(n)||i.startTime+i.duration>t))return t<i.startTime+i.duration?T(t,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==n&&d(n)){var o=y(this._automationEvents,r,i,n,this._defaultValue),a=s.default(o,2),u=a[0],l=a[1];return k(t,u,l,n)}if(void 0!==n&&p(n)){var c=y(this._automationEvents,r,i,n,this._defaultValue),h=s.default(c,2),b=h[0],w=h[1];return S(t,b,w,n)}return this._defaultValue}}]),t}();t.AutomationEventList=E,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=c,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(38),n(575),n(913))},894:t=>{"use strict";function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}!function(t,e){function n(){this.constructor=t}n.prototype=e.prototype,t.prototype=new n}(e,Error),e.buildMessage=function(t,e){var n={literal:function(t){return'"'+i(t.text)+'"'},class:function(t){var e,n="";for(e=0;e<t.parts.length;e++)n+=t.parts[e]instanceof Array?s(t.parts[e][0])+"-"+s(t.parts[e][1]):s(t.parts[e]);return"["+(t.inverted?"^":"")+n+"]"},any:function(t){return"any character"},end:function(t){return"end of input"},other:function(t){return t.description}};function r(t){return t.charCodeAt(0).toString(16).toUpperCase()}function i(t){return t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}function s(t){return t.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,(function(t){return"\\x0"+r(t)})).replace(/[\x10-\x1F\x7F-\x9F]/g,(function(t){return"\\x"+r(t)}))}return"Expected "+function(t){var e,r,i,s=new Array(t.length);for(e=0;e<t.length;e++)s[e]=(i=t[e],n[i.type](i));if(s.sort(),s.length>0){for(e=1,r=1;e<s.length;e++)s[e-1]!==s[e]&&(s[r]=s[e],r++);s.length=r}switch(s.length){case 1:return s[0];case 2:return s[0]+" or "+s[1];default:return s.slice(0,-1).join(", ")+", or "+s[s.length-1]}}(t)+" but "+function(t){return t?'"'+i(t)+'"':"end of input"}(e)+" found."},t.exports={SyntaxError:e,parse:function(t,n){n=void 0!==n?n:{};var r,i={},s={Start:F},o=F,a=M("=",!1),u=M("(",!1),l=M(")",!1),c=/^[\-.]/,h=I(["-","."],!1,!1),f=/^[mhqes]/,d=I(["m","h","q","e","s"],!1,!1),p=/^[a-z]/,m=I([["a","z"]],!1,!1),g=R("integer"),v=/^[0-9]/,_=I([["0","9"]],!1,!1),y=R("whitespaceoptional"),b=/^[ \t\n\r]/,w=I([" ","\t","\n","\r"],!1,!1),x=R("whitespacerequired"),k=0,S=0,T=[{line:1,column:1}],C=0,E=[],O=0;if("startRule"in n){if(!(n.startRule in s))throw new Error("Can't start parsing from rule \""+n.startRule+'".');o=s[n.startRule]}function A(){return t.substring(S,k)}function D(t,n){throw function(t,n){return new e(t,null,null,n)}(t,n=void 0!==n?n:N(S,k))}function M(t,e){return{type:"literal",text:t,ignoreCase:e}}function I(t,e,n){return{type:"class",parts:t,inverted:e,ignoreCase:n}}function R(t){return{type:"other",description:t}}function P(e){var n,r=T[e];if(r)return r;for(n=e-1;!T[n];)n--;for(r={line:(r=T[n]).line,column:r.column};n<e;)10===t.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return T[e]=r,r}function N(t,e){var n=P(t),r=P(e);return{start:{offset:t,line:n.line,column:n.column},end:{offset:e,line:r.line,column:r.column}}}function q(t){k<C||(k>C&&(C=k,E=[]),E.push(t))}function F(){var t,e,n,r;return t=k,U()!==i?(e=k,n=function(){var t,e,n,r,s,o;if(t=k,(e=j())!==i){for(n=[],r=k,(s=$())!==i&&(o=j())!==i?r=s=[s,o]:(k=r,r=i);r!==i;)n.push(r),r=k,(s=$())!==i&&(o=j())!==i?r=s=[s,o]:(k=r,r=i);n!==i?t=e=[e,n]:(k=t,t=i)}else k=t,t=i;return t}(),n!==i&&(r=$())!==i?e=n=[n,r]:(k=e,e=i),e===i&&(e=null),e!==i&&(n=V())!==i&&(r=U())!==i?(S=t,t=n.data):(k=t,t=i)):(k=t,t=i),t}function j(){var e,n,r,s;return e=k,(n=B())!==i&&U()!==i?(61===t.charCodeAt(k)?(r="=",k++):(r=i,0===O&&q(a)),r!==i&&U()!==i&&(s=V())!==i?(S=e,e=n=function(t,e){const n=t.data;n in G&&D(`Variable "${n} already defined."`),G[n]=e.data}(n,s)):(k=e,e=i)):(k=e,e=i),e}function L(){var t;return(t=V())===i&&(t=function(){var t;return(t=function(){var t,e,n;return t=k,(e=W())!==i&&(n=z())!==i?(S=t,t=e=function(t,e){const n={m:Q,h:Q/2,q:Q/4,e:Q/8,s:Q/16};return{type:"INTERVAL",data:t.data*n[e.data]}}(e,n)):(k=t,t=i),t}())===i&&(t=z())===i&&(t=W()),t}()),t}function V(){var e,n,r,s;return e=function(){var e,n,r;if(e=k,n=[],c.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(h)),r!==i)for(;r!==i;)n.push(r),c.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(h));else n=i;return n!==i&&(S=e,n={type:"LITERAL",data:n.map((t=>"-"===t))}),e=n}(),e===i&&(e=function(){var t,e,n;return t=k,(e=B())!==i&&$()!==i?(n=function(){var t,e,n,r,s,o;if(t=k,(e=L())!==i){for(n=[],r=k,(s=$())!==i&&(o=L())!==i?r=s=[s,o]:(k=r,r=i);r!==i;)n.push(r),r=k,(s=$())!==i&&(o=L())!==i?r=s=[s,o]:(k=r,r=i);n!==i?(S=t,t=e=[e].concat(n.map((([t,e])=>e)).flat())):(k=t,t=i)}else k=t,t=i;return t}(),n!==i?(S=t,t=e=function(t,e){const n=t.data;n in Y||D(`Function ${n} not found`);const r=Y[n];r.argn>0&&e.length!=r.argn&&D(`Function ${n} expected ${r.argn} args but got ${e.length}.`);const i={type:"FUNCTIONCALL",name:n,args:e,data:null};try{const t=r.fn.apply(null,e.map((t=>t.data)));i.data=t}catch(t){!function(t,e){console.log(`text:${t}\nnode:`,JSON.stringify(e,null,4))}(A(),i),D(`Got error running function: ${t.message}`)}return i}(e,n)):(k=t,t=i)):(k=t,t=i),t}(),e===i&&(e=function(){var t,e;return t=k,(e=B())!==i&&(S=t,e=function(t){const e=t.data;return e in G||D(`Variable "${e}" undefined.`),{type:"VARIABLE",variable:e,data:G[e]}}(e)),t=e}(),e===i&&(e=k,40===t.charCodeAt(k)?(n="(",k++):(n=i,0===O&&q(u)),n!==i&&U()!==i&&(r=V())!==i&&U()!==i?(41===t.charCodeAt(k)?(s=")",k++):(s=i,0===O&&q(l)),s!==i?(S=e,e=n=r):(k=e,e=i)):(k=e,e=i)))),e}function z(){var e,n;return e=k,f.test(t.charAt(k))?(n=t.charAt(k),k++):(n=i,0===O&&q(d)),n!==i&&(S=e,n={type:"UNIT",data:A()}),n}function B(){var e,n,r;if(e=k,n=[],p.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(m)),r!==i)for(;r!==i;)n.push(r),p.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(m));else n=i;return n!==i&&(S=e,n={type:"IDENTIFIER",data:A()}),n}function W(){var e,n,r;if(O++,e=k,n=[],v.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(_)),r!==i)for(;r!==i;)n.push(r),v.test(t.charAt(k))?(r=t.charAt(k),k++):(r=i,0===O&&q(_));else n=i;return n!==i&&(S=e,n={type:"INTEGER",data:parseInt(A(),10)}),O--,(e=n)===i&&(n=i,0===O&&q(g)),e}function U(){var e,n;for(O++,e=[],b.test(t.charAt(k))?(n=t.charAt(k),k++):(n=i,0===O&&q(w));n!==i;)e.push(n),b.test(t.charAt(k))?(n=t.charAt(k),k++):(n=i,0===O&&q(w));return O--,e===i&&(n=i,0===O&&q(y)),e}function $(){var e,n;if(O++,e=[],b.test(t.charAt(k))?(n=t.charAt(k),k++):(n=i,0===O&&q(w)),n!==i)for(;n!==i;)e.push(n),b.test(t.charAt(k))?(n=t.charAt(k),k++):(n=i,0===O&&q(w));else e=i;return O--,e===i&&(n=i,0===O&&q(x)),e}const G={},Q=16;function H(t,e){return t.length<=e.length?[t,e]:[e,t]}const Y={all:{name:"all",aliases:[],argn:1,fn:t=>new Array(t).fill(!0)},empty:{name:"empty",aliases:[],argn:1,fn:t=>new Array(t).fill(!1)},down:{name:"down",aliases:["first"],argn:1,fn:t=>{const e=new Array(t).fill(!1);return e[0]=!0,e}},invert:{name:"invert",aliases:["inv"],argn:1,fn:t=>t.map((t=>!t))},reverse:{name:"reverse",aliases:["rv","rev"],argn:1,fn:t=>t.reverse()},repeat:{name:"repeat",aliases:["rpt"],argn:2,fn:(t,e)=>new Array(t).fill(e).flat()},repeatfill:{name:"repeatfill",aliases:["rptf"],argn:2,fn:(t,e)=>{const n=Math.ceil(t/e.length);return new Array(n).fill(e).flat().slice(0,t)}},rightshift:{name:"rightshift",aliases:["rs"],argn:2,fn:(t,e)=>{for(let n=0;n<t;n++)e.unshift(e.pop());return e}},leftshift:{name:"leftshift",aliases:["ls"],argn:2,fn:(t,e)=>{for(let n=0;n<t;n++)e.push(e.shift());return e}},fixedlength:{name:"fixedlength",aliases:["fl","truncate"],argn:2,fn:(t,e)=>t>e.length?e.concat(new Array(t-e.length).fill(!1)):e.slice(t)},bwand:{name:"bwand",aliases:["and"],argn:2,fn:(t,e)=>{const[n,r]=H(t,e),i=Array.from(r);return n.forEach(((t,e)=>{i[e]=i[e]&&t})),i}},bwor:{name:"bwor",aliases:["or"],argn:2,fn:(t,e)=>{const[n,r]=H(t,e),i=r;return n.forEach(((t,e)=>{i[e]=i[e]||t})),i}},bwxor:{name:"bwxor",aliases:["xor"],argn:2,fn:(t,e)=>{const[n,r]=H(t,e),i=r;return n.forEach(((t,e)=>{i[e]=(i[e]||t)&&!(i[e]&&t)})),i}},cat:{name:"cat",aliases:[],argn:-1,fn:(...t)=>t.flat()}};for(const[t,e]of Object.entries(Y))for(const t of e.aliases){if(t in Y)throw new Error(`Duplicate found while mapping aliases: ${t}`);Y[t]=e}if((r=o())!==i&&k===t.length)return r;throw r!==i&&k<t.length&&q({type:"end"}),X=E,Z=C<t.length?t.charAt(C):null,K=C<t.length?N(C,C+1):N(C,C),new e(e.buildMessage(X,Z),X,Z,K);var X,Z,K}}},184:(t,e)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var s=typeof n;if("string"===s||"number"===s)t.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&t.push(o)}}else if("object"===s)if(n.toString===Object.prototype.toString)for(var a in n)r.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},263:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'.react-tabs {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.react-tabs__tab-list {\n  border-bottom: 1px solid #aaa;\n  margin: 0 0 10px;\n  padding: 0;\n}\n\n.react-tabs__tab {\n  display: inline-block;\n  border: 1px solid transparent;\n  border-bottom: none;\n  bottom: -1px;\n  position: relative;\n  list-style: none;\n  padding: 6px 12px;\n  cursor: pointer;\n}\n\n.react-tabs__tab--selected {\n  background: #fff;\n  border-color: #aaa;\n  color: black;\n  border-radius: 5px 5px 0 0;\n}\n\n.react-tabs__tab--disabled {\n  color: GrayText;\n  cursor: default;\n}\n\n.react-tabs__tab:focus {\n  box-shadow: 0 0 5px hsl(208, 99%, 50%);\n  border-color: hsl(208, 99%, 50%);\n  outline: none;\n}\n\n.react-tabs__tab:focus:after {\n  content: "";\n  position: absolute;\n  height: 5px;\n  left: -4px;\n  right: -4px;\n  bottom: -5px;\n  background: #fff;\n}\n\n.react-tabs__tab-panel {\n  display: none;\n}\n\n.react-tabs__tab-panel--selected {\n  display: block;\n}\n',""]);const s=i},763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'html, body {\n  margin: 0px;\n  height: 100vh;\n}\n\n.stepSequencer {\n  display: block;\n  position: absolute;\n  background-color: #3b60a9;\n  border: 4px black;\n  height: 100vh;\n  width: 100vw;\n}\n\n.sequencerControls {\n  display: grid;\n  grid-template-columns: minmax(10px, 20vw) minmax(10px, 15vw) 1fr minmax(10px, auto) minmax(10px, auto);\n  grid-template-rows: auto;\n  grid-template-areas:\n    "bpm bar . play clear";\n  justify-items: center;\n  border: 1px solid black;\n  border-radius: 4px;\n  padding: 15px;\n}\n\n.slider.bpm {\n  grid-area: bpm;\n}\n\n.switch.nBars {\n  grid-area: bar;\n}\n\n.playButton {\n  grid-area: play;\n\n  display: inline-block;\n  border-radius: 28px;\n  color: #ffffff;\n  background: #d9ad34;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n}\n\n.clearAll {\n  grid-area: clear;\n\n  display: inline-block;\n  border-radius: 28px;\n  color: #ffffff;\n  background: #d9ad34;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n}\n\n.tracks {\n  display: block;\n}\n\n.track {\n  display: grid;\n  grid-template-columns: [icp-start] minmax(0, 1fr) [icp-end] 25px [pads-start] minmax(0, 5fr) [pads-end];\n  grid-template-rows: auto;\n}\n\n.fullControlPanel {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: minmax(10px, auto) minmax(10px, auto) minmax(10px, 1fr);\n  grid-template-areas:\n    "label"\n    "rtm"\n    "parameters";\n  justify-items: stretch;\n\n  z-index: 42;\n  box-shadow: 5px 5px gray;\n  position: relative;\n  top: 20vh;\n  left: 20vw;\n  width: 40vw;\n  height: 40vh;\n  background-color: orange;\n  border: 1px solid black;\n  border-radius: 4px;\n}\n\n.quickControlPanel {\n  grid-column: icp-start / icp-end;\n\n  display: grid;\n  grid-template-columns: 15px minmax(0, 1fr) auto;\n  grid-template-rows: minmax(10px, auto) minmax(0px, 1fr);\n  grid-template-areas:\n    "rm label play"\n    "qc qc    qc";\n  justify-items: center;\n  align-items: center;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n\n.removeInstrumentButton {\n  grid-area: rm;\n\n  display: inline;\n  padding: 5px;\n  background-color: transparent;\n  border: none;\n  border-radius: 2px;\n}\n\n.instrumentLabel {\n  grid-area: label;\n}\n\n.instrumentPlayButton {\n  display: inline;\n  grid-area: play;\n  margin: 3px 10px;\n}\n\n.quickControls {\n  display: inline;\n  grid-area: qc;\n}\n\n.quickControlButton {\n  display: inline;\n  margin: 3px 5px;\n}\n\n.quickControlButton.on {\n  border: 2px solid yellow;\n}\n\n.quickControlButton.off {\n}\n\n.rtmBox {\n  grid-area: "rtm";\n}\n\n.rtmInput {\n  font-family: monospace;\n}\n\n.rtmInput.invalid {\n  border: 2px solid red;\n}\n\n.instrumentParameters {\n  grid-area: parameters;\n}\n\n.slider {\n  display: inline-grid;\n  grid-template-columns: minmax(10px, 40%) minmax(10px, 60%);\n  grid-template-rows: auto;\n  grid-template-areas:\n    "label slider";\n  justify-items: start;\n}\n\n.slider.instrumentParameter {\n  display: grid;\n}\n\n.slider.instrumentParameter label {\n  grid-area: label;\n}\n\n.slider.instrumentParameter input {\n  grid-area: slider;\n  justify-self: center;\n  width: 80%\n}\n\n.pads {\n  grid-column: pads-start / pads-end;\n\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 6px;\n  justify-self: start;\n}\n\n.bar {\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 4px;\n}\n\n.beat > button:first-child {\n  border-color: orange;\n}\n\n.beat {\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 2px;\n}\n\n.pad {\n  display: inline-block;\n  border-radius: 2px;\n  padding: 15px 15px;\n  margin: 0px;\n  cursor: pointer;\n  border: 1px solid gray;\n}\n\n.pad.on {\n  background-color: #e5f523;\n}\n\n.pad.off {\n  background-color: #829bb1;\n}\n\n.pad.active {\n  border: 2px solid yellow;\n}\n',""]);const s=i},757:(t,e,n)=>{"use strict";n.d(e,{Z:()=>s});var r=n(645),i=n.n(r)()((function(t){return t[1]}));i.push([t.id,'.instrumentSelect {\n  border: 1px solid black;\n  margin: 15px;\n\n  display: grid;\n  grid-template-columns: 50% 50%;\n  grid-template-rows: 100%;\n  grid-template-areas:\n    "available staged"\n}\n\n.availableInstruments {\n  grid-area: available;\n  border: 1px solid black;\n  margin: 2%;\n}\n\n.sequencerInstruments {\n  grid-area: staged;\n  border: 1px solid black;\n  margin: 2%;\n}\n\n.instrumentListTitle {\n  margin: 0px auto;\n}\n\n.instrumentListItem {\n  margin-right: 10%;\n}\n\n.instrumentListItem:hover {\n  border: 1px solid black;\n}\n\n.instrumentListItem#button {\n  width: fit-content;\n}\n\n.instrumentListItem.available {\n  display: grid;\n  grid-template-columns: minmax(10px, auto) 1fr minmax(10px, min-content) minmax(10px, min-content);\n  grid-template-rows: auto;\n  grid-template-areas: "label . stage delete";\n}\n\n.instrumentListItem.sequencer {\n  display: grid;\n  grid-template-columns: minmax(10px, auto) 1fr minmax(10px, min-content);\n  grid-template-rows: auto;\n  grid-template-areas: "label . unstage";\n}\n\n\n',""]);const s=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,r){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var a=0;a<t.length;a++){var u=[].concat(t[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),e.push(u))}},e}},679:(t,e,n)=>{"use strict";var r=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function u(t){return r.isMemo(t)?o:a[t.$$typeof]||i}a[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[r.Memo]=o;var l=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=function t(e,n,r){if("string"!=typeof n){if(p){var i=d(n);i&&i!==p&&t(e,i,r)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=u(e),m=u(n),g=0;g<o.length;++g){var v=o[g];if(!(s[v]||r&&r[v]||m&&m[v]||a&&a[v])){var _=f(n,v);try{l(e,v,_)}catch(t){}}}}return e}},486:function(t,e,n){var r;t=n.nmd(t),function(){var i,s="Expected a function",o="__lodash_hash_undefined__",a="__lodash_placeholder__",u=32,l=128,c=1/0,h=9007199254740991,f=NaN,d=4294967295,p=[["ary",l],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",u],["partialRight",64],["rearg",256]],m="[object Arguments]",g="[object Array]",v="[object Boolean]",_="[object Date]",y="[object Error]",b="[object Function]",w="[object GeneratorFunction]",x="[object Map]",k="[object Number]",S="[object Object]",T="[object Promise]",C="[object RegExp]",E="[object Set]",O="[object String]",A="[object Symbol]",D="[object WeakMap]",M="[object ArrayBuffer]",I="[object DataView]",R="[object Float32Array]",P="[object Float64Array]",N="[object Int8Array]",q="[object Int16Array]",F="[object Int32Array]",j="[object Uint8Array]",L="[object Uint8ClampedArray]",V="[object Uint16Array]",z="[object Uint32Array]",B=/\b__p \+= '';/g,W=/\b(__p \+=) '' \+/g,U=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$=/&(?:amp|lt|gt|quot|#39);/g,G=/[&<>"']/g,Q=RegExp($.source),H=RegExp(G.source),Y=/<%-([\s\S]+?)%>/g,X=/<%([\s\S]+?)%>/g,Z=/<%=([\s\S]+?)%>/g,K=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,J=/^\w*$/,tt=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,et=/[\\^$.*+?()[\]{}|]/g,nt=RegExp(et.source),rt=/^\s+/,it=/\s/,st=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,ot=/\{\n\/\* \[wrapped with (.+)\] \*/,at=/,? & /,ut=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,lt=/[()=,{}\[\]\/\s]/,ct=/\\(\\)?/g,ht=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ft=/\w*$/,dt=/^[-+]0x[0-9a-f]+$/i,pt=/^0b[01]+$/i,mt=/^\[object .+?Constructor\]$/,gt=/^0o[0-7]+$/i,vt=/^(?:0|[1-9]\d*)$/,_t=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,yt=/($^)/,bt=/['\n\r\u2028\u2029\\]/g,wt="\\ud800-\\udfff",xt="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",kt="\\u2700-\\u27bf",St="a-z\\xdf-\\xf6\\xf8-\\xff",Tt="A-Z\\xc0-\\xd6\\xd8-\\xde",Ct="\\ufe0e\\ufe0f",Et="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ot="["+wt+"]",At="["+Et+"]",Dt="["+xt+"]",Mt="\\d+",It="["+kt+"]",Rt="["+St+"]",Pt="[^"+wt+Et+Mt+kt+St+Tt+"]",Nt="\\ud83c[\\udffb-\\udfff]",qt="[^"+wt+"]",Ft="(?:\\ud83c[\\udde6-\\uddff]){2}",jt="[\\ud800-\\udbff][\\udc00-\\udfff]",Lt="["+Tt+"]",Vt="\\u200d",zt="(?:"+Rt+"|"+Pt+")",Bt="(?:"+Lt+"|"+Pt+")",Wt="(?:['’](?:d|ll|m|re|s|t|ve))?",Ut="(?:['’](?:D|LL|M|RE|S|T|VE))?",$t="(?:"+Dt+"|"+Nt+")?",Gt="["+Ct+"]?",Qt=Gt+$t+"(?:"+Vt+"(?:"+[qt,Ft,jt].join("|")+")"+Gt+$t+")*",Ht="(?:"+[It,Ft,jt].join("|")+")"+Qt,Yt="(?:"+[qt+Dt+"?",Dt,Ft,jt,Ot].join("|")+")",Xt=RegExp("['’]","g"),Zt=RegExp(Dt,"g"),Kt=RegExp(Nt+"(?="+Nt+")|"+Yt+Qt,"g"),Jt=RegExp([Lt+"?"+Rt+"+"+Wt+"(?="+[At,Lt,"$"].join("|")+")",Bt+"+"+Ut+"(?="+[At,Lt+zt,"$"].join("|")+")",Lt+"?"+zt+"+"+Wt,Lt+"+"+Ut,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Mt,Ht].join("|"),"g"),te=RegExp("["+Vt+wt+xt+Ct+"]"),ee=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ne=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],re=-1,ie={};ie[R]=ie[P]=ie[N]=ie[q]=ie[F]=ie[j]=ie[L]=ie[V]=ie[z]=!0,ie[m]=ie[g]=ie[M]=ie[v]=ie[I]=ie[_]=ie[y]=ie[b]=ie[x]=ie[k]=ie[S]=ie[C]=ie[E]=ie[O]=ie[D]=!1;var se={};se[m]=se[g]=se[M]=se[I]=se[v]=se[_]=se[R]=se[P]=se[N]=se[q]=se[F]=se[x]=se[k]=se[S]=se[C]=se[E]=se[O]=se[A]=se[j]=se[L]=se[V]=se[z]=!0,se[y]=se[b]=se[D]=!1;var oe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ae=parseFloat,ue=parseInt,le="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,ce="object"==typeof self&&self&&self.Object===Object&&self,he=le||ce||Function("return this")(),fe=e&&!e.nodeType&&e,de=fe&&t&&!t.nodeType&&t,pe=de&&de.exports===fe,me=pe&&le.process,ge=function(){try{return de&&de.require&&de.require("util").types||me&&me.binding&&me.binding("util")}catch(t){}}(),ve=ge&&ge.isArrayBuffer,_e=ge&&ge.isDate,ye=ge&&ge.isMap,be=ge&&ge.isRegExp,we=ge&&ge.isSet,xe=ge&&ge.isTypedArray;function ke(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function Se(t,e,n,r){for(var i=-1,s=null==t?0:t.length;++i<s;){var o=t[i];e(r,o,n(o),t)}return r}function Te(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function Ce(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function Ee(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function Oe(t,e){for(var n=-1,r=null==t?0:t.length,i=0,s=[];++n<r;){var o=t[n];e(o,n,t)&&(s[i++]=o)}return s}function Ae(t,e){return!(null==t||!t.length)&&Le(t,e,0)>-1}function De(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function Me(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function Ie(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function Re(t,e,n,r){var i=-1,s=null==t?0:t.length;for(r&&s&&(n=t[++i]);++i<s;)n=e(n,t[i],i,t);return n}function Pe(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function Ne(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var qe=We("length");function Fe(t,e,n){var r;return n(t,(function(t,n,i){if(e(t,n,i))return r=n,!1})),r}function je(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}function Le(t,e,n){return e==e?function(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}(t,e,n):je(t,ze,n)}function Ve(t,e,n,r){for(var i=n-1,s=t.length;++i<s;)if(r(t[i],e))return i;return-1}function ze(t){return t!=t}function Be(t,e){var n=null==t?0:t.length;return n?Ge(t,e)/n:f}function We(t){return function(e){return null==e?i:e[t]}}function Ue(t){return function(e){return null==t?i:t[e]}}function $e(t,e,n,r,i){return i(t,(function(t,i,s){n=r?(r=!1,t):e(n,t,i,s)})),n}function Ge(t,e){for(var n,r=-1,s=t.length;++r<s;){var o=e(t[r]);o!==i&&(n=n===i?o:n+o)}return n}function Qe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function He(t){return t?t.slice(0,dn(t)+1).replace(rt,""):t}function Ye(t){return function(e){return t(e)}}function Xe(t,e){return Me(e,(function(e){return t[e]}))}function Ze(t,e){return t.has(e)}function Ke(t,e){for(var n=-1,r=t.length;++n<r&&Le(e,t[n],0)>-1;);return n}function Je(t,e){for(var n=t.length;n--&&Le(e,t[n],0)>-1;);return n}function tn(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}var en=Ue({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),nn=Ue({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function rn(t){return"\\"+oe[t]}function sn(t){return te.test(t)}function on(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}function an(t,e){return function(n){return t(e(n))}}function un(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n];o!==e&&o!==a||(t[n]=a,s[i++]=n)}return s}function ln(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}function cn(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=[t,t]})),n}function hn(t){return sn(t)?function(t){for(var e=Kt.lastIndex=0;Kt.test(t);)++e;return e}(t):qe(t)}function fn(t){return sn(t)?function(t){return t.match(Kt)||[]}(t):function(t){return t.split("")}(t)}function dn(t){for(var e=t.length;e--&&it.test(t.charAt(e)););return e}var pn=Ue({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),mn=function t(e){var n,r=(e=null==e?he:mn.defaults(he.Object(),e,mn.pick(he,ne))).Array,it=e.Date,wt=e.Error,xt=e.Function,kt=e.Math,St=e.Object,Tt=e.RegExp,Ct=e.String,Et=e.TypeError,Ot=r.prototype,At=xt.prototype,Dt=St.prototype,Mt=e["__core-js_shared__"],It=At.toString,Rt=Dt.hasOwnProperty,Pt=0,Nt=(n=/[^.]+$/.exec(Mt&&Mt.keys&&Mt.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",qt=Dt.toString,Ft=It.call(St),jt=he._,Lt=Tt("^"+It.call(Rt).replace(et,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Vt=pe?e.Buffer:i,zt=e.Symbol,Bt=e.Uint8Array,Wt=Vt?Vt.allocUnsafe:i,Ut=an(St.getPrototypeOf,St),$t=St.create,Gt=Dt.propertyIsEnumerable,Qt=Ot.splice,Ht=zt?zt.isConcatSpreadable:i,Yt=zt?zt.iterator:i,Kt=zt?zt.toStringTag:i,te=function(){try{var t=ls(St,"defineProperty");return t({},"",{}),t}catch(t){}}(),oe=e.clearTimeout!==he.clearTimeout&&e.clearTimeout,le=it&&it.now!==he.Date.now&&it.now,ce=e.setTimeout!==he.setTimeout&&e.setTimeout,fe=kt.ceil,de=kt.floor,me=St.getOwnPropertySymbols,ge=Vt?Vt.isBuffer:i,qe=e.isFinite,Ue=Ot.join,gn=an(St.keys,St),vn=kt.max,_n=kt.min,yn=it.now,bn=e.parseInt,wn=kt.random,xn=Ot.reverse,kn=ls(e,"DataView"),Sn=ls(e,"Map"),Tn=ls(e,"Promise"),Cn=ls(e,"Set"),En=ls(e,"WeakMap"),On=ls(St,"create"),An=En&&new En,Dn={},Mn=js(kn),In=js(Sn),Rn=js(Tn),Pn=js(Cn),Nn=js(En),qn=zt?zt.prototype:i,Fn=qn?qn.valueOf:i,jn=qn?qn.toString:i;function Ln(t){if(na(t)&&!$o(t)&&!(t instanceof Wn)){if(t instanceof Bn)return t;if(Rt.call(t,"__wrapped__"))return Ls(t)}return new Bn(t)}var Vn=function(){function t(){}return function(e){if(!ea(e))return{};if($t)return $t(e);t.prototype=e;var n=new t;return t.prototype=i,n}}();function zn(){}function Bn(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=i}function Wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Un(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function $n(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Gn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function Qn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new Gn;++e<n;)this.add(t[e])}function Hn(t){var e=this.__data__=new $n(t);this.size=e.size}function Yn(t,e){var n=$o(t),r=!n&&Uo(t),i=!n&&!r&&Yo(t),s=!n&&!r&&!i&&ca(t),o=n||r||i||s,a=o?Qe(t.length,Ct):[],u=a.length;for(var l in t)!e&&!Rt.call(t,l)||o&&("length"==l||i&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||gs(l,u))||a.push(l);return a}function Xn(t){var e=t.length;return e?t[Gr(0,e-1)]:i}function Zn(t,e){return Rs(Ei(t),or(e,0,t.length))}function Kn(t){return Rs(Ei(t))}function Jn(t,e,n){(n!==i&&!zo(t[e],n)||n===i&&!(e in t))&&ir(t,e,n)}function tr(t,e,n){var r=t[e];Rt.call(t,e)&&zo(r,n)&&(n!==i||e in t)||ir(t,e,n)}function er(t,e){for(var n=t.length;n--;)if(zo(t[n][0],e))return n;return-1}function nr(t,e,n,r){return hr(t,(function(t,i,s){e(r,t,n(t),s)})),r}function rr(t,e){return t&&Oi(e,Ia(e),t)}function ir(t,e,n){"__proto__"==e&&te?te(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function sr(t,e){for(var n=-1,s=e.length,o=r(s),a=null==t;++n<s;)o[n]=a?i:Ea(t,e[n]);return o}function or(t,e,n){return t==t&&(n!==i&&(t=t<=n?t:n),e!==i&&(t=t>=e?t:e)),t}function ar(t,e,n,r,s,o){var a,u=1&e,l=2&e,c=4&e;if(n&&(a=s?n(t,r,s,o):n(t)),a!==i)return a;if(!ea(t))return t;var h=$o(t);if(h){if(a=function(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&Rt.call(t,"index")&&(n.index=t.index,n.input=t.input),n}(t),!u)return Ei(t,a)}else{var f=fs(t),d=f==b||f==w;if(Yo(t))return wi(t,u);if(f==S||f==m||d&&!s){if(a=l||d?{}:ps(t),!u)return l?function(t,e){return Oi(t,hs(t),e)}(t,function(t,e){return t&&Oi(e,Ra(e),t)}(a,t)):function(t,e){return Oi(t,cs(t),e)}(t,rr(a,t))}else{if(!se[f])return s?t:{};a=function(t,e,n){var r,i=t.constructor;switch(e){case M:return xi(t);case v:case _:return new i(+t);case I:return function(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,n);case R:case P:case N:case q:case F:case j:case L:case V:case z:return ki(t,n);case x:return new i;case k:case O:return new i(t);case C:return function(t){var e=new t.constructor(t.source,ft.exec(t));return e.lastIndex=t.lastIndex,e}(t);case E:return new i;case A:return r=t,Fn?St(Fn.call(r)):{}}}(t,f,u)}}o||(o=new Hn);var p=o.get(t);if(p)return p;o.set(t,a),aa(t)?t.forEach((function(r){a.add(ar(r,e,n,r,t,o))})):ra(t)&&t.forEach((function(r,i){a.set(i,ar(r,e,n,i,t,o))}));var g=h?i:(c?l?ns:es:l?Ra:Ia)(t);return Te(g||t,(function(r,i){g&&(r=t[i=r]),tr(a,i,ar(r,e,n,i,t,o))})),a}function ur(t,e,n){var r=n.length;if(null==t)return!r;for(t=St(t);r--;){var s=n[r],o=e[s],a=t[s];if(a===i&&!(s in t)||!o(a))return!1}return!0}function lr(t,e,n){if("function"!=typeof t)throw new Et(s);return As((function(){t.apply(i,n)}),e)}function cr(t,e,n,r){var i=-1,s=Ae,o=!0,a=t.length,u=[],l=e.length;if(!a)return u;n&&(e=Me(e,Ye(n))),r?(s=De,o=!1):e.length>=200&&(s=Ze,o=!1,e=new Qn(e));t:for(;++i<a;){var c=t[i],h=null==n?c:n(c);if(c=r||0!==c?c:0,o&&h==h){for(var f=l;f--;)if(e[f]===h)continue t;u.push(c)}else s(e,h,r)||u.push(c)}return u}Ln.templateSettings={escape:Y,evaluate:X,interpolate:Z,variable:"",imports:{_:Ln}},Ln.prototype=zn.prototype,Ln.prototype.constructor=Ln,Bn.prototype=Vn(zn.prototype),Bn.prototype.constructor=Bn,Wn.prototype=Vn(zn.prototype),Wn.prototype.constructor=Wn,Un.prototype.clear=function(){this.__data__=On?On(null):{},this.size=0},Un.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},Un.prototype.get=function(t){var e=this.__data__;if(On){var n=e[t];return n===o?i:n}return Rt.call(e,t)?e[t]:i},Un.prototype.has=function(t){var e=this.__data__;return On?e[t]!==i:Rt.call(e,t)},Un.prototype.set=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=On&&e===i?o:e,this},$n.prototype.clear=function(){this.__data__=[],this.size=0},$n.prototype.delete=function(t){var e=this.__data__,n=er(e,t);return!(n<0||(n==e.length-1?e.pop():Qt.call(e,n,1),--this.size,0))},$n.prototype.get=function(t){var e=this.__data__,n=er(e,t);return n<0?i:e[n][1]},$n.prototype.has=function(t){return er(this.__data__,t)>-1},$n.prototype.set=function(t,e){var n=this.__data__,r=er(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this},Gn.prototype.clear=function(){this.size=0,this.__data__={hash:new Un,map:new(Sn||$n),string:new Un}},Gn.prototype.delete=function(t){var e=as(this,t).delete(t);return this.size-=e?1:0,e},Gn.prototype.get=function(t){return as(this,t).get(t)},Gn.prototype.has=function(t){return as(this,t).has(t)},Gn.prototype.set=function(t,e){var n=as(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this},Qn.prototype.add=Qn.prototype.push=function(t){return this.__data__.set(t,o),this},Qn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.clear=function(){this.__data__=new $n,this.size=0},Hn.prototype.delete=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n},Hn.prototype.get=function(t){return this.__data__.get(t)},Hn.prototype.has=function(t){return this.__data__.has(t)},Hn.prototype.set=function(t,e){var n=this.__data__;if(n instanceof $n){var r=n.__data__;if(!Sn||r.length<199)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Gn(r)}return n.set(t,e),this.size=n.size,this};var hr=Mi(yr),fr=Mi(br,!0);function dr(t,e){var n=!0;return hr(t,(function(t,r,i){return n=!!e(t,r,i)})),n}function pr(t,e,n){for(var r=-1,s=t.length;++r<s;){var o=t[r],a=e(o);if(null!=a&&(u===i?a==a&&!la(a):n(a,u)))var u=a,l=o}return l}function mr(t,e){var n=[];return hr(t,(function(t,r,i){e(t,r,i)&&n.push(t)})),n}function gr(t,e,n,r,i){var s=-1,o=t.length;for(n||(n=ms),i||(i=[]);++s<o;){var a=t[s];e>0&&n(a)?e>1?gr(a,e-1,n,r,i):Ie(i,a):r||(i[i.length]=a)}return i}var vr=Ii(),_r=Ii(!0);function yr(t,e){return t&&vr(t,e,Ia)}function br(t,e){return t&&_r(t,e,Ia)}function wr(t,e){return Oe(e,(function(e){return Ko(t[e])}))}function xr(t,e){for(var n=0,r=(e=vi(e,t)).length;null!=t&&n<r;)t=t[Fs(e[n++])];return n&&n==r?t:i}function kr(t,e,n){var r=e(t);return $o(t)?r:Ie(r,n(t))}function Sr(t){return null==t?t===i?"[object Undefined]":"[object Null]":Kt&&Kt in St(t)?function(t){var e=Rt.call(t,Kt),n=t[Kt];try{t[Kt]=i;var r=!0}catch(t){}var s=qt.call(t);return r&&(e?t[Kt]=n:delete t[Kt]),s}(t):function(t){return qt.call(t)}(t)}function Tr(t,e){return t>e}function Cr(t,e){return null!=t&&Rt.call(t,e)}function Er(t,e){return null!=t&&e in St(t)}function Or(t,e,n){for(var s=n?De:Ae,o=t[0].length,a=t.length,u=a,l=r(a),c=1/0,h=[];u--;){var f=t[u];u&&e&&(f=Me(f,Ye(e))),c=_n(f.length,c),l[u]=!n&&(e||o>=120&&f.length>=120)?new Qn(u&&f):i}f=t[0];var d=-1,p=l[0];t:for(;++d<o&&h.length<c;){var m=f[d],g=e?e(m):m;if(m=n||0!==m?m:0,!(p?Ze(p,g):s(h,g,n))){for(u=a;--u;){var v=l[u];if(!(v?Ze(v,g):s(t[u],g,n)))continue t}p&&p.push(g),h.push(m)}}return h}function Ar(t,e,n){var r=null==(t=Ts(t,e=vi(e,t)))?t:t[Fs(Xs(e))];return null==r?i:ke(r,t,n)}function Dr(t){return na(t)&&Sr(t)==m}function Mr(t,e,n,r,s){return t===e||(null==t||null==e||!na(t)&&!na(e)?t!=t&&e!=e:function(t,e,n,r,s,o){var a=$o(t),u=$o(e),l=a?g:fs(t),c=u?g:fs(e),h=(l=l==m?S:l)==S,f=(c=c==m?S:c)==S,d=l==c;if(d&&Yo(t)){if(!Yo(e))return!1;a=!0,h=!1}if(d&&!h)return o||(o=new Hn),a||ca(t)?Ji(t,e,n,r,s,o):function(t,e,n,r,i,s,o){switch(n){case I:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case M:return!(t.byteLength!=e.byteLength||!s(new Bt(t),new Bt(e)));case v:case _:case k:return zo(+t,+e);case y:return t.name==e.name&&t.message==e.message;case C:case O:return t==e+"";case x:var a=on;case E:var u=1&r;if(a||(a=ln),t.size!=e.size&&!u)return!1;var l=o.get(t);if(l)return l==e;r|=2,o.set(t,e);var c=Ji(a(t),a(e),r,i,s,o);return o.delete(t),c;case A:if(Fn)return Fn.call(t)==Fn.call(e)}return!1}(t,e,l,n,r,s,o);if(!(1&n)){var p=h&&Rt.call(t,"__wrapped__"),b=f&&Rt.call(e,"__wrapped__");if(p||b){var w=p?t.value():t,T=b?e.value():e;return o||(o=new Hn),s(w,T,n,r,o)}}return!!d&&(o||(o=new Hn),function(t,e,n,r,s,o){var a=1&n,u=es(t),l=u.length;if(l!=es(e).length&&!a)return!1;for(var c=l;c--;){var h=u[c];if(!(a?h in e:Rt.call(e,h)))return!1}var f=o.get(t),d=o.get(e);if(f&&d)return f==e&&d==t;var p=!0;o.set(t,e),o.set(e,t);for(var m=a;++c<l;){var g=t[h=u[c]],v=e[h];if(r)var _=a?r(v,g,h,e,t,o):r(g,v,h,t,e,o);if(!(_===i?g===v||s(g,v,n,r,o):_)){p=!1;break}m||(m="constructor"==h)}if(p&&!m){var y=t.constructor,b=e.constructor;y==b||!("constructor"in t)||!("constructor"in e)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(p=!1)}return o.delete(t),o.delete(e),p}(t,e,n,r,s,o))}(t,e,n,r,Mr,s))}function Ir(t,e,n,r){var s=n.length,o=s,a=!r;if(null==t)return!o;for(t=St(t);s--;){var u=n[s];if(a&&u[2]?u[1]!==t[u[0]]:!(u[0]in t))return!1}for(;++s<o;){var l=(u=n[s])[0],c=t[l],h=u[1];if(a&&u[2]){if(c===i&&!(l in t))return!1}else{var f=new Hn;if(r)var d=r(c,h,l,t,e,f);if(!(d===i?Mr(h,c,3,r,f):d))return!1}}return!0}function Rr(t){return!(!ea(t)||(e=t,Nt&&Nt in e))&&(Ko(t)?Lt:mt).test(js(t));var e}function Pr(t){return"function"==typeof t?t:null==t?iu:"object"==typeof t?$o(t)?Lr(t[0],t[1]):jr(t):du(t)}function Nr(t){if(!ws(t))return gn(t);var e=[];for(var n in St(t))Rt.call(t,n)&&"constructor"!=n&&e.push(n);return e}function qr(t,e){return t<e}function Fr(t,e){var n=-1,i=Qo(t)?r(t.length):[];return hr(t,(function(t,r,s){i[++n]=e(t,r,s)})),i}function jr(t){var e=us(t);return 1==e.length&&e[0][2]?ks(e[0][0],e[0][1]):function(n){return n===t||Ir(n,t,e)}}function Lr(t,e){return _s(t)&&xs(e)?ks(Fs(t),e):function(n){var r=Ea(n,t);return r===i&&r===e?Oa(n,t):Mr(e,r,3)}}function Vr(t,e,n,r,s){t!==e&&vr(e,(function(o,a){if(s||(s=new Hn),ea(o))!function(t,e,n,r,s,o,a){var u=Es(t,n),l=Es(e,n),c=a.get(l);if(c)Jn(t,n,c);else{var h=o?o(u,l,n+"",t,e,a):i,f=h===i;if(f){var d=$o(l),p=!d&&Yo(l),m=!d&&!p&&ca(l);h=l,d||p||m?$o(u)?h=u:Ho(u)?h=Ei(u):p?(f=!1,h=wi(l,!0)):m?(f=!1,h=ki(l,!0)):h=[]:sa(l)||Uo(l)?(h=u,Uo(u)?h=_a(u):ea(u)&&!Ko(u)||(h=ps(l))):f=!1}f&&(a.set(l,h),s(h,l,r,o,a),a.delete(l)),Jn(t,n,h)}}(t,e,a,n,Vr,r,s);else{var u=r?r(Es(t,a),o,a+"",t,e,s):i;u===i&&(u=o),Jn(t,a,u)}}),Ra)}function zr(t,e){var n=t.length;if(n)return gs(e+=e<0?n:0,n)?t[e]:i}function Br(t,e,n){e=e.length?Me(e,(function(t){return $o(t)?function(e){return xr(e,1===t.length?t[0]:t)}:t})):[iu];var r=-1;e=Me(e,Ye(os()));var i=Fr(t,(function(t,n,i){var s=Me(e,(function(e){return e(t)}));return{criteria:s,index:++r,value:t}}));return function(t,e){var r=t.length;for(t.sort((function(t,e){return function(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,o=i.length,a=n.length;++r<o;){var u=Si(i[r],s[r]);if(u)return r>=a?u:u*("desc"==n[r]?-1:1)}return t.index-e.index}(t,e,n)}));r--;)t[r]=t[r].value;return t}(i)}function Wr(t,e,n){for(var r=-1,i=e.length,s={};++r<i;){var o=e[r],a=xr(t,o);n(a,o)&&Zr(s,vi(o,t),a)}return s}function Ur(t,e,n,r){var i=r?Ve:Le,s=-1,o=e.length,a=t;for(t===e&&(e=Ei(e)),n&&(a=Me(t,Ye(n)));++s<o;)for(var u=0,l=e[s],c=n?n(l):l;(u=i(a,c,u,r))>-1;)a!==t&&Qt.call(a,u,1),Qt.call(t,u,1);return t}function $r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==s){var s=i;gs(i)?Qt.call(t,i,1):li(t,i)}}return t}function Gr(t,e){return t+de(wn()*(e-t+1))}function Qr(t,e){var n="";if(!t||e<1||e>h)return n;do{e%2&&(n+=t),(e=de(e/2))&&(t+=t)}while(e);return n}function Hr(t,e){return Ds(Ss(t,e,iu),t+"")}function Yr(t){return Xn(za(t))}function Xr(t,e){var n=za(t);return Rs(n,or(e,0,n.length))}function Zr(t,e,n,r){if(!ea(t))return t;for(var s=-1,o=(e=vi(e,t)).length,a=o-1,u=t;null!=u&&++s<o;){var l=Fs(e[s]),c=n;if("__proto__"===l||"constructor"===l||"prototype"===l)return t;if(s!=a){var h=u[l];(c=r?r(h,l,u):i)===i&&(c=ea(h)?h:gs(e[s+1])?[]:{})}tr(u,l,c),u=u[l]}return t}var Kr=An?function(t,e){return An.set(t,e),t}:iu,Jr=te?function(t,e){return te(t,"toString",{configurable:!0,enumerable:!1,value:eu(e),writable:!0})}:iu;function ti(t){return Rs(za(t))}function ei(t,e,n){var i=-1,s=t.length;e<0&&(e=-e>s?0:s+e),(n=n>s?s:n)<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var o=r(s);++i<s;)o[i]=t[i+e];return o}function ni(t,e){var n;return hr(t,(function(t,r,i){return!(n=e(t,r,i))})),!!n}function ri(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e==e&&i<=2147483647){for(;r<i;){var s=r+i>>>1,o=t[s];null!==o&&!la(o)&&(n?o<=e:o<e)?r=s+1:i=s}return i}return ii(t,e,iu,n)}function ii(t,e,n,r){var s=0,o=null==t?0:t.length;if(0===o)return 0;for(var a=(e=n(e))!=e,u=null===e,l=la(e),c=e===i;s<o;){var h=de((s+o)/2),f=n(t[h]),d=f!==i,p=null===f,m=f==f,g=la(f);if(a)var v=r||m;else v=c?m&&(r||d):u?m&&d&&(r||!p):l?m&&d&&!p&&(r||!g):!p&&!g&&(r?f<=e:f<e);v?s=h+1:o=h}return _n(o,4294967294)}function si(t,e){for(var n=-1,r=t.length,i=0,s=[];++n<r;){var o=t[n],a=e?e(o):o;if(!n||!zo(a,u)){var u=a;s[i++]=0===o?0:o}}return s}function oi(t){return"number"==typeof t?t:la(t)?f:+t}function ai(t){if("string"==typeof t)return t;if($o(t))return Me(t,ai)+"";if(la(t))return jn?jn.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function ui(t,e,n){var r=-1,i=Ae,s=t.length,o=!0,a=[],u=a;if(n)o=!1,i=De;else if(s>=200){var l=e?null:Qi(t);if(l)return ln(l);o=!1,i=Ze,u=new Qn}else u=e?[]:a;t:for(;++r<s;){var c=t[r],h=e?e(c):c;if(c=n||0!==c?c:0,o&&h==h){for(var f=u.length;f--;)if(u[f]===h)continue t;e&&u.push(h),a.push(c)}else i(u,h,n)||(u!==a&&u.push(h),a.push(c))}return a}function li(t,e){return null==(t=Ts(t,e=vi(e,t)))||delete t[Fs(Xs(e))]}function ci(t,e,n,r){return Zr(t,e,n(xr(t,e)),r)}function hi(t,e,n,r){for(var i=t.length,s=r?i:-1;(r?s--:++s<i)&&e(t[s],s,t););return n?ei(t,r?0:s,r?s+1:i):ei(t,r?s+1:0,r?i:s)}function fi(t,e){var n=t;return n instanceof Wn&&(n=n.value()),Re(e,(function(t,e){return e.func.apply(e.thisArg,Ie([t],e.args))}),n)}function di(t,e,n){var i=t.length;if(i<2)return i?ui(t[0]):[];for(var s=-1,o=r(i);++s<i;)for(var a=t[s],u=-1;++u<i;)u!=s&&(o[s]=cr(o[s]||a,t[u],e,n));return ui(gr(o,1),e,n)}function pi(t,e,n){for(var r=-1,s=t.length,o=e.length,a={};++r<s;){var u=r<o?e[r]:i;n(a,t[r],u)}return a}function mi(t){return Ho(t)?t:[]}function gi(t){return"function"==typeof t?t:iu}function vi(t,e){return $o(t)?t:_s(t,e)?[t]:qs(ya(t))}var _i=Hr;function yi(t,e,n){var r=t.length;return n=n===i?r:n,!e&&n>=r?t:ei(t,e,n)}var bi=oe||function(t){return he.clearTimeout(t)};function wi(t,e){if(e)return t.slice();var n=t.length,r=Wt?Wt(n):new t.constructor(n);return t.copy(r),r}function xi(t){var e=new t.constructor(t.byteLength);return new Bt(e).set(new Bt(t)),e}function ki(t,e){var n=e?xi(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Si(t,e){if(t!==e){var n=t!==i,r=null===t,s=t==t,o=la(t),a=e!==i,u=null===e,l=e==e,c=la(e);if(!u&&!c&&!o&&t>e||o&&a&&l&&!u&&!c||r&&a&&l||!n&&l||!s)return 1;if(!r&&!o&&!c&&t<e||c&&n&&s&&!r&&!o||u&&n&&s||!a&&s||!l)return-1}return 0}function Ti(t,e,n,i){for(var s=-1,o=t.length,a=n.length,u=-1,l=e.length,c=vn(o-a,0),h=r(l+c),f=!i;++u<l;)h[u]=e[u];for(;++s<a;)(f||s<o)&&(h[n[s]]=t[s]);for(;c--;)h[u++]=t[s++];return h}function Ci(t,e,n,i){for(var s=-1,o=t.length,a=-1,u=n.length,l=-1,c=e.length,h=vn(o-u,0),f=r(h+c),d=!i;++s<h;)f[s]=t[s];for(var p=s;++l<c;)f[p+l]=e[l];for(;++a<u;)(d||s<o)&&(f[p+n[a]]=t[s++]);return f}function Ei(t,e){var n=-1,i=t.length;for(e||(e=r(i));++n<i;)e[n]=t[n];return e}function Oi(t,e,n,r){var s=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var u=e[o],l=r?r(n[u],t[u],u,n,t):i;l===i&&(l=t[u]),s?ir(n,u,l):tr(n,u,l)}return n}function Ai(t,e){return function(n,r){var i=$o(n)?Se:nr,s=e?e():{};return i(n,t,os(r,2),s)}}function Di(t){return Hr((function(e,n){var r=-1,s=n.length,o=s>1?n[s-1]:i,a=s>2?n[2]:i;for(o=t.length>3&&"function"==typeof o?(s--,o):i,a&&vs(n[0],n[1],a)&&(o=s<3?i:o,s=1),e=St(e);++r<s;){var u=n[r];u&&t(e,u,r,o)}return e}))}function Mi(t,e){return function(n,r){if(null==n)return n;if(!Qo(n))return t(n,r);for(var i=n.length,s=e?i:-1,o=St(n);(e?s--:++s<i)&&!1!==r(o[s],s,o););return n}}function Ii(t){return function(e,n,r){for(var i=-1,s=St(e),o=r(e),a=o.length;a--;){var u=o[t?a:++i];if(!1===n(s[u],u,s))break}return e}}function Ri(t){return function(e){var n=sn(e=ya(e))?fn(e):i,r=n?n[0]:e.charAt(0),s=n?yi(n,1).join(""):e.slice(1);return r[t]()+s}}function Pi(t){return function(e){return Re(Ka(Ua(e).replace(Xt,"")),t,"")}}function Ni(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=Vn(t.prototype),r=t.apply(n,e);return ea(r)?r:n}}function qi(t){return function(e,n,r){var s=St(e);if(!Qo(e)){var o=os(n,3);e=Ia(e),n=function(t){return o(s[t],t,s)}}var a=t(e,n,r);return a>-1?s[o?e[a]:a]:i}}function Fi(t){return ts((function(e){var n=e.length,r=n,o=Bn.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new Et(s);if(o&&!u&&"wrapper"==is(a))var u=new Bn([],!0)}for(r=u?r:n;++r<n;){var l=is(a=e[r]),c="wrapper"==l?rs(a):i;u=c&&ys(c[0])&&424==c[1]&&!c[4].length&&1==c[9]?u[is(c[0])].apply(u,c[3]):1==a.length&&ys(a)?u[l]():u.thru(a)}return function(){var t=arguments,r=t[0];if(u&&1==t.length&&$o(r))return u.plant(r).value();for(var i=0,s=n?e[i].apply(this,t):r;++i<n;)s=e[i].call(this,s);return s}}))}function ji(t,e,n,s,o,a,u,c,h,f){var d=e&l,p=1&e,m=2&e,g=24&e,v=512&e,_=m?i:Ni(t);return function i(){for(var l=arguments.length,y=r(l),b=l;b--;)y[b]=arguments[b];if(g)var w=ss(i),x=tn(y,w);if(s&&(y=Ti(y,s,o,g)),a&&(y=Ci(y,a,u,g)),l-=x,g&&l<f){var k=un(y,w);return $i(t,e,ji,i.placeholder,n,y,k,c,h,f-l)}var S=p?n:this,T=m?S[t]:t;return l=y.length,c?y=Cs(y,c):v&&l>1&&y.reverse(),d&&h<l&&(y.length=h),this&&this!==he&&this instanceof i&&(T=_||Ni(T)),T.apply(S,y)}}function Li(t,e){return function(n,r){return function(t,e,n,r){return yr(t,(function(t,i,s){e(r,n(t),i,s)})),r}(n,t,e(r),{})}}function Vi(t,e){return function(n,r){var s;if(n===i&&r===i)return e;if(n!==i&&(s=n),r!==i){if(s===i)return r;"string"==typeof n||"string"==typeof r?(n=ai(n),r=ai(r)):(n=oi(n),r=oi(r)),s=t(n,r)}return s}}function zi(t){return ts((function(e){return e=Me(e,Ye(os())),Hr((function(n){var r=this;return t(e,(function(t){return ke(t,r,n)}))}))}))}function Bi(t,e){var n=(e=e===i?" ":ai(e)).length;if(n<2)return n?Qr(e,t):e;var r=Qr(e,fe(t/hn(e)));return sn(e)?yi(fn(r),0,t).join(""):r.slice(0,t)}function Wi(t){return function(e,n,s){return s&&"number"!=typeof s&&vs(e,n,s)&&(n=s=i),e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n,i){for(var s=-1,o=vn(fe((e-t)/(n||1)),0),a=r(o);o--;)a[i?o:++s]=t,t+=n;return a}(e,n,s=s===i?e<n?1:-1:pa(s),t)}}function Ui(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=va(e),n=va(n)),t(e,n)}}function $i(t,e,n,r,s,o,a,l,c,h){var f=8&e;e|=f?u:64,4&(e&=~(f?64:u))||(e&=-4);var d=[t,e,s,f?o:i,f?a:i,f?i:o,f?i:a,l,c,h],p=n.apply(i,d);return ys(t)&&Os(p,d),p.placeholder=r,Ms(p,t,e)}function Gi(t){var e=kt[t];return function(t,n){if(t=va(t),(n=null==n?0:_n(ma(n),292))&&qe(t)){var r=(ya(t)+"e").split("e");return+((r=(ya(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"))[0]+"e"+(+r[1]-n))}return e(t)}}var Qi=Cn&&1/ln(new Cn([,-0]))[1]==c?function(t){return new Cn(t)}:lu;function Hi(t){return function(e){var n=fs(e);return n==x?on(e):n==E?cn(e):function(t,e){return Me(e,(function(e){return[e,t[e]]}))}(e,t(e))}}function Yi(t,e,n,o,c,h,f,d){var p=2&e;if(!p&&"function"!=typeof t)throw new Et(s);var m=o?o.length:0;if(m||(e&=-97,o=c=i),f=f===i?f:vn(ma(f),0),d=d===i?d:ma(d),m-=c?c.length:0,64&e){var g=o,v=c;o=c=i}var _=p?i:rs(t),y=[t,e,n,o,c,g,v,h,f,d];if(_&&function(t,e){var n=t[1],r=e[1],i=n|r,s=i<131,o=r==l&&8==n||r==l&&256==n&&t[7].length<=e[8]||384==r&&e[7].length<=e[8]&&8==n;if(!s&&!o)return t;1&r&&(t[2]=e[2],i|=1&n?0:4);var u=e[3];if(u){var c=t[3];t[3]=c?Ti(c,u,e[4]):u,t[4]=c?un(t[3],a):e[4]}(u=e[5])&&(c=t[5],t[5]=c?Ci(c,u,e[6]):u,t[6]=c?un(t[5],a):e[6]),(u=e[7])&&(t[7]=u),r&l&&(t[8]=null==t[8]?e[8]:_n(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i}(y,_),t=y[0],e=y[1],n=y[2],o=y[3],c=y[4],!(d=y[9]=y[9]===i?p?0:t.length:vn(y[9]-m,0))&&24&e&&(e&=-25),e&&1!=e)b=8==e||16==e?function(t,e,n){var s=Ni(t);return function o(){for(var a=arguments.length,u=r(a),l=a,c=ss(o);l--;)u[l]=arguments[l];var h=a<3&&u[0]!==c&&u[a-1]!==c?[]:un(u,c);return(a-=h.length)<n?$i(t,e,ji,o.placeholder,i,u,h,i,i,n-a):ke(this&&this!==he&&this instanceof o?s:t,this,u)}}(t,e,d):e!=u&&33!=e||c.length?ji.apply(i,y):function(t,e,n,i){var s=1&e,o=Ni(t);return function e(){for(var a=-1,u=arguments.length,l=-1,c=i.length,h=r(c+u),f=this&&this!==he&&this instanceof e?o:t;++l<c;)h[l]=i[l];for(;u--;)h[l++]=arguments[++a];return ke(f,s?n:this,h)}}(t,e,n,o);else var b=function(t,e,n){var r=1&e,i=Ni(t);return function e(){return(this&&this!==he&&this instanceof e?i:t).apply(r?n:this,arguments)}}(t,e,n);return Ms((_?Kr:Os)(b,y),t,e)}function Xi(t,e,n,r){return t===i||zo(t,Dt[n])&&!Rt.call(r,n)?e:t}function Zi(t,e,n,r,s,o){return ea(t)&&ea(e)&&(o.set(e,t),Vr(t,e,i,Zi,o),o.delete(e)),t}function Ki(t){return sa(t)?i:t}function Ji(t,e,n,r,s,o){var a=1&n,u=t.length,l=e.length;if(u!=l&&!(a&&l>u))return!1;var c=o.get(t),h=o.get(e);if(c&&h)return c==e&&h==t;var f=-1,d=!0,p=2&n?new Qn:i;for(o.set(t,e),o.set(e,t);++f<u;){var m=t[f],g=e[f];if(r)var v=a?r(g,m,f,e,t,o):r(m,g,f,t,e,o);if(v!==i){if(v)continue;d=!1;break}if(p){if(!Ne(e,(function(t,e){if(!Ze(p,e)&&(m===t||s(m,t,n,r,o)))return p.push(e)}))){d=!1;break}}else if(m!==g&&!s(m,g,n,r,o)){d=!1;break}}return o.delete(t),o.delete(e),d}function ts(t){return Ds(Ss(t,i,$s),t+"")}function es(t){return kr(t,Ia,cs)}function ns(t){return kr(t,Ra,hs)}var rs=An?function(t){return An.get(t)}:lu;function is(t){for(var e=t.name+"",n=Dn[e],r=Rt.call(Dn,e)?n.length:0;r--;){var i=n[r],s=i.func;if(null==s||s==t)return i.name}return e}function ss(t){return(Rt.call(Ln,"placeholder")?Ln:t).placeholder}function os(){var t=Ln.iteratee||su;return t=t===su?Pr:t,arguments.length?t(arguments[0],arguments[1]):t}function as(t,e){var n,r,i=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof e?"string":"hash"]:i.map}function us(t){for(var e=Ia(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,xs(i)]}return e}function ls(t,e){var n=function(t,e){return null==t?i:t[e]}(t,e);return Rr(n)?n:i}var cs=me?function(t){return null==t?[]:(t=St(t),Oe(me(t),(function(e){return Gt.call(t,e)})))}:gu,hs=me?function(t){for(var e=[];t;)Ie(e,cs(t)),t=Ut(t);return e}:gu,fs=Sr;function ds(t,e,n){for(var r=-1,i=(e=vi(e,t)).length,s=!1;++r<i;){var o=Fs(e[r]);if(!(s=null!=t&&n(t,o)))break;t=t[o]}return s||++r!=i?s:!!(i=null==t?0:t.length)&&ta(i)&&gs(o,i)&&($o(t)||Uo(t))}function ps(t){return"function"!=typeof t.constructor||ws(t)?{}:Vn(Ut(t))}function ms(t){return $o(t)||Uo(t)||!!(Ht&&t&&t[Ht])}function gs(t,e){var n=typeof t;return!!(e=null==e?h:e)&&("number"==n||"symbol"!=n&&vt.test(t))&&t>-1&&t%1==0&&t<e}function vs(t,e,n){if(!ea(n))return!1;var r=typeof e;return!!("number"==r?Qo(n)&&gs(e,n.length):"string"==r&&e in n)&&zo(n[e],t)}function _s(t,e){if($o(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!la(t))||J.test(t)||!K.test(t)||null!=e&&t in St(e)}function ys(t){var e=is(t),n=Ln[e];if("function"!=typeof n||!(e in Wn.prototype))return!1;if(t===n)return!0;var r=rs(n);return!!r&&t===r[0]}(kn&&fs(new kn(new ArrayBuffer(1)))!=I||Sn&&fs(new Sn)!=x||Tn&&fs(Tn.resolve())!=T||Cn&&fs(new Cn)!=E||En&&fs(new En)!=D)&&(fs=function(t){var e=Sr(t),n=e==S?t.constructor:i,r=n?js(n):"";if(r)switch(r){case Mn:return I;case In:return x;case Rn:return T;case Pn:return E;case Nn:return D}return e});var bs=Mt?Ko:vu;function ws(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||Dt)}function xs(t){return t==t&&!ea(t)}function ks(t,e){return function(n){return null!=n&&n[t]===e&&(e!==i||t in St(n))}}function Ss(t,e,n){return e=vn(e===i?t.length-1:e,0),function(){for(var i=arguments,s=-1,o=vn(i.length-e,0),a=r(o);++s<o;)a[s]=i[e+s];s=-1;for(var u=r(e+1);++s<e;)u[s]=i[s];return u[e]=n(a),ke(t,this,u)}}function Ts(t,e){return e.length<2?t:xr(t,ei(e,0,-1))}function Cs(t,e){for(var n=t.length,r=_n(e.length,n),s=Ei(t);r--;){var o=e[r];t[r]=gs(o,n)?s[o]:i}return t}function Es(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var Os=Is(Kr),As=ce||function(t,e){return he.setTimeout(t,e)},Ds=Is(Jr);function Ms(t,e,n){var r=e+"";return Ds(t,function(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(st,"{\n/* [wrapped with "+e+"] */\n")}(r,function(t,e){return Te(p,(function(n){var r="_."+n[0];e&n[1]&&!Ae(t,r)&&t.push(r)})),t.sort()}(function(t){var e=t.match(ot);return e?e[1].split(at):[]}(r),n)))}function Is(t){var e=0,n=0;return function(){var r=yn(),s=16-(r-n);if(n=r,s>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(i,arguments)}}function Rs(t,e){var n=-1,r=t.length,s=r-1;for(e=e===i?r:e;++n<e;){var o=Gr(n,s),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}var Ps,Ns,qs=(Ps=No((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(tt,(function(t,n,r,i){e.push(r?i.replace(ct,"$1"):n||t)})),e}),(function(t){return 500===Ns.size&&Ns.clear(),t})),Ns=Ps.cache,Ps);function Fs(t){if("string"==typeof t||la(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function js(t){if(null!=t){try{return It.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function Ls(t){if(t instanceof Wn)return t.clone();var e=new Bn(t.__wrapped__,t.__chain__);return e.__actions__=Ei(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var Vs=Hr((function(t,e){return Ho(t)?cr(t,gr(e,1,Ho,!0)):[]})),zs=Hr((function(t,e){var n=Xs(e);return Ho(n)&&(n=i),Ho(t)?cr(t,gr(e,1,Ho,!0),os(n,2)):[]})),Bs=Hr((function(t,e){var n=Xs(e);return Ho(n)&&(n=i),Ho(t)?cr(t,gr(e,1,Ho,!0),i,n):[]}));function Ws(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=vn(r+i,0)),je(t,os(e,3),i)}function Us(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r-1;return n!==i&&(s=ma(n),s=n<0?vn(r+s,0):_n(s,r-1)),je(t,os(e,3),s,!0)}function $s(t){return null!=t&&t.length?gr(t,1):[]}function Gs(t){return t&&t.length?t[0]:i}var Qs=Hr((function(t){var e=Me(t,mi);return e.length&&e[0]===t[0]?Or(e):[]})),Hs=Hr((function(t){var e=Xs(t),n=Me(t,mi);return e===Xs(n)?e=i:n.pop(),n.length&&n[0]===t[0]?Or(n,os(e,2)):[]})),Ys=Hr((function(t){var e=Xs(t),n=Me(t,mi);return(e="function"==typeof e?e:i)&&n.pop(),n.length&&n[0]===t[0]?Or(n,i,e):[]}));function Xs(t){var e=null==t?0:t.length;return e?t[e-1]:i}var Zs=Hr(Ks);function Ks(t,e){return t&&t.length&&e&&e.length?Ur(t,e):t}var Js=ts((function(t,e){var n=null==t?0:t.length,r=sr(t,e);return $r(t,Me(e,(function(t){return gs(t,n)?+t:t})).sort(Si)),r}));function to(t){return null==t?t:xn.call(t)}var eo=Hr((function(t){return ui(gr(t,1,Ho,!0))})),no=Hr((function(t){var e=Xs(t);return Ho(e)&&(e=i),ui(gr(t,1,Ho,!0),os(e,2))})),ro=Hr((function(t){var e=Xs(t);return e="function"==typeof e?e:i,ui(gr(t,1,Ho,!0),i,e)}));function io(t){if(!t||!t.length)return[];var e=0;return t=Oe(t,(function(t){if(Ho(t))return e=vn(t.length,e),!0})),Qe(e,(function(e){return Me(t,We(e))}))}function so(t,e){if(!t||!t.length)return[];var n=io(t);return null==e?n:Me(n,(function(t){return ke(e,i,t)}))}var oo=Hr((function(t,e){return Ho(t)?cr(t,e):[]})),ao=Hr((function(t){return di(Oe(t,Ho))})),uo=Hr((function(t){var e=Xs(t);return Ho(e)&&(e=i),di(Oe(t,Ho),os(e,2))})),lo=Hr((function(t){var e=Xs(t);return e="function"==typeof e?e:i,di(Oe(t,Ho),i,e)})),co=Hr(io),ho=Hr((function(t){var e=t.length,n=e>1?t[e-1]:i;return n="function"==typeof n?(t.pop(),n):i,so(t,n)}));function fo(t){var e=Ln(t);return e.__chain__=!0,e}function po(t,e){return e(t)}var mo=ts((function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,s=function(e){return sr(e,t)};return!(e>1||this.__actions__.length)&&r instanceof Wn&&gs(n)?((r=r.slice(n,+n+(e?1:0))).__actions__.push({func:po,args:[s],thisArg:i}),new Bn(r,this.__chain__).thru((function(t){return e&&!t.length&&t.push(i),t}))):this.thru(s)})),go=Ai((function(t,e,n){Rt.call(t,n)?++t[n]:ir(t,n,1)})),vo=qi(Ws),_o=qi(Us);function yo(t,e){return($o(t)?Te:hr)(t,os(e,3))}function bo(t,e){return($o(t)?Ce:fr)(t,os(e,3))}var wo=Ai((function(t,e,n){Rt.call(t,n)?t[n].push(e):ir(t,n,[e])})),xo=Hr((function(t,e,n){var i=-1,s="function"==typeof e,o=Qo(t)?r(t.length):[];return hr(t,(function(t){o[++i]=s?ke(e,t,n):Ar(t,e,n)})),o})),ko=Ai((function(t,e,n){ir(t,n,e)}));function So(t,e){return($o(t)?Me:Fr)(t,os(e,3))}var To=Ai((function(t,e,n){t[n?0:1].push(e)}),(function(){return[[],[]]})),Co=Hr((function(t,e){if(null==t)return[];var n=e.length;return n>1&&vs(t,e[0],e[1])?e=[]:n>2&&vs(e[0],e[1],e[2])&&(e=[e[0]]),Br(t,gr(e,1),[])})),Eo=le||function(){return he.Date.now()};function Oo(t,e,n){return e=n?i:e,e=t&&null==e?t.length:e,Yi(t,l,i,i,i,i,e)}function Ao(t,e){var n;if("function"!=typeof e)throw new Et(s);return t=ma(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=i),n}}var Do=Hr((function(t,e,n){var r=1;if(n.length){var i=un(n,ss(Do));r|=u}return Yi(t,r,e,n,i)})),Mo=Hr((function(t,e,n){var r=3;if(n.length){var i=un(n,ss(Mo));r|=u}return Yi(e,r,t,n,i)}));function Io(t,e,n){var r,o,a,u,l,c,h=0,f=!1,d=!1,p=!0;if("function"!=typeof t)throw new Et(s);function m(e){var n=r,s=o;return r=o=i,h=e,u=t.apply(s,n)}function g(t){return h=t,l=As(_,e),f?m(t):u}function v(t){var n=t-c;return c===i||n>=e||n<0||d&&t-h>=a}function _(){var t=Eo();if(v(t))return y(t);l=As(_,function(t){var n=e-(t-c);return d?_n(n,a-(t-h)):n}(t))}function y(t){return l=i,p&&r?m(t):(r=o=i,u)}function b(){var t=Eo(),n=v(t);if(r=arguments,o=this,c=t,n){if(l===i)return g(c);if(d)return bi(l),l=As(_,e),m(c)}return l===i&&(l=As(_,e)),u}return e=va(e)||0,ea(n)&&(f=!!n.leading,a=(d="maxWait"in n)?vn(va(n.maxWait)||0,e):a,p="trailing"in n?!!n.trailing:p),b.cancel=function(){l!==i&&bi(l),h=0,r=c=o=l=i},b.flush=function(){return l===i?u:y(Eo())},b}var Ro=Hr((function(t,e){return lr(t,1,e)})),Po=Hr((function(t,e,n){return lr(t,va(e)||0,n)}));function No(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new Et(s);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=t.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(No.Cache||Gn),n}function qo(t){if("function"!=typeof t)throw new Et(s);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}No.Cache=Gn;var Fo=_i((function(t,e){var n=(e=1==e.length&&$o(e[0])?Me(e[0],Ye(os())):Me(gr(e,1),Ye(os()))).length;return Hr((function(r){for(var i=-1,s=_n(r.length,n);++i<s;)r[i]=e[i].call(this,r[i]);return ke(t,this,r)}))})),jo=Hr((function(t,e){var n=un(e,ss(jo));return Yi(t,u,i,e,n)})),Lo=Hr((function(t,e){var n=un(e,ss(Lo));return Yi(t,64,i,e,n)})),Vo=ts((function(t,e){return Yi(t,256,i,i,i,e)}));function zo(t,e){return t===e||t!=t&&e!=e}var Bo=Ui(Tr),Wo=Ui((function(t,e){return t>=e})),Uo=Dr(function(){return arguments}())?Dr:function(t){return na(t)&&Rt.call(t,"callee")&&!Gt.call(t,"callee")},$o=r.isArray,Go=ve?Ye(ve):function(t){return na(t)&&Sr(t)==M};function Qo(t){return null!=t&&ta(t.length)&&!Ko(t)}function Ho(t){return na(t)&&Qo(t)}var Yo=ge||vu,Xo=_e?Ye(_e):function(t){return na(t)&&Sr(t)==_};function Zo(t){if(!na(t))return!1;var e=Sr(t);return e==y||"[object DOMException]"==e||"string"==typeof t.message&&"string"==typeof t.name&&!sa(t)}function Ko(t){if(!ea(t))return!1;var e=Sr(t);return e==b||e==w||"[object AsyncFunction]"==e||"[object Proxy]"==e}function Jo(t){return"number"==typeof t&&t==ma(t)}function ta(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=h}function ea(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function na(t){return null!=t&&"object"==typeof t}var ra=ye?Ye(ye):function(t){return na(t)&&fs(t)==x};function ia(t){return"number"==typeof t||na(t)&&Sr(t)==k}function sa(t){if(!na(t)||Sr(t)!=S)return!1;var e=Ut(t);if(null===e)return!0;var n=Rt.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&It.call(n)==Ft}var oa=be?Ye(be):function(t){return na(t)&&Sr(t)==C},aa=we?Ye(we):function(t){return na(t)&&fs(t)==E};function ua(t){return"string"==typeof t||!$o(t)&&na(t)&&Sr(t)==O}function la(t){return"symbol"==typeof t||na(t)&&Sr(t)==A}var ca=xe?Ye(xe):function(t){return na(t)&&ta(t.length)&&!!ie[Sr(t)]},ha=Ui(qr),fa=Ui((function(t,e){return t<=e}));function da(t){if(!t)return[];if(Qo(t))return ua(t)?fn(t):Ei(t);if(Yt&&t[Yt])return function(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}(t[Yt]());var e=fs(t);return(e==x?on:e==E?ln:za)(t)}function pa(t){return t?(t=va(t))===c||t===-1/0?17976931348623157e292*(t<0?-1:1):t==t?t:0:0===t?t:0}function ma(t){var e=pa(t),n=e%1;return e==e?n?e-n:e:0}function ga(t){return t?or(ma(t),0,d):0}function va(t){if("number"==typeof t)return t;if(la(t))return f;if(ea(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ea(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=He(t);var n=pt.test(t);return n||gt.test(t)?ue(t.slice(2),n?2:8):dt.test(t)?f:+t}function _a(t){return Oi(t,Ra(t))}function ya(t){return null==t?"":ai(t)}var ba=Di((function(t,e){if(ws(e)||Qo(e))Oi(e,Ia(e),t);else for(var n in e)Rt.call(e,n)&&tr(t,n,e[n])})),wa=Di((function(t,e){Oi(e,Ra(e),t)})),xa=Di((function(t,e,n,r){Oi(e,Ra(e),t,r)})),ka=Di((function(t,e,n,r){Oi(e,Ia(e),t,r)})),Sa=ts(sr),Ta=Hr((function(t,e){t=St(t);var n=-1,r=e.length,s=r>2?e[2]:i;for(s&&vs(e[0],e[1],s)&&(r=1);++n<r;)for(var o=e[n],a=Ra(o),u=-1,l=a.length;++u<l;){var c=a[u],h=t[c];(h===i||zo(h,Dt[c])&&!Rt.call(t,c))&&(t[c]=o[c])}return t})),Ca=Hr((function(t){return t.push(i,Zi),ke(Na,i,t)}));function Ea(t,e,n){var r=null==t?i:xr(t,e);return r===i?n:r}function Oa(t,e){return null!=t&&ds(t,e,Er)}var Aa=Li((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=qt.call(e)),t[e]=n}),eu(iu)),Da=Li((function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=qt.call(e)),Rt.call(t,e)?t[e].push(n):t[e]=[n]}),os),Ma=Hr(Ar);function Ia(t){return Qo(t)?Yn(t):Nr(t)}function Ra(t){return Qo(t)?Yn(t,!0):function(t){if(!ea(t))return function(t){var e=[];if(null!=t)for(var n in St(t))e.push(n);return e}(t);var e=ws(t),n=[];for(var r in t)("constructor"!=r||!e&&Rt.call(t,r))&&n.push(r);return n}(t)}var Pa=Di((function(t,e,n){Vr(t,e,n)})),Na=Di((function(t,e,n,r){Vr(t,e,n,r)})),qa=ts((function(t,e){var n={};if(null==t)return n;var r=!1;e=Me(e,(function(e){return e=vi(e,t),r||(r=e.length>1),e})),Oi(t,ns(t),n),r&&(n=ar(n,7,Ki));for(var i=e.length;i--;)li(n,e[i]);return n})),Fa=ts((function(t,e){return null==t?{}:function(t,e){return Wr(t,e,(function(e,n){return Oa(t,n)}))}(t,e)}));function ja(t,e){if(null==t)return{};var n=Me(ns(t),(function(t){return[t]}));return e=os(e),Wr(t,n,(function(t,n){return e(t,n[0])}))}var La=Hi(Ia),Va=Hi(Ra);function za(t){return null==t?[]:Xe(t,Ia(t))}var Ba=Pi((function(t,e,n){return e=e.toLowerCase(),t+(n?Wa(e):e)}));function Wa(t){return Za(ya(t).toLowerCase())}function Ua(t){return(t=ya(t))&&t.replace(_t,en).replace(Zt,"")}var $a=Pi((function(t,e,n){return t+(n?"-":"")+e.toLowerCase()})),Ga=Pi((function(t,e,n){return t+(n?" ":"")+e.toLowerCase()})),Qa=Ri("toLowerCase"),Ha=Pi((function(t,e,n){return t+(n?"_":"")+e.toLowerCase()})),Ya=Pi((function(t,e,n){return t+(n?" ":"")+Za(e)})),Xa=Pi((function(t,e,n){return t+(n?" ":"")+e.toUpperCase()})),Za=Ri("toUpperCase");function Ka(t,e,n){return t=ya(t),(e=n?i:e)===i?function(t){return ee.test(t)}(t)?function(t){return t.match(Jt)||[]}(t):function(t){return t.match(ut)||[]}(t):t.match(e)||[]}var Ja=Hr((function(t,e){try{return ke(t,i,e)}catch(t){return Zo(t)?t:new wt(t)}})),tu=ts((function(t,e){return Te(e,(function(e){e=Fs(e),ir(t,e,Do(t[e],t))})),t}));function eu(t){return function(){return t}}var nu=Fi(),ru=Fi(!0);function iu(t){return t}function su(t){return Pr("function"==typeof t?t:ar(t,1))}var ou=Hr((function(t,e){return function(n){return Ar(n,t,e)}})),au=Hr((function(t,e){return function(n){return Ar(t,n,e)}}));function uu(t,e,n){var r=Ia(e),i=wr(e,r);null!=n||ea(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=wr(e,Ia(e)));var s=!(ea(n)&&"chain"in n&&!n.chain),o=Ko(t);return Te(i,(function(n){var r=e[n];t[n]=r,o&&(t.prototype[n]=function(){var e=this.__chain__;if(s||e){var n=t(this.__wrapped__),i=n.__actions__=Ei(this.__actions__);return i.push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,Ie([this.value()],arguments))})})),t}function lu(){}var cu=zi(Me),hu=zi(Ee),fu=zi(Ne);function du(t){return _s(t)?We(Fs(t)):function(t){return function(e){return xr(e,t)}}(t)}var pu=Wi(),mu=Wi(!0);function gu(){return[]}function vu(){return!1}var _u,yu=Vi((function(t,e){return t+e}),0),bu=Gi("ceil"),wu=Vi((function(t,e){return t/e}),1),xu=Gi("floor"),ku=Vi((function(t,e){return t*e}),1),Su=Gi("round"),Tu=Vi((function(t,e){return t-e}),0);return Ln.after=function(t,e){if("function"!=typeof e)throw new Et(s);return t=ma(t),function(){if(--t<1)return e.apply(this,arguments)}},Ln.ary=Oo,Ln.assign=ba,Ln.assignIn=wa,Ln.assignInWith=xa,Ln.assignWith=ka,Ln.at=Sa,Ln.before=Ao,Ln.bind=Do,Ln.bindAll=tu,Ln.bindKey=Mo,Ln.castArray=function(){if(!arguments.length)return[];var t=arguments[0];return $o(t)?t:[t]},Ln.chain=fo,Ln.chunk=function(t,e,n){e=(n?vs(t,e,n):e===i)?1:vn(ma(e),0);var s=null==t?0:t.length;if(!s||e<1)return[];for(var o=0,a=0,u=r(fe(s/e));o<s;)u[a++]=ei(t,o,o+=e);return u},Ln.compact=function(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var s=t[e];s&&(i[r++]=s)}return i},Ln.concat=function(){var t=arguments.length;if(!t)return[];for(var e=r(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return Ie($o(n)?Ei(n):[n],gr(e,1))},Ln.cond=function(t){var e=null==t?0:t.length,n=os();return t=e?Me(t,(function(t){if("function"!=typeof t[1])throw new Et(s);return[n(t[0]),t[1]]})):[],Hr((function(n){for(var r=-1;++r<e;){var i=t[r];if(ke(i[0],this,n))return ke(i[1],this,n)}}))},Ln.conforms=function(t){return function(t){var e=Ia(t);return function(n){return ur(n,t,e)}}(ar(t,1))},Ln.constant=eu,Ln.countBy=go,Ln.create=function(t,e){var n=Vn(t);return null==e?n:rr(n,e)},Ln.curry=function t(e,n,r){var s=Yi(e,8,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Ln.curryRight=function t(e,n,r){var s=Yi(e,16,i,i,i,i,i,n=r?i:n);return s.placeholder=t.placeholder,s},Ln.debounce=Io,Ln.defaults=Ta,Ln.defaultsDeep=Ca,Ln.defer=Ro,Ln.delay=Po,Ln.difference=Vs,Ln.differenceBy=zs,Ln.differenceWith=Bs,Ln.drop=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=n||e===i?1:ma(e))<0?0:e,r):[]},Ln.dropRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,0,(e=r-(e=n||e===i?1:ma(e)))<0?0:e):[]},Ln.dropRightWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!0,!0):[]},Ln.dropWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!0):[]},Ln.fill=function(t,e,n,r){var s=null==t?0:t.length;return s?(n&&"number"!=typeof n&&vs(t,e,n)&&(n=0,r=s),function(t,e,n,r){var s=t.length;for((n=ma(n))<0&&(n=-n>s?0:s+n),(r=r===i||r>s?s:ma(r))<0&&(r+=s),r=n>r?0:ga(r);n<r;)t[n++]=e;return t}(t,e,n,r)):[]},Ln.filter=function(t,e){return($o(t)?Oe:mr)(t,os(e,3))},Ln.flatMap=function(t,e){return gr(So(t,e),1)},Ln.flatMapDeep=function(t,e){return gr(So(t,e),c)},Ln.flatMapDepth=function(t,e,n){return n=n===i?1:ma(n),gr(So(t,e),n)},Ln.flatten=$s,Ln.flattenDeep=function(t){return null!=t&&t.length?gr(t,c):[]},Ln.flattenDepth=function(t,e){return null!=t&&t.length?gr(t,e=e===i?1:ma(e)):[]},Ln.flip=function(t){return Yi(t,512)},Ln.flow=nu,Ln.flowRight=ru,Ln.fromPairs=function(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r},Ln.functions=function(t){return null==t?[]:wr(t,Ia(t))},Ln.functionsIn=function(t){return null==t?[]:wr(t,Ra(t))},Ln.groupBy=wo,Ln.initial=function(t){return null!=t&&t.length?ei(t,0,-1):[]},Ln.intersection=Qs,Ln.intersectionBy=Hs,Ln.intersectionWith=Ys,Ln.invert=Aa,Ln.invertBy=Da,Ln.invokeMap=xo,Ln.iteratee=su,Ln.keyBy=ko,Ln.keys=Ia,Ln.keysIn=Ra,Ln.map=So,Ln.mapKeys=function(t,e){var n={};return e=os(e,3),yr(t,(function(t,r,i){ir(n,e(t,r,i),t)})),n},Ln.mapValues=function(t,e){var n={};return e=os(e,3),yr(t,(function(t,r,i){ir(n,r,e(t,r,i))})),n},Ln.matches=function(t){return jr(ar(t,1))},Ln.matchesProperty=function(t,e){return Lr(t,ar(e,1))},Ln.memoize=No,Ln.merge=Pa,Ln.mergeWith=Na,Ln.method=ou,Ln.methodOf=au,Ln.mixin=uu,Ln.negate=qo,Ln.nthArg=function(t){return t=ma(t),Hr((function(e){return zr(e,t)}))},Ln.omit=qa,Ln.omitBy=function(t,e){return ja(t,qo(os(e)))},Ln.once=function(t){return Ao(2,t)},Ln.orderBy=function(t,e,n,r){return null==t?[]:($o(e)||(e=null==e?[]:[e]),$o(n=r?i:n)||(n=null==n?[]:[n]),Br(t,e,n))},Ln.over=cu,Ln.overArgs=Fo,Ln.overEvery=hu,Ln.overSome=fu,Ln.partial=jo,Ln.partialRight=Lo,Ln.partition=To,Ln.pick=Fa,Ln.pickBy=ja,Ln.property=du,Ln.propertyOf=function(t){return function(e){return null==t?i:xr(t,e)}},Ln.pull=Zs,Ln.pullAll=Ks,Ln.pullAllBy=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,os(n,2)):t},Ln.pullAllWith=function(t,e,n){return t&&t.length&&e&&e.length?Ur(t,e,i,n):t},Ln.pullAt=Js,Ln.range=pu,Ln.rangeRight=mu,Ln.rearg=Vo,Ln.reject=function(t,e){return($o(t)?Oe:mr)(t,qo(os(e,3)))},Ln.remove=function(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],s=t.length;for(e=os(e,3);++r<s;){var o=t[r];e(o,r,t)&&(n.push(o),i.push(r))}return $r(t,i),n},Ln.rest=function(t,e){if("function"!=typeof t)throw new Et(s);return Hr(t,e=e===i?e:ma(e))},Ln.reverse=to,Ln.sampleSize=function(t,e,n){return e=(n?vs(t,e,n):e===i)?1:ma(e),($o(t)?Zn:Xr)(t,e)},Ln.set=function(t,e,n){return null==t?t:Zr(t,e,n)},Ln.setWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:Zr(t,e,n,r)},Ln.shuffle=function(t){return($o(t)?Kn:ti)(t)},Ln.slice=function(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&vs(t,e,n)?(e=0,n=r):(e=null==e?0:ma(e),n=n===i?r:ma(n)),ei(t,e,n)):[]},Ln.sortBy=Co,Ln.sortedUniq=function(t){return t&&t.length?si(t):[]},Ln.sortedUniqBy=function(t,e){return t&&t.length?si(t,os(e,2)):[]},Ln.split=function(t,e,n){return n&&"number"!=typeof n&&vs(t,e,n)&&(e=n=i),(n=n===i?d:n>>>0)?(t=ya(t))&&("string"==typeof e||null!=e&&!oa(e))&&!(e=ai(e))&&sn(t)?yi(fn(t),0,n):t.split(e,n):[]},Ln.spread=function(t,e){if("function"!=typeof t)throw new Et(s);return e=null==e?0:vn(ma(e),0),Hr((function(n){var r=n[e],i=yi(n,0,e);return r&&Ie(i,r),ke(t,this,i)}))},Ln.tail=function(t){var e=null==t?0:t.length;return e?ei(t,1,e):[]},Ln.take=function(t,e,n){return t&&t.length?ei(t,0,(e=n||e===i?1:ma(e))<0?0:e):[]},Ln.takeRight=function(t,e,n){var r=null==t?0:t.length;return r?ei(t,(e=r-(e=n||e===i?1:ma(e)))<0?0:e,r):[]},Ln.takeRightWhile=function(t,e){return t&&t.length?hi(t,os(e,3),!1,!0):[]},Ln.takeWhile=function(t,e){return t&&t.length?hi(t,os(e,3)):[]},Ln.tap=function(t,e){return e(t),t},Ln.throttle=function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new Et(s);return ea(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Io(t,e,{leading:r,maxWait:e,trailing:i})},Ln.thru=po,Ln.toArray=da,Ln.toPairs=La,Ln.toPairsIn=Va,Ln.toPath=function(t){return $o(t)?Me(t,Fs):la(t)?[t]:Ei(qs(ya(t)))},Ln.toPlainObject=_a,Ln.transform=function(t,e,n){var r=$o(t),i=r||Yo(t)||ca(t);if(e=os(e,4),null==n){var s=t&&t.constructor;n=i?r?new s:[]:ea(t)&&Ko(s)?Vn(Ut(t)):{}}return(i?Te:yr)(t,(function(t,r,i){return e(n,t,r,i)})),n},Ln.unary=function(t){return Oo(t,1)},Ln.union=eo,Ln.unionBy=no,Ln.unionWith=ro,Ln.uniq=function(t){return t&&t.length?ui(t):[]},Ln.uniqBy=function(t,e){return t&&t.length?ui(t,os(e,2)):[]},Ln.uniqWith=function(t,e){return e="function"==typeof e?e:i,t&&t.length?ui(t,i,e):[]},Ln.unset=function(t,e){return null==t||li(t,e)},Ln.unzip=io,Ln.unzipWith=so,Ln.update=function(t,e,n){return null==t?t:ci(t,e,gi(n))},Ln.updateWith=function(t,e,n,r){return r="function"==typeof r?r:i,null==t?t:ci(t,e,gi(n),r)},Ln.values=za,Ln.valuesIn=function(t){return null==t?[]:Xe(t,Ra(t))},Ln.without=oo,Ln.words=Ka,Ln.wrap=function(t,e){return jo(gi(e),t)},Ln.xor=ao,Ln.xorBy=uo,Ln.xorWith=lo,Ln.zip=co,Ln.zipObject=function(t,e){return pi(t||[],e||[],tr)},Ln.zipObjectDeep=function(t,e){return pi(t||[],e||[],Zr)},Ln.zipWith=ho,Ln.entries=La,Ln.entriesIn=Va,Ln.extend=wa,Ln.extendWith=xa,uu(Ln,Ln),Ln.add=yu,Ln.attempt=Ja,Ln.camelCase=Ba,Ln.capitalize=Wa,Ln.ceil=bu,Ln.clamp=function(t,e,n){return n===i&&(n=e,e=i),n!==i&&(n=(n=va(n))==n?n:0),e!==i&&(e=(e=va(e))==e?e:0),or(va(t),e,n)},Ln.clone=function(t){return ar(t,4)},Ln.cloneDeep=function(t){return ar(t,5)},Ln.cloneDeepWith=function(t,e){return ar(t,5,e="function"==typeof e?e:i)},Ln.cloneWith=function(t,e){return ar(t,4,e="function"==typeof e?e:i)},Ln.conformsTo=function(t,e){return null==e||ur(t,e,Ia(e))},Ln.deburr=Ua,Ln.defaultTo=function(t,e){return null==t||t!=t?e:t},Ln.divide=wu,Ln.endsWith=function(t,e,n){t=ya(t),e=ai(e);var r=t.length,s=n=n===i?r:or(ma(n),0,r);return(n-=e.length)>=0&&t.slice(n,s)==e},Ln.eq=zo,Ln.escape=function(t){return(t=ya(t))&&H.test(t)?t.replace(G,nn):t},Ln.escapeRegExp=function(t){return(t=ya(t))&&nt.test(t)?t.replace(et,"\\$&"):t},Ln.every=function(t,e,n){var r=$o(t)?Ee:dr;return n&&vs(t,e,n)&&(e=i),r(t,os(e,3))},Ln.find=vo,Ln.findIndex=Ws,Ln.findKey=function(t,e){return Fe(t,os(e,3),yr)},Ln.findLast=_o,Ln.findLastIndex=Us,Ln.findLastKey=function(t,e){return Fe(t,os(e,3),br)},Ln.floor=xu,Ln.forEach=yo,Ln.forEachRight=bo,Ln.forIn=function(t,e){return null==t?t:vr(t,os(e,3),Ra)},Ln.forInRight=function(t,e){return null==t?t:_r(t,os(e,3),Ra)},Ln.forOwn=function(t,e){return t&&yr(t,os(e,3))},Ln.forOwnRight=function(t,e){return t&&br(t,os(e,3))},Ln.get=Ea,Ln.gt=Bo,Ln.gte=Wo,Ln.has=function(t,e){return null!=t&&ds(t,e,Cr)},Ln.hasIn=Oa,Ln.head=Gs,Ln.identity=iu,Ln.includes=function(t,e,n,r){t=Qo(t)?t:za(t),n=n&&!r?ma(n):0;var i=t.length;return n<0&&(n=vn(i+n,0)),ua(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&Le(t,e,n)>-1},Ln.indexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:ma(n);return i<0&&(i=vn(r+i,0)),Le(t,e,i)},Ln.inRange=function(t,e,n){return e=pa(e),n===i?(n=e,e=0):n=pa(n),function(t,e,n){return t>=_n(e,n)&&t<vn(e,n)}(t=va(t),e,n)},Ln.invoke=Ma,Ln.isArguments=Uo,Ln.isArray=$o,Ln.isArrayBuffer=Go,Ln.isArrayLike=Qo,Ln.isArrayLikeObject=Ho,Ln.isBoolean=function(t){return!0===t||!1===t||na(t)&&Sr(t)==v},Ln.isBuffer=Yo,Ln.isDate=Xo,Ln.isElement=function(t){return na(t)&&1===t.nodeType&&!sa(t)},Ln.isEmpty=function(t){if(null==t)return!0;if(Qo(t)&&($o(t)||"string"==typeof t||"function"==typeof t.splice||Yo(t)||ca(t)||Uo(t)))return!t.length;var e=fs(t);if(e==x||e==E)return!t.size;if(ws(t))return!Nr(t).length;for(var n in t)if(Rt.call(t,n))return!1;return!0},Ln.isEqual=function(t,e){return Mr(t,e)},Ln.isEqualWith=function(t,e,n){var r=(n="function"==typeof n?n:i)?n(t,e):i;return r===i?Mr(t,e,i,n):!!r},Ln.isError=Zo,Ln.isFinite=function(t){return"number"==typeof t&&qe(t)},Ln.isFunction=Ko,Ln.isInteger=Jo,Ln.isLength=ta,Ln.isMap=ra,Ln.isMatch=function(t,e){return t===e||Ir(t,e,us(e))},Ln.isMatchWith=function(t,e,n){return n="function"==typeof n?n:i,Ir(t,e,us(e),n)},Ln.isNaN=function(t){return ia(t)&&t!=+t},Ln.isNative=function(t){if(bs(t))throw new wt("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Rr(t)},Ln.isNil=function(t){return null==t},Ln.isNull=function(t){return null===t},Ln.isNumber=ia,Ln.isObject=ea,Ln.isObjectLike=na,Ln.isPlainObject=sa,Ln.isRegExp=oa,Ln.isSafeInteger=function(t){return Jo(t)&&t>=-9007199254740991&&t<=h},Ln.isSet=aa,Ln.isString=ua,Ln.isSymbol=la,Ln.isTypedArray=ca,Ln.isUndefined=function(t){return t===i},Ln.isWeakMap=function(t){return na(t)&&fs(t)==D},Ln.isWeakSet=function(t){return na(t)&&"[object WeakSet]"==Sr(t)},Ln.join=function(t,e){return null==t?"":Ue.call(t,e)},Ln.kebabCase=$a,Ln.last=Xs,Ln.lastIndexOf=function(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var s=r;return n!==i&&(s=(s=ma(n))<0?vn(r+s,0):_n(s,r-1)),e==e?function(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}(t,e,s):je(t,ze,s,!0)},Ln.lowerCase=Ga,Ln.lowerFirst=Qa,Ln.lt=ha,Ln.lte=fa,Ln.max=function(t){return t&&t.length?pr(t,iu,Tr):i},Ln.maxBy=function(t,e){return t&&t.length?pr(t,os(e,2),Tr):i},Ln.mean=function(t){return Be(t,iu)},Ln.meanBy=function(t,e){return Be(t,os(e,2))},Ln.min=function(t){return t&&t.length?pr(t,iu,qr):i},Ln.minBy=function(t,e){return t&&t.length?pr(t,os(e,2),qr):i},Ln.stubArray=gu,Ln.stubFalse=vu,Ln.stubObject=function(){return{}},Ln.stubString=function(){return""},Ln.stubTrue=function(){return!0},Ln.multiply=ku,Ln.nth=function(t,e){return t&&t.length?zr(t,ma(e)):i},Ln.noConflict=function(){return he._===this&&(he._=jt),this},Ln.noop=lu,Ln.now=Eo,Ln.pad=function(t,e,n){t=ya(t);var r=(e=ma(e))?hn(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return Bi(de(i),n)+t+Bi(fe(i),n)},Ln.padEnd=function(t,e,n){t=ya(t);var r=(e=ma(e))?hn(t):0;return e&&r<e?t+Bi(e-r,n):t},Ln.padStart=function(t,e,n){t=ya(t);var r=(e=ma(e))?hn(t):0;return e&&r<e?Bi(e-r,n)+t:t},Ln.parseInt=function(t,e,n){return n||null==e?e=0:e&&(e=+e),bn(ya(t).replace(rt,""),e||0)},Ln.random=function(t,e,n){if(n&&"boolean"!=typeof n&&vs(t,e,n)&&(e=n=i),n===i&&("boolean"==typeof e?(n=e,e=i):"boolean"==typeof t&&(n=t,t=i)),t===i&&e===i?(t=0,e=1):(t=pa(t),e===i?(e=t,t=0):e=pa(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var s=wn();return _n(t+s*(e-t+ae("1e-"+((s+"").length-1))),e)}return Gr(t,e)},Ln.reduce=function(t,e,n){var r=$o(t)?Re:$e,i=arguments.length<3;return r(t,os(e,4),n,i,hr)},Ln.reduceRight=function(t,e,n){var r=$o(t)?Pe:$e,i=arguments.length<3;return r(t,os(e,4),n,i,fr)},Ln.repeat=function(t,e,n){return e=(n?vs(t,e,n):e===i)?1:ma(e),Qr(ya(t),e)},Ln.replace=function(){var t=arguments,e=ya(t[0]);return t.length<3?e:e.replace(t[1],t[2])},Ln.result=function(t,e,n){var r=-1,s=(e=vi(e,t)).length;for(s||(s=1,t=i);++r<s;){var o=null==t?i:t[Fs(e[r])];o===i&&(r=s,o=n),t=Ko(o)?o.call(t):o}return t},Ln.round=Su,Ln.runInContext=t,Ln.sample=function(t){return($o(t)?Xn:Yr)(t)},Ln.size=function(t){if(null==t)return 0;if(Qo(t))return ua(t)?hn(t):t.length;var e=fs(t);return e==x||e==E?t.size:Nr(t).length},Ln.snakeCase=Ha,Ln.some=function(t,e,n){var r=$o(t)?Ne:ni;return n&&vs(t,e,n)&&(e=i),r(t,os(e,3))},Ln.sortedIndex=function(t,e){return ri(t,e)},Ln.sortedIndexBy=function(t,e,n){return ii(t,e,os(n,2))},Ln.sortedIndexOf=function(t,e){var n=null==t?0:t.length;if(n){var r=ri(t,e);if(r<n&&zo(t[r],e))return r}return-1},Ln.sortedLastIndex=function(t,e){return ri(t,e,!0)},Ln.sortedLastIndexBy=function(t,e,n){return ii(t,e,os(n,2),!0)},Ln.sortedLastIndexOf=function(t,e){if(null!=t&&t.length){var n=ri(t,e,!0)-1;if(zo(t[n],e))return n}return-1},Ln.startCase=Ya,Ln.startsWith=function(t,e,n){return t=ya(t),n=null==n?0:or(ma(n),0,t.length),e=ai(e),t.slice(n,n+e.length)==e},Ln.subtract=Tu,Ln.sum=function(t){return t&&t.length?Ge(t,iu):0},Ln.sumBy=function(t,e){return t&&t.length?Ge(t,os(e,2)):0},Ln.template=function(t,e,n){var r=Ln.templateSettings;n&&vs(t,e,n)&&(e=i),t=ya(t),e=xa({},e,r,Xi);var s,o,a=xa({},e.imports,r.imports,Xi),u=Ia(a),l=Xe(a,u),c=0,h=e.interpolate||yt,f="__p += '",d=Tt((e.escape||yt).source+"|"+h.source+"|"+(h===Z?ht:yt).source+"|"+(e.evaluate||yt).source+"|$","g"),p="//# sourceURL="+(Rt.call(e,"sourceURL")?(e.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++re+"]")+"\n";t.replace(d,(function(e,n,r,i,a,u){return r||(r=i),f+=t.slice(c,u).replace(bt,rn),n&&(s=!0,f+="' +\n__e("+n+") +\n'"),a&&(o=!0,f+="';\n"+a+";\n__p += '"),r&&(f+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),c=u+e.length,e})),f+="';\n";var m=Rt.call(e,"variable")&&e.variable;if(m){if(lt.test(m))throw new wt("Invalid `variable` option passed into `_.template`")}else f="with (obj) {\n"+f+"\n}\n";f=(o?f.replace(B,""):f).replace(W,"$1").replace(U,"$1;"),f="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(s?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+f+"return __p\n}";var g=Ja((function(){return xt(u,p+"return "+f).apply(i,l)}));if(g.source=f,Zo(g))throw g;return g},Ln.times=function(t,e){if((t=ma(t))<1||t>h)return[];var n=d,r=_n(t,d);e=os(e),t-=d;for(var i=Qe(r,e);++n<t;)e(n);return i},Ln.toFinite=pa,Ln.toInteger=ma,Ln.toLength=ga,Ln.toLower=function(t){return ya(t).toLowerCase()},Ln.toNumber=va,Ln.toSafeInteger=function(t){return t?or(ma(t),-9007199254740991,h):0===t?t:0},Ln.toString=ya,Ln.toUpper=function(t){return ya(t).toUpperCase()},Ln.trim=function(t,e,n){if((t=ya(t))&&(n||e===i))return He(t);if(!t||!(e=ai(e)))return t;var r=fn(t),s=fn(e);return yi(r,Ke(r,s),Je(r,s)+1).join("")},Ln.trimEnd=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.slice(0,dn(t)+1);if(!t||!(e=ai(e)))return t;var r=fn(t);return yi(r,0,Je(r,fn(e))+1).join("")},Ln.trimStart=function(t,e,n){if((t=ya(t))&&(n||e===i))return t.replace(rt,"");if(!t||!(e=ai(e)))return t;var r=fn(t);return yi(r,Ke(r,fn(e))).join("")},Ln.truncate=function(t,e){var n=30,r="...";if(ea(e)){var s="separator"in e?e.separator:s;n="length"in e?ma(e.length):n,r="omission"in e?ai(e.omission):r}var o=(t=ya(t)).length;if(sn(t)){var a=fn(t);o=a.length}if(n>=o)return t;var u=n-hn(r);if(u<1)return r;var l=a?yi(a,0,u).join(""):t.slice(0,u);if(s===i)return l+r;if(a&&(u+=l.length-u),oa(s)){if(t.slice(u).search(s)){var c,h=l;for(s.global||(s=Tt(s.source,ya(ft.exec(s))+"g")),s.lastIndex=0;c=s.exec(h);)var f=c.index;l=l.slice(0,f===i?u:f)}}else if(t.indexOf(ai(s),u)!=u){var d=l.lastIndexOf(s);d>-1&&(l=l.slice(0,d))}return l+r},Ln.unescape=function(t){return(t=ya(t))&&Q.test(t)?t.replace($,pn):t},Ln.uniqueId=function(t){var e=++Pt;return ya(t)+e},Ln.upperCase=Xa,Ln.upperFirst=Za,Ln.each=yo,Ln.eachRight=bo,Ln.first=Gs,uu(Ln,(_u={},yr(Ln,(function(t,e){Rt.call(Ln.prototype,e)||(_u[e]=t)})),_u),{chain:!1}),Ln.VERSION="4.17.21",Te(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(t){Ln[t].placeholder=Ln})),Te(["drop","take"],(function(t,e){Wn.prototype[t]=function(n){n=n===i?1:vn(ma(n),0);var r=this.__filtered__&&!e?new Wn(this):this.clone();return r.__filtered__?r.__takeCount__=_n(n,r.__takeCount__):r.__views__.push({size:_n(n,d),type:t+(r.__dir__<0?"Right":"")}),r},Wn.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}})),Te(["filter","map","takeWhile"],(function(t,e){var n=e+1,r=1==n||3==n;Wn.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:os(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}})),Te(["head","last"],(function(t,e){var n="take"+(e?"Right":"");Wn.prototype[t]=function(){return this[n](1).value()[0]}})),Te(["initial","tail"],(function(t,e){var n="drop"+(e?"":"Right");Wn.prototype[t]=function(){return this.__filtered__?new Wn(this):this[n](1)}})),Wn.prototype.compact=function(){return this.filter(iu)},Wn.prototype.find=function(t){return this.filter(t).head()},Wn.prototype.findLast=function(t){return this.reverse().find(t)},Wn.prototype.invokeMap=Hr((function(t,e){return"function"==typeof t?new Wn(this):this.map((function(n){return Ar(n,t,e)}))})),Wn.prototype.reject=function(t){return this.filter(qo(os(t)))},Wn.prototype.slice=function(t,e){t=ma(t);var n=this;return n.__filtered__&&(t>0||e<0)?new Wn(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==i&&(n=(e=ma(e))<0?n.dropRight(-e):n.take(e-t)),n)},Wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},Wn.prototype.toArray=function(){return this.take(d)},yr(Wn.prototype,(function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),r=/^(?:head|last)$/.test(e),s=Ln[r?"take"+("last"==e?"Right":""):e],o=r||/^find/.test(e);s&&(Ln.prototype[e]=function(){var e=this.__wrapped__,a=r?[1]:arguments,u=e instanceof Wn,l=a[0],c=u||$o(e),h=function(t){var e=s.apply(Ln,Ie([t],a));return r&&f?e[0]:e};c&&n&&"function"==typeof l&&1!=l.length&&(u=c=!1);var f=this.__chain__,d=!!this.__actions__.length,p=o&&!f,m=u&&!d;if(!o&&c){e=m?e:new Wn(this);var g=t.apply(e,a);return g.__actions__.push({func:po,args:[h],thisArg:i}),new Bn(g,f)}return p&&m?t.apply(this,a):(g=this.thru(h),p?r?g.value()[0]:g.value():g)})})),Te(["pop","push","shift","sort","splice","unshift"],(function(t){var e=Ot[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",r=/^(?:pop|shift)$/.test(t);Ln.prototype[t]=function(){var t=arguments;if(r&&!this.__chain__){var i=this.value();return e.apply($o(i)?i:[],t)}return this[n]((function(n){return e.apply($o(n)?n:[],t)}))}})),yr(Wn.prototype,(function(t,e){var n=Ln[e];if(n){var r=n.name+"";Rt.call(Dn,r)||(Dn[r]=[]),Dn[r].push({name:e,func:n})}})),Dn[ji(i,2).name]=[{name:"wrapper",func:i}],Wn.prototype.clone=function(){var t=new Wn(this.__wrapped__);return t.__actions__=Ei(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Ei(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Ei(this.__views__),t},Wn.prototype.reverse=function(){if(this.__filtered__){var t=new Wn(this);t.__dir__=-1,t.__filtered__=!0}else(t=this.clone()).__dir__*=-1;return t},Wn.prototype.value=function(){var t=this.__wrapped__.value(),e=this.__dir__,n=$o(t),r=e<0,i=n?t.length:0,s=function(t,e,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":t+=o;break;case"dropRight":e-=o;break;case"take":e=_n(e,t+o);break;case"takeRight":t=vn(t,e-o)}}return{start:t,end:e}}(0,i,this.__views__),o=s.start,a=s.end,u=a-o,l=r?a:o-1,c=this.__iteratees__,h=c.length,f=0,d=_n(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return fi(t,this.__actions__);var p=[];t:for(;u--&&f<d;){for(var m=-1,g=t[l+=e];++m<h;){var v=c[m],_=v.iteratee,y=v.type,b=_(g);if(2==y)g=b;else if(!b){if(1==y)continue t;break t}}p[f++]=g}return p},Ln.prototype.at=mo,Ln.prototype.chain=function(){return fo(this)},Ln.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},Ln.prototype.next=function(){this.__values__===i&&(this.__values__=da(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?i:this.__values__[this.__index__++]}},Ln.prototype.plant=function(t){for(var e,n=this;n instanceof zn;){var r=Ls(n);r.__index__=0,r.__values__=i,e?s.__wrapped__=r:e=r;var s=r;n=n.__wrapped__}return s.__wrapped__=t,e},Ln.prototype.reverse=function(){var t=this.__wrapped__;if(t instanceof Wn){var e=t;return this.__actions__.length&&(e=new Wn(this)),(e=e.reverse()).__actions__.push({func:po,args:[to],thisArg:i}),new Bn(e,this.__chain__)}return this.thru(to)},Ln.prototype.toJSON=Ln.prototype.valueOf=Ln.prototype.value=function(){return fi(this.__wrapped__,this.__actions__)},Ln.prototype.first=Ln.prototype.head,Yt&&(Ln.prototype[Yt]=function(){return this}),Ln}();he._=mn,(r=function(){return mn}.call(e,n,e,t))===i||(t.exports=r)}.call(this)},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,s){for(var o,a,u=i(t),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(u[c]=o[c]);if(e){a=e(o);for(var h=0;h<a.length;h++)r.call(o,a[h])&&(u[a[h]]=o[a[h]])}}return u}},703:(t,e,n)=>{"use strict";var r=n(414);function i(){}function s(){}s.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(t,e,n)=>{"use strict";var r=n(294),i=n(418),s=n(840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var a=new Set,u={};function l(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(u[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},m={};function g(t,e,n,r,i,s,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var v={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){v[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];v[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){v[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){v[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){v[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){v[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){v[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){v[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){v[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var _=/[\-:]([a-z])/g;function y(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=v.hasOwnProperty(e)?v[e]:null;(null!==i?0===i.type:!r&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,r){if(null==e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!d.call(m,t)||!d.call(p,t)&&(f.test(t)?m[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(_,y);v[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),v.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){v[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,S=60107,T=60108,C=60114,E=60109,O=60110,A=60112,D=60113,M=60120,I=60115,R=60116,P=60121,N=60128,q=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var L=Symbol.for;x=L("react.element"),k=L("react.portal"),S=L("react.fragment"),T=L("react.strict_mode"),C=L("react.profiler"),E=L("react.provider"),O=L("react.context"),A=L("react.forward_ref"),D=L("react.suspense"),M=L("react.suspense_list"),I=L("react.memo"),R=L("react.lazy"),P=L("react.block"),L("react.scope"),N=L("react.opaque.id"),q=L("react.debug_trace_mode"),F=L("react.offscreen"),j=L("react.legacy_hidden")}var V,z="function"==typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function W(t){if(void 0===V)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);V=e&&e[1]||""}return"\n"+V+t}var U=!1;function $(t,e){if(!t||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var r=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){r=t}t.call(e.prototype)}else{try{throw Error()}catch(t){r=t}t()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?W(t):""}function G(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return $(t.type,!1);case 11:return $(t.type.render,!1);case 22:return $(t.type._render,!1);case 1:return $(t.type,!0);default:return""}}function Q(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case O:return(t.displayName||"Context")+".Consumer";case E:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case I:return Q(t.type);case P:return Q(t._render);case R:e=t._payload,t=t._init;try{return Q(t(e))}catch(t){}}return null}function H(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function Y(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function X(t){t._valueTracker||(t._valueTracker=function(t){var e=Y(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,s.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Z(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function K(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=H(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=H(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,H(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function st(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ot(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+H(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ut(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:H(n)}}function lt(t,e){var n=H(e.value),r=H(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var pt,mt,gt=(mt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((pt=pt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=pt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yt=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=bt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(_t).forEach((function(t){yt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,Et=null,Ot=null;function At(t){if(t=ni(t)){if("function"!=typeof Ct)throw Error(o(280));var e=t.stateNode;e&&(e=ii(e),Ct(t.stateNode,t.type,e))}}function Dt(t){Et?Ot?Ot.push(t):Ot=[t]:Et=t}function Mt(){if(Et){var t=Et,e=Ot;if(Ot=Et=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function It(t,e){return t(e)}function Rt(t,e,n,r,i){return t(e,n,r,i)}function Pt(){}var Nt=It,qt=!1,Ft=!1;function jt(){null===Et&&null===Ot||(Pt(),Mt())}function Lt(t,e){var n=t.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var Vt=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(mt){Vt=!1}function Bt(t,e,n,r,i,s,o,a,u){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(t){this.onError(t)}}var Wt=!1,Ut=null,$t=!1,Gt=null,Qt={onError:function(t){Wt=!0,Ut=t}};function Ht(t,e,n,r,i,s,o,a,u){Wt=!1,Ut=null,Bt.apply(Qt,arguments)}function Yt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Xt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Zt(t){if(Yt(t)!==t)throw Error(o(188))}function Kt(t){if(t=function(t){var e=t.alternate;if(!e){if(null===(e=Yt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Zt(i),t;if(s===r)return Zt(i),e;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,u=i.child;u;){if(u===n){a=!0,n=i,r=s;break}if(u===r){a=!0,r=i,n=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===n){a=!0,n=s,r=i;break}if(u===r){a=!0,r=s,n=i;break}u=u.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t),!t)return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Jt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,re,ie=!1,se=[],oe=null,ae=null,ue=null,le=new Map,ce=new Map,he=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function de(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":le.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function me(t,e,n,r,i,s){return null===t||t.nativeEvent!==s?(t=de(e,n,r,i,s),null!==e&&null!==(e=ni(e))&&ee(e),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=ei(t.target);if(null!==e){var n=Yt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Xt(n)))return t.blockedOn=e,void re(t.lanePriority,(function(){s.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ni(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){ve(t)&&n.delete(e)}function ye(){for(ie=!1;0<se.length;){var t=se[0];if(null!==t.blockedOn){null!==(t=ni(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&se.shift()}null!==oe&&ve(oe)&&(oe=null),null!==ae&&ve(ae)&&(ae=null),null!==ue&&ve(ue)&&(ue=null),le.forEach(_e),ce.forEach(_e)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,ye)))}function we(t){function e(e){return be(e,t)}if(0<se.length){be(se[0],t);for(var n=1;n<se.length;n++){var r=se[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==ue&&be(ue,t),le.forEach(e),ce.forEach(e),n=0;n<he.length;n++)(r=he[n]).blockedOn===t&&(r.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ge(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Se={},Te={};function Ce(t){if(Se[t])return Se[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Ee=Ce("animationend"),Oe=Ce("animationiteration"),Ae=Ce("animationstart"),De=Ce("transitionend"),Me=new Map,Ie=new Map,Re=["abort","abort",Ee,"animationEnd",Oe,"animationIteration",Ae,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",De,"transitionEnd","waiting","waiting"];function Pe(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Ie.set(r,e),Me.set(r,i),l(i,[r])}}(0,s.unstable_now)();var Ne=8;function qe(t){if(0!=(1&t))return Ne=15,1;if(0!=(2&t))return Ne=14,2;if(0!=(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!=(32&t)?(Ne=11,32):0!=(e=192&t)?(Ne=10,e):0!=(256&t)?(Ne=9,256):0!=(e=3584&t)?(Ne=8,e):0!=(4096&t)?(Ne=7,4096):0!=(e=4186112&t)?(Ne=6,e):0!=(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!=(134217728&t)?(Ne=3,134217728):0!=(e=805306368&t)?(Ne=2,e):0!=(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var r=0,i=0,s=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(0!==s)r=s,i=Ne=15;else if(0!=(s=134217727&n)){var u=s&~o;0!==u?(r=qe(u),i=Ne):0!=(a&=s)&&(r=qe(a),i=Ne)}else 0!=(s=n&~o)?(r=qe(s),i=Ne):0!==a&&(r=qe(a),i=Ne);if(0===r)return 0;if(r=n&((0>(r=31-We(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0==(e&o)){if(qe(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-We(e)),r|=t[n],e&=~i;return r}function je(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Le(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ve(24&~e))?Le(10,e):t;case 10:return 0===(t=Ve(192&~e))?Le(8,e):t;case 8:return 0===(t=Ve(3584&~e))&&0===(t=Ve(4186112&~e))&&(t=512),t;case 2:return 0===(e=Ve(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function Ve(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Be(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Ue(t)/$e|0)|0},Ue=Math.log,$e=Math.LN2,Ge=s.unstable_UserBlockingPriority,Qe=s.unstable_runWithPriority,He=!0;function Ye(t,e,n,r){qt||Pt();var i=Ze,s=qt;qt=!0;try{Rt(i,t,e,n,r)}finally{(qt=s)||jt()}}function Xe(t,e,n,r){Qe(Ge,Ze.bind(null,t,e,n,r))}function Ze(t,e,n,r){var i;if(He)if((i=0==(4&e))&&0<se.length&&-1<fe.indexOf(t))t=de(null,t,e,n,r),se.push(t);else{var s=Ke(t,e,n,r);if(null===s)i&&pe(t,r);else{if(i){if(-1<fe.indexOf(t))return t=de(s,t,e,n,r),void se.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return oe=me(oe,t,e,n,r,i),!0;case"dragenter":return ae=me(ae,t,e,n,r,i),!0;case"mouseover":return ue=me(ue,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return le.set(s,me(le.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ce.set(s,me(ce.get(s)||null,t,e,n,r,i)),!0}return!1}(s,t,e,n,r))return;pe(t,r)}Pr(t,e,r,null,n)}}}function Ke(t,e,n,r){var i=Tt(r);if(null!==(i=ei(i))){var s=Yt(i);if(null===s)i=null;else{var o=s.tag;if(13===o){if(null!==(i=Xt(s)))return i;i=null}else if(3===o){if(s.stateNode.hydrate)return 3===s.tag?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null)}}return Pr(t,e,r,i,n),null}var Je=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,r=n.length,i="value"in Je?Je.value:Je.textContent,s=i.length;for(t=0;t<r&&n[t]===i[t];t++);var o=r-t;for(e=1;e<=o&&n[r-e]===i[s-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function rn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function sn(){return!0}function on(){return!1}function an(t){function e(e,n,r,i,s){for(var o in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?sn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=sn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=sn)},persist:function(){},isPersistent:sn}),e}var un,ln,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=an(hn),dn=i({},hn,{view:0,detail:0}),pn=an(dn),mn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:En,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(un=t.screenX-cn.screenX,ln=t.screenY-cn.screenY):ln=un=0,cn=t),un)},movementY:function(t){return"movementY"in t?t.movementY:ln}}),gn=an(mn),vn=an(i({},mn,{dataTransfer:0})),_n=an(i({},dn,{relatedTarget:0})),yn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wn=an(bn),xn=an(i({},hn,{data:0})),kn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Tn[t])&&!!e[t]}function En(){return Cn}var On=i({},dn,{key:function(t){if(t.key){var e=kn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=rn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?Sn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:En,charCode:function(t){return"keypress"===t.type?rn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?rn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),An=an(On),Dn=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=an(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:En})),In=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Rn=i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=an(Rn),Nn=[9,13,27,32],qn=h&&"CompositionEvent"in window,Fn=null;h&&"documentMode"in document&&(Fn=document.documentMode);var jn=h&&"TextEvent"in window&&!Fn,Ln=h&&(!qn||Fn&&8<Fn&&11>=Fn),Vn=String.fromCharCode(32),zn=!1;function Bn(t,e){switch(t){case"keyup":return-1!==Nn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Wn(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var Un=!1,$n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Gn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!$n[t.type]:"textarea"===e}function Qn(t,e,n,r){Dt(r),0<(e=qr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Hn=null,Yn=null;function Xn(t){Or(t,0)}function Zn(t){if(Z(ri(t)))return t}function Kn(t,e){if("change"===t)return e}var Jn=!1;if(h){var tr;if(h){var er="oninput"in document;if(!er){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),er="function"==typeof nr.oninput}tr=er}else tr=!1;Jn=tr&&(!document.documentMode||9<document.documentMode)}function rr(){Hn&&(Hn.detachEvent("onpropertychange",ir),Yn=Hn=null)}function ir(t){if("value"===t.propertyName&&Zn(Yn)){var e=[];if(Qn(e,Yn,t,Tt(t)),t=Xn,qt)t(e);else{qt=!0;try{It(t,e)}finally{qt=!1,jt()}}}}function sr(t,e,n){"focusin"===t?(rr(),Yn=n,(Hn=e).attachEvent("onpropertychange",ir)):"focusout"===t&&rr()}function or(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Zn(Yn)}function ar(t,e){if("click"===t)return Zn(e)}function ur(t,e){if("input"===t||"change"===t)return Zn(e)}var lr="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},cr=Object.prototype.hasOwnProperty;function hr(t,e){if(lr(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!cr.call(e,n[r])||!lr(t[n[r]],e[n[r]]))return!1;return!0}function fr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dr(t,e){var n,r=fr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=fr(r)}}function pr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?pr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function mr(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function gr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var vr=h&&"documentMode"in document&&11>=document.documentMode,_r=null,yr=null,br=null,wr=!1;function xr(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==_r||_r!==K(r)||(r="selectionStart"in(r=_r)&&gr(r)?{start:r.selectionStart,end:r.selectionEnd}:{anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&hr(br,r)||(br=r,0<(r=qr(yr,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_r)))}Pe("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Pe("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Pe(Re,2);for(var kr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<kr.length;Sr++)Ie.set(kr[Sr],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Tr));function Er(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,s,a,u,l){if(Ht.apply(this,arguments),Wt){if(!Wt)throw Error(o(198));var c=Ut;Wt=!1,Ut=null,$t||($t=!0,Gt=c)}}(r,e,void 0,t),t.currentTarget=null}function Or(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],u=a.instance,l=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break t;Er(i,a,l),s=u}else for(o=0;o<r.length;o++){if(u=(a=r[o]).instance,l=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break t;Er(i,a,l),s=u}}}if($t)throw t=Gt,$t=!1,Gt=null,t}function Ar(t,e){var n=si(e),r=t+"__bubble";n.has(r)||(Rr(e,t,2,!1),n.add(r))}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){t[Dr]||(t[Dr]=!0,a.forEach((function(e){Cr.has(e)||Ir(e,!1,t,null),Ir(e,!0,t,null)})))}function Ir(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,s=n;if("selectionchange"===t&&9!==n.nodeType&&(s=n.ownerDocument),null!==r&&!e&&Cr.has(t)){if("scroll"!==t)return;i|=2,s=r}var o=si(s),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Rr(s,t,i,e),o.add(a))}function Rr(t,e,n,r){var i=Ie.get(e);switch(void 0===i?2:i){case 0:i=Ye;break;case 1:i=Xe;break;default:i=Ze}n=i.bind(null,e,n,t),i=void 0,!Vt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Pr(t,e,n,r,i){var s=r;if(0==(1&e)&&0==(2&e)&&null!==r)t:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=ei(a)))return;if(5===(u=o.tag)||6===u){r=s=o;continue t}a=a.parentNode}}r=r.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{Nt(t,e,n)}finally{Ft=!1,jt()}}((function(){var r=s,i=Tt(n),o=[];t:{var a=Me.get(t);if(void 0!==a){var u=fn,l=t;switch(t){case"keypress":if(0===rn(n))break t;case"keydown":case"keyup":u=An;break;case"focusin":l="focus",u=_n;break;case"focusout":l="blur",u=_n;break;case"beforeblur":case"afterblur":u=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=Mn;break;case Ee:case Oe:case Ae:u=yn;break;case De:u=In;break;case"scroll":u=pn;break;case"wheel":u=Pn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Dn}var c=0!=(4&e),h=!c&&"scroll"===t,f=c?null!==a?a+"Capture":null:a;c=[];for(var d,p=r;null!==p;){var m=(d=p).stateNode;if(5===d.tag&&null!==m&&(d=m,null!==f&&null!=(m=Lt(p,f))&&c.push(Nr(p,m,d))),h)break;p=p.return}0<c.length&&(a=new u(a,l,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&e)){if(u="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(l=n.relatedTarget||n.fromElement)||!ei(l)&&!l[Jr])&&(u||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,u?(u=r,null!==(l=(l=n.relatedTarget||n.toElement)?ei(l):null)&&(l!==(h=Yt(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(u=null,l=r),u!==l)){if(c=gn,m="onMouseLeave",f="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(c=Dn,m="onPointerLeave",f="onPointerEnter",p="pointer"),h=null==u?a:ri(u),d=null==l?a:ri(l),(a=new c(m,p+"leave",u,n,i)).target=h,a.relatedTarget=d,m=null,ei(i)===r&&((c=new c(f,p+"enter",l,n,i)).target=d,c.relatedTarget=h,m=c),h=m,u&&l)t:{for(f=l,p=0,d=c=u;d;d=Fr(d))p++;for(d=0,m=f;m;m=Fr(m))d++;for(;0<p-d;)c=Fr(c),p--;for(;0<d-p;)f=Fr(f),d--;for(;p--;){if(c===f||null!==f&&c===f.alternate)break t;c=Fr(c),f=Fr(f)}c=null}else c=null;null!==u&&jr(o,a,u,c,!1),null!==l&&null!==h&&jr(o,h,l,c,!0)}if("select"===(u=(a=r?ri(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===u&&"file"===a.type)var g=Kn;else if(Gn(a))if(Jn)g=ur;else{g=or;var v=sr}else(u=a.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ar);switch(g&&(g=g(t,r))?Qn(o,g,n,i):(v&&v(t,a,r),"focusout"===t&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&it(a,"number",a.value)),v=r?ri(r):window,t){case"focusin":(Gn(v)||"true"===v.contentEditable)&&(_r=v,yr=r,br=null);break;case"focusout":br=yr=_r=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":xr(o,n,i)}var _;if(qn)t:{switch(t){case"compositionstart":var y="onCompositionStart";break t;case"compositionend":y="onCompositionEnd";break t;case"compositionupdate":y="onCompositionUpdate";break t}y=void 0}else Un?Bn(t,n)&&(y="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(y="onCompositionStart");y&&(Ln&&"ko"!==n.locale&&(Un||"onCompositionStart"!==y?"onCompositionEnd"===y&&Un&&(_=nn()):(tn="value"in(Je=i)?Je.value:Je.textContent,Un=!0)),0<(v=qr(r,y)).length&&(y=new xn(y,t,null,n,i),o.push({event:y,listeners:v}),(_||null!==(_=Wn(n)))&&(y.data=_))),(_=jn?function(t,e){switch(t){case"compositionend":return Wn(e);case"keypress":return 32!==e.which?null:(zn=!0,Vn);case"textInput":return(t=e.data)===Vn&&zn?null:t;default:return null}}(t,n):function(t,e){if(Un)return"compositionend"===t||!qn&&Bn(t,e)?(t=nn(),en=tn=Je=null,Un=!1,t):null;switch(t){case"paste":default:return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ln&&"ko"!==e.locale?null:e.data}}(t,n))&&0<(r=qr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=_)}Or(o,e)}))}function Nr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function qr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Lt(t,n))&&r.unshift(Nr(t,s,i)),null!=(s=Lt(t,e))&&r.push(Nr(t,s,i))),t=t.return}return r}function Fr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function jr(t,e,n,r,i){for(var s=e._reactName,o=[];null!==n&&n!==r;){var a=n,u=a.alternate,l=a.stateNode;if(null!==u&&u===r)break;5===a.tag&&null!==l&&(a=l,i?null!=(u=Lt(n,s))&&o.unshift(Nr(n,u,a)):i||null!=(u=Lt(n,s))&&o.push(Nr(n,u,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}function Lr(){}var Vr=null,zr=null;function Br(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Wr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var Ur="function"==typeof setTimeout?setTimeout:void 0,$r="function"==typeof clearTimeout?clearTimeout:void 0;function Gr(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Qr(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Hr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Yr=0,Xr=Math.random().toString(36).slice(2),Zr="__reactFiber$"+Xr,Kr="__reactProps$"+Xr,Jr="__reactContainer$"+Xr,ti="__reactEvents$"+Xr;function ei(t){var e=t[Zr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Jr]||n[Zr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Hr(t);null!==t;){if(n=t[Zr])return n;t=Hr(t)}return e}n=(t=n).parentNode}return null}function ni(t){return!(t=t[Zr]||t[Jr])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ri(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function ii(t){return t[Kr]||null}function si(t){var e=t[ti];return void 0===e&&(e=t[ti]=new Set),e}var oi=[],ai=-1;function ui(t){return{current:t}}function li(t){0>ai||(t.current=oi[ai],oi[ai]=null,ai--)}function ci(t,e){ai++,oi[ai]=t.current,t.current=e}var hi={},fi=ui(hi),di=ui(!1),pi=hi;function mi(t,e){var n=t.type.contextTypes;if(!n)return hi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function gi(t){return null!=t.childContextTypes}function vi(){li(di),li(fi)}function _i(t,e,n){if(fi.current!==hi)throw Error(o(168));ci(fi,e),ci(di,n)}function yi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(o(108,Q(e)||"Unknown",s));return i({},n,r)}function bi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,pi=fi.current,ci(fi,t),ci(di,di.current),!0}function wi(t,e,n){var r=t.stateNode;if(!r)throw Error(o(169));n?(t=yi(t,e,pi),r.__reactInternalMemoizedMergedChildContext=t,li(di),li(fi),ci(fi,t)):li(di),ci(di,n)}var xi=null,ki=null,Si=s.unstable_runWithPriority,Ti=s.unstable_scheduleCallback,Ci=s.unstable_cancelCallback,Ei=s.unstable_shouldYield,Oi=s.unstable_requestPaint,Ai=s.unstable_now,Di=s.unstable_getCurrentPriorityLevel,Mi=s.unstable_ImmediatePriority,Ii=s.unstable_UserBlockingPriority,Ri=s.unstable_NormalPriority,Pi=s.unstable_LowPriority,Ni=s.unstable_IdlePriority,qi={},Fi=void 0!==Oi?Oi:function(){},ji=null,Li=null,Vi=!1,zi=Ai(),Bi=1e4>zi?Ai:function(){return Ai()-zi};function Wi(){switch(Di()){case Mi:return 99;case Ii:return 98;case Ri:return 97;case Pi:return 96;case Ni:return 95;default:throw Error(o(332))}}function Ui(t){switch(t){case 99:return Mi;case 98:return Ii;case 97:return Ri;case 96:return Pi;case 95:return Ni;default:throw Error(o(332))}}function $i(t,e){return t=Ui(t),Si(t,e)}function Gi(t,e,n){return t=Ui(t),Ti(t,e,n)}function Qi(){if(null!==Li){var t=Li;Li=null,Ci(t)}Hi()}function Hi(){if(!Vi&&null!==ji){Vi=!0;var t=0;try{var e=ji;$i(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),ji=null}catch(e){throw null!==ji&&(ji=ji.slice(t+1)),Ti(Mi,Qi),e}finally{Vi=!1}}}var Yi=w.ReactCurrentBatchConfig;function Xi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Zi=ui(null),Ki=null,Ji=null,ts=null;function es(){ts=Ji=Ki=null}function ns(t){var e=Zi.current;li(Zi),t.type._context._currentValue=e}function rs(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function is(t,e){Ki=t,ts=Ji=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(qo=!0),t.firstContext=null)}function ss(t,e){if(ts!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(ts=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Ji){if(null===Ki)throw Error(o(308));Ji=e,Ki.dependencies={lanes:0,firstContext:e,responders:null}}else Ji=Ji.next=e;return t._currentValue}var os=!1;function as(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function us(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ls(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function cs(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function hs(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=e:s=s.next=e}else i=s=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fs(t,e,n,r){var s=t.updateQueue;os=!1;var o=s.firstBaseUpdate,a=s.lastBaseUpdate,u=s.shared.pending;if(null!==u){s.shared.pending=null;var l=u,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var h=t.alternate;if(null!==h){var f=(h=h.updateQueue).lastBaseUpdate;f!==a&&(null===f?h.firstBaseUpdate=c:f.next=c,h.lastBaseUpdate=l)}}if(null!==o){for(f=s.baseState,a=0,h=c=l=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==h&&(h=h.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var p=t,m=o;switch(u=e,d=n,m.tag){case 1:if("function"==typeof(p=m.payload)){f=p.call(d,f,u);break t}f=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null==(u="function"==typeof(p=m.payload)?p.call(d,f,u):p))break t;f=i({},f,u);break t;case 2:os=!0}}null!==o.callback&&(t.flags|=32,null===(u=s.effects)?s.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=d,l=f):h=h.next=d,a|=u;if(null===(o=o.next)){if(null===(u=s.shared.pending))break;o=u.next,u.next=null,s.lastBaseUpdate=u,s.shared.pending=null}}null===h&&(l=f),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=h,ja|=a,t.lanes=a,t.memoizedState=f}}function ds(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(o(191,i));i.call(r)}}}var ps=(new r.Component).refs;function ms(t,e,n,r){n=null==(n=n(r,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var gs={isMounted:function(t){return!!(t=t._reactInternals)&&Yt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=lu(),i=cu(t),s=ls(r,i);s.payload=e,null!=n&&(s.callback=n),cs(t,s),hu(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=lu(),i=cu(t),s=ls(r,i);s.tag=1,s.payload=e,null!=n&&(s.callback=n),cs(t,s),hu(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=lu(),r=cu(t),i=ls(n,r);i.tag=2,null!=e&&(i.callback=e),cs(t,i),hu(t,r,n)}};function vs(t,e,n,r,i,s,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,s,o):!(e.prototype&&e.prototype.isPureReactComponent&&hr(n,r)&&hr(i,s))}function _s(t,e,n){var r=!1,i=hi,s=e.contextType;return"object"==typeof s&&null!==s?s=ss(s):(i=gi(e)?pi:fi.current,s=(r=null!=(r=e.contextTypes))?mi(t,i):hi),e=new e(n,s),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=gs,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function ys(t,e,n,r){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&gs.enqueueReplaceState(e,e.state,null)}function bs(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ps,as(t);var s=e.contextType;"object"==typeof s&&null!==s?i.context=ss(s):(s=gi(e)?pi:fi.current,i.context=mi(t,s)),fs(t,n,i,r),i.state=t.memoizedState,"function"==typeof(s=e.getDerivedStateFromProps)&&(ms(t,e,s,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&gs.enqueueReplaceState(i,i.state,null),fs(t,n,i,r),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var ws=Array.isArray;function xs(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:(e=function(t){var e=r.refs;e===ps&&(e=r.refs={}),null===t?delete e[i]:e[i]=t},e._stringRef=i,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function ks(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function Ss(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Wu(t,e)).index=0,t.sibling=null,t}function s(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function u(t,e,n,r){return null===e||6!==e.tag?((e=Qu(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function l(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=xs(t,e,n),r.return=t,r):((r=Uu(n.type,n.key,n.props,null,t.mode,r)).ref=xs(t,e,n),r.return=t,r)}function c(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Hu(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,r,s){return null===e||7!==e.tag?((e=$u(n,t.mode,r,s)).return=t,e):((e=i(e,n)).return=t,e)}function f(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Qu(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=Uu(e.type,e.key,e.props,null,t.mode,n)).ref=xs(t,null,e),n.return=t,n;case k:return(e=Hu(e,t.mode,n)).return=t,e}if(ws(e)||B(e))return(e=$u(e,t.mode,n,null)).return=t,e;ks(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:u(t,e,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?h(t,e,n.props.children,r,i):l(t,e,n,r):null;case k:return n.key===i?c(t,e,n,r):null}if(ws(n)||B(n))return null!==i?null:h(t,e,n,r,null);ks(t,n)}return null}function p(t,e,n,r,i){if("string"==typeof r||"number"==typeof r)return u(e,t=t.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case x:return t=t.get(null===r.key?n:r.key)||null,r.type===S?h(e,t,r.props.children,i,r.key):l(e,t,r,i);case k:return c(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(ws(r)||B(r))return h(e,t=t.get(n)||null,r,i,null);ks(e,r)}return null}function m(i,o,a,u){for(var l=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=d(i,h,a[m],u);if(null===v){null===h&&(h=g);break}t&&h&&null===v.alternate&&e(i,h),o=s(v,o,m),null===c?l=v:c.sibling=v,c=v,h=g}if(m===a.length)return n(i,h),l;if(null===h){for(;m<a.length;m++)null!==(h=f(i,a[m],u))&&(o=s(h,o,m),null===c?l=h:c.sibling=h,c=h);return l}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],u))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?l=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),l}function g(i,a,u,l){var c=B(u);if("function"!=typeof c)throw Error(o(150));if(null==(u=c.call(u)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,v=null,_=u.next();null!==m&&!_.done;g++,_=u.next()){m.index>g?(v=m,m=null):v=m.sibling;var y=d(i,m,_.value,l);if(null===y){null===m&&(m=v);break}t&&m&&null===y.alternate&&e(i,m),a=s(y,a,g),null===h?c=y:h.sibling=y,h=y,m=v}if(_.done)return n(i,m),c;if(null===m){for(;!_.done;g++,_=u.next())null!==(_=f(i,_.value,l))&&(a=s(_,a,g),null===h?c=_:h.sibling=_,h=_);return c}for(m=r(i,m);!_.done;g++,_=u.next())null!==(_=p(m,i,g,_.value,l))&&(t&&null!==_.alternate&&m.delete(null===_.key?g:_.key),a=s(_,a,g),null===h?c=_:h.sibling=_,h=_);return t&&m.forEach((function(t){return e(i,t)})),c}return function(t,r,s,u){var l="object"==typeof s&&null!==s&&s.type===S&&null===s.key;l&&(s=s.props.children);var c="object"==typeof s&&null!==s;if(c)switch(s.$$typeof){case x:t:{for(c=s.key,l=r;null!==l;){if(l.key===c){if(7===l.tag){if(s.type===S){n(t,l.sibling),(r=i(l,s.props.children)).return=t,t=r;break t}}else if(l.elementType===s.type){n(t,l.sibling),(r=i(l,s.props)).ref=xs(t,l,s),r.return=t,t=r;break t}n(t,l);break}e(t,l),l=l.sibling}s.type===S?((r=$u(s.props.children,t.mode,u,s.key)).return=t,t=r):((u=Uu(s.type,s.key,s.props,null,t.mode,u)).ref=xs(t,r,s),u.return=t,t=u)}return a(t);case k:t:{for(l=s.key;null!==r;){if(r.key===l){if(4===r.tag&&r.stateNode.containerInfo===s.containerInfo&&r.stateNode.implementation===s.implementation){n(t,r.sibling),(r=i(r,s.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Hu(s,t.mode,u)).return=t,t=r}return a(t)}if("string"==typeof s||"number"==typeof s)return s=""+s,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,s)).return=t,t=r):(n(t,r),(r=Qu(s,t.mode,u)).return=t,t=r),a(t);if(ws(s))return m(t,r,s,u);if(B(s))return g(t,r,s,u);if(c&&ks(t,s),void 0===s&&!l)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(t.type)||"Component"))}return n(t,r)}}var Ts=Ss(!0),Cs=Ss(!1),Es={},Os=ui(Es),As=ui(Es),Ds=ui(Es);function Ms(t){if(t===Es)throw Error(o(174));return t}function Is(t,e){switch(ci(Ds,e),ci(As,t),ci(Os,Es),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dt(null,"");break;default:e=dt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}li(Os),ci(Os,e)}function Rs(){li(Os),li(As),li(Ds)}function Ps(t){Ms(Ds.current);var e=Ms(Os.current),n=dt(e,t.type);e!==n&&(ci(As,t),ci(Os,n))}function Ns(t){As.current===t&&(li(Os),li(As))}var qs=ui(0);function Fs(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var js=null,Ls=null,Vs=!1;function zs(t,e){var n=zu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Bs(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function Ws(t){if(Vs){var e=Ls;if(e){var n=e;if(!Bs(t,e)){if(!(e=Qr(n.nextSibling))||!Bs(t,e))return t.flags=-1025&t.flags|2,Vs=!1,void(js=t);zs(js,n)}js=t,Ls=Qr(e.firstChild)}else t.flags=-1025&t.flags|2,Vs=!1,js=t}}function Us(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;js=t}function $s(t){if(t!==js)return!1;if(!Vs)return Us(t),Vs=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Wr(e,t.memoizedProps))for(e=Ls;e;)zs(t,e),e=Qr(e.nextSibling);if(Us(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Ls=Qr(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Ls=null}}else Ls=js?Qr(t.stateNode.nextSibling):null;return!0}function Gs(){Ls=js=null,Vs=!1}var Qs=[];function Hs(){for(var t=0;t<Qs.length;t++)Qs[t]._workInProgressVersionPrimary=null;Qs.length=0}var Ys=w.ReactCurrentDispatcher,Xs=w.ReactCurrentBatchConfig,Zs=0,Ks=null,Js=null,to=null,eo=!1,no=!1;function ro(){throw Error(o(321))}function io(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!lr(t[n],e[n]))return!1;return!0}function so(t,e,n,r,i,s){if(Zs=s,Ks=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=null===t||null===t.memoizedState?Io:Ro,t=n(r,i),no){s=0;do{if(no=!1,!(25>s))throw Error(o(301));s+=1,to=Js=null,e.updateQueue=null,Ys.current=Po,t=n(r,i)}while(no)}if(Ys.current=Mo,e=null!==Js&&null!==Js.next,Zs=0,to=Js=Ks=null,eo=!1,e)throw Error(o(300));return t}function oo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===to?Ks.memoizedState=to=t:to=to.next=t,to}function ao(){if(null===Js){var t=Ks.alternate;t=null!==t?t.memoizedState:null}else t=Js.next;var e=null===to?Ks.memoizedState:to.next;if(null!==e)to=e,Js=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Js=t).memoizedState,baseState:Js.baseState,baseQueue:Js.baseQueue,queue:Js.queue,next:null},null===to?Ks.memoizedState=to=t:to=to.next=t}return to}function uo(t,e){return"function"==typeof e?e(t):e}function lo(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=Js,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=a=s=null,l=i;do{var c=l.lane;if((Zs&c)===c)null!==u&&(u=u.next={lane:0,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null}),r=l.eagerReducer===t?l.eagerState:t(r,l.action);else{var h={lane:c,action:l.action,eagerReducer:l.eagerReducer,eagerState:l.eagerState,next:null};null===u?(a=u=h,s=r):u=u.next=h,Ks.lanes|=c,ja|=c}l=l.next}while(null!==l&&l!==i);null===u?s=r:u.next=a,lr(r,e.memoizedState)||(qo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function co(t){var e=ao(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=t(s,a.action),a=a.next}while(a!==i);lr(s,e.memoizedState)||(qo=!0),e.memoizedState=s,null===e.baseQueue&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function ho(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Zs&t)===t)&&(e._workInProgressVersionPrimary=r,Qs.push(e))),t)return n(e._source);throw Qs.push(e),Error(o(350))}function fo(t,e,n,r){var i=Da;if(null===i)throw Error(o(349));var s=e._getVersion,a=s(e._source),u=Ys.current,l=u.useState((function(){return ho(i,e,n)})),c=l[1],h=l[0];l=to;var f=t.memoizedState,d=f.refs,p=d.getSnapshot,m=f.source;f=f.subscribe;var g=Ks;return t.memoizedState={refs:d,source:e,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=c;var t=s(e._source);if(!lr(a,t)){t=n(e._source),lr(h,t)||(c(t),t=cu(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,o=t;0<o;){var u=31-We(o),l=1<<u;r[u]|=t,o&=~l}}}),[n,e,r]),u.useEffect((function(){return r(e._source,(function(){var t=d.getSnapshot,n=d.setSnapshot;try{n(t(e._source));var r=cu(g);i.mutableReadLanes|=r&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,r]),lr(p,n)&&lr(m,e)&&lr(f,r)||((t={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:h}).dispatch=c=Do.bind(null,Ks,t),l.queue=t,l.baseQueue=null,h=ho(i,e,n),l.memoizedState=l.baseState=h),h}function po(t,e,n){return fo(ao(),t,e,n)}function mo(t){var e=oo();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:t}).dispatch=Do.bind(null,Ks,t),[e.memoizedState,t]}function go(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=Ks.updateQueue)?(e={lastEffect:null},Ks.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function vo(t){return t={current:t},oo().memoizedState=t}function _o(){return ao().memoizedState}function yo(t,e,n,r){var i=oo();Ks.flags|=t,i.memoizedState=go(1|e,n,void 0,void 0===r?null:r)}function bo(t,e,n,r){var i=ao();r=void 0===r?null:r;var s=void 0;if(null!==Js){var o=Js.memoizedState;if(s=o.destroy,null!==r&&io(r,o.deps))return void go(e,n,s,r)}Ks.flags|=t,i.memoizedState=go(1|e,n,s,r)}function wo(t,e){return yo(516,4,t,e)}function xo(t,e){return bo(516,4,t,e)}function ko(t,e){return bo(4,2,t,e)}function So(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function To(t,e,n){return n=null!=n?n.concat([t]):null,bo(4,2,So.bind(null,e,t),n)}function Co(){}function Eo(t,e){var n=ao();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&io(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Oo(t,e){var n=ao();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&io(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ao(t,e){var n=Wi();$i(98>n?98:n,(function(){t(!0)})),$i(97<n?97:n,(function(){var n=Xs.transition;Xs.transition=1;try{t(!1),e()}finally{Xs.transition=n}}))}function Do(t,e,n){var r=lu(),i=cu(t),s={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?s.next=s:(s.next=o.next,o.next=s),e.pending=s,o=t.alternate,t===Ks||null!==o&&o===Ks)no=eo=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,u=o(a,n);if(s.eagerReducer=o,s.eagerState=u,lr(u,a))return}catch(t){}hu(t,i,r)}}var Mo={readContext:ss,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Io={readContext:ss,useCallback:function(t,e){return oo().memoizedState=[t,void 0===e?null:e],t},useContext:ss,useEffect:wo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,yo(4,2,So.bind(null,e,t),n)},useLayoutEffect:function(t,e){return yo(4,2,t,e)},useMemo:function(t,e){var n=oo();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oo();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Do.bind(null,Ks,t),[r.memoizedState,t]},useRef:vo,useState:mo,useDebugValue:Co,useDeferredValue:function(t){var e=mo(t),n=e[0],r=e[1];return wo((function(){var e=Xs.transition;Xs.transition=1;try{r(t)}finally{Xs.transition=e}}),[t]),n},useTransition:function(){var t=mo(!1),e=t[0];return vo(t=Ao.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oo();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},fo(r,t,e,n)},useOpaqueIdentifier:function(){if(Vs){var t=!1,e=function(t){return{$$typeof:N,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Yr++).toString(36))),Error(o(355))})),n=mo(e)[1];return 0==(2&Ks.mode)&&(Ks.flags|=516,go(5,(function(){n("r:"+(Yr++).toString(36))}),void 0,null)),e}return mo(e="r:"+(Yr++).toString(36)),e},unstable_isNewReconciler:!1},Ro={readContext:ss,useCallback:Eo,useContext:ss,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Oo,useReducer:lo,useRef:_o,useState:function(){return lo(uo)},useDebugValue:Co,useDeferredValue:function(t){var e=lo(uo),n=e[0],r=e[1];return xo((function(){var e=Xs.transition;Xs.transition=1;try{r(t)}finally{Xs.transition=e}}),[t]),n},useTransition:function(){var t=lo(uo)[0];return[_o().current,t]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},Po={readContext:ss,useCallback:Eo,useContext:ss,useEffect:xo,useImperativeHandle:To,useLayoutEffect:ko,useMemo:Oo,useReducer:co,useRef:_o,useState:function(){return co(uo)},useDebugValue:Co,useDeferredValue:function(t){var e=co(uo),n=e[0],r=e[1];return xo((function(){var e=Xs.transition;Xs.transition=1;try{r(t)}finally{Xs.transition=e}}),[t]),n},useTransition:function(){var t=co(uo)[0];return[_o().current,t]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},No=w.ReactCurrentOwner,qo=!1;function Fo(t,e,n,r){e.child=null===t?Cs(e,null,n,r):Ts(e,t.child,n,r)}function jo(t,e,n,r,i){n=n.render;var s=e.ref;return is(e,i),r=so(t,e,n,r,s,i),null===t||qo?(e.flags|=1,Fo(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,na(t,e,i))}function Lo(t,e,n,r,i,s){if(null===t){var o=n.type;return"function"!=typeof o||Bu(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Uu(n.type,null,r,e,e.mode,s)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Vo(t,e,o,r,i,s))}return o=t.child,0==(i&s)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:hr)(i,r)&&t.ref===e.ref)?na(t,e,s):(e.flags|=1,(t=Wu(o,r)).ref=e.ref,t.return=e,e.child=t)}function Vo(t,e,n,r,i,s){if(null!==t&&hr(t.memoizedProps,r)&&t.ref===e.ref){if(qo=!1,0==(s&i))return e.lanes=t.lanes,na(t,e,s);0!=(16384&t.flags)&&(qo=!0)}return Wo(t,e,n,r,s)}function zo(t,e,n){var r=e.pendingProps,i=r.children,s=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},yu(0,n);else{if(0==(1073741824&n))return t=null!==s?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},yu(0,t),null;e.memoizedState={baseLanes:0},yu(0,null!==s?s.baseLanes:n)}else null!==s?(r=s.baseLanes|n,e.memoizedState=null):r=n,yu(0,r);return Fo(t,e,i,n),e.child}function Bo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Wo(t,e,n,r,i){var s=gi(n)?pi:fi.current;return s=mi(e,s),is(e,i),n=so(t,e,n,r,s,i),null===t||qo?(e.flags|=1,Fo(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,na(t,e,i))}function Uo(t,e,n,r,i){if(gi(n)){var s=!0;bi(e)}else s=!1;if(is(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),_s(e,n,r),bs(e,n,r,i),r=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,l=n.contextType;l="object"==typeof l&&null!==l?ss(l):mi(e,l=gi(n)?pi:fi.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||u!==l)&&ys(e,o,r,l),os=!1;var f=e.memoizedState;o.state=f,fs(e,r,o,i),u=e.memoizedState,a!==r||f!==u||di.current||os?("function"==typeof c&&(ms(e,n,c,r),u=e.memoizedState),(a=os||vs(e,n,a,r,f,u,l))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4)):("function"==typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=l,r=a):("function"==typeof o.componentDidMount&&(e.flags|=4),r=!1)}else{o=e.stateNode,us(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Xi(e.type,a),o.props=l,h=e.pendingProps,f=o.context,u="object"==typeof(u=n.contextType)&&null!==u?ss(u):mi(e,u=gi(n)?pi:fi.current);var d=n.getDerivedStateFromProps;(c="function"==typeof d||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||f!==u)&&ys(e,o,r,u),os=!1,f=e.memoizedState,o.state=f,fs(e,r,o,i);var p=e.memoizedState;a!==h||f!==p||di.current||os?("function"==typeof d&&(ms(e,n,d,r),p=e.memoizedState),(l=os||vs(e,n,l,r,f,p,u))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),o.props=r,o.state=p,o.context=u,r=l):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=256),r=!1)}return $o(t,e,n,r,s,i)}function $o(t,e,n,r,i,s){Bo(t,e);var o=0!=(64&e.flags);if(!r&&!o)return i&&wi(e,n,!1),na(t,e,s);r=e.stateNode,No.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&o?(e.child=Ts(e,t.child,null,s),e.child=Ts(e,null,a,s)):Fo(t,e,a,s),e.memoizedState=r.state,i&&wi(e,n,!0),e.child}function Go(t){var e=t.stateNode;e.pendingContext?_i(0,e.pendingContext,e.pendingContext!==e.context):e.context&&_i(0,e.context,!1),Is(t,e.containerInfo)}var Qo,Ho,Yo,Xo={dehydrated:null,retryLane:0};function Zo(t,e,n){var r,i=e.pendingProps,s=qs.current,o=!1;return(r=0!=(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!=(2&s)),r?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(s|=1),ci(qs,1&s),null===t?(void 0!==i.fallback&&Ws(e),t=i.children,s=i.fallback,o?(t=Ko(e,t,s,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xo,t):"number"==typeof i.unstable_expectedLoadTime?(t=Ko(e,t,s,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Xo,e.lanes=33554432,t):((n=Gu({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,o?(i=function(t,e,n,r,i){var s=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return 0==(2&s)&&e.child!==o?((n=e.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Wu(o,a),null!==t?r=Wu(t,r):(r=$u(r,s,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}(t,e,i.children,i.fallback,n),o=e.child,s=t.child.memoizedState,o.memoizedState=null===s?{baseLanes:n}:{baseLanes:s.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Xo,i):(n=function(t,e,n,r){var i=t.child;return t=i.sibling,n=Wu(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Ko(t,e,n,r){var i=t.mode,s=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==s?(s.childLanes=0,s.pendingProps=e):s=Gu(e,i,0,null),n=$u(n,i,r,null),s.return=t,n.return=t,s.sibling=n,t.child=s,n}function Jo(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),rs(t.return,e)}function ta(t,e,n,r,i,s){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=s)}function ea(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Fo(t,e,r.children,n),0!=(2&(r=qs.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Jo(t,n);else if(19===t.tag)Jo(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ci(qs,r),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Fs(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ta(e,!1,i,n,s,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Fs(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ta(e,!0,n,null,s,e.lastEffect);break;case"together":ta(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function na(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),ja|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Wu(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Wu(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ra(t,e){if(!Vs)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ia(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return gi(e.type)&&vi(),null;case 3:return Rs(),li(di),li(fi),Hs(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||($s(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Ns(e);var s=Ms(Ds.current);if(n=e.type,null!==t&&null!=e.stateNode)Ho(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(o(166));return null}if(t=Ms(Os.current),$s(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Zr]=e,r[Kr]=a,n){case"dialog":Ar("cancel",r),Ar("close",r);break;case"iframe":case"object":case"embed":Ar("load",r);break;case"video":case"audio":for(t=0;t<Tr.length;t++)Ar(Tr[t],r);break;case"source":Ar("error",r);break;case"img":case"image":case"link":Ar("error",r),Ar("load",r);break;case"details":Ar("toggle",r);break;case"input":tt(r,a),Ar("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ar("invalid",r);break;case"textarea":ut(r,a),Ar("invalid",r)}for(var l in kt(n,a),t=null,a)a.hasOwnProperty(l)&&(s=a[l],"children"===l?"string"==typeof s?r.textContent!==s&&(t=["children",s]):"number"==typeof s&&r.textContent!==""+s&&(t=["children",""+s]):u.hasOwnProperty(l)&&null!=s&&"onScroll"===l&&Ar("scroll",r));switch(n){case"input":X(r),rt(r,a,!0);break;case"textarea":X(r),ct(r);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(r.onclick=Lr)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(l=9===s.nodeType?s:s.ownerDocument,t===ht&&(t=ft(n)),t===ht?"script"===n?((t=l.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof r.is?t=l.createElement(n,{is:r.is}):(t=l.createElement(n),"select"===n&&(l=t,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):t=l.createElementNS(t,n),t[Zr]=e,t[Kr]=r,Qo(t,e),e.stateNode=t,l=St(n,r),n){case"dialog":Ar("cancel",t),Ar("close",t),s=r;break;case"iframe":case"object":case"embed":Ar("load",t),s=r;break;case"video":case"audio":for(s=0;s<Tr.length;s++)Ar(Tr[s],t);s=r;break;case"source":Ar("error",t),s=r;break;case"img":case"image":case"link":Ar("error",t),Ar("load",t),s=r;break;case"details":Ar("toggle",t),s=r;break;case"input":tt(t,r),s=J(t,r),Ar("invalid",t);break;case"option":s=st(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=i({},r,{value:void 0}),Ar("invalid",t);break;case"textarea":ut(t,r),s=at(t,r),Ar("invalid",t);break;default:s=r}kt(n,s);var c=s;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?wt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&vt(t,h):"number"==typeof h&&vt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(u.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Ar("scroll",t):null!=h&&b(t,a,h,l))}switch(n){case"input":X(t),rt(t,r,!1);break;case"textarea":X(t),ct(t);break;case"option":null!=r.value&&t.setAttribute("value",""+H(r.value));break;case"select":t.multiple=!!r.multiple,null!=(a=r.value)?ot(t,!!r.multiple,a,!1):null!=r.defaultValue&&ot(t,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof s.onClick&&(t.onclick=Lr)}Br(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Yo(0,e,t.memoizedProps,r);else{if("string"!=typeof r&&null===e.stateNode)throw Error(o(166));n=Ms(Ds.current),Ms(Os.current),$s(e)?(r=e.stateNode,n=e.memoizedProps,r[Zr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Zr]=e,e.stateNode=r)}return null;case 13:return li(qs),r=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&$s(e):n=null!==t.memoizedState,r&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&qs.current)?0===Na&&(Na=3):(0!==Na&&3!==Na||(Na=4),null===Da||0==(134217727&ja)&&0==(134217727&La)||mu(Da,Ia))),(r||n)&&(e.flags|=4),null);case 4:return Rs(),null===t&&Mr(e.stateNode.containerInfo),null;case 10:return ns(e),null;case 19:if(li(qs),null===(r=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(l=r.rendering))if(a)ra(r,!1);else{if(0!==Na||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(l=Fs(t))){for(e.flags|=64,ra(r,!1),null!==(a=l.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(l=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,t=l.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ci(qs,1&qs.current|2),e.child}t=t.sibling}null!==r.tail&&Bi()>Wa&&(e.flags|=64,a=!0,ra(r,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=Fs(l))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ra(r,!0),null===r.tail&&"hidden"===r.tailMode&&!l.alternate&&!Vs)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Wa&&1073741824!==n&&(e.flags|=64,a=!0,ra(r,!1),e.lanes=33554432);r.isBackwards?(l.sibling=e.child,e.child=l):(null!==(n=r.last)?n.sibling=l:e.child=l,r.last=l)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,e=qs.current,ci(qs,a?1&e|2:1&e),n):null;case 23:case 24:return bu(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function sa(t){switch(t.tag){case 1:gi(t.type)&&vi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Rs(),li(di),li(fi),Hs(),0!=(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Ns(t),null;case 13:return li(qs),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return li(qs),null;case 4:return Rs(),null;case 10:return ns(t),null;case 23:case 24:return bu(),null;default:return null}}function oa(t,e){try{var n="",r=e;do{n+=G(r),r=r.return}while(r);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function aa(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Qo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ho=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ms(Os.current);var o,a=null;switch(n){case"input":s=J(t,s),r=J(t,r),a=[];break;case"option":s=st(t,s),r=st(t,r),a=[];break;case"select":s=i({},s,{value:void 0}),r=i({},r,{value:void 0}),a=[];break;case"textarea":s=at(t,s),r=at(t,r),a=[];break;default:"function"!=typeof s.onClick&&"function"==typeof r.onClick&&(t.onclick=Lr)}for(h in kt(n,r),n=null,s)if(!r.hasOwnProperty(h)&&s.hasOwnProperty(h)&&null!=s[h])if("style"===h){var l=s[h];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(u.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in r){var c=r[h];if(l=null!=s?s[h]:void 0,r.hasOwnProperty(h)&&c!==l&&(null!=c||null!=l))if("style"===h)if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(u.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Ar("scroll",t),a||l===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Yo=function(t,e,n,r){n!==r&&(e.flags|=4)};var ua="function"==typeof WeakMap?WeakMap:Map;function la(t,e,n){(n=ls(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Qa||(Qa=!0,Ha=r),aa(0,e)},n}function ca(t,e,n){(n=ls(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"==typeof r){var i=e.value;n.payload=function(){return aa(0,e),r(i)}}var s=t.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Ya?Ya=new Set([this]):Ya.add(this),aa(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var ha="function"==typeof WeakSet?WeakSet:Set;function fa(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Fu(t,e)}else e.current=null}function da(t,e){switch(e.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Xi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Gr(e.stateNode.containerInfo))}throw Error(o(163))}function pa(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Pu(n,t),Ru(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Xi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&ds(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:case 1:t=n.child.stateNode}ds(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Br(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))))}throw Error(o(163))}function ma(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"==typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ga(t,e){if(ki&&"function"==typeof ki.onCommitFiberUnmount)try{ki.onCommitFiberUnmount(xi,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!=(4&r))Pu(e,n);else{r=e;try{i()}catch(t){Fu(r,t)}}n=n.next}while(n!==t)}break;case 1:if(fa(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Fu(e,t)}break;case 5:fa(e);break;case 4:xa(t,e)}}function va(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function _a(t){return 5===t.tag||3===t.tag||4===t.tag}function ya(t){t:{for(var e=t.return;null!==e;){if(_a(e))break t;e=e.return}throw Error(o(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(vt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||_a(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?ba(t,n,e):wa(t,n,e)}function ba(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=Lr));else if(4!==r&&null!==(t=t.child))for(ba(t,e,n),t=t.sibling;null!==t;)ba(t,e,n),t=t.sibling}function wa(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(wa(t,e,n),t=t.sibling;null!==t;)wa(t,e,n),t=t.sibling}function xa(t,e){for(var n,r,i=e,s=!1;;){if(!s){s=i.return;t:for(;;){if(null===s)throw Error(o(160));switch(n=s.stateNode,s.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}s=s.return}s=!0}if(5===i.tag||6===i.tag){t:for(var a=t,u=i,l=u;;)if(ga(a,l),null!==l.child&&4!==l.tag)l.child.return=l,l=l.child;else{if(l===u)break t;for(;null===l.sibling;){if(null===l.return||l.return===u)break t;l=l.return}l.sibling.return=l.return,l=l.sibling}r?(a=n,u=i.stateNode,8===a.nodeType?a.parentNode.removeChild(u):a.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ga(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(s=!1)}i.sibling.return=i.return,i=i.sibling}}function ka(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3==(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var s=e.updateQueue;if(e.updateQueue=null,null!==s){for(n[Kr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),St(t,i),e=St(t,r),i=0;i<s.length;i+=2){var a=s[i],u=s[i+1];"style"===a?wt(n,u):"dangerouslySetInnerHTML"===a?gt(n,u):"children"===a?vt(n,u):b(n,a,u,e)}switch(t){case"input":nt(n,r);break;case"textarea":lt(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(s=r.value)?ot(n,!!r.multiple,s,!1):t!==!!r.multiple&&(null!=r.defaultValue?ot(n,!!r.multiple,r.defaultValue,!0):ot(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 13:return null!==e.memoizedState&&(Ba=Bi(),ma(e.child,!0)),void Sa(e);case 19:return void Sa(e);case 23:case 24:return void ma(e,null!==e.memoizedState)}throw Error(o(163))}function Sa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new ha),e.forEach((function(e){var r=Lu.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Ta(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var Ca=Math.ceil,Ea=w.ReactCurrentDispatcher,Oa=w.ReactCurrentOwner,Aa=0,Da=null,Ma=null,Ia=0,Ra=0,Pa=ui(0),Na=0,qa=null,Fa=0,ja=0,La=0,Va=0,za=null,Ba=0,Wa=1/0;function Ua(){Wa=Bi()+500}var $a,Ga=null,Qa=!1,Ha=null,Ya=null,Xa=!1,Za=null,Ka=90,Ja=[],tu=[],eu=null,nu=0,ru=null,iu=-1,su=0,ou=0,au=null,uu=!1;function lu(){return 0!=(48&Aa)?Bi():-1!==iu?iu:iu=Bi()}function cu(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Wi()?1:2;if(0===su&&(su=Fa),0!==Yi.transition){0!==ou&&(ou=null!==za?za.pendingLanes:0),t=su;var e=4186112&~ou;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Wi(),t=Le(0!=(4&Aa)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),su)}function hu(t,e,n){if(50<nu)throw nu=0,ru=null,Error(o(185));if(null===(t=fu(t,e)))return null;Be(t,e,n),t===Da&&(La|=e,4===Na&&mu(t,Ia));var r=Wi();1===e?0!=(8&Aa)&&0==(48&Aa)?gu(t):(du(t,n),0===Aa&&(Ua(),Qi())):(0==(4&Aa)||98!==r&&99!==r||(null===eu?eu=new Set([t]):eu.add(t)),du(t,n)),za=t}function fu(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function du(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-We(a),l=1<<u,c=s[u];if(-1===c){if(0==(l&r)||0!=(l&i)){c=e,qe(l);var h=Ne;s[u]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=l);a&=~l}if(r=Fe(t,t===Da?Ia:0),e=Ne,0===r)null!==n&&(n!==qi&&Ci(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==qi&&Ci(n)}15===e?(n=gu.bind(null,t),null===ji?(ji=[n],Li=Ti(Mi,Hi)):ji.push(n),n=qi):14===e?n=Gi(99,gu.bind(null,t)):(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),n=Gi(n,pu.bind(null,t))),t.callbackPriority=e,t.callbackNode=n}}function pu(t){if(iu=-1,ou=su=0,0!=(48&Aa))throw Error(o(327));var e=t.callbackNode;if(Iu()&&t.callbackNode!==e)return null;var n=Fe(t,t===Da?Ia:0);if(0===n)return null;var r=n,i=Aa;Aa|=16;var s=ku();for(Da===t&&Ia===r||(Ua(),wu(t,r));;)try{Cu();break}catch(e){xu(t,e)}if(es(),Ea.current=s,Aa=i,null!==Ma?r=0:(Da=null,Ia=0,r=Na),0!=(Fa&La))wu(t,0);else if(0!==r){if(2===r&&(Aa|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(n=je(t))&&(r=Su(t,n))),1===r)throw e=qa,wu(t,0),mu(t,n),du(t,Bi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Au(t);break;case 3:if(mu(t,n),(62914560&n)===n&&10<(r=Ba+500-Bi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){lu(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Ur(Au.bind(null,t),r);break}Au(t);break;case 4:if(mu(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var a=31-We(n);s=1<<a,(a=r[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ca(n/1960))-n)){t.timeoutHandle=Ur(Au.bind(null,t),n);break}Au(t);break;default:throw Error(o(329))}}return du(t,Bi()),t.callbackNode===e?pu.bind(null,t):null}function mu(t,e){for(e&=~Va,e&=~La,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function gu(t){if(0!=(48&Aa))throw Error(o(327));if(Iu(),t===Da&&0!=(t.expiredLanes&Ia)){var e=Ia,n=Su(t,e);0!=(Fa&La)&&(n=Su(t,e=Fe(t,e)))}else n=Su(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Aa|=64,t.hydrate&&(t.hydrate=!1,Gr(t.containerInfo)),0!==(e=je(t))&&(n=Su(t,e))),1===n)throw n=qa,wu(t,0),mu(t,e),du(t,Bi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Au(t),du(t,Bi()),null}function vu(t,e){var n=Aa;Aa|=1;try{return t(e)}finally{0===(Aa=n)&&(Ua(),Qi())}}function _u(t,e){var n=Aa;Aa&=-2,Aa|=8;try{return t(e)}finally{0===(Aa=n)&&(Ua(),Qi())}}function yu(t,e){ci(Pa,Ra),Ra|=e,Fa|=e}function bu(){Ra=Pa.current,li(Pa)}function wu(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,$r(n)),null!==Ma)for(n=Ma.return;null!==n;){var r=n;switch(r.tag){case 1:null!=(r=r.type.childContextTypes)&&vi();break;case 3:Rs(),li(di),li(fi),Hs();break;case 5:Ns(r);break;case 4:Rs();break;case 13:case 19:li(qs);break;case 10:ns(r);break;case 23:case 24:bu()}n=n.return}Da=t,Ma=Wu(t.current,null),Ia=Ra=Fa=e,Na=0,qa=null,Va=La=ja=0}function xu(t,e){for(;;){var n=Ma;try{if(es(),Ys.current=Mo,eo){for(var r=Ks.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}eo=!1}if(Zs=0,to=Js=Ks=null,no=!1,Oa.current=null,null===n||null===n.return){Na=1,qa=e,Ma=null;break}t:{var s=t,o=n.return,a=n,u=e;if(e=Ia,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==u&&"object"==typeof u&&"function"==typeof u.then){var l=u;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&qs.current),f=o;do{var d;if(d=13===f.tag){var p=f.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var m=f.memoizedProps;d=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(d){var g=f.updateQueue;if(null===g){var v=new Set;v.add(l),f.updateQueue=v}else g.add(l);if(0==(2&f.mode)){if(f.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var _=ls(-1,1);_.tag=2,cs(a,_)}a.lanes|=1;break t}u=void 0,a=e;var y=s.pingCache;if(null===y?(y=s.pingCache=new ua,u=new Set,y.set(l,u)):void 0===(u=y.get(l))&&(u=new Set,y.set(l,u)),!u.has(a)){u.add(a);var b=ju.bind(null,s,l,a);l.then(b,b)}f.flags|=4096,f.lanes=e;break t}f=f.return}while(null!==f);u=Error((Q(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Na&&(Na=2),u=oa(u,a),f=o;do{switch(f.tag){case 3:s=u,f.flags|=4096,e&=-e,f.lanes|=e,hs(f,la(0,s,e));break t;case 1:s=u;var w=f.type,x=f.stateNode;if(0==(64&f.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ya||!Ya.has(x)))){f.flags|=4096,e&=-e,f.lanes|=e,hs(f,ca(f,s,e));break t}}f=f.return}while(null!==f)}Ou(n)}catch(t){e=t,Ma===n&&null!==n&&(Ma=n=n.return);continue}break}}function ku(){var t=Ea.current;return Ea.current=Mo,null===t?Mo:t}function Su(t,e){var n=Aa;Aa|=16;var r=ku();for(Da===t&&Ia===e||wu(t,e);;)try{Tu();break}catch(e){xu(t,e)}if(es(),Aa=n,Ea.current=r,null!==Ma)throw Error(o(261));return Da=null,Ia=0,Na}function Tu(){for(;null!==Ma;)Eu(Ma)}function Cu(){for(;null!==Ma&&!Ei();)Eu(Ma)}function Eu(t){var e=$a(t.alternate,t,Ra);t.memoizedProps=t.pendingProps,null===e?Ou(t):Ma=e,Oa.current=null}function Ou(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ia(n,e,Ra)))return void(Ma=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Ra)||0==(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=sa(e)))return n.flags&=2047,void(Ma=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ma=e);Ma=e=t}while(null!==e);0===Na&&(Na=5)}function Au(t){var e=Wi();return $i(99,Du.bind(null,t,e)),null}function Du(t,e){do{Iu()}while(null!==Za);if(0!=(48&Aa))throw Error(o(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,s=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,u=t.expirationTimes;0<s;){var l=31-We(s),c=1<<l;i[l]=0,a[l]=-1,u[l]=-1,s&=~c}if(null!==eu&&0==(24&r)&&eu.has(t)&&eu.delete(t),t===Da&&(Ma=Da=null,Ia=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Aa,Aa|=32,Oa.current=null,Vr=He,gr(a=mr())){if("selectionStart"in a)u={start:a.selectionStart,end:a.selectionEnd};else t:if(u=(u=a.ownerDocument)&&u.defaultView||window,(c=u.getSelection&&u.getSelection())&&0!==c.rangeCount){u=c.anchorNode,s=c.anchorOffset,l=c.focusNode,c=c.focusOffset;try{u.nodeType,l.nodeType}catch(t){u=null;break t}var h=0,f=-1,d=-1,p=0,m=0,g=a,v=null;e:for(;;){for(var _;g!==u||0!==s&&3!==g.nodeType||(f=h+s),g!==l||0!==c&&3!==g.nodeType||(d=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(_=g.firstChild);)v=g,g=_;for(;;){if(g===a)break e;if(v===u&&++p===s&&(f=h),v===l&&++m===c&&(d=h),null!==(_=g.nextSibling))break;v=(g=v).parentNode}g=_}u=-1===f||-1===d?null:{start:f,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:a,selectionRange:u},He=!1,au=null,uu=!1,Ga=r;do{try{Mu()}catch(t){if(null===Ga)throw Error(o(330));Fu(Ga,t),Ga=Ga.nextEffect}}while(null!==Ga);au=null,Ga=r;do{try{for(a=t;null!==Ga;){var y=Ga.flags;if(16&y&&vt(Ga.stateNode,""),128&y){var b=Ga.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ya(Ga),Ga.flags&=-3;break;case 6:ya(Ga),Ga.flags&=-3,ka(Ga.alternate,Ga);break;case 1024:Ga.flags&=-1025;break;case 1028:Ga.flags&=-1025,ka(Ga.alternate,Ga);break;case 4:ka(Ga.alternate,Ga);break;case 8:xa(a,u=Ga);var x=u.alternate;va(u),null!==x&&va(x)}Ga=Ga.nextEffect}}catch(t){if(null===Ga)throw Error(o(330));Fu(Ga,t),Ga=Ga.nextEffect}}while(null!==Ga);if(w=zr,b=mr(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&pr(y.ownerDocument.documentElement,y)){null!==a&&gr(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=y.textContent.length,x=Math.min(a.start,u),a=void 0===a.end?x:Math.min(a.end,u),!w.extend&&x>a&&(u=a,a=x,x=u),u=dr(y,x),s=dr(y,a),u&&s&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==s.node||w.focusOffset!==s.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(s.node,s.offset)):(b.setEnd(s.node,s.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}He=!!Vr,zr=Vr=null,t.current=n,Ga=r;do{try{for(y=t;null!==Ga;){var k=Ga.flags;if(36&k&&pa(y,Ga.alternate,Ga),128&k){b=void 0;var S=Ga.ref;if(null!==S){var T=Ga.stateNode;Ga.tag,b=T,"function"==typeof S?S(b):S.current=b}}Ga=Ga.nextEffect}}catch(t){if(null===Ga)throw Error(o(330));Fu(Ga,t),Ga=Ga.nextEffect}}while(null!==Ga);Ga=null,Fi(),Aa=i}else t.current=n;if(Xa)Xa=!1,Za=t,Ka=e;else for(Ga=r;null!==Ga;)e=Ga.nextEffect,Ga.nextEffect=null,8&Ga.flags&&((k=Ga).sibling=null,k.stateNode=null),Ga=e;if(0===(r=t.pendingLanes)&&(Ya=null),1===r?t===ru?nu++:(nu=0,ru=t):nu=0,n=n.stateNode,ki&&"function"==typeof ki.onCommitFiberRoot)try{ki.onCommitFiberRoot(xi,n,void 0,64==(64&n.current.flags))}catch(t){}if(du(t,Bi()),Qa)throw Qa=!1,t=Ha,Ha=null,t;return 0!=(8&Aa)||Qi(),null}function Mu(){for(;null!==Ga;){var t=Ga.alternate;uu||null===au||(0!=(8&Ga.flags)?Jt(Ga,au)&&(uu=!0):13===Ga.tag&&Ta(t,Ga)&&Jt(Ga,au)&&(uu=!0));var e=Ga.flags;0!=(256&e)&&da(t,Ga),0==(512&e)||Xa||(Xa=!0,Gi(97,(function(){return Iu(),null}))),Ga=Ga.nextEffect}}function Iu(){if(90!==Ka){var t=97<Ka?97:Ka;return Ka=90,$i(t,Nu)}return!1}function Ru(t,e){Ja.push(e,t),Xa||(Xa=!0,Gi(97,(function(){return Iu(),null})))}function Pu(t,e){tu.push(e,t),Xa||(Xa=!0,Gi(97,(function(){return Iu(),null})))}function Nu(){if(null===Za)return!1;var t=Za;if(Za=null,0!=(48&Aa))throw Error(o(331));var e=Aa;Aa|=32;var n=tu;tu=[];for(var r=0;r<n.length;r+=2){var i=n[r],s=n[r+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===s)throw Error(o(330));Fu(s,t)}}for(n=Ja,Ja=[],r=0;r<n.length;r+=2){i=n[r],s=n[r+1];try{var u=i.create;i.destroy=u()}catch(t){if(null===s)throw Error(o(330));Fu(s,t)}}for(u=t.current.firstEffect;null!==u;)t=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=t;return Aa=e,Qi(),!0}function qu(t,e,n){cs(t,e=la(0,e=oa(n,e),1)),e=lu(),null!==(t=fu(t,1))&&(Be(t,1,e),du(t,e))}function Fu(t,e){if(3===t.tag)qu(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){qu(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r))){var i=ca(n,t=oa(e,t),1);if(cs(n,i),i=lu(),null!==(n=fu(n,1)))Be(n,1,i),du(n,i);else if("function"==typeof r.componentDidCatch&&(null===Ya||!Ya.has(r)))try{r.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function ju(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=lu(),t.pingedLanes|=t.suspendedLanes&n,Da===t&&(Ia&n)===n&&(4===Na||3===Na&&(62914560&Ia)===Ia&&500>Bi()-Ba?wu(t,0):Va|=n),du(t,e)}function Lu(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Wi()?1:2:(0===su&&(su=Fa),0===(e=Ve(62914560&~su))&&(e=4194304))),n=lu(),null!==(t=fu(t,e))&&(Be(t,e,n),du(t,n))}function Vu(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function zu(t,e,n,r){return new Vu(t,e,n,r)}function Bu(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Wu(t,e){var n=t.alternate;return null===n?((n=zu(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Uu(t,e,n,r,i,s){var a=2;if(r=t,"function"==typeof t)Bu(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return $u(n.children,i,s,e);case q:a=8,i|=16;break;case T:a=8,i|=1;break;case C:return(t=zu(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=s,t;case D:return(t=zu(13,n,e,i)).type=D,t.elementType=D,t.lanes=s,t;case M:return(t=zu(19,n,e,i)).elementType=M,t.lanes=s,t;case F:return Gu(n,i,s,e);case j:return(t=zu(24,n,e,i)).elementType=j,t.lanes=s,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case E:a=10;break t;case O:a=9;break t;case A:a=11;break t;case I:a=14;break t;case R:a=16,r=null;break t;case P:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=zu(a,n,e,i)).elementType=t,e.type=r,e.lanes=s,e}function $u(t,e,n,r){return(t=zu(7,t,r,e)).lanes=n,t}function Gu(t,e,n,r){return(t=zu(23,t,r,e)).elementType=F,t.lanes=n,t}function Qu(t,e,n){return(t=zu(6,t,null,e)).lanes=n,t}function Hu(t,e,n){return(e=zu(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Yu(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Xu(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Zu(t,e,n,r){var i=e.current,s=lu(),a=cu(i);t:if(n){e:{if(Yt(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(gi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var l=n.type;if(gi(l)){n=yi(n,l,u);break t}}n=u}else n=hi;return null===e.context?e.context=n:e.pendingContext=n,(e=ls(s,a)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),cs(i,e),hu(i,a,s),a}function Ku(t){return(t=t.current).child?(t.child.tag,t.child.stateNode):null}function Ju(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tl(t,e){Ju(t,e),(t=t.alternate)&&Ju(t,e)}function el(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Yu(t,e,null!=n&&!0===n.hydrate),e=zu(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,as(e),t[Jr]=n.current,Mr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function rl(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Ku(o);a.call(t)}}Zu(e,o,t,i)}else{if(s=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new el(t,0,e?{hydrate:!0}:void 0)}(n,r),o=s._internalRoot,"function"==typeof i){var u=i;i=function(){var t=Ku(o);u.call(t)}}_u((function(){Zu(e,o,t,i)}))}return Ku(o)}function il(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nl(e))throw Error(o(200));return Xu(t,e,null,n)}$a=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||di.current)qo=!0;else{if(0==(n&r)){switch(qo=!1,e.tag){case 3:Go(e),Gs();break;case 5:Ps(e);break;case 1:gi(e.type)&&bi(e);break;case 4:Is(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;ci(Zi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Zo(t,e,n):(ci(qs,1&qs.current),null!==(e=na(t,e,n))?e.sibling:null);ci(qs,1&qs.current);break;case 19:if(r=0!=(n&e.childLanes),0!=(64&t.flags)){if(r)return ea(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ci(qs,qs.current),r)break;return null;case 23:case 24:return e.lanes=0,zo(t,e,n)}return na(t,e,n)}qo=0!=(16384&t.flags)}else qo=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=mi(e,fi.current),is(e,n),i=so(null,e,r,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,gi(r)){var s=!0;bi(e)}else s=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,as(e);var a=r.getDerivedStateFromProps;"function"==typeof a&&ms(e,r,a,t),i.updater=gs,e.stateNode=i,i._reactInternals=e,bs(e,r,t,n),e=$o(null,e,r,!0,s,n)}else e.tag=0,Fo(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(s=i._init)(i._payload),e.type=i,s=e.tag=function(t){if("function"==typeof t)return Bu(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===I)return 14}return 2}(i),t=Xi(i,t),s){case 0:e=Wo(null,e,i,t,n);break t;case 1:e=Uo(null,e,i,t,n);break t;case 11:e=jo(null,e,i,t,n);break t;case 14:e=Lo(null,e,i,Xi(i.type,t),r,n);break t}throw Error(o(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Wo(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 1:return r=e.type,i=e.pendingProps,Uo(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 3:if(Go(e),r=e.updateQueue,null===t||null===r)throw Error(o(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,us(t,e),fs(e,r,null,n),(r=e.memoizedState.element)===i)Gs(),e=na(t,e,n);else{if((s=(i=e.stateNode).hydrate)&&(Ls=Qr(e.stateNode.containerInfo.firstChild),js=e,s=Vs=!0),s){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(s=t[i])._workInProgressVersionPrimary=t[i+1],Qs.push(s);for(n=Cs(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Fo(t,e,r,n),Gs();e=e.child}return e;case 5:return Ps(e),null===t&&Ws(e),r=e.type,i=e.pendingProps,s=null!==t?t.memoizedProps:null,a=i.children,Wr(r,i)?a=null:null!==s&&Wr(r,s)&&(e.flags|=16),Bo(t,e),Fo(t,e,a,n),e.child;case 6:return null===t&&Ws(e),null;case 13:return Zo(t,e,n);case 4:return Is(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=Ts(e,null,r,n):Fo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,jo(t,e,r,i=e.elementType===r?i:Xi(r,i),n);case 7:return Fo(t,e,e.pendingProps,n),e.child;case 8:case 12:return Fo(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,a=e.memoizedProps,s=i.value;var u=e.type._context;if(ci(Zi,u._currentValue),u._currentValue=s,null!==a)if(u=a.value,0==(s=lr(u,s)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(u,s):1073741823))){if(a.children===i.children&&!di.current){e=na(t,e,n);break t}}else for(null!==(u=e.child)&&(u.return=e);null!==u;){var l=u.dependencies;if(null!==l){a=u.child;for(var c=l.firstContext;null!==c;){if(c.context===r&&0!=(c.observedBits&s)){1===u.tag&&((c=ls(-1,n&-n)).tag=2,cs(u,c)),u.lanes|=n,null!==(c=u.alternate)&&(c.lanes|=n),rs(u.return,n),l.lanes|=n;break}c=c.next}}else a=10===u.tag&&u.type===e.type?null:u.child;if(null!==a)a.return=u;else for(a=u;null!==a;){if(a===e){a=null;break}if(null!==(u=a.sibling)){u.return=a.return,a=u;break}a=a.return}u=a}Fo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(s=e.pendingProps).children,is(e,n),r=r(i=ss(i,s.unstable_observedBits)),e.flags|=1,Fo(t,e,r,n),e.child;case 14:return s=Xi(i=e.type,e.pendingProps),Lo(t,e,i,s=Xi(i.type,s),r,n);case 15:return Vo(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,gi(r)?(t=!0,bi(e)):t=!1,is(e,n),_s(e,r,i),bs(e,r,i,n),$o(null,e,r,!0,t,n);case 19:return ea(t,e,n);case 23:case 24:return zo(t,e,n)}throw Error(o(156,e.tag))},el.prototype.render=function(t){Zu(t,this._internalRoot,null,null)},el.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Zu(null,t,null,(function(){e[Jr]=null}))},te=function(t){13===t.tag&&(hu(t,4,lu()),tl(t,4))},ee=function(t){13===t.tag&&(hu(t,67108864,lu()),tl(t,67108864))},ne=function(t){if(13===t.tag){var e=lu(),n=cu(t);hu(t,n,e),tl(t,n)}},re=function(t,e){return e()},Ct=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ii(r);if(!i)throw Error(o(90));Z(r),nt(r,i)}}}break;case"textarea":lt(t,n);break;case"select":null!=(e=n.value)&&ot(t,!!n.multiple,e,!1)}},It=vu,Rt=function(t,e,n,r,i){var s=Aa;Aa|=4;try{return $i(98,t.bind(null,e,n,r,i))}finally{0===(Aa=s)&&(Ua(),Qi())}},Pt=function(){0==(49&Aa)&&(function(){if(null!==eu){var t=eu;eu=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,du(t,Bi())}))}Qi()}(),Iu())},Nt=function(t,e){var n=Aa;Aa|=2;try{return t(e)}finally{0===(Aa=n)&&(Ua(),Qi())}};var sl={Events:[ni,ri,ii,Dt,Mt,Iu,{current:!1}]},ol={findFiberByHostInstance:ei,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},al={bundleType:ol.bundleType,version:ol.version,rendererPackageName:ol.rendererPackageName,rendererConfig:ol.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:ol.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ul=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ul.isDisabled&&ul.supportsFiber)try{xi=ul.inject(al),ki=ul}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sl,e.createPortal=il,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Aa;if(0!=(48&n))return t(e);Aa|=1;try{if(t)return $i(99,t.bind(null,e))}finally{Aa=n,Qi()}},e.hydrate=function(t,e,n){if(!nl(e))throw Error(o(200));return rl(null,t,e,!0,n)},e.render=function(t,e,n){if(!nl(e))throw Error(o(200));return rl(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nl(t))throw Error(o(40));return!!t._reactRootContainer&&(_u((function(){rl(null,null,t,!1,(function(){t._reactRootContainer=null,t[Jr]=null}))})),!0)},e.unstable_batchedUpdates=vu,e.unstable_createPortal=function(t,e){return il(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nl(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return rl(t,e,n,!1,r)},e.version="17.0.2"},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},921:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,u=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,f=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case r:switch(t=t.type){case c:case h:case s:case a:case o:case d:return t;default:switch(t=t&&t.$$typeof){case l:case f:case g:case m:case u:return t;default:return e}}case i:return e}}}function x(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=l,e.ContextProvider=u,e.Element=r,e.ForwardRef=f,e.Fragment=s,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=a,e.StrictMode=o,e.Suspense=d,e.isAsyncMode=function(t){return x(t)||w(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===l},e.isContextProvider=function(t){return w(t)===u},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===r},e.isForwardRef=function(t){return w(t)===f},e.isFragment=function(t){return w(t)===s},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===d},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===s||t===h||t===a||t===o||t===d||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===u||t.$$typeof===l||t.$$typeof===f||t.$$typeof===_||t.$$typeof===y||t.$$typeof===b||t.$$typeof===v)},e.typeOf=w},864:(t,e,n)=>{"use strict";t.exports=n(921)},231:(t,e,n)=>{var r=n(294);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}var s=r.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},r.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=r.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},r.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function a(t){if(7===t.length)return t;for(var e="#",n=1;n<4;n+=1)e+=t[n]+t[n];return e}function u(t,e,n,r,i){return function(t,e,n,r,i){var s=(t-n)/(e-n);if(0===s)return r;if(1===s)return i;for(var o="#",a=1;a<6;a+=2){var u=parseInt(r.substr(a,2),16),l=parseInt(i.substr(a,2),16),c=Math.round((1-s)*u+s*l).toString(16);1===c.length&&(c="0"+c),o+=c}return o}(t,e,n,a(r),a(i))}var l=function(t){function e(e){t.call(this,e);var n=e.height,r=e.width,i=e.checked;this.t=e.handleDiameter||n-2,this.i=Math.max(r-n,r-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.W=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.W=!1},e.prototype.I=function(t){this.H.focus(),this.setState({R:t,j:!0,B:Date.now()})},e.prototype.L=function(t){var e=this.state,n=e.R,r=e.h,i=(this.props.checked?this.i:this.o)+t-n;e.N||t===n||this.setState({N:!0});var s=Math.min(this.i,Math.max(this.o,i));s!==r&&this.setState({h:s})},e.prototype.U=function(t){var e=this.state,n=e.h,r=e.N,i=e.B,s=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var a=Date.now()-i;(!r||a<250||s&&n<=o||!s&&n>=o)&&this.A(t),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),"number"==typeof t.button&&0!==t.button||(this.I(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},e.prototype.v=function(t){t.preventDefault(),this.L(t.clientX)},e.prototype.g=function(t){this.U(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},e.prototype.k=function(t){this.X=null,this.I(t.touches[0].clientX)},e.prototype.M=function(t){this.L(t.touches[0].clientX)},e.prototype.m=function(t){t.preventDefault(),this.U(t)},e.prototype.$=function(t){Date.now()-this.l>50&&(this.A(t),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},e.prototype.C=function(){this.u=Date.now()},e.prototype.D=function(){this.setState({j:!0})},e.prototype.O=function(){this.setState({j:!1})},e.prototype.S=function(t){this.H=t},e.prototype.T=function(t){t.preventDefault(),this.H.focus(),this.A(t),this.W&&this.setState({j:!1})},e.prototype.A=function(t){var e=this.props;(0,e.onChange)(!e.checked,t,e.id)},e.prototype.render=function(){var t=this.props,e=t.checked,n=t.disabled,s=t.className,o=t.offColor,a=t.onColor,l=t.offHandleColor,c=t.onHandleColor,h=t.checkedIcon,f=t.uncheckedIcon,d=t.checkedHandleIcon,p=t.uncheckedHandleIcon,m=t.boxShadow,g=t.activeBoxShadow,v=t.height,_=t.width,y=t.borderRadius,b=function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&-1===e.indexOf(r)&&(n[r]=t[r]);return n}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),w=this.state,x=w.h,k=w.N,S=w.j,T={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:v/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},C={height:v,width:_,margin:Math.max(0,(this.t-v)/2),position:"relative",background:u(x,this.i,this.o,o,a),borderRadius:"number"==typeof y?y:v/2,cursor:n?"default":"pointer",WebkitTransition:k?null:"background 0.25s",MozTransition:k?null:"background 0.25s",transition:k?null:"background 0.25s"},E={height:v,width:Math.min(1.5*v,_-(this.t+v)/2+1),position:"relative",opacity:(x-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},O={height:v,width:Math.min(1.5*v,_-(this.t+v)/2+1),position:"absolute",opacity:1-(x-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},A={height:this.t,width:this.t,background:u(x,this.i,this.o,l,c),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"number"==typeof y?y-1:"50%",position:"absolute",transform:"translateX("+x+"px)",top:Math.max(0,(v-this.t)/2),outline:0,boxShadow:S?g:m,border:0,WebkitTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},D={height:this.t,width:this.t,opacity:Math.max(2*(1-(x-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},M={height:this.t,width:this.t,opacity:Math.max(2*((x-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"};return r.createElement("div",{className:s,style:T},r.createElement("div",{className:"react-switch-bg",style:C,onClick:n?null:this.T,onMouseDown:function(t){return t.preventDefault()}},h&&r.createElement("div",{style:E},h),f&&r.createElement("div",{style:O},f)),r.createElement("div",{className:"react-switch-handle",style:A,onClick:function(t){return t.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.M,onTouchEnd:n?null:this.m,onTouchCancel:n?null:this.O},p&&r.createElement("div",{style:D},p),d&&r.createElement("div",{style:M},d)),r.createElement("input",i({},{type:"checkbox",role:"switch","aria-checked":e,checked:e,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},b,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},e}(r.Component);l.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:s,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},e.default=l},936:(t,e,n)=>{t.exports=n(231)},408:(t,e,n)=>{"use strict";var r=n(418),i=60103,s=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,a=60110,u=60112;e.Suspense=60113;var l=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),s=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),u=h("react.forward_ref"),e.Suspense=h("react.suspense"),l=h("react.memo"),c=h("react.lazy")}var f="function"==typeof Symbol&&Symbol.iterator;function d(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}function v(){}function _(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||p}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(d(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},v.prototype=g.prototype;var y=_.prototype=new v;y.constructor=_,r(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var r,s={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,r)&&!x.hasOwnProperty(r)&&(s[r]=e[r]);var u=arguments.length-2;if(1===u)s.children=n;else if(1<u){for(var l=Array(u),c=0;c<u;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in u=t.defaultProps)void 0===s[r]&&(s[r]=u[r]);return{$$typeof:i,type:t,key:o,ref:a,props:s,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function E(t,e,n,r,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var u=!1;if(null===t)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case i:case s:u=!0}}if(u)return o=o(u=t),t=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),E(o,e,n,"",(function(t){return t}))):null!=o&&(S(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(t))for(var l=0;l<t.length;l++){var c=r+C(a=t[l],l);u+=E(a,e,n,c,o)}else if(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=f&&t[f]||t["@@iterator"])?t:null}(t),"function"==typeof c)for(t=c.call(t),l=0;!(a=t.next()).done;)u+=E(a=a.value,e,n,c=r+C(a,l++),o);else if("object"===a)throw e=""+t,Error(d(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return u}function O(t,e,n){if(null==t)return t;var r=[],i=0;return E(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var D={current:null};function M(){var t=D.current;if(null===t)throw Error(d(321));return t}var I={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:O,forEach:function(t,e,n){O(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return O(t,(function(){e++})),e},toArray:function(t){return O(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(d(143));return t}},e.Component=g,e.PureComponent=_,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,e.cloneElement=function(t,e,n){if(null==t)throw Error(d(267,t));var s=r({},t.props),o=t.key,a=t.ref,u=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,u=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(s[c]=void 0===e[c]&&void 0!==l?l[c]:e[c])}var c=arguments.length-2;if(1===c)s.children=n;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];s.children=l}return{$$typeof:i,type:t.type,key:o,ref:a,props:s,_owner:u}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:u,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:l,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return M().useCallback(t,e)},e.useContext=function(t,e){return M().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return M().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return M().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return M().useLayoutEffect(t,e)},e.useMemo=function(t,e){return M().useMemo(t,e)},e.useReducer=function(t,e,n){return M().useReducer(t,e,n)},e.useRef=function(t){return M().useRef(t)},e.useState=function(t){return M().useState(t)},e.version="17.0.2"},294:(t,e,n)=>{"use strict";t.exports=n(408)},53:(t,e)=>{"use strict";var n,r,i,s;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();e.unstable_now=function(){return a.now()-u}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var l=null,c=null,h=function(){if(null!==l)try{var t=e.unstable_now();l(!0,t),l=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==l?setTimeout(n,0,t):(l=t,setTimeout(h,0))},r=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},s=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,d=window.clearTimeout;if("undefined"!=typeof console){var p=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,v=-1,_=5,y=0;e.unstable_shouldYield=function(){return e.unstable_now()>=y},s=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();y=t+_;try{g(!0,t)?w.postMessage(null):(m=!1,g=null)}catch(t){throw w.postMessage(null),t}}else m=!1},n=function(t){g=t,m||(m=!0,w.postMessage(null))},r=function(t,n){v=f((function(){t(e.unstable_now())}),n)},i=function(){d(v),v=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<T(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var s=2*(r+1)-1,o=t[s],a=s+1,u=t[a];if(void 0!==o&&0>T(o,n))void 0!==u&&0>T(u,o)?(t[r]=u,t[a]=n,r=a):(t[r]=o,t[s]=n,r=s);else{if(!(void 0!==u&&0>T(u,n)))break t;t[r]=u,t[a]=n,r=a}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],E=[],O=1,A=null,D=3,M=!1,I=!1,R=!1;function P(t){for(var e=k(E);null!==e;){if(null===e.callback)S(E);else{if(!(e.startTime<=t))break;S(E),e.sortIndex=e.expirationTime,x(C,e)}e=k(E)}}function N(t){if(R=!1,P(t),!I)if(null!==k(C))I=!0,n(q);else{var e=k(E);null!==e&&r(N,e.startTime-t)}}function q(t,n){I=!1,R&&(R=!1,i()),M=!0;var s=D;try{for(P(n),A=k(C);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,D=A.priorityLevel;var a=o(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?A.callback=a:A===k(C)&&S(C),P(n)}else S(C);A=k(C)}if(null!==A)var u=!0;else{var l=k(E);null!==l&&r(N,l.startTime-n),u=!1}return u}finally{A=null,D=s,M=!1}}var F=s;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){I||M||(I=!0,n(q))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return k(C)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,s,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return t={id:O++,callback:s,priorityLevel:t,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>a?(t.sortIndex=o,x(E,t),null===k(C)&&t===k(E)&&(R?i():R=!0,r(N,o-a))):(t.sortIndex=u,x(C,t),I||M||(I=!0,n(q))),t},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},695:t=>{"use strict";var e={};t.exports=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,r=0;r<e.length;r++)if(e[r].identifier===t){n=r;break}return n}function r(t,r){for(var s={},o=[],a=0;a<t.length;a++){var u=t[a],l=r.base?u[0]+r.base:u[0],c=s[l]||0,h="".concat(l," ").concat(c);s[l]=c+1;var f=n(h),d={css:u[1],media:u[2],sourceMap:u[3]};-1!==f?(e[f].references++,e[f].updater(d)):e.push({identifier:h,updater:i(d,r),references:1}),o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var s=r(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<s.length;o++){var a=n(s[o]);e[a].references--}for(var u=r(t,i),l=0;l<s.length;l++){var c=n(s[l]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}s=u}}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var r=n.css,i=n.media,s=n.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleTagTransform(r,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(r){var i=e[r];if(void 0!==i)return i.exports;var s=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";var t={};n.r(t),n.d(t,{assert:()=>ma,assertContextRunning:()=>va,assertRange:()=>ga,log:()=>ba,setLogger:()=>ya,warn:()=>wa});var e={};n.r(e);var r={};n.r(r),n.d(r,{AMOscillator:()=>Tl,AMSynth:()=>rc,Abs:()=>zl,Add:()=>Il,AmplitudeEnvelope:()=>tc,Analyser:()=>Th,AudioToGain:()=>kl,AutoFilter:()=>Bc,AutoPanner:()=>Uc,AutoWah:()=>Gc,BaseContext:()=>su,BiquadFilter:()=>ic,BitCrusher:()=>Hc,Buffer:()=>of,BufferSource:()=>uf,Buffers:()=>af,Channel:()=>Rh,Chebyshev:()=>Xc,Chorus:()=>eh,Clock:()=>Hu,Compressor:()=>Lh,Context:()=>ou,Convolver:()=>$h,CrossFade:()=>Lc,DCMeter:()=>Ah,Delay:()=>Yu,Destination:()=>Xh,Distortion:()=>nh,Draw:()=>ef,DuoSynth:()=>uc,EQ3:()=>Uh,Emitter:()=>iu,Envelope:()=>Xl,FFT:()=>Oh,FMOscillator:()=>Cl,FMSynth:()=>lc,FatOscillator:()=>Ol,FeedbackCombFilter:()=>yc,FeedbackDelay:()=>ih,Filter:()=>sc,Follower:()=>$c,Freeverb:()=>lh,Frequency:()=>Du,FrequencyClass:()=>Eu,FrequencyEnvelope:()=>oc,FrequencyShifter:()=>oh,Gain:()=>Vu,GainToAudio:()=>Bl,Gate:()=>Vh,GrainPlayer:()=>Vl,GreaterThan:()=>Gl,GreaterThanZero:()=>$l,IntervalTimeline:()=>rl,JCReverb:()=>dh,LFO:()=>Nl,Limiter:()=>zh,Listener:()=>Jh,Loop:()=>Cc,LowpassCombFilter:()=>wc,Master:()=>Zh,MembraneSynth:()=>fc,Merge:()=>Kc,MetalSynth:()=>hc,Meter:()=>Eh,MidSideCompressor:()=>Bh,MidSideMerge:()=>bh,MidSideSplit:()=>yh,Midi:()=>Ju,MidiClass:()=>Ku,Mono:()=>Ph,MonoSynth:()=>ac,MultibandCompressor:()=>Wh,MultibandSplit:()=>Nh,Multiply:()=>Sl,Negate:()=>Wl,Noise:()=>dl,NoiseSynth:()=>dc,Offline:()=>Xu,OfflineContext:()=>hu,OmniOscillator:()=>Ml,OnePoleFilter:()=>bc,Oscillator:()=>bl,PWMOscillator:()=>Al,PanVol:()=>Ih,Panner:()=>Wc,Panner3D:()=>Fh,Param:()=>Nu,Part:()=>Ec,Pattern:()=>Fc,Phaser:()=>vh,PingPongDelay:()=>mh,PitchShift:()=>gh,Player:()=>jl,Players:()=>Ll,PluckSynth:()=>xc,PolySynth:()=>kc,Pow:()=>Ql,PulseOscillator:()=>El,Recorder:()=>jh,Reverb:()=>_h,Sampler:()=>Sc,Scale:()=>Rl,ScaleExp:()=>Hl,Sequence:()=>jc,Signal:()=>Wu,Solo:()=>Mh,Split:()=>Zc,StateTimeline:()=>Pu,StereoWidener:()=>xh,Subtract:()=>Ul,SyncedSignal:()=>Yl,Synth:()=>ec,Ticks:()=>el,TicksClass:()=>tl,Time:()=>Cu,TimeClass:()=>Tu,Timeline:()=>Ja,ToneAudioBuffer:()=>cu,ToneAudioBuffers:()=>Zu,ToneAudioNode:()=>qu,ToneBufferSource:()=>fl,ToneEvent:()=>Tc,ToneOscillatorNode:()=>yl,Transport:()=>Hh,TransportTime:()=>Iu,TransportTimeClass:()=>Mu,Tremolo:()=>kh,Unit:()=>e,UserMedia:()=>vl,Vibrato:()=>Sh,Volume:()=>sl,WaveShaper:()=>xl,Waveform:()=>Dh,Zero:()=>Pl,connect:()=>ju,connectSeries:()=>Fu,connectSignal:()=>Uu,context:()=>rf,dbToGain:()=>vu,debug:()=>t,defaultArg:()=>Ua,disconnect:()=>Lu,ftom:()=>wu,gainToDb:()=>_u,getContext:()=>pu,getDestination:()=>Kh,getDraw:()=>nf,getListener:()=>tf,getTransport:()=>Yh,immediate:()=>Qh,intervalToFrequencyRatio:()=>yu,isArray:()=>Oa,isBoolean:()=>Ea,isDefined:()=>ka,isFunction:()=>Sa,isNote:()=>Da,isNumber:()=>Ta,isObject:()=>Ca,isString:()=>Aa,isUndef:()=>xa,loaded:()=>sf,mtof:()=>ku,now:()=>Gh,optionsFromArguments:()=>Wa,setContext:()=>mu,start:()=>gu,supported:()=>pa,version:()=>Ln});var i=n(294),s=n(935),o=(n(697),i.createContext(null)),a=function(t){t()},u=function(){return a},l={notify:function(){}},c=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=l,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var t=u(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var r=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){r&&null!==e&&(r=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=l)},t}(),h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;const f=function(t){var e=t.store,n=t.context,r=t.children,s=(0,i.useMemo)((function(){var t=new c(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),a=(0,i.useMemo)((function(){return e.getState()}),[e]);h((function(){var t=s.subscription;return t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[s,a]);var u=n||o;return i.createElement(u.Provider,{value:s},r)};function d(){return(0,i.useContext)(o)}function p(t){void 0===t&&(t=o);var e=t===o?d:function(){return(0,i.useContext)(t)};return function(){return e().store}}n(679),n(864);var m=p();function g(t){void 0===t&&(t=o);var e=t===o?m:p(t);return function(){return e().dispatch}}var v=g(),_=function(t,e){return t===e};function y(t){void 0===t&&(t=o);var e=t===o?d:function(){return(0,i.useContext)(t)};return function(t,n){void 0===n&&(n=_);var r=e(),s=function(t,e,n,r){var s,o=(0,i.useReducer)((function(t){return t+1}),0),a=o[1],u=(0,i.useMemo)((function(){return new c(n,r)}),[n,r]),l=(0,i.useRef)(),f=(0,i.useRef)(),d=(0,i.useRef)(),p=(0,i.useRef)(),m=n.getState();try{if(t!==f.current||m!==d.current||l.current){var g=t(m);s=void 0!==p.current&&e(g,p.current)?p.current:g}else s=p.current}catch(t){throw l.current&&(t.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),t}return h((function(){f.current=t,d.current=m,p.current=s,l.current=void 0})),h((function(){function t(){try{var t=n.getState(),r=f.current(t);if(e(r,p.current))return;p.current=r,d.current=t}catch(t){l.current=t}a()}return u.onStateChange=t,u.trySubscribe(),t(),function(){return u.tryUnsubscribe()}}),[n,u]),s}(t,n,r.store,r.subscription);return(0,i.useDebugValue)(s),s}}var b,w=y();function x(t){return function(e){return!!e.type&&e.type.tabsRole===t}}b=s.unstable_batchedUpdates,a=b;var k=x("Tab"),S=x("TabList"),T=x("TabPanel");function C(){return C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},C.apply(this,arguments)}function E(t,e){return i.Children.map(t,(function(t){return null===t?null:function(t){return k(t)||S(t)||T(t)}(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children?(0,i.cloneElement)(t,C({},t.props,{children:E(t.props.children,e)})):t}))}function O(t,e){return i.Children.forEach(t,(function(t){null!==t&&(k(t)||T(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children&&(S(t)&&e(t),O(t.props.children,e)))}))}function A(t){var e,n,r="";if("string"==typeof t||"number"==typeof t)r+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=A(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function D(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=A(t))&&(r&&(r+=" "),r+=e);return r}var M,I=0;function R(){return"react-tabs-"+I++}function P(t){var e=0;return O(t,(function(t){k(t)&&e++})),e}function N(){return N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},N.apply(this,arguments)}function q(t,e){return q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},q(t,e)}function F(t){return t&&"getAttribute"in t}function j(t){return F(t)&&"tab"===t.getAttribute("role")}function L(t){return F(t)&&"true"===t.getAttribute("aria-disabled")}var V=function(t){var e,n;function r(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).tabNodes=[],e.handleKeyDown=function(t){var n=e.props,r=n.direction,i=n.disableUpDownKeys;if(e.isTabFromContainer(t.target)){var s=e.props.selectedIndex,o=!1,a=!1;32!==t.keyCode&&13!==t.keyCode||(o=!0,a=!1,e.handleClick(t)),37===t.keyCode||!i&&38===t.keyCode?(s="rtl"===r?e.getNextTab(s):e.getPrevTab(s),o=!0,a=!0):39===t.keyCode||!i&&40===t.keyCode?(s="rtl"===r?e.getPrevTab(s):e.getNextTab(s),o=!0,a=!0):35===t.keyCode?(s=e.getLastTab(),o=!0,a=!0):36===t.keyCode&&(s=e.getFirstTab(),o=!0,a=!0),o&&t.preventDefault(),a&&e.setSelected(s,t)}},e.handleClick=function(t){var n=t.target;do{if(e.isTabFromContainer(n)){if(L(n))return;var r=[].slice.call(n.parentNode.children).filter(j).indexOf(n);return void e.setSelected(r,t)}}while(null!=(n=n.parentNode))},e}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,q(e,n);var s=r.prototype;return s.setSelected=function(t,e){if(!(t<0||t>=this.getTabsCount())){var n=this.props;(0,n.onSelect)(t,n.selectedIndex,e)}},s.getNextTab=function(t){for(var e=this.getTabsCount(),n=t+1;n<e;n++)if(!L(this.getTab(n)))return n;for(var r=0;r<t;r++)if(!L(this.getTab(r)))return r;return t},s.getPrevTab=function(t){for(var e=t;e--;)if(!L(this.getTab(e)))return e;for(e=this.getTabsCount();e-- >t;)if(!L(this.getTab(e)))return e;return t},s.getFirstTab=function(){for(var t=this.getTabsCount(),e=0;e<t;e++)if(!L(this.getTab(e)))return e;return null},s.getLastTab=function(){for(var t=this.getTabsCount();t--;)if(!L(this.getTab(t)))return t;return null},s.getTabsCount=function(){return P(this.props.children)},s.getPanelsCount=function(){return t=this.props.children,e=0,O(t,(function(t){T(t)&&e++})),e;var t,e},s.getTab=function(t){return this.tabNodes["tabs-"+t]},s.getChildren=function(){var t=this,e=0,n=this.props,r=n.children,s=n.disabledTabClassName,o=n.focus,a=n.forceRenderTabPanel,u=n.selectedIndex,l=n.selectedTabClassName,c=n.selectedTabPanelClassName,h=n.environment;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var f=this.tabIds.length-this.getTabsCount();f++<0;)this.tabIds.push(R()),this.panelIds.push(R());return E(r,(function(n){var r=n;if(S(n)){var f=0,d=!1;null==M&&function(t){var e=t||("undefined"!=typeof window?window:void 0);try{M=!(void 0===e||!e.document||!e.document.activeElement)}catch(t){M=!1}}(h),M&&(d=i.Children.toArray(n.props.children).filter(k).some((function(e,n){var r=h||("undefined"!=typeof window?window:void 0);return r&&r.document.activeElement===t.getTab(n)}))),r=(0,i.cloneElement)(n,{children:E(n.props.children,(function(e){var n="tabs-"+f,r=u===f,a={tabRef:function(e){t.tabNodes[n]=e},id:t.tabIds[f],panelId:t.panelIds[f],selected:r,focus:r&&(o||d)};return l&&(a.selectedClassName=l),s&&(a.disabledClassName=s),f++,(0,i.cloneElement)(e,a)}))})}else if(T(n)){var p={id:t.panelIds[e],tabId:t.tabIds[e],selected:u===e};a&&(p.forceRender=a),c&&(p.selectedClassName=c),e++,r=(0,i.cloneElement)(n,p)}return r}))},s.isTabFromContainer=function(t){if(!j(t))return!1;var e=t.parentElement;do{if(e===this.node)return!0;if(e.getAttribute("data-tabs"))break;e=e.parentElement}while(e);return!1},s.render=function(){var t=this,e=this.props,n=(e.children,e.className),r=(e.disabledTabClassName,e.domRef),s=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys,function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"]));return i.createElement("div",N({},s,{className:D(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,r&&r(e)},"data-tabs":!0}),this.getChildren())},r}(i.Component);function z(t,e){return z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},z(t,e)}V.defaultProps={className:"react-tabs",focus:!1},V.propTypes={};var B=function(t){var e,n;function r(e){var n;return(n=t.call(this,e)||this).handleSelected=function(t,e,r){var i=n.props.onSelect,s=n.state.mode;if("function"!=typeof i||!1!==i(t,e,r)){var o={focus:"keydown"===r.type};1===s&&(o.selectedIndex=t),n.setState(o)}},n.state=r.copyPropsToState(n.props,{},e.defaultFocus),n}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,z(e,n),r.getDerivedStateFromProps=function(t,e){return r.copyPropsToState(t,e)},r.getModeFromProps=function(t){return null===t.selectedIndex?1:0},r.copyPropsToState=function(t,e,n){void 0===n&&(n=!1);var i={focus:n,mode:r.getModeFromProps(t)};if(1===i.mode){var s,o=Math.max(0,P(t.children)-1);s=null!=e.selectedIndex?Math.min(e.selectedIndex,o):t.defaultIndex||0,i.selectedIndex=s}return i},r.prototype.render=function(){var t=this.props,e=t.children,n=(t.defaultIndex,t.defaultFocus,function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","defaultIndex","defaultFocus"])),r=this.state,s=r.focus,o=r.selectedIndex;return n.focus=s,n.onSelect=this.handleSelected,null!=o&&(n.selectedIndex=o),i.createElement(V,n,e)},r}(i.Component);function W(){return W=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},W.apply(this,arguments)}function U(t,e){return U=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},U(t,e)}B.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1},B.propTypes={},B.tabsRole="Tabs";var $=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,U(e,n),r.prototype.render=function(){var t=this.props,e=t.children,n=t.className,r=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","className"]);return i.createElement("ul",W({},r,{className:D(n),role:"tablist"}),e)},r}(i.Component);function G(){return G=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},G.apply(this,arguments)}function Q(t,e){return Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Q(t,e)}$.defaultProps={className:"react-tabs__tab-list"},$.propTypes={},$.tabsRole="TabList";var H="react-tabs__tab",Y=function(t){var e,n;function r(){return t.apply(this,arguments)||this}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Q(e,n);var s=r.prototype;return s.componentDidMount=function(){this.checkFocus()},s.componentDidUpdate=function(){this.checkFocus()},s.checkFocus=function(){var t=this.props,e=t.selected,n=t.focus;e&&n&&this.node.focus()},s.render=function(){var t,e=this,n=this.props,r=n.children,s=n.className,o=n.disabled,a=n.disabledClassName,u=(n.focus,n.id),l=n.panelId,c=n.selected,h=n.selectedClassName,f=n.tabIndex,d=n.tabRef,p=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return i.createElement("li",G({},p,{className:D(s,(t={},t[h]=c,t[a]=o,t)),ref:function(t){e.node=t,d&&d(t)},role:"tab",id:u,"aria-selected":c?"true":"false","aria-disabled":o?"true":"false","aria-controls":l,tabIndex:f||(c?"0":null)}),r)},r}(i.Component);function X(){return X=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X.apply(this,arguments)}function Z(t,e){return Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},Z(t,e)}Y.defaultProps={className:H,disabledClassName:H+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:H+"--selected"},Y.propTypes={},Y.tabsRole="Tab";var K="react-tabs__tab-panel",J=function(t){var e,n;function r(){return t.apply(this,arguments)||this}return n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,Z(e,n),r.prototype.render=function(){var t,e=this.props,n=e.children,r=e.className,s=e.forceRender,o=e.id,a=e.selected,u=e.selectedClassName,l=e.tabId,c=function(t,e){if(null==t)return{};var n,r,i={},s=Object.keys(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return i.createElement("div",X({},c,{className:D(r,(t={},t[u]=a,t)),role:"tabpanel",id:o,"aria-labelledby":l}),s||a?n:null)},r}(i.Component);J.defaultProps={className:K,forceRender:!1,selectedClassName:K+"--selected"},J.propTypes={},J.tabsRole="TabPanel";var tt=n(379),et=n.n(tt),nt=n(795),rt=n.n(nt),it=n(695),st=n.n(it),ot=n(216),at=n.n(ot),ut=n(263),lt={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=st()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};lt.domAPI=rt(),lt.insertStyleElement=at(),et()(ut.Z,lt),ut.Z&&ut.Z.locals&&ut.Z.locals;var ct=n(763),ht={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=st()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};function ft(t,e){return t===e}function dt(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var r=e.length,i=0;i<r;i++)if(!t(e[i],n[i]))return!1;return!0}function pt(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}ht.domAPI=rt(),ht.insertStyleElement=at(),et()(ct.Z,ht),ct.Z&&ct.Z.locals&&ct.Z.locals;var mt=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++)r[i]=arguments[i];var s=0,o=r.pop(),a=pt(r),u=t.apply(void 0,[function(){return s++,o.apply(null,arguments)}].concat(n)),l=t((function(){for(var t=[],e=a.length,n=0;n<e;n++)t.push(a[n].apply(null,arguments));return u.apply(null,t)}));return l.resultFunc=o,l.dependencies=a,l.recomputations=function(){return s},l.resetRecomputations=function(){return s=0},l}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ft,n=null,r=null;return function(){return dt(e,n,arguments)||(r=t.apply(null,arguments)),n=arguments,r}}));function gt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function _t(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?vt(Object(n),!0).forEach((function(e){gt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function yt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var bt="function"==typeof Symbol&&Symbol.observable||"@@observable",wt=function(){return Math.random().toString(36).substring(7).split("").join(".")},xt={INIT:"@@redux/INIT"+wt(),REPLACE:"@@redux/REPLACE"+wt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+wt()}};function kt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function St(t,e,n){var r;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(yt(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(yt(1));return n(St)(t,e)}if("function"!=typeof t)throw new Error(yt(2));var i=t,s=e,o=[],a=o,u=!1;function l(){a===o&&(a=o.slice())}function c(){if(u)throw new Error(yt(3));return s}function h(t){if("function"!=typeof t)throw new Error(yt(4));if(u)throw new Error(yt(5));var e=!0;return l(),a.push(t),function(){if(e){if(u)throw new Error(yt(6));e=!1,l();var n=a.indexOf(t);a.splice(n,1),o=null}}}function f(t){if(!kt(t))throw new Error(yt(7));if(void 0===t.type)throw new Error(yt(8));if(u)throw new Error(yt(9));try{u=!0,s=i(s,t)}finally{u=!1}for(var e=o=a,n=0;n<e.length;n++)(0,e[n])();return t}function d(t){if("function"!=typeof t)throw new Error(yt(10));i=t,f({type:xt.REPLACE})}function p(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(yt(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[bt]=function(){return this},t}return f({type:xt.INIT}),(r={dispatch:f,subscribe:h,getState:c,replaceReducer:d})[bt]=p,r}function Tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Ct(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error(yt(15))},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},s=e.map((function(t){return t(i)}));return r=Tt.apply(void 0,s)(n.dispatch),_t(_t({},n),{},{dispatch:r})}}}function Et(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,r,t):e(i)}}}}var Ot=Et();Ot.withExtraArgument=Et;const At=Ot;function Dt(t){for(var e=arguments.length,n=Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Mt(t){return!!t&&!!t[_e]}function It(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ye}(t)||Array.isArray(t)||!!t[ve]||!!t.constructor[ve]||jt(t)||Lt(t))}function Rt(t,e,n){void 0===n&&(n=!1),0===Pt(t)?(n?Object.keys:be)(t).forEach((function(r){n&&"symbol"==typeof r||e(r,t[r],t)})):t.forEach((function(n,r){return e(r,n,t)}))}function Pt(t){var e=t[_e];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:jt(t)?2:Lt(t)?3:0}function Nt(t,e){return 2===Pt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function qt(t,e,n){var r=Pt(t);2===r?t.set(e,n):3===r?(t.delete(e),t.add(n)):t[e]=n}function Ft(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function jt(t){return de&&t instanceof Map}function Lt(t){return pe&&t instanceof Set}function Vt(t){return t.o||t.t}function zt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=we(t);delete e[_e];for(var n=be(e),r=0;r<n.length;r++){var i=n[r],s=e[i];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(e[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function Bt(t,e){return void 0===e&&(e=!1),Ut(t)||Mt(t)||!It(t)||(Pt(t)>1&&(t.set=t.add=t.clear=t.delete=Wt),Object.freeze(t),e&&Rt(t,(function(t,e){return Bt(e,!0)}),!0)),t}function Wt(){Dt(2)}function Ut(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function $t(t){var e=xe[t];return e||Dt(18,t),e}function Gt(){return he}function Qt(t,e){e&&($t("Patches"),t.u=[],t.s=[],t.v=e)}function Ht(t){Yt(t),t.p.forEach(Zt),t.p=null}function Yt(t){t===he&&(he=t.l)}function Xt(t){return he={p:[],l:he,h:t,m:!0,_:0}}function Zt(t){var e=t[_e];0===e.i||1===e.i?e.j():e.O=!0}function Kt(t,e){e._=e.p.length;var n=e.p[0],r=void 0!==t&&t!==n;return e.h.g||$t("ES5").S(e,t,r),r?(n[_e].P&&(Ht(e),Dt(4)),It(t)&&(t=Jt(e,t),e.l||ee(e,t)),e.u&&$t("Patches").M(n[_e],t,e.u,e.s)):t=Jt(e,n,[]),Ht(e),e.u&&e.v(e.u,e.s),t!==ge?t:void 0}function Jt(t,e,n){if(Ut(e))return e;var r=e[_e];if(!r)return Rt(e,(function(i,s){return te(t,r,e,i,s,n)}),!0),e;if(r.A!==t)return e;if(!r.P)return ee(t,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var i=4===r.i||5===r.i?r.o=zt(r.k):r.o;Rt(3===r.i?new Set(i):i,(function(e,s){return te(t,r,i,e,s,n)})),ee(t,i,!1),n&&t.u&&$t("Patches").R(r,n,t.u,t.s)}return r.o}function te(t,e,n,r,i,s){if(Mt(i)){var o=Jt(t,i,s&&e&&3!==e.i&&!Nt(e.D,r)?s.concat(r):void 0);if(qt(n,r,o),!Mt(o))return;t.m=!1}if(It(i)&&!Ut(i)){if(!t.h.F&&t._<1)return;Jt(t,i),e&&e.A.l||ee(t,i)}}function ee(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&Bt(e,n)}function ne(t,e){var n=t[_e];return(n?Vt(n):t)[e]}function re(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Object.getPrototypeOf(n)}}function ie(t){t.P||(t.P=!0,t.l&&ie(t.l))}function se(t){t.o||(t.o=zt(t.t))}function oe(t,e,n){var r=jt(e)?$t("MapSet").N(e,n):Lt(e)?$t("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),r={i:n?1:0,A:e?e.A:Gt(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=r,s=ke;n&&(i=[r],s=Se);var o=Proxy.revocable(i,s),a=o.revoke,u=o.proxy;return r.k=u,r.j=a,u}(e,n):$t("ES5").J(e,n);return(n?n.A:Gt()).p.push(r),r}function ae(t){return Mt(t)||Dt(22,t),function t(e){if(!It(e))return e;var n,r=e[_e],i=Pt(e);if(r){if(!r.P&&(r.i<4||!$t("ES5").K(r)))return r.t;r.I=!0,n=ue(e,i),r.I=!1}else n=ue(e,i);return Rt(n,(function(e,i){r&&function(t,e){return 2===Pt(t)?t.get(e):t[e]}(r.t,e)===i||qt(n,e,t(i))})),3===i?new Set(n):n}(t)}function ue(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return zt(t)}function le(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[_e];return ke.get(e,t)},set:function(e){var n=this[_e];ke.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][_e];if(!i.P)switch(i.i){case 5:r(i)&&ie(i);break;case 4:n(i)&&ie(i)}}}function n(t){for(var e=t.t,n=t.k,r=be(n),i=r.length-1;i>=0;i--){var s=r[i];if(s!==_e){var o=e[s];if(void 0===o&&!Nt(e,s))return!0;var a=n[s],u=a&&a[_e];if(u?u.t!==o:!Ft(a,o))return!0}}var l=!!e[_e];return r.length!==be(e).length+(l?0:1)}function r(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){xe[t]||(xe[t]=e)}("ES5",{J:function(e,n){var r=Array.isArray(e),i=function(e,n){if(e){for(var r=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(r,""+i,t(i,!0));return r}var s=we(n);delete s[_e];for(var o=be(s),a=0;a<o.length;a++){var u=o[a];s[u]=t(u,e||!!s[u].enumerable)}return Object.create(Object.getPrototypeOf(n),s)}(r,e),s={i:r?5:4,A:n?n.A:Gt(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,_e,{value:s,writable:!0}),i},S:function(t,n,i){i?Mt(n)&&n[_e].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[_e];if(n){var i=n.t,s=n.k,o=n.D,a=n.i;if(4===a)Rt(s,(function(e){e!==_e&&(void 0!==i[e]||Nt(i,e)?o[e]||t(s[e]):(o[e]=!0,ie(n)))})),Rt(i,(function(t){void 0!==s[t]||Nt(s,t)||(o[t]=!1,ie(n))}));else if(5===a){if(r(n)&&(ie(n),o.length=!0),s.length<i.length)for(var u=s.length;u<i.length;u++)o[u]=!1;else for(var l=i.length;l<s.length;l++)o[l]=!0;for(var c=Math.min(s.length,i.length),h=0;h<c;h++)void 0===o[h]&&t(s[h])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):r(t)}})}var ce,he,fe="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),de="undefined"!=typeof Map,pe="undefined"!=typeof Set,me="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ge=fe?Symbol.for("immer-nothing"):((ce={})["immer-nothing"]=!0,ce),ve=fe?Symbol.for("immer-draftable"):"__$immer_draftable",_e=fe?Symbol.for("immer-state"):"__$immer_state",ye=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),be="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,we=Object.getOwnPropertyDescriptors||function(t){var e={};return be(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},xe={},ke={get:function(t,e){if(e===_e)return t;var n=Vt(t);if(!Nt(n,e))return function(t,e,n){var r,i=re(e,n);return i?"value"in i?i.value:null===(r=i.get)||void 0===r?void 0:r.call(t.k):void 0}(t,n,e);var r=n[e];return t.I||!It(r)?r:r===ne(t.t,e)?(se(t),t.o[e]=oe(t.A.h,r,t)):r},has:function(t,e){return e in Vt(t)},ownKeys:function(t){return Reflect.ownKeys(Vt(t))},set:function(t,e,n){var r=re(Vt(t),e);if(null==r?void 0:r.set)return r.set.call(t.k,n),!0;if(!t.P){var i=ne(Vt(t),e),s=null==i?void 0:i[_e];if(s&&s.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(Ft(n,i)&&(void 0!==n||Nt(t.t,e)))return!0;se(t),ie(t)}return t.o[e]===n&&"number"!=typeof n&&(void 0!==n||e in t.o)||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==ne(t.t,e)||e in t.t?(t.D[e]=!1,se(t),ie(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Vt(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:r.enumerable,value:n[e]}:r},defineProperty:function(){Dt(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){Dt(12)}},Se={};Rt(ke,(function(t,e){Se[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),Se.deleteProperty=function(t,e){return ke.deleteProperty.call(this,t[0],e)},Se.set=function(t,e,n){return ke.set.call(this,t[0],e,n,t[0])};var Te=function(){function t(t){var e=this;this.g=me,this.F=!0,this.produce=function(t,n,r){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var s=e;return function(t){var e=this;void 0===t&&(t=i);for(var r=arguments.length,o=Array(r>1?r-1:0),a=1;a<r;a++)o[a-1]=arguments[a];return s.produce(t,(function(t){var r;return(r=n).call.apply(r,[e,t].concat(o))}))}}var o;if("function"!=typeof n&&Dt(6),void 0!==r&&"function"!=typeof r&&Dt(7),It(t)){var a=Xt(e),u=oe(e,t,void 0),l=!0;try{o=n(u),l=!1}finally{l?Ht(a):Yt(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return Qt(a,r),Kt(t,a)}),(function(t){throw Ht(a),t})):(Qt(a,r),Kt(o,a))}if(!t||"object"!=typeof t){if((o=n(t))===ge)return;return void 0===o&&(o=t),e.F&&Bt(o,!0),o}Dt(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var r=arguments.length,i=Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,n,(function(t,e){r=t,i=e})),r,i];var r,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){It(t)||Dt(8),Mt(t)&&(t=ae(t));var e=Xt(this),n=oe(this,t,void 0);return n[_e].C=!0,Yt(e),n},e.finishDraft=function(t,e){var n=(t&&t[_e]).A;return Qt(n,e),Kt(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!me&&Dt(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var r=e[n];if(0===r.path.length&&"replace"===r.op){t=r.value;break}}n>-1&&(e=e.slice(n+1));var i=$t("Patches").$;return Mt(t)?i(t,e):this.produce(t,(function(t){return i(t,e)}))},t}(),Ce=new Te,Ee=Ce.produce;Ce.produceWithPatches.bind(Ce),Ce.setAutoFreeze.bind(Ce),Ce.setUseProxies.bind(Ce),Ce.applyPatches.bind(Ce),Ce.createDraft.bind(Ce),Ce.finishDraft.bind(Ce);const Oe=Ee;var Ae,De=(Ae=function(t,e){return Ae=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},Ae(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Ae(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Me=function(t,e){for(var n=0,r=e.length,i=t.length;n<r;n++,i++)t[i]=e[n];return t},Ie=Object.defineProperty,Re=Object.prototype.hasOwnProperty,Pe=Object.getOwnPropertySymbols,Ne=Object.prototype.propertyIsEnumerable,qe=function(t,e,n){return e in t?Ie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Fe=function(t,e){for(var n in e||(e={}))Re.call(e,n)&&qe(t,n,e[n]);if(Pe)for(var r=0,i=Pe(e);r<i.length;r++)n=i[r],Ne.call(e,n)&&qe(t,n,e[n]);return t},je="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?Tt:Tt.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Le=function(t){function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return De(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Me([void 0],t[0].concat(this)))):new(e.bind.apply(e,Me([void 0],t.concat(this))))},e}(Array);function Ve(t,e){function n(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Fe(Fe({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function ze(t){var e,n={},r=[],i={addCase:function(t,e){var r="string"==typeof t?t:t.type;if(r in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[r]=e,i},addMatcher:function(t,e){return r.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,r,e]}function Be(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var r=t.reducers||{},i="function"==typeof t.extraReducers?ze(t.extraReducers):[t.extraReducers],s=i[0],o=void 0===s?{}:s,a=i[1],u=void 0===a?[]:a,l=i[2],c=void 0===l?void 0:l,h=Object.keys(r),f={},d={},p={};h.forEach((function(t){var n,i,s=r[t],o=e+"/"+t;"reducer"in s?(n=s.reducer,i=s.prepare):n=s,f[t]=n,d[o]=n,p[t]=i?Ve(o,i):Ve(o)}));var m=function(t,e,n,r){void 0===n&&(n=[]),le();var i="function"==typeof e?ze(e):[e,n,r],s=i[0],o=i[1],a=i[2],u=Oe(t,(function(){}));return function(t,e){void 0===t&&(t=u);var n=Me([s[e.type]],o.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[a]),n.reduce((function(t,n){if(n){var r;if(Mt(t))return void 0===(r=n(t,e))?t:r;if(It(t))return Oe(t,(function(t){return n(t,e)}));if(void 0===(r=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}return t}),t)}}(n,Fe(Fe({},o),d),u,c);return{name:e,reducer:m,actions:p,caseReducers:f}}var We=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Ue=["name","message","stack","code"],$e=function(t,e){this.payload=t,this.meta=e},Ge=function(t,e){this.payload=t,this.meta=e},Qe=function(t){if("object"==typeof t&&null!==t){for(var e={},n=0,r=Ue;n<r.length;n++){var i=r[n];"string"==typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}};function He(t,e,n){var r=Ve(t+"/fulfilled",(function(t,e,n,r){return{payload:t,meta:Fe(Fe({},r||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),i=Ve(t+"/pending",(function(t,e,n){return{payload:void 0,meta:Fe(Fe({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),s=Ve(t+"/rejected",(function(t,e,r,i,s){return{payload:i,error:(n&&n.serializeError||Qe)(t||"Rejected"),meta:Fe(Fe({},s||{}),{arg:r,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return t.prototype.abort=function(){},t}();return Object.assign((function(t){return function(a,u,l){var c,h,f=(null!=(c=null==n?void 0:n.idGenerator)?c:We)(),d=new o,p=new Promise((function(t,e){return d.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:h||"Aborted"})}))})),m=!1,g=function(){return o=this,null,c=function(){var o,c,h;return function(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(t){s=[6,t],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}(this,(function(g){switch(g.label){case 0:if(g.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(t,{getState:u,extra:l}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=!0,a(i(f,t,null==(o=null==n?void 0:n.getPendingMeta)?void 0:o.call(n,{requestId:f,arg:t},{getState:u,extra:l}))),[4,Promise.race([p,Promise.resolve(e(t,{dispatch:a,getState:u,extra:l,requestId:f,signal:d.signal,rejectWithValue:function(t,e){return new $e(t,e)},fulfillWithValue:function(t,e){return new Ge(t,e)}})).then((function(e){if(e instanceof $e)throw e;return e instanceof Ge?r(e.payload,f,t,e.meta):r(e,f,t)}))])];case 1:return c=g.sent(),[3,3];case 2:return h=g.sent(),c=h instanceof $e?s(null,f,t,h.payload,h.meta):s(h,f,t),[3,3];case 3:return n&&!n.dispatchConditionRejection&&s.match(c)&&c.meta.condition||a(c),[2,c]}}))},new Promise((function(t,e){var n=function(t){try{i(c.next(t))}catch(t){e(t)}},r=function(t){try{i(c.throw(t))}catch(t){e(t)}},i=function(e){return e.done?t(e.value):Promise.resolve(e.value).then(n,r)};i((c=c.apply(o,null)).next())}));var o,c}();return Object.assign(g,{abort:function(t){m&&(h=t,d.abort())},requestId:f,arg:t,unwrap:function(){return g.then(Ye)}})}}),{pending:i,rejected:s,fulfilled:r,typePrefix:t})}function Ye(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Xe(t,e,n){e in t.byId||t.allIds.push(e),t.byId[e]=n}function Ze(t,e,n,r){const i=[];for(let s=0;s<t;s++){i.push([]);for(let t=0;t<e;t++){i[s].push([]);for(let e=0;e<n;e++)i[s][t].push(r)}}return i}let Ke,Je;const tn=new WeakMap,en=new WeakMap,nn=new WeakMap,rn=new WeakMap,sn=new WeakMap;let on={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return en.get(t);if("objectStoreNames"===e)return t.objectStoreNames||nn.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function an(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Je||(Je=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(ln(this),t),un(tn.get(this))}:function(...t){return un(e.apply(ln(this),t))}:function(t,...n){const r=e.call(ln(this),t,...n);return nn.set(r,t.sort?t.sort():[t]),un(r)}:(t instanceof IDBTransaction&&function(t){if(en.has(t))return;const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{e(),r()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)}));en.set(t,e)}(t),n=t,(Ke||(Ke=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,on):t);var e,n}function un(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{e(un(t.result)),r()},s=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",s)}));return e.then((e=>{e instanceof IDBCursor&&tn.set(e,t)})).catch((()=>{})),sn.set(e,t),e}(t);if(rn.has(t))return rn.get(t);const e=an(t);return e!==t&&(rn.set(t,e),sn.set(e,t)),e}const ln=t=>sn.get(t),cn=["get","getKey","getAll","getAllKeys","count"],hn=["put","add","delete","clear"],fn=new Map;function dn(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(fn.get(e))return fn.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=hn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cn.includes(n))return;const s=async function(t,...e){const s=this.transaction(t,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&s.done]))[0]};return fn.set(e,s),s}function pn(t){var e=String(t);if("[object Object]"===e)try{e=JSON.stringify(t)}catch(t){}return e}var mn;mn=on,on={...mn,get:(t,e,n)=>dn(t,e)||mn.get(t,e,n),has:(t,e)=>!!dn(t,e)||mn.has(t,e)};var gn=new(function(){function t(){this.some=!1,this.none=!0}return t.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},t.prototype.unwrapOr=function(t){return t},t.prototype.expect=function(t){throw new Error(""+t)},t.prototype.unwrap=function(){throw new Error("Tried to unwrap None")},t.prototype.map=function(t){return this},t.prototype.andThen=function(t){return this},t.prototype.toResult=function(t){return bn(t)},t.prototype.toString=function(){return"None"},t}());Object.freeze(gn);var vn,_n=function(){function t(e){if(!(this instanceof t))return new t(e);this.some=!0,this.none=!1,this.val=e}return t.prototype[Symbol.iterator]=function(){var t=Object(this.val);return Symbol.iterator in t?t[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},t.prototype.unwrapOr=function(t){return this.val},t.prototype.expect=function(t){return this.val},t.prototype.unwrap=function(){return this.val},t.prototype.map=function(t){return _n(t(this.val))},t.prototype.andThen=function(t){return t(this.val)},t.prototype.toResult=function(t){return wn(this.val)},t.prototype.safeUnwrap=function(){return this.val},t.prototype.toString=function(){return"Some("+pn(this.val)+")"},t.EMPTY=new t(void 0),t}();!function(t){t.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];if(!s.some)return s;n.push(s.val)}return _n(n)},t.any=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0,r=t;n<r.length;n++){var i=r[n];return i.some,i}return gn},t.isOption=function(t){return t instanceof _n||t===gn}}(vn||(vn={}));var yn,bn=function(){function t(e){if(!(this instanceof t))return new t(e);this.ok=!1,this.err=!0,this.val=e;var n=(new Error).stack.split("\n").slice(2);n&&n.length>0&&n[0].includes("ErrImpl")&&n.shift(),this._stack=n.join("\n")}return t.prototype[Symbol.iterator]=function(){return{next:function(){return{done:!0,value:void 0}}}},t.prototype.else=function(t){return t},t.prototype.unwrapOr=function(t){return t},t.prototype.expect=function(t){throw new Error(t+" - Error: "+pn(this.val)+"\n"+this._stack)},t.prototype.unwrap=function(){throw new Error("Tried to unwrap Error: "+pn(this.val)+"\n"+this._stack)},t.prototype.map=function(t){return this},t.prototype.andThen=function(t){return this},t.prototype.mapErr=function(t){return new bn(t(this.val))},t.prototype.toOption=function(){return gn},t.prototype.toString=function(){return"Err("+pn(this.val)+")"},Object.defineProperty(t.prototype,"stack",{get:function(){return this+"\n"+this._stack},enumerable:!1,configurable:!0}),t.EMPTY=new t(void 0),t}(),wn=function(){function t(e){if(!(this instanceof t))return new t(e);this.ok=!0,this.err=!1,this.val=e}return t.prototype[Symbol.iterator]=function(){var t=Object(this.val);return Symbol.iterator in t?t[Symbol.iterator]():{next:function(){return{done:!0,value:void 0}}}},t.prototype.else=function(t){return this.val},t.prototype.unwrapOr=function(t){return this.val},t.prototype.expect=function(t){return this.val},t.prototype.unwrap=function(){return this.val},t.prototype.map=function(t){return new wn(t(this.val))},t.prototype.andThen=function(t){return t(this.val)},t.prototype.mapErr=function(t){return this},t.prototype.toOption=function(){return _n(this.val)},t.prototype.safeUnwrap=function(){return this.val},t.prototype.toString=function(){return"Ok("+pn(this.val)+")"},t.EMPTY=new t(void 0),t}();!function(t){t.all=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];if(!s.ok)return s;n.push(s.val)}return new wn(n)},t.any=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];if(s.ok)return s;n.push(s.val)}return new bn(n)},t.wrap=function(t){try{return new wn(t())}catch(t){return new bn(t)}},t.wrapAsync=function(t){try{return t().then((function(t){return new wn(t)})).catch((function(t){return new bn(t)}))}catch(t){return Promise.resolve(new bn(t))}},t.isResult=function(t){return t instanceof bn||t instanceof wn}}(yn||(yn={}));const xn="instruments",kn="instrumentNames",Sn="instrumentNames",Tn="sequencerInstruments",Cn="sequencerInstruments";let En;async function On(t){let e;En=En||await async function(){const t=await function(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=un(o);return r&&o.addEventListener("upgradeneeded",(t=>{r(un(o.result),t.oldVersion,t.newVersion,un(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{s&&t.addEventListener("close",(()=>s())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("MyDB",1,{upgrade(t,e,n,r){console.debug(`upgrade o:${e} n:${n}`),t.createObjectStore(xn,{keyPath:"uuid"}).createIndex(Sn,"name"),t.createObjectStore(kn,{keyPath:"uuid"}).createIndex(Sn,"name"),t.createObjectStore(Tn),r.objectStore(Tn).put([],Cn)},blocked(){console.debug("blocked")},blocking(){console.debug("blocking")},terminated(){console.debug("terminated")}});return t}();try{e=await t(En)}catch(t){return bn(t)}return void 0===e?bn(new Error("got undefined")):wn(e)}async function An(t,e){return await On((async n=>{const r=await n.get(t,e);return console.debug(`get store=${t}, result=`,r),r}))}async function Dn(t,e,n){return await On((async r=>{const i=await r.put(t,e,n);return console.debug(`put store=${t}, item=`,e),i}))}async function Mn(t,e){return await On((async n=>{const r=await n.delete(t,e);return console.debug("delete store=",t,`, key=${e}`),r}))}async function In(t,e){return await On((async n=>{const r=await n.getAllFromIndex(t,e);return console.debug(`getAllFromIndex store=${t}, index=${e}, result=`,r),r}))}const Rn=async function(t){return await An(xn,t)},Pn=async function(t){return await Dn(kn,{uuid:t.uuid,name:t.name}),await Dn(xn,t)},Nn=async function(){return await In(kn,Sn)},qn=async function(t){return await Mn(kn,t),await Mn(xn,t),wn.EMPTY},Fn=async function(){return await An(Tn,Cn)},jn=async function(t){return await Dn(Tn,t,Cn)},Ln="14.7.77";var Vn=n(382);const zn=new WeakSet,Bn=new WeakMap,Wn=new WeakMap,Un=new WeakMap,$n=new WeakMap,Gn=new WeakMap,Qn=new WeakMap,Hn=new WeakMap,Yn=new WeakMap,Xn=new WeakMap,Zn={construct:()=>Zn},Kn=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Jn=(t,e)=>{const n=[];let r=t.replace(/^[\s]+/,""),i=r.match(Kn);for(;null!==i;){const t=i[1].slice(1,-1),s=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(s),r=r.slice(i[0].length).replace(/^[\s]+/,""),i=r.match(Kn)}return[n.join(";"),r]},tr=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},er=t=>{if(!(t=>{try{new new Proxy(t,Zn)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},nr=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},rr=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[r]=n;return t.delete(r),r},ir=(t,e,n,r)=>{const i=nr(t,e),s=rr(i,(t=>t[0]===n&&t[1]===r));return 0===i.size&&t.delete(e),s},sr=t=>nr(Qn,t),or=t=>{if(zn.has(t))throw new Error("The AudioNode is already stored.");zn.add(t),sr(t).forEach((t=>t(!0)))},ar=t=>"port"in t,ur=t=>{if(!zn.has(t))throw new Error("The AudioNode is not stored.");zn.delete(t),sr(t).forEach((t=>t(!1)))},lr=(t,e)=>{!ar(t)&&e.every((t=>0===t.size))&&ur(t)},cr={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},hr=(t,e)=>t.context===e,fr=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},dr=()=>new DOMException("","IndexSizeError"),pr=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw dr();throw t}})},mr={numberOfChannels:1},gr=-34028234663852886e22,vr=-gr,_r=t=>zn.has(t),yr={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},br=t=>nr(Bn,t),wr=t=>nr(Un,t),xr=(t,e)=>{const{activeInputs:n}=br(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||xr(n,[...e,t])}))));const r=(t=>"playbackRate"in t)(t)?[t.playbackRate]:ar(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of r){const n=wr(t);void 0!==n&&n.activeInputs.forEach((([t])=>xr(t,e)))}_r(t)&&ur(t)},kr=t=>{xr(t.destination,[])},Sr=t=>"context"in t,Tr=t=>Sr(t[0]),Cr=(t,e,n,r)=>{for(const e of t)if(n(e)){if(r)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},Er=(t,e,[n,r],i)=>{Cr(t,[e,n,r],(t=>t[0]===e&&t[1]===n),i)},Or=(t,[e,n,r],i)=>{const s=t.get(e);void 0===s?t.set(e,new Set([[n,r]])):Cr(s,[n,r],(t=>t[0]===n),i)},Ar=t=>"inputs"in t,Dr=(t,e,n,r)=>{if(Ar(e)){const i=e.inputs[r];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,r),[e,n,r]},Mr=(t,e,n)=>{for(const r of t)if(r[0]===e&&r[1]===n)return t.delete(r),r;return null},Ir=(t,e)=>{if(!sr(t).delete(e))throw new Error("Missing the expected event listener.")},Rr=(t,e,n)=>{const r=nr(t,e),i=rr(r,(t=>t[0]===n));return 0===r.size&&t.delete(e),i},Pr=(t,e,n,r)=>{Ar(e)?t.disconnect(e.inputs[r],n,0):t.disconnect(e,n,r)},Nr=t=>nr(Wn,t),qr=t=>nr($n,t),Fr=t=>Hn.has(t),jr=t=>!zn.has(t),Lr=t=>new Promise((e=>{const n=t.createScriptProcessor(256,1,1),r=t.createGain(),i=t.createBuffer(1,2,44100),s=i.getChannelData(0);s[0]=1,s[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(n).connect(t.destination),o.connect(r),o.disconnect(r),n.onaudioprocess=r=>{const i=r.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()})),Vr=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},zr=t=>"context"in t,Br=t=>{const e=new Map;var n;t.connect=(n=t.connect.bind(t),(t,r=0,i=0)=>{const s=zr(t)?n(t,r,i):n(t,r),o=e.get(t);return void 0===o?e.set(t,[{input:i,output:r}]):o.every((t=>t.input!==i||t.output!==r))&&o.push({input:i,output:r}),s}),t.disconnect=(n=>(r,i,s)=>{if(n.apply(t),void 0===r)e.clear();else if("number"==typeof r)for(const[t,n]of e){const i=n.filter((t=>t.output!==r));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(r))if(void 0===i)e.delete(r);else{const t=e.get(r);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==s||void 0===s)));0===n.length?e.delete(r):e.set(r,n)}}for(const[n,r]of e)r.forEach((e=>{zr(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},Wr=(t,e,n,r,i)=>{const[s,o]=((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=br(e),o=Mr(i[r],t,n);return null===o?[ir(s,t,n,r)[2],!1]:[o[2],!0]})(t,n,r,i);if(null!==s&&(Ir(t,s),!o||e||Fr(t)||Pr(Nr(t),Nr(n),r,i)),_r(n)){const{activeInputs:t}=br(n);lr(n,t)}},Ur=(t,e,n,r)=>{const[i,s]=((t,e,n)=>{const{activeInputs:r,passiveInputs:i}=wr(e),s=Mr(r,t,n);return null===s?[Rr(i,t,n)[1],!1]:[s[2],!0]})(t,n,r);null!==i&&(Ir(t,i),!s||e||Fr(t)||Nr(t).disconnect(qr(n),r))};class $r{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,r)=>t.call(e,n,r,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Gr={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Qr(t,e,n,r,i){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],r,i);else{const s=t.getChannelData(r);if(0===e[n].byteLength)e[n]=s.slice(i,i+128);else{const t=new Float32Array(s.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Hr=(t,e,n,r,i)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],r,i):0!==e[n].byteLength&&t.getChannelData(r).set(e[n],i)},Yr=(t,e)=>{const n=[];for(let r=0;r<t;r+=1){const t=[],i="number"==typeof e?e:e[r];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Xr=async(t,e,n,r,i,s,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,u=r.channelCount*r.numberOfInputs,l=i.reduce(((t,e)=>t+e),0),c=0===l?null:n.createBuffer(l,a,n.sampleRate);if(void 0===s)throw new Error("Missing the processor constructor.");const h=br(t),f=await((t,e)=>{const n=nr(Xn,t),r=Nr(e);return nr(n,r)})(n,t),d=Yr(r.numberOfInputs,r.channelCount),p=Yr(r.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let l=0;l<a;l+=128){if(r.numberOfInputs>0&&null!==e)for(let t=0;t<r.numberOfInputs;t+=1)for(let n=0;n<r.channelCount;n+=1)Qr(e,d[t],n,n,l);void 0!==s.parameterDescriptors&&null!==e&&s.parameterDescriptors.forEach((({name:t},n)=>{Qr(e,m,t,u+n,l)}));for(let t=0;t<r.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===p[t][e].byteLength&&(p[t][e]=new Float32Array(128));try{const t=d.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(l/n.sampleRate,n.sampleRate,(()=>f.process(t,p,m)));if(null!==c)for(let t=0,e=0;t<r.numberOfOutputs;t+=1){for(let n=0;n<i[t];n+=1)Hr(c,p[t],n,e+n,l);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return c},Zr={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Kr={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Jr={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},ti={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},ei={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},ni=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((r=>{n.onmessage=()=>{e.close(),n.close(),r()},e.postMessage(t,[t])}))},ri={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},ii=(t,e,n)=>{const r=e[n];if(void 0===r)throw t();return r},si={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},oi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},ai=()=>new DOMException("","InvalidStateError"),ui=()=>new DOMException("","InvalidAccessError"),li={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},ci=(t,e,n,r,i,s,o,a,u,l,c)=>{const h=l.length;let f=a;for(let a=0;a<h;a+=1){let h=n[0]*l[a];for(let e=1;e<i;e+=1){const r=f-e&u-1;h+=n[e]*s[r],h-=t[e]*o[r]}for(let t=i;t<r;t+=1)h+=n[t]*s[f-t&u-1];for(let n=i;n<e;n+=1)h-=t[n]*o[f-n&u-1];s[f]=l[a],o[f]=h,f=f+1&u-1,c[a]=h}return f},hi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},fi=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},di=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n]&&(t[n]=r)},pi=(t,e)=>{di(t,e,"channelCount"),di(t,e,"channelCountMode"),di(t,e,"channelInterpretation")},mi=t=>"function"==typeof t.getFloatTimeDomainData,gi=(t,e,n)=>{const r=e[n];void 0!==r&&r!==t[n].value&&(t[n].value=r)},vi=t=>{t.start=(e=>(n=0,r=0,i)=>{if("number"==typeof i&&i<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,r,i)})(t.start)},_i=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},yi=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),bi=(t,e)=>{const n=t.createBiquadFilter();return pi(n,e),gi(n,e,"Q"),gi(n,e,"detune"),gi(n,e,"frequency"),gi(n,e,"gain"),di(n,e,"type"),n},wi=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return pi(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw ai()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw ai()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw ai()}})})(n),n},xi=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),ki=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return pi(n,e),gi(n,e,"delayTime"),n},Si=(t,e)=>{const n=t.createGain();return pi(n,e),gi(n,e,"gain"),n};function Ti(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function Ci(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function Ei(t,e){let n=[0,0];for(let r=t.length-1;r>=0;r-=1)n=Ci(n,e),n[0]+=t[r];return n}const Oi=(t,e,n,r)=>t.createScriptProcessor(e,n,r),Ai=()=>new DOMException("","NotSupportedError"),Di={numberOfChannels:1},Mi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ii={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Ri={disableNormalization:!1},Pi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},Ni=()=>new DOMException("","UnknownError"),qi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},Fi=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},ji=(t,e,n,r)=>{let i=Object.getPrototypeOf(t);for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:s,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(s),set:r(o)})},Li=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(r){if(9!==r.code)throw r;Li(t,e,n+1e-7)}},Vi=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},zi=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Bi=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},Wi=()=>{try{new DOMException}catch{return!1}return!0},Ui=()=>new Promise((t=>{const e=new ArrayBuffer(0),{port1:n,port2:r}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),r.postMessage(e,[e])})),$i=(t,e)=>{const n=e.createGain();t.connect(n);const r=(e=>()=>{e.call(t,n),t.removeEventListener("ended",r)})(t.disconnect);t.addEventListener("ended",r),xi(t,n),t.stop=(e=>{let r=!1;return(i=0)=>{if(r)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),r=!0}})(t.stop)},Gi=(t,e)=>n=>{const r={value:t};return Object.defineProperties(n,{currentTarget:r,target:r}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},Qi=(t=>(e,n,[r,i,s],o)=>{t(e[i],[n,r,s],(t=>t[0]===n&&t[1]===r),o)})(Cr),Hi=(t=>(e,n,[r,i,s],o)=>{const a=e.get(r);void 0===a?e.set(r,new Set([[i,n,s]])):t(a,[i,n,s],(t=>t[0]===i&&t[1]===n),o)})(Cr),Yi=(t=>(e,n,r,i)=>t(e[i],(t=>t[0]===n&&t[1]===r)))(rr),Xi=new WeakMap,Zi=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(Xi),Ki=(Ji=new Map,ts=new WeakMap,(t,e)=>{const n=ts.get(t);if(void 0!==n)return n;const r=Ji.get(t);if(void 0!==r)return r;try{const n=e();return n instanceof Promise?(Ji.set(t,n),n.catch((()=>!1)).then((e=>(Ji.delete(t),ts.set(t,e),e)))):(ts.set(t,n),n)}catch{return ts.set(t,!1),!1}});var Ji,ts;const es="undefined"==typeof window?null:window,ns=((t,e)=>(n,r)=>{const i=n.createAnalyser();if(pi(i,r),!(r.maxDecibels>r.minDecibels))throw e();return di(i,r,"fftSize"),di(i,r,"maxDecibels"),di(i,r,"minDecibels"),di(i,r,"smoothingTimeConstant"),t(mi,(()=>mi(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const r=Math.max(n.length,t.fftSize);for(let t=0;t<r;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Ki,dr),rs=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(br),is=((t,e,n)=>async(r,i,s,o)=>{const a=t(r),u=[...o,r];await Promise.all(a.activeInputs.map(((t,o)=>Array.from(t).filter((([t])=>!u.includes(t))).map((async([t,a])=>{const l=e(t),c=await l.render(t,i,u),h=r.context.destination;n(t)||r===h&&n(r)||c.connect(s,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(br,rs,Fr),ss=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!hr(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(ns,Nr,is),os=(as=Gn,t=>{const e=as.get(t);if(void 0===e)throw ai();return e});var as;const us=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(es),ls=(t=>e=>null!==t&&e instanceof t)(us),cs=new WeakMap,hs=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,r){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,r)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const r=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===r?null:r,n)}})(Gi),fs=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(es),ds=(t=>e=>null!==t&&e instanceof t)(fs),ps=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(es),ms=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(es),gs=((t,e,n,r,i,s,o,a,u,l,c,h,f,d,p)=>class extends l{constructor(e,r,i,s){super(i),this._context=e,this._nativeAudioNode=i;const o=c(e);h(o)&&!0!==n(Lr,(()=>Lr(o)))&&Br(i),Wn.set(this,i),Qn.set(this,new Set),"closed"!==e.state&&r&&or(this),t(this,s,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const l=c(this._context),h=p(l);if(f(t)||d(t))throw s();if(Sr(t)){const i=Nr(t);try{const e=Dr(this._nativeAudioNode,i,n,a),r=jr(this);(h||r)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!r&&jr(t)&&or(t)}catch(t){if(12===t.code)throw s();throw t}if(e(this,t,n,a,h)){const e=u([this],t);Vr(e,r(h))}return t}const m=qr(t);if("playbackRate"===m.name&&1024===m.maxValue)throw o();try{this._nativeAudioNode.connect(m,n),(h||jr(this))&&this._nativeAudioNode.disconnect(m,n)}catch(t){if(12===t.code)throw s();throw t}if(((t,e,n,r)=>{const{activeInputs:i,passiveInputs:s}=wr(e),{outputs:o}=br(t),a=sr(t),u=o=>{const a=Nr(t),u=qr(e);if(o){const e=Rr(s,t,n);Er(i,t,e,!1),r||Fr(t)||a.connect(u,n)}else{const e=((t,e,n)=>rr(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);Or(s,e,!1),r||Fr(t)||a.disconnect(u,n)}};return!!Cr(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(u),_r(t)?Er(i,t,[n,u],!0):Or(s,[t,n,u],!0),!0)})(this,t,n,h)){const e=u([this],t);Vr(e,r(h))}}disconnect(t,e,n){let r;const o=c(this._context),l=p(o);if(void 0===t)r=((t,e)=>{const n=br(t),r=[];for(const i of n.outputs)Tr(i)?Wr(t,e,...i):Ur(t,e,...i),r.push(i[0]);return n.outputs.clear(),r})(this,l);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();r=((t,e,n)=>{const r=br(t),i=[];for(const s of r.outputs)s[1]===n&&(Tr(s)?Wr(t,e,...s):Ur(t,e,...s),i.push(s[0]),r.outputs.delete(s));return i})(this,l,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(Sr(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(r=((t,e,n,r,i)=>{const s=br(t);return Array.from(s.outputs).filter((t=>!(t[0]!==n||void 0!==r&&t[1]!==r||void 0!==i&&t[2]!==i))).map((n=>(Tr(n)?Wr(t,e,...n):Ur(t,e,...n),s.outputs.delete(n),n[0])))})(this,l,t,e,n),0===r.length)throw s()}for(const t of r){const e=u([this],t);Vr(e,a)}}})((vs=Bn,(t,e,n)=>{const r=[];for(let t=0;t<n.numberOfInputs;t+=1)r.push(new Set);vs.set(t,{activeInputs:r,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,r,i,s,o,a,u,l,c,h,f)=>{const d=new WeakMap;return(p,m,g,v,_)=>{const{activeInputs:y,passiveInputs:b}=s(m),{outputs:w}=s(p),x=a(p),k=s=>{const a=u(m),l=u(p);if(s){const e=ir(b,p,g,v);t(y,p,e,!1),_||h(p)||n(l,a,g,v),f(m)&&or(m)}else{const t=r(y,p,g,v);e(b,v,t,!1),_||h(p)||i(l,a,g,v);const n=o(m);if(0===n)c(m)&&lr(m,y);else{const t=d.get(m);void 0!==t&&clearTimeout(t),d.set(m,setTimeout((()=>{c(m)&&lr(m,y)}),1e3*n))}}};return!!l(w,[m,g,v],(t=>t[0]===m&&t[1]===g&&t[2]===v),!0)&&(x.add(k),c(p)?t(y,p,[g,v,k],!0):e(b,v,[p,g,k],!0),!0)}})(Qi,Hi,Dr,Yi,Pr,br,Zi,sr,Nr,Cr,_r,Fr,jr),Ki,((t,e,n,r,i,s)=>o=>(a,u)=>{const l=t.get(a);if(void 0===l){if(!o&&s(a)){const t=r(a),{outputs:s}=n(a);for(const n of s)if(Tr(n)){const i=r(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,u)}else t.set(a,l+u)})(Hn,Pr,br,Nr,qr,_r),dr,ui,Ai,((t,e,n,r,i,s,o,a)=>(u,l)=>{const c=e.get(u);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=s(u.context),f=a(h);if(c===l){if(e.delete(u),!f&&o(u)){const e=r(u),{outputs:s}=n(u);for(const n of s)if(Tr(n)){const i=r(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(u,c-l)})(Dr,Hn,br,Nr,qr,os,_r,ls),((t,e,n)=>function r(i,s){const o=Sr(s)?s:n(t,s);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>r([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(cs,br,nr),hs,os,ds,ps,ms,ls);var vs;const _s=((t,e,n,r,i,s)=>class extends t{constructor(t,n){const o=i(t),a={...cr,...n},u=r(o,a);super(t,!1,u,s(o)?e():null),this._nativeAnalyserNode=u}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(gs,ss,dr,ns,os,ls),ys=new WeakSet,bs=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(es),ws=(xs=new Uint32Array(1),t=>(xs[0]=t,xs[0]));var xs;const ks=((t,e)=>n=>{n.copyFromChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const u=n.length,l=n.getChannelData(a),c=r.length;for(let t=o<0?-o:0;t+o<u&&t<c;t+=1)r[t]=l[t+o]},n.copyToChannel=(r,i,s=0)=>{const o=t(s),a=t(i);if(a>=n.numberOfChannels)throw e();const u=n.length,l=n.getChannelData(a),c=r.length;for(let t=o<0?-o:0;t+o<u&&t<c;t+=1)l[t+o]=r[t]}})(ws,dr),Ss=(t=>e=>{e.copyFromChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(r,i,s=0)=>{const o=t(s),a=t(i);if(o<e.length)return n.call(e,r,a,o)})(e.copyToChannel)})(ws),Ts=((t,e,n,r,i,s,o,a)=>{let u=null;return class l{constructor(l){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:f}={...mr,...l};null===u&&(u=new i(1,1,44100));const d=null!==r&&e(s,s)?new r({length:c,numberOfChannels:h,sampleRate:f}):u.createBuffer(h,c,f);if(0===d.numberOfChannels)throw n();return"function"!=typeof d.copyFromChannel?(o(d),pr(d)):e(fr,(()=>fr(d)))||a(d),t.add(d),d}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===l.prototype||t.has(e)}}})(ys,Ki,Ai,bs,us,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(bs),ks,Ss),Cs=(t=>(e,n)=>{const r=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(r),r.disconnect()};n.addEventListener("ended",i)})(Si),Es=((t,e,n)=>async(r,i,s,o)=>{const a=e(r);await Promise.all(Array.from(a.activeInputs).map((async([e,r])=>{const a=t(e),u=await a.render(e,i,o);n(e)||u.connect(s,r)})))})(rs,wr,Fr),Os=(t=>(e,n,r,i)=>t(n,e,r,i))(Es),As=((t,e,n,r,i,s,o,a,u,l,c)=>(u,h)=>{const f=u.createBufferSource();return pi(f,h),gi(f,h,"playbackRate"),di(f,h,"buffer"),di(f,h,"loop"),di(f,h,"loopEnd"),di(f,h,"loopStart"),e(n,(()=>n(u)))||(t=>{t.start=(e=>{let n=!1;return(r=0,i=0,s)=>{if(n)throw ai();e.call(t,r,i,s),n=!0}})(t.start)})(f),e(r,(()=>r(u)))||(t=>{t.start=(e=>(n=0,r=0,i)=>{const s=t.buffer,o=null===s?r:Math.min(s.duration,r);null!==s&&o>s.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)})(f),e(i,(()=>i(u)))||l(f,u),e(s,(()=>s(u)))||vi(f),e(o,(()=>o(u)))||c(f,u),e(a,(()=>a(u)))||_i(f),t(u,f),f})(Cs,Ki,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),Vi,zi,Bi,0,(t=>(e,n)=>{const r=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=r),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===r?null:n}),(t=>n=>t.call(e,null===n?r:n)))})(ji),$i),Ds=((t,e)=>(n,r,i,s)=>(t(r).replay(i),e(r,n,i,s)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(wr),Es),Ms=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,l,c){const h=s.get(l);return void 0!==h?Promise.resolve(h):(async(u,l,c)=>{let h=n(u);const f=hr(h,l);if(!f){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(l,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return s.set(l,h),f?await t(l,u.playbackRate,h.playbackRate,c):await r(l,u.playbackRate,h.playbackRate,c),await i(u,l,h,c),h})(u,l,c)}}})(Os,As,Nr,Ds,is),Is=((t,e,n,r,i,s,o,a,u,l,c,h,f)=>(r,d,p,m=null,g=null)=>{const v=new Vn.AutomationEventList(p.defaultValue),_=d?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:r}=n;e.exponentialRampToValueAtTime(r,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:r}=n;e.linearRampToValueAtTime(r,t)}else if("setTarget"===n.type){const{startTime:t,target:r,timeConstant:i}=n;e.setTargetAtTime(r,t,i)}else if("setValue"===n.type){const{startTime:t,value:r}=n;e.setValueAtTime(r,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:r,values:i}=n;e.setValueCurveAtTime(i,r,t)}}}}))(v):null,y={get defaultValue(){return p.defaultValue},get maxValue(){return null===m?p.maxValue:m},get minValue(){return null===g?p.minValue:g},get value(){return p.value},set value(t){p.value=t,y.setValueAtTime(t,r.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof p.cancelAndHoldAtTime)null===_&&v.flush(r.context.currentTime),v.add(i(t)),p.cancelAndHoldAtTime(t);else{const e=Array.from(v).pop();null===_&&v.flush(r.context.currentTime),v.add(i(t));const n=Array.from(v).pop();p.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?p.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?p.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?p.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&p.setValueCurveAtTime(n.values,n.startTime,n.duration))}return y},cancelScheduledValues:t=>(null===_&&v.flush(r.context.currentTime),v.add(s(t)),p.cancelScheduledValues(t),y),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===_&&v.flush(r.context.currentTime),v.add(o(t,e)),p.exponentialRampToValueAtTime(t,e),y},linearRampToValueAtTime:(t,e)=>(null===_&&v.flush(r.context.currentTime),v.add(a(t,e)),p.linearRampToValueAtTime(t,e),y),setTargetAtTime:(t,e,n)=>(null===_&&v.flush(r.context.currentTime),v.add(u(t,e,n)),p.setTargetAtTime(t,e,n),y),setValueAtTime:(t,e)=>(null===_&&v.flush(r.context.currentTime),v.add(l(t,e)),p.setValueAtTime(t,e),y),setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,s=r.context.sampleRate,o=Math.ceil(e*s),a=Math.floor(t*s),u=a-o,l=new Float32Array(u);for(let t=0;t<u;t+=1){const r=(i.length-1)/n*((o+t)/s-e),a=Math.floor(r),u=Math.ceil(r);l[t]=a===u?i[a]:(1-(r-a))*i[a]+(1-(u-r))*i[u]}null===_&&v.flush(r.context.currentTime),v.add(c(l,e,n)),p.setValueCurveAtTime(l,e,n);const h=a/s;h<t&&f(y,l[l.length-1],h),f(y,i[i.length-1],t)}else null===_&&v.flush(r.context.currentTime),v.add(c(i,e,n)),p.setValueCurveAtTime(i,e,n);return y}};return n.set(y,p),e.set(y,r),t(y,_),y})((Rs=Un,(t,e)=>{Rs.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),cs,$n,0,Vn.createCancelAndHoldAutomationEvent,Vn.createCancelScheduledValuesAutomationEvent,Vn.createExponentialRampToValueAutomationEvent,Vn.createLinearRampToValueAutomationEvent,Vn.createSetTargetAutomationEvent,Vn.createSetValueAutomationEvent,Vn.createSetValueCurveAutomationEvent,fs,Li);var Rs;const Ps=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const a=s(t),u={...yr,...r},l=i(a,u),c=o(a),h=c?e():null;super(t,!1,l,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==u.buffer,this._nativeAudioBufferSourceNode=l,this._onended=null,this._playbackRate=n(this,c,l.playbackRate,vr,gr)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){or(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),_r(this)&&ur(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(gs,Ms,Is,ai,As,os,ls,Gi),Ns=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,e){const n=s(t),r=o(n),u=i(n,e,r);super(t,!1,u,r?(t=>{let e=null;return{render:(n,r,i)=>(null===e&&(e=(async(e,n,r)=>{const i=n.destination;return await t(e,n,i,r),i})(n,r,i)),e)}})(a):null),this._isNodeOfNativeOfflineAudioContext=r,this._nativeAudioDestinationNode=u}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(gs,0,dr,ai,((t,e)=>(n,r,i)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}i&&"explicit"!==s.channelCountMode&&(s.channelCountMode="explicit"),0===s.maxChannelCount&&Object.defineProperty(s,"maxChannelCount",{value:r});const o=t(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{s.channelCount=e}catch(t){if(e>s.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),s.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>s.maxChannelCount}),o.connect(s),o})(Si,ji),os,ls,is),qs=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,u)=>{let l=n(o);const c=hr(l,a);if(!c){const t={Q:l.Q.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,detune:l.detune.value,frequency:l.frequency.value,gain:l.gain.value,type:l.type};l=e(a,t)}return s.set(a,l),c?(await t(a,o.Q,l.Q,u),await t(a,o.detune,l.detune,u),await t(a,o.frequency,l.frequency,u),await t(a,o.gain,l.gain,u)):(await r(a,o.Q,l.Q,u),await r(a,o.detune,l.detune,u),await r(a,o.frequency,l.frequency,u),await r(a,o.gain,l.gain,u)),await i(o,a,l,u),l})(o,a,u)}}})(Os,bi,Nr,Ds,is),Fs=(t=>(e,n)=>t.set(e,n))(Xi),js=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,r){const u=s(t),l={...Zr,...r},c=i(u,l),h=o(u);super(t,!1,c,h?n():null),this._Q=e(this,h,c.Q,vr,gr),this._detune=e(this,h,c.detune,1200*Math.log2(vr),-1200*Math.log2(vr)),this._frequency=e(this,h,c.frequency,t.sampleRate/2,0),this._gain=e(this,h,c.gain,40*Math.log10(vr),gr),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw r();throw t}if(t.length!==e.length||e.length!==n.length)throw r()}})(gs,Is,qs,ui,bi,os,ls,Fs),Ls=((t,e)=>(n,r,i)=>{const s=new Set;return n.connect=(o=n.connect,(i,a=0,u=0)=>{const l=0===s.size;if(e(i))return o.call(n,i,a,u),t(s,[i,a,u],(t=>t[0]===i&&t[1]===a&&t[2]===u),!0),l&&r(),i;o.call(n,i,a),t(s,[i,a],(t=>t[0]===i&&t[1]===a),!0),l&&r()}),n.disconnect=(t=>(r,o,a)=>{const u=s.size>0;if(void 0===r)t.apply(n),s.clear();else if("number"==typeof r){t.call(n,r);for(const t of s)t[1]===r&&s.delete(t)}else{e(r)?t.call(n,r,o,a):t.call(n,r,o);for(const t of s)t[0]!==r||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||s.delete(t)}const l=0===s.size;u&&l&&i()})(n.disconnect),n;var o})(Cr,ps),Vs=((t,e)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(r,(()=>{const t=r.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(r,0,e)}),(()=>i.disconnect(r)))})(ai,Ls),zs=((t,e)=>(n,r)=>{const i=n.createChannelMerger(r.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),pi(i,r),i})(fs,Vs),Bs=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!hr(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(zs,Nr,is),Ws=((t,e,n,r,i)=>class extends t{constructor(t,s){const o=r(t),a={...Kr,...s};super(t,!1,n(o,a),i(o)?e():null)}})(gs,Bs,zs,os,ls),Us=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!hr(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(s,e)}return r.set(s,a),await n(i,s,a,o),a})(i,s,o)}}})(wi,Nr,is),$s=((t,e,n,r,i,s)=>class extends t{constructor(t,s){const o=r(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...Jr,...s});super(t,!1,n(o,a),i(o)?e():null)}})(gs,Us,wi,os,ls),Gs=((t,e,n,r)=>(i,{offset:s,...o})=>{const a=i.createBuffer(1,2,44100),u=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),l=n(i,{...o,gain:s}),c=a.getChannelData(0);c[0]=1,c[1]=1,u.buffer=a,u.loop=!0;const h={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){l.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){l.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){l.channelInterpretation=t},get context(){return l.context},get inputs(){return[]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get offset(){return l.gain},get onended(){return u.onended},set onended(t){u.onended=t},addEventListener:(...t)=>u.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>u.dispatchEvent(t[0]),removeEventListener:(...t)=>u.removeEventListener(t[0],t[1],t[2]),start(t=0){u.start.call(u,t)},stop(t=0){u.stop.call(u,t)}};return t(i,u),r(xi(h,l),(()=>u.connect(l)),(()=>u.disconnect(l)))})(Cs,As,Si,Ls),Qs=((t,e,n,r,i)=>(s,o)=>{if(void 0===s.createConstantSource)return n(s,o);const a=s.createConstantSource();return pi(a,o),gi(a,o,"offset"),e(r,(()=>r(s)))||vi(a),e(i,(()=>i(s)))||_i(a),t(s,a),a})(Cs,Ki,Gs,Vi,Bi),Hs=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(u,l,c){const h=s.get(l);return void 0!==h?Promise.resolve(h):(async(u,l,c)=>{let h=n(u);const f=hr(h,l);if(!f){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(l,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return s.set(l,h),f?await t(l,u.offset,h.offset,c):await r(l,u.offset,h.offset,c),await i(u,l,h,c),h})(u,l,c)}}})(Os,Qs,Nr,Ds,is),Ys=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),u={...ti,...o},l=r(a,u),c=s(a),h=c?n():null;super(t,!1,l,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=l,this._offset=e(this,c,l.offset,vr,gr),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){or(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),_r(this)&&ur(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(gs,Is,Hs,Qs,os,ls,Gi),Xs=((t,e)=>(n,r)=>{const i=n.createConvolver();if(pi(i,r),r.disableNormalization===i.normalize&&(i.normalize=!r.disableNormalization),di(i,r,"buffer"),r.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===r.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(Ai,ji),Zs=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!hr(a,s)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(s,e)}return r.set(s,a),Ar(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a})(i,s,o)}}})(Xs,Nr,is),Ks=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),u={...ei,...o},l=n(a,u);super(t,!1,l,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=l,null!==u.buffer&&s(this,u.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,s(this,0)}else this._isBufferNullified=!1,s(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(gs,Zs,Xs,os,ls,Fs),Js=((t,e,n,r,i)=>s=>{const o=new WeakMap;return{render(a,u,l){const c=o.get(u);return void 0!==c?Promise.resolve(c):(async(a,u,l)=>{let c=n(a);const h=hr(c,u);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:s};c=e(u,t)}return o.set(u,c),h?await t(u,a.delayTime,c.delayTime,l):await r(u,a.delayTime,c.delayTime,l),await i(a,u,c,l),c})(a,u,l)}}})(Os,ki,Nr,Ds,is),to=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const u=i(t),l={...ri,...a},c=r(u,l),h=s(u);super(t,!1,c,h?n(l.maxDelayTime):null),this._delayTime=e(this,h,c.delayTime),o(this,l.maxDelayTime)}get delayTime(){return this._delayTime}})(gs,Is,Js,ki,os,ls,Fs),eo=(t=>(e,n)=>{const r=e.createDynamicsCompressor();if(pi(r,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return gi(r,n,"attack"),gi(r,n,"knee"),gi(r,n,"ratio"),gi(r,n,"release"),gi(r,n,"threshold"),r})(Ai),no=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,u)=>{let l=n(o);const c=hr(l,a);if(!c){const t={attack:l.attack.value,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,knee:l.knee.value,ratio:l.ratio.value,release:l.release.value,threshold:l.threshold.value};l=e(a,t)}return s.set(a,l),c?(await t(a,o.attack,l.attack,u),await t(a,o.knee,l.knee,u),await t(a,o.ratio,l.ratio,u),await t(a,o.release,l.release,u),await t(a,o.threshold,l.threshold,u)):(await r(a,o.attack,l.attack,u),await r(a,o.knee,l.knee,u),await r(a,o.ratio,l.ratio,u),await r(a,o.release,l.release,u),await r(a,o.threshold,l.threshold,u)),await i(o,a,l,u),l})(o,a,u)}}})(Os,eo,Nr,Ds,is),ro=((t,e,n,r,i,s,o,a)=>class extends t{constructor(t,i){const u=s(t),l={...si,...i},c=r(u,l),h=o(u);super(t,!1,c,h?n():null),this._attack=e(this,h,c.attack),this._knee=e(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=e(this,h,c.ratio),this._release=e(this,h,c.release),this._threshold=e(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(gs,Is,no,eo,Ai,os,ls,Fs),io=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,u)=>{let l=n(o);const c=hr(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,gain:l.gain.value};l=e(a,t)}return s.set(a,l),c?await t(a,o.gain,l.gain,u):await r(a,o.gain,l.gain,u),await i(o,a,l,u),l})(o,a,u)}}})(Os,Si,Nr,Ds,is),so=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),u={...oi,...o},l=r(a,u),c=s(a);super(t,!1,l,c?n():null),this._gain=e(this,c,l.gain,vr,gr)}get gain(){return this._gain}})(gs,Is,io,Si,os,ls),oo=((t,e,n,r)=>(i,s,{channelCount:o,channelCountMode:a,channelInterpretation:u,feedback:l,feedforward:c})=>{const h=yi(s,i.sampleRate),f=l instanceof Float64Array?l:new Float64Array(l),d=c instanceof Float64Array?c:new Float64Array(c),p=f.length,m=d.length,g=Math.min(p,m);if(0===p||p>20)throw r();if(0===f[0])throw e();if(0===m||m>20)throw r();if(0===d[0])throw e();if(1!==f[0]){for(let t=0;t<m;t+=1)d[t]/=f[0];for(let t=1;t<p;t+=1)f[t]/=f[0]}const v=n(i,h,o,o);v.channelCount=o,v.channelCountMode=a,v.channelInterpretation=u;const _=[],y=[],b=[];for(let t=0;t<o;t+=1){_.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),y.push(t),b.push(e)}v.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,r=e.numberOfChannels;for(let t=0;t<r;t+=1){const r=e.getChannelData(t),i=n.getChannelData(t);_[t]=ci(f,p,d,m,g,y[t],b[t],_[t],32,r,i)}};const w=i.sampleRate/2,x={get bufferSize(){return h},get channelCount(){return v.channelCount},set channelCount(t){v.channelCount=t},get channelCountMode(){return v.channelCountMode},set channelCountMode(t){v.channelCountMode=t},get channelInterpretation(){return v.channelInterpretation},set channelInterpretation(t){v.channelInterpretation=t},get context(){return v.context},get inputs(){return[v]},get numberOfInputs(){return v.numberOfInputs},get numberOfOutputs(){return v.numberOfOutputs},addEventListener:(...t)=>v.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>v.dispatchEvent(t[0]),getFrequencyResponse(e,n,r){if(e.length!==n.length||n.length!==r.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),s=[Math.cos(i),Math.sin(i)],o=Ti(Ei(d,s),Ei(f,s));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),r[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>v.removeEventListener(t[0],t[1],t[2])};return xi(x,v)})(ui,ai,Oi,Ai),ao=((t,e,n,r)=>i=>t(fi,(()=>fi(i)))?Promise.resolve(t(r,r)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Ki,Si,Oi,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),r=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{r.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(Si,us)),uo=((t,e,n,r,i)=>(s,o)=>{const a=new WeakMap;let u=null;return{render(l,c,h){const f=a.get(c);return void 0!==f?Promise.resolve(f):(async(l,c,h)=>{let f=null,d=e(l);const p=hr(d,c);if(void 0===c.createIIRFilter?f=t(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):p||(d=c.createIIRFilter(o,s)),a.set(c,null===f?d:f),null!==f){if(null===u){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(l.context.destination.channelCount,l.context.length,c.sampleRate);u=(async()=>(await r(l,t,t.destination,h),((t,e,n,r)=>{const i=n instanceof Float64Array?n:new Float64Array(n),s=r instanceof Float64Array?r:new Float64Array(r),o=i.length,a=s.length,u=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)s[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const l=new Float32Array(32),c=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),f=t.numberOfChannels;for(let e=0;e<f;e+=1){const n=t.getChannelData(e),r=h.getChannelData(e);l.fill(0),c.fill(0),ci(i,o,s,a,u,l,c,0,32,n,r)}return h})(await i(t),c,s,o)))()}const t=await u;return f.buffer=t,f.start(0),f}return await r(l,c,d,h),d})(l,c,h)}}})(As,Nr,us,is,ao),lo=(t=>(e,n,r)=>{if(void 0===e.createIIRFilter)return t(e,n,r);const i=e.createIIRFilter(r.feedforward,r.feedback);return pi(i,r),i})(oo),co=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=r(t),u=i(a),l={...li,...o},c=e(a,u?null:t.baseLatency,l);super(t,!1,c,u?n(l.feedback,l.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,r,i)=>{if(n.length!==r.length||r.length!==i.length)throw ui();return e.call(t,n,r,i)})})(c),this._nativeIIRFilterNode=c,s(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(gs,lo,uo,os,ls,Fs),ho=((t,e,n,r,i)=>(s,o)=>{const a=o.listener,{forwardX:u,forwardY:l,forwardZ:c,positionX:h,positionY:f,positionZ:d,upX:p,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const u=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),l=i(o),c=r(o,256,9,0),h=(e,r)=>{const i=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:r});return i.connect(u,0,e),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>r}),t({context:s},l,i.offset,vr,gr)};let f=[0,0,-1,0,1,0],d=[0,0,0];return c.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some(((t,e)=>t!==f[e]))&&(a.setOrientation(...e),f=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some(((t,e)=>t!==d[e]))&&(a.setPosition(...n),d=n)},u.connect(c),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return u},get forwardY(){return l},get forwardZ(){return c},get positionX(){return h},get positionY(){return f},get positionZ(){return d},get upX(){return p},get upY(){return m},get upZ(){return g}}})(Is,zs,Qs,Oi,ls),fo=new WeakMap,po=((t,e,n,r,i,s)=>class extends n{constructor(n,s){super(n),this._nativeContext=n,Gn.set(this,n),r(n)&&i.set(n,new Set),this._destination=new t(this,s),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?s(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(Ns,ho,hs,ls,fo,Gi),mo=((t,e,n,r,i,s)=>(o,a)=>{const u=o.createOscillator();return pi(u,a),gi(u,a,"detune"),gi(u,a,"frequency"),void 0!==a.periodicWave?u.setPeriodicWave(a.periodicWave):di(u,a,"type"),e(n,(()=>n(o)))||vi(u),e(r,(()=>r(o)))||s(u,o),e(i,(()=>i(o)))||_i(u),t(o,u),u})(Cs,Ki,Vi,zi,Bi,$i),go=((t,e,n,r,i)=>()=>{const s=new WeakMap;let o=null,a=null,u=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){u=t},render(l,c,h){const f=s.get(c);return void 0!==f?Promise.resolve(f):(async(l,c,h)=>{let f=n(l);const d=hr(f,c);if(!d){const t={channelCount:f.channelCount,channelCountMode:f.channelCountMode,channelInterpretation:f.channelInterpretation,detune:f.detune.value,frequency:f.frequency.value,periodicWave:null===o?void 0:o,type:f.type};f=e(c,t),null!==a&&f.start(a),null!==u&&f.stop(u)}return s.set(c,f),d?(await t(c,l.detune,f.detune,h),await t(c,l.frequency,f.frequency,h)):(await r(c,l.detune,f.detune,h),await r(c,l.frequency,f.frequency,h)),await i(l,c,f,h),f})(l,c,h)}}})(Os,mo,Nr,Ds,is),vo=((t,e,n,r,i,s,o)=>class extends t{constructor(t,o){const a=i(t),u={...Mi,...o},l=n(a,u),c=s(a),h=c?r():null,f=t.sampleRate/2;super(t,!1,l,h),this._detune=e(this,c,l.detune,153600,-153600),this._frequency=e(this,c,l.frequency,f,-f),this._nativeOscillatorNode=l,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==u.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=u.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){or(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),_r(this)&&ur(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(gs,Is,mo,go,os,ls,Gi),_o=(t=>(e,n)=>{const r=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return r.buffer=i,r.loop=!0,r.connect(n),r.start(),()=>{r.stop(),r.disconnect(n)}})(As),yo=((t,e,n,r,i)=>(s,{curve:o,oversample:a,...u})=>{const l=s.createWaveShaper(),c=s.createWaveShaper();pi(l,u),pi(c,u);const h=n(s,{...u,gain:1}),f=n(s,{...u,gain:-1}),d=n(s,{...u,gain:1}),p=n(s,{...u,gain:-1});let m=null,g=!1,v=null;const _={get bufferSize(){},get channelCount(){return l.channelCount},set channelCount(t){h.channelCount=t,f.channelCount=t,l.channelCount=t,d.channelCount=t,c.channelCount=t,p.channelCount=t},get channelCountMode(){return l.channelCountMode},set channelCountMode(t){h.channelCountMode=t,f.channelCountMode=t,l.channelCountMode=t,d.channelCountMode=t,c.channelCountMode=t,p.channelCountMode=t},get channelInterpretation(){return l.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,f.channelInterpretation=t,l.channelInterpretation=t,d.channelInterpretation=t,c.channelInterpretation=t,p.channelInterpretation=t},get context(){return l.context},get curve(){return v},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)l.curve=n,c.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),r=new Float32Array(t+2-t%2);e[0]=n[0],r[0]=-n[t-1];const i=Math.ceil((t+1)/2),s=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*s,u=Math.floor(a),l=Math.ceil(a);e[o]=u===l?n[u]:(1-(a-u))*n[u]+(1-(l-a))*n[l],r[o]=u===l?-n[t-1-u]:-(1-(a-u))*n[t-1-u]-(1-(l-a))*n[t-1-l]}e[i]=t%2==1?n[i-1]:(n[i-2]+n[i-1])/2,l.curve=e,c.curve=r}v=n,g&&(r(v)&&null===m?m=t(s,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return l.numberOfOutputs},get oversample(){return l.oversample},set oversample(t){l.oversample=t,c.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(_.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==_.oversample&&(_.oversample=a),i(xi(_,d),(()=>{h.connect(l).connect(d),h.connect(f).connect(c).connect(p).connect(d),g=!0,r(v)&&(m=t(s,h))}),(()=>{h.disconnect(l),l.disconnect(d),h.disconnect(f),f.disconnect(c),c.disconnect(p),p.disconnect(d),g=!1,null!==m&&(m(),m=null)}))})(_o,ai,Si,Fi,Ls),bo=((t,e,n,r,i,s,o)=>(a,u)=>{const l=a.createWaveShaper();if(null!==s&&"webkitAudioContext"===s.name&&void 0===a.createGain().gain.automationRate)return n(a,u);pi(l,u);const c=null===u.curve||u.curve instanceof Float32Array?u.curve:new Float32Array(u.curve);if(null!==c&&c.length<2)throw e();di(l,{curve:c},"curve"),di(l,u,"oversample");let h=null,f=!1;return o(l,"curve",(t=>()=>t.call(l)),(e=>n=>(e.call(l,n),f&&(r(n)&&null===h?h=t(a,l):r(n)||null===h||(h(),h=null)),n))),i(l,(()=>{f=!0,r(l.curve)&&(h=t(a,l))}),(()=>{f=!1,null!==h&&(h(),h=null)}))})(_o,ai,yo,Fi,Ls,fs,ji),wo=((t,e,n,r,i,s,o,a,u)=>(l,{coneInnerAngle:c,coneOuterAngle:h,coneOuterGain:f,distanceModel:d,maxDistance:p,orientationX:m,orientationY:g,orientationZ:v,panningModel:_,positionX:y,positionY:b,positionZ:w,refDistance:x,rolloffFactor:k,...S})=>{const T=l.createPanner();if(S.channelCount>2)throw o();if("max"===S.channelCountMode)throw o();pi(T,S);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},E=n(l,{...C,channelInterpretation:"speakers",numberOfInputs:6}),O=r(l,{...S,gain:1}),A=r(l,{...C,gain:1}),D=r(l,{...C,gain:0}),M=r(l,{...C,gain:0}),I=r(l,{...C,gain:0}),R=r(l,{...C,gain:0}),P=r(l,{...C,gain:0}),N=i(l,256,6,1),q=s(l,{...C,curve:new Float32Array([1,1]),oversample:"none"});let F=[m,g,v],j=[y,b,w];N.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some(((t,e)=>t!==F[e]))&&(T.setOrientation(...e),F=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some(((t,e)=>t!==j[e]))&&(T.setPosition(...n),j=n)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0});const L={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(t){if(t>2)throw o();O.channelCount=t,T.channelCount=t},get channelCountMode(){return T.channelCountMode},set channelCountMode(t){if("max"===t)throw o();O.channelCountMode=t,T.channelCountMode=t},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(t){O.channelInterpretation=t,T.channelInterpretation=t},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(t){T.coneInnerAngle=t},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(t){T.coneOuterAngle=t},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();T.coneOuterGain=t},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(t){T.distanceModel=t},get inputs(){return[O]},get maxDistance(){return T.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;T.maxDistance=t},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return D.gain},get orientationZ(){return M.gain},get panningModel(){return T.panningModel},set panningModel(t){T.panningModel=t},get positionX(){return I.gain},get positionY(){return R.gain},get positionZ(){return P.gain},get refDistance(){return T.refDistance},set refDistance(t){if(t<0)throw new RangeError;T.refDistance=t},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;T.rolloffFactor=t},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])};return c!==L.coneInnerAngle&&(L.coneInnerAngle=c),h!==L.coneOuterAngle&&(L.coneOuterAngle=h),f!==L.coneOuterGain&&(L.coneOuterGain=f),d!==L.distanceModel&&(L.distanceModel=d),p!==L.maxDistance&&(L.maxDistance=p),m!==L.orientationX.value&&(L.orientationX.value=m),g!==L.orientationY.value&&(L.orientationY.value=g),v!==L.orientationZ.value&&(L.orientationZ.value=v),_!==L.panningModel&&(L.panningModel=_),y!==L.positionX.value&&(L.positionX.value=y),b!==L.positionY.value&&(L.positionY.value=b),w!==L.positionZ.value&&(L.positionZ.value=w),x!==L.refDistance&&(L.refDistance=x),k!==L.rolloffFactor&&(L.rolloffFactor=k),1===F[0]&&0===F[1]&&0===F[2]||T.setOrientation(...F),0===j[0]&&0===j[1]&&0===j[2]||T.setPosition(...j),u(xi(L,T),(()=>{O.connect(T),t(O,q,0,0),q.connect(A).connect(E,0,0),q.connect(D).connect(E,0,1),q.connect(M).connect(E,0,2),q.connect(I).connect(E,0,3),q.connect(R).connect(E,0,4),q.connect(P).connect(E,0,5),E.connect(N).connect(l.destination)}),(()=>{O.disconnect(T),a(O,q,0,0),q.disconnect(A),A.disconnect(E),q.disconnect(D),D.disconnect(E),q.disconnect(M),M.disconnect(E),q.disconnect(I),I.disconnect(E),q.disconnect(R),R.disconnect(E),q.disconnect(P),P.disconnect(E),E.disconnect(N),N.disconnect(l.destination)}))})(Dr,ai,zs,Si,Oi,bo,Ai,Pr,Ls),xo=(t=>(e,n)=>{const r=e.createPanner();return void 0===r.orientationX?t(e,n):(pi(r,n),gi(r,n,"orientationX"),gi(r,n,"orientationY"),gi(r,n,"orientationZ"),gi(r,n,"positionX"),gi(r,n,"positionY"),gi(r,n,"positionZ"),di(r,n,"coneInnerAngle"),di(r,n,"coneOuterAngle"),di(r,n,"coneOuterGain"),di(r,n,"distanceModel"),di(r,n,"maxDistance"),di(r,n,"panningModel"),di(r,n,"refDistance"),di(r,n,"rolloffFactor"),r)})(wo),ko=((t,e,n,r,i,s,o,a,u,l)=>()=>{const c=new WeakMap;let h=null;return{render(f,d,p){const m=c.get(d);return void 0!==m?Promise.resolve(m):(async(f,d,p)=>{let m=null,g=s(f);const v={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},_={...v,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=hr(g,d);if("bufferSize"in g)m=r(d,{...v,gain:1});else if(!y){const t={..._,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=i(d,t)}if(c.set(d,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,f.context.length,d.sampleRate),r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});r.connect(t.destination),h=(async()=>{const e=await Promise.all([f.orientationX,f.orientationY,f.orientationZ,f.positionX,f.positionY,f.positionZ].map((async(e,r)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===r?1:0});return await a(t,e,i.offset,p),i})));for(let t=0;t<6;t+=1)e[t].connect(r,0,t),e[t].start(0);return l(t)})()}const t=await h,s=r(d,{...v,gain:1});await u(f,d,s,p);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let g=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],b=r(d,{...v,gain:1}),w=i(d,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});s.connect(b).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==g[e]))||n.some(((t,e)=>t!==y[e]))){g=t,y=n;const o=e/d.sampleRate;b.gain.setValueAtTime(0,o),b=r(d,{...v,gain:0}),w=i(d,{..._,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),b.gain.setValueAtTime(1,o),s.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return y?(await t(d,f.orientationX,g.orientationX,p),await t(d,f.orientationY,g.orientationY,p),await t(d,f.orientationZ,g.orientationZ,p),await t(d,f.positionX,g.positionX,p),await t(d,f.positionY,g.positionY,p),await t(d,f.positionZ,g.positionZ,p)):(await a(d,f.orientationX,g.orientationX,p),await a(d,f.orientationY,g.orientationY,p),await a(d,f.orientationZ,g.orientationZ,p),await a(d,f.positionX,g.positionX,p),await a(d,f.positionY,g.positionY,p),await a(d,f.positionZ,g.positionZ,p)),Ar(g)?await u(f,d,g.inputs[0],p):await u(f,d,g,p),g})(f,d,p)}}})(Os,zs,Qs,Si,xo,Nr,us,Ds,is,ao),So=((t,e,n,r,i,s,o)=>class extends t{constructor(t,a){const u=i(t),l={...Ii,...a},c=n(u,l),h=s(u);super(t,!1,c,h?r():null),this._nativePannerNode=c,this._orientationX=e(this,h,c.orientationX,vr,gr),this._orientationY=e(this,h,c.orientationY,vr,gr),this._orientationZ=e(this,h,c.orientationZ,vr,gr),this._positionX=e(this,h,c.positionX,vr,gr),this._positionY=e(this,h,c.positionY,vr,gr),this._positionZ=e(this,h,c.positionZ,vr,gr),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(gs,Is,xo,ko,os,ls,Fs),To=(t=>(e,{disableNormalization:n,imag:r,real:i})=>{const s=r instanceof Float32Array?r:new Float32Array(r),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,s,{disableNormalization:n});if(Array.from(r).length<2)throw t();return a})(dr),Co=((t,e,n,r)=>class r{constructor(r,i){const s=e(r),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...Ri,...i}),a=t(s,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===r.prototype||n.has(t)}})(To,os,new WeakSet),Eo=((t,e,n,r,i,s)=>{const o=16385,a=new Float32Array([1,1]),u=Math.PI/2,l={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...l,oversample:"none"},h=(t,s,h,f,d)=>{if(1===s)return((t,e,i,s)=>{const h=new Float32Array(o),f=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*u;h[t]=Math.cos(e),f[t]=Math.sin(e)}const d=n(t,{...l,gain:0}),p=r(t,{...c,curve:h}),m=r(t,{...c,curve:a}),g=n(t,{...l,gain:0}),v=r(t,{...c,curve:f});return{connectGraph(){e.connect(d),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===p.inputs?p:p.inputs[0]),i.connect(void 0===v.inputs?v:v.inputs[0]),p.connect(d.gain),v.connect(g.gain),d.connect(s,0,0),g.connect(s,0,1)},disconnectGraph(){e.disconnect(d),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===p.inputs?p:p.inputs[0]),i.disconnect(void 0===v.inputs?v:v.inputs[0]),p.disconnect(d.gain),v.disconnect(g.gain),d.disconnect(s,0,0),g.disconnect(s,0,1)}}})(t,h,f,d);if(2===s)return((t,i,s,h)=>{const f=new Float32Array(o),d=new Float32Array(o),p=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*u;f[t]=Math.cos(e),d[t]=Math.sin(e),p[t]=0,m[t]=1}else{const e=t/(16384-g)*u;f[t]=1,d[t]=0,p[t]=Math.cos(e),m[t]=Math.sin(e)}const v=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),_=n(t,{...l,gain:0}),y=r(t,{...c,curve:f}),b=n(t,{...l,gain:0}),w=r(t,{...c,curve:d}),x=r(t,{...c,curve:a}),k=n(t,{...l,gain:0}),S=r(t,{...c,curve:p}),T=n(t,{...l,gain:0}),C=r(t,{...c,curve:m});return{connectGraph(){i.connect(v),i.connect(void 0===x.inputs?x:x.inputs[0]),v.connect(_,0),v.connect(b,0),v.connect(k,1),v.connect(T,1),x.connect(s),s.connect(void 0===y.inputs?y:y.inputs[0]),s.connect(void 0===w.inputs?w:w.inputs[0]),s.connect(void 0===S.inputs?S:S.inputs[0]),s.connect(void 0===C.inputs?C:C.inputs[0]),y.connect(_.gain),w.connect(b.gain),S.connect(k.gain),C.connect(T.gain),_.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){i.disconnect(v),i.disconnect(void 0===x.inputs?x:x.inputs[0]),v.disconnect(_,0),v.disconnect(b,0),v.disconnect(k,1),v.disconnect(T,1),x.disconnect(s),s.disconnect(void 0===y.inputs?y:y.inputs[0]),s.disconnect(void 0===w.inputs?w:w.inputs[0]),s.disconnect(void 0===S.inputs?S:S.inputs[0]),s.disconnect(void 0===C.inputs?C:C.inputs[0]),y.disconnect(_.gain),w.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),_.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,f,d);throw i()};return(e,{channelCount:r,channelCountMode:o,pan:a,...u})=>{if("max"===o)throw i();const l=t(e,{...u,channelCount:1,channelCountMode:o,numberOfInputs:2}),c=n(e,{...u,channelCount:r,channelCountMode:o,gain:1}),f=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:d,disconnectGraph:p}=h(e,r,c,f,l);Object.defineProperty(f.gain,"defaultValue",{get:()=>0}),Object.defineProperty(f.gain,"maxValue",{get:()=>1}),Object.defineProperty(f.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount!==t&&(g&&p(),({connectGraph:d,disconnectGraph:p}=h(e,t,c,f,l)),g&&d()),c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return f.gain},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2])};let g=!1;return s(xi(m,l),(()=>{d(),g=!0}),(()=>{p(),g=!1}))}})(zs,wi,Si,bo,Ai,Ls),Oo=((t,e)=>(n,r)=>{const i=r.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,r);const s=n.createStereoPanner();return pi(s,r),gi(s,r,"pan"),Object.defineProperty(s,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),s})(Eo,Ai),Ao=((t,e,n,r,i)=>()=>{const s=new WeakMap;return{render(o,a,u){const l=s.get(a);return void 0!==l?Promise.resolve(l):(async(o,a,u)=>{let l=n(o);const c=hr(l,a);if(!c){const t={channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,pan:l.pan.value};l=e(a,t)}return s.set(a,l),c?await t(a,o.pan,l.pan,u):await r(a,o.pan,l.pan,u),Ar(l)?await i(o,a,l.inputs[0],u):await i(o,a,l,u),l})(o,a,u)}}})(Os,Oo,Nr,Ds,is),Do=((t,e,n,r,i,s)=>class extends t{constructor(t,o){const a=i(t),u={...Pi,...o},l=n(a,u),c=s(a);super(t,!1,l,c?r():null),this._pan=e(this,c,l.pan)}get pan(){return this._pan}})(gs,Is,Oo,Ao,os,ls),Mo=((t,e,n)=>()=>{const r=new WeakMap;return{render(i,s,o){const a=r.get(s);return void 0!==a?Promise.resolve(a):(async(i,s,o)=>{let a=e(i);if(!hr(a,s)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(s,e)}return r.set(s,a),Ar(a)?await n(i,s,a.inputs[0],o):await n(i,s,a,o),a})(i,s,o)}}})(bo,Nr,is),Io=((t,e,n,r,i,s,o)=>class extends t{constructor(t,e){const a=i(t),u={...qi,...e},l=n(a,u);super(t,!0,l,s(a)?r():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=l,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(gs,ai,bo,Mo,os,ls,Fs),Ro=(t=>null!==t&&t.isSecureContext)(es),Po=(t=>(e,n,r)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return r()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(es),No=new WeakMap,qo=((t,e)=>n=>{let r=t.get(n);if(void 0!==r)return r;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new e(1,1,44100),t.set(n,r),r})(No,us),Fo=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(es),jo=Ro?((t,e,n,r,i,s,o,a,u,l,c,h,f)=>(d,p,m={credentials:"omit"})=>{const g=s(d);if(void 0!==g.audioWorklet)return Promise.all([i(p),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const[r,i]=Jn(t,e),s=new Blob([`${r};((AudioWorkletProcessor,registerProcessor)=>{${i}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),l=URL.createObjectURL(s);return g.audioWorklet.addModule(l,m).then((()=>{if(a(g))return g;const t=o(g);return t.audioWorklet.addModule(l,m).then((()=>t))})).then((t=>{if(null===u)throw new SyntaxError;try{new u(t,"__sac")}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(l)))}));const v=c.get(d);if(void 0!==v&&v.has(p))return Promise.resolve();const _=l.get(d);if(void 0!==_){const t=_.get(p);if(void 0!==t)return t}const y=i(p).then((([t,e])=>{const[r,i]=Jn(t,e);return n(`${r};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=f._AWGS.pop();if(void 0===t)throw new SyntaxError;r(g.currentTime,g.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const r=Yn.get(g);if(void 0!==r){if(r.has(t))throw e();er(n),tr(n.parameterDescriptors),r.set(t,n)}else er(n),tr(n.parameterDescriptors),Yn.set(g,new Map([[t,n]]))}),g.sampleRate,void 0,void 0)))}));return void 0===_?l.set(d,new Map([[p,y]])):_.set(p,y),y.then((()=>{const t=c.get(d);void 0===t?c.set(d,new Set([p])):t.add(p)})).finally((()=>{const t=l.get(d);void 0!==t&&t.delete(p)})),y})(Ki,Ai,(t=>e=>new Promise(((n,r)=>{if(null===t)return void r(new SyntaxError);const i=t.document.head;if(null===i)r(new SyntaxError);else{const s=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),u=t.onerror,l=()=>{t.onerror=u,URL.revokeObjectURL(a)};t.onerror=(e,n,i,s,o)=>n===a||n===t.location.href&&1===i&&1===s?(l(),r(o),!1):null!==u?u(e,n,i,s,o):void 0,s.onerror=()=>{l(),r(new SyntaxError)},s.onload=()=>{l(),n()},s.src=a,s.type="module",i.appendChild(s)}})))(es),Po,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),os,qo,ls,Fo,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new e(1,128,44100),i=URL.createObjectURL(n);let s=!1,o=!1;try{await r.audioWorklet.addModule(i);const e=new t(r,"a",{numberOfOutputs:0}),n=r.createOscillator();e.port.onmessage=()=>s=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await r.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return s&&!o})(Fo,us),es):void 0,Lo=((t,e)=>n=>t(n)||e(n))(ds,ls),Vo=((t,e,n,r,i,s,o,a,u,l,c)=>(n,r)=>{const h=o(n)?n:s(n);if(i.has(r)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{i.add(r)}catch{}return e(u,(()=>u(h)))?h.decodeAudioData(r).then((n=>(ni(r).catch((()=>{})),e(a,(()=>a(n)))||c(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await ni(r)}catch{}},s=t=>{n(t),i()};try{h.decodeAudioData(r,(n=>{"function"!=typeof n.copyFromChannel&&(l(n),pr(n)),t.add(n),i().then((()=>e(n)))}),(t=>{s(null===t?new DOMException("","EncodingError"):t)}))}catch(t){s(t)}}))})(ys,Ki,0,0,new WeakSet,os,Lo,fr,fi,ks,Ss),zo=((t,e,n,r,i,s,o,a,u,l,c,h,f,d,p,m,g,v,_,y)=>class extends p{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,r){return new n({length:e,numberOfChannels:t,sampleRate:r})}createBufferSource(){return new r(this)}createChannelMerger(t=6){return new s(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new u(this)}createDelay(t=1){return new c(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new f(this)}createIIRFilter(t,e){return new d(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new v(this,{...n,imag:e,real:t})}createStereoPanner(){return new _(this)}createWaveShaper(){return new y(this)}decodeAudioData(t,e,n){return l(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(jo,_s,Ts,Ps,js,Ws,$s,Ys,Ks,Vo,to,ro,so,co,po,vo,So,Co,Do,Io),Bo=((t,e,n,r)=>class extends t{constructor(t,e){const i=n(t),s=((t,e)=>t.createMediaElementSource(e.mediaElement))(i,e);if(r(i))throw TypeError();super(t,!0,s,null),this._nativeMediaElementAudioSourceNode=s}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(gs,0,os,ls),Wo=((t,e,n,r)=>class extends t{constructor(t,e){const i=n(t);if(r(i))throw new TypeError;const s=((t,e)=>{const n=t.createMediaStreamDestination();return pi(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(i,{...hi,...e});super(t,!1,s,null),this._nativeMediaStreamAudioDestinationNode=s}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(gs,0,os,ls),Uo=((t,e,n,r)=>class extends t{constructor(t,e){const i=n(t),s=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const r=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(i,"mediaStream",{value:e}),i})(i,e);if(r(i))throw new TypeError;super(t,!0,s,null),this._nativeMediaStreamAudioSourceNode=s}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(gs,0,os,ls),$o=((t,e)=>(n,{mediaStreamTrack:r})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(r);const i=new MediaStream([r]),s=n.createMediaStreamSource(i);if("audio"!==r.kind)throw t();if(e(n))throw new TypeError;return s})(ai,ls),Go=((t,e,n)=>class extends t{constructor(t,r){const i=n(t);super(t,!0,e(i,r),null)}})(gs,$o,os),Qo=((t,e,n,r,i,s,o,a,u)=>class extends t{constructor(t={}){if(null===u)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new u(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw r();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:s}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/s:"interactive"===i||void 0===i?256/s:"playback"===i?1024/s:128*Math.max(2,Math.min(128,Math.round(i*s/128)))/s,this._nativeAudioContext=e,"webkitAudioContext"===u.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),kr(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new s(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(zo,ai,Ai,Ni,Bo,Wo,Uo,Go,fs),Ho=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(fo),Yo=(t=>(e,n)=>{t(e).add(n)})(Ho),Xo=(t=>(e,n,r=0,i=0)=>{const s=e[r];if(void 0===s)throw t();return zr(n)?s.connect(n,0,i):s.connect(n,0)})(dr),Zo=(t=>(e,n)=>{t(e).delete(n)})(Ho),Ko=(t=>(e,n,r,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?ii(t,e,n).disconnect():zr(n)?void 0===r?e.forEach((t=>t.disconnect(n))):void 0===i?ii(t,e,r).disconnect(n,0):ii(t,e,r).disconnect(n,0,i):void 0===r?e.forEach((t=>t.disconnect(n))):ii(t,e,r).disconnect(n,0))(dr),Jo=new WeakMap,ta=((t,e)=>n=>e(t,n))(Jo,nr),ea=((t,e,n,r,i,s,o,a,u,l,c,h,f)=>(d,p,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw u();const v=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(v.some((t=>t<1)))throw u();if(v.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw u();const _=g.channelCount*g.numberOfInputs,y=v.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(_+b>6||y>6)throw u();const w=new MessageChannel,x=[],k=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(o(d,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(i(d,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:r}of m.parameterDescriptors){const i=s(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[r]?g.parameterData[r]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?vr:e},minValue:{get:()=>void 0===n?gr:n}}),S.push(i)}const T=r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,_+b)}),C=yi(p,d.sampleRate),E=a(d,C,_+b,Math.max(1,y)),O=i(d,{channelCount:Math.max(1,y),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,y)}),A=[];for(let t=0;t<g.numberOfOutputs;t+=1)A.push(r(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[t].connect(T,e,t*g.channelCount+e)}const D=new $r(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=S[e];return n.connect(T,0,_+e),n.start(0),[t,n.offset]})));T.connect(E);let M=g.channelInterpretation,I=null;const R=0===g.numberOfOutputs?[E]:A,P={get bufferSize(){return C},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;M=t},get context(){return E.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return I},set onprocessorerror(t){"function"==typeof I&&P.removeEventListener("processorerror",I),I="function"==typeof t?t:null,"function"==typeof I&&P.addEventListener("processorerror",I)},get parameters(){return D},get port(){return w.port2},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,R),disconnect:l.bind(null,R),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])},N=new Map;var q,F;w.port1.addEventListener=(q=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{c(d.currentTime,d.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return q.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(F=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return F.call(w.port1,t[0],t[1],t[2])});let j=null;Object.defineProperty(w.port1,"onmessage",{get:()=>j,set:t=>{"function"==typeof j&&w.port1.removeEventListener("message",j),j="function"==typeof t?t:null,"function"==typeof j&&(w.port1.addEventListener("message",j),w.port1.start())}}),m.prototype.port=w.port1;let L=null;const V=((t,e,n,r)=>{let i=Xn.get(t);void 0===i&&(i=new WeakMap,Xn.set(t,i));const s=(async(t,e)=>{const n=await(t=>new Promise(((e,n)=>{const{port1:r,port2:i}=new MessageChannel;r.onmessage=({data:t})=>{r.close(),i.close(),e(t)},r.onmessageerror=({data:t})=>{r.close(),i.close(),n(t)},i.postMessage(t)})))(e);return new t(n)})(n,r);return i.set(e,s),s})(d,P,m,g);V.then((t=>L=t));const z=Yr(g.numberOfInputs,g.channelCount),B=Yr(g.numberOfOutputs,v),W=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let U=!0;const $=()=>{g.numberOfOutputs>0&&E.disconnect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let r=0;r<v[t];r+=1)O.disconnect(n,e+r,r);e+=v[t]}},G=new Map;E.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==L){const n=h(P);for(let r=0;r<C;r+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)Qr(t,z[e],n,n,r);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{Qr(t,W,e,_+n,r)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<v[t];e+=1)0===B[t][e].byteLength&&(B[t][e]=new Float32Array(128));try{const t=z.map(((t,e)=>{if(n[e].size>0)return G.set(e,C/128),t;const r=G.get(e);return void 0===r?[]:(t.every((t=>t.every((t=>0===t))))&&(1===r?G.delete(e):G.set(e,r-1)),t)})),i=c(d.currentTime+r/d.sampleRate,d.sampleRate,(()=>L.process(t,B,W)));U=i;for(let t=0,n=0;t<g.numberOfOutputs;t+=1){for(let i=0;i<v[t];i+=1)Hr(e,B[t],i,n+i,r);n+=v[t]}}catch(t){U=!1,P.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!U){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[r].disconnect(T,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(T,0,_+e),t.stop()}}T.disconnect(E),E.onaudioprocess=null,Q?$():X();break}}}};let Q=!1;const H=o(d,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Y=()=>E.connect(H).connect(d.destination),X=()=>{E.disconnect(H),H.disconnect()};return Y(),f(P,(()=>{if(U){X(),g.numberOfOutputs>0&&E.connect(O);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let r=0;r<v[t];r+=1)O.connect(n,e+r,r);e+=v[t]}}Q=!0}),(()=>{U&&(Y(),$()),Q=!1}))})(Xo,dr,ai,zs,wi,Qs,Si,Oi,Ai,Ko,Po,ta,Ls),na=((t,e,n,r,i)=>(s,o,a,u,l,c)=>{if(null!==a)try{const e=new a(s,u,c),r=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(f=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=r.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},r.set(e,t[1]))}}return f.call(e,"error",t[1],t[2]),f.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=r.get(t[1]);void 0!==e&&(r.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==c.numberOfOutputs){const t=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(s.destination),i(e,(()=>t.disconnect()),(()=>t.connect(s.destination)))}return e}catch(t){if(11===t.code)throw r();throw t}var h,f;if(void 0===l)throw r();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(c),e(s,o,l,c)})(ai,ea,Si,Ai,Ls),ra=((t,e,n,r,i,s,o,a,u,l,c,h,f,d,p,m)=>(g,v,_)=>{const y=new WeakMap;let b=null;return{render(w,x,k){a(x,w);const S=y.get(x);return void 0!==S?Promise.resolve(S):(async(a,w,x)=>{let k=c(a),S=null;const T=hr(k,w),C=Array.isArray(v.outputChannelCount)?v.outputChannelCount:Array.from(v.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),s=[];for(let t=0;t<a.numberOfOutputs;t+=1)s.push(r(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const l=o(w,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1});l.connect=e.bind(null,s),l.disconnect=u.bind(null,s),S=[n,s,l]}else T||(k=new h(w,g));if(y.set(w,null===S?k:S[2]),null!==S){if(null===b){if(void 0===_)throw new Error("Missing the processor constructor.");if(null===f)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===_.parameterDescriptors?0:_.parameterDescriptors.length,n=t+e,u=async()=>{const u=new f(n,128*Math.ceil(a.context.length/128),w.sampleRate),l=[],c=[];for(let t=0;t<v.numberOfInputs;t+=1)l.push(o(u,{channelCount:v.channelCount,channelCountMode:v.channelCountMode,channelInterpretation:v.channelInterpretation,gain:1})),c.push(i(u,{channelCount:v.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:v.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=s(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await d(u,t,e.offset,x),e}))),g=r(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<v.numberOfInputs;t+=1){l[t].connect(c[t]);for(let e=0;e<v.channelCount;e+=1)c[t].connect(g,e,t*v.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(u.destination),await Promise.all(l.map((t=>p(a,u,t,x)))),m(u)};b=Xr(a,0===n?null:await u(),w,v,C,_,l)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[u,c,h]=S;null!==t&&(e.buffer=t,e.start(0)),e.connect(u);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=c[t];for(let r=0;r<C[t];r+=1)u.connect(n,e+r,r);e+=C[t]}return h}if(T)for(const[e,n]of a.parameters.entries())await t(w,n,k.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await d(w,e,k.parameters.get(t),x);return await p(a,w,k,x),k})(w,x,k)}}})(Os,Xo,As,zs,wi,Qs,Si,Zo,Ko,Po,Nr,Fo,us,Ds,is,ao),ia=(t=>e=>t.get(e))(No),sa=(t=>(e,n)=>{t.set(e,n)})(Jo),oa=Ro?((t,e,n,r,i,s,o,a,u,l,c,h,f,d)=>class extends e{constructor(e,c,f){var d;const p=a(e),m=u(p),g=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...Gr,...f});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(g);const v=Yn.get(p),_=null==v?void 0:v.get(c),y=m||"closed"!==p.state?p:null!==(d=o(p))&&void 0!==d?d:p,b=i(y,m?null:e.baseLatency,l,c,_,g);super(e,!0,b,m?r(c,g,_):null);const w=[];b.parameters.forEach(((t,e)=>{const r=n(this,m,t);w.push([e,r])})),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new $r(w),m&&t(p,this);const{activeInputs:x}=s(this);h(b,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?d(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(Yo,gs,Is,ra,na,br,ia,os,ls,Fo,0,sa,0,Gi):void 0,aa=((t,e)=>(n,r,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,r,i)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(Ai,us),ua=((t,e,n,r,i,s,o,a)=>{const u=[];return(l,c)=>n(l).render(l,c,u).then((()=>Promise.all(Array.from(r(c)).map((t=>n(t).render(t,c,u)))))).then((()=>i(c))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),pr(n)):e(s,(()=>s(n)))||a(n),t.add(n),n)))})(ys,Ki,rs,Ho,ao,fr,ks,Ss),la=((t,e,n,r,i)=>class extends t{constructor(t,n,i){let s;if("number"==typeof t&&void 0!==n&&void 0!==i)s={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");s=t}const{length:o,numberOfChannels:a,sampleRate:u}={...Di,...s},l=r(a,o,u);e(fi,(()=>fi(l)))||l.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(l.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(l,a),this._length=o,this._nativeOfflineAudioContext=l,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,kr(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(zo,Ki,ai,aa,ua),ca=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(Gn,ds),ha=((t,e)=>n=>t.has(n)||e(n))(Wn,ps),fa=((t,e)=>n=>t.has(n)||e(n))($n,ms),da=((t,e)=>n=>{const r=t.get(n);return e(r)||e(n)})(Gn,ls),pa=()=>(async(t,e,n,r,i,s,o,a,u,l,c,h,f,d,p,m)=>!!(t(e,e)&&t(n,n)&&t(i,i)&&t(s,s)&&t(a,a)&&t(u,u)&&t(l,l)&&t(c,c)&&t(h,h)&&t(f,f)&&t(d,d))&&(await Promise.all([t(r,r),t(o,o),t(p,p),t(m,m)])).every((t=>t)))(Ki,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(us),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(fs),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise((t=>{let n=!0;const r=r=>{n&&(n=!1,e.startRendering(),t(r instanceof TypeError))};let i;try{i=e.decodeAudioData(null,(()=>{}),r)}catch(t){r(t)}void 0!==i&&i.catch(r)}))})(us),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(fs),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(us),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new MessageChannel,i=new e(1,128,44100),s=URL.createObjectURL(n);let o=!1;try{await i.audioWorklet.addModule(s);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise((t=>{e.port.onmessage=()=>t(),e.port.postMessage(r.port2,[r.port2])})),e.port.onmessage=()=>o=!0,n.connect(e),n.start(0),await i.startRendering(),o=await new Promise((t=>{r.port1.onmessage=({data:e})=>t(1===e),r.port1.postMessage(0)}))}catch{}finally{r.port1.close(),URL.revokeObjectURL(s)}return o})(Fo,us),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(us),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);return void 0===e.createConstantSource||e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(us),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(us),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(us),Wi,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(es),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(fs),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),r=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,r.channelCount=1,n.start(),n.connect(r).connect(e.destination),e.startRendering().then((t=>1!==t.getChannelData(0)[0]))})(us),Ui);function ma(t,e){if(!t)throw new Error(e)}function ga(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function va(t){t.isOffline||"running"===t.state||wa('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let _a=console;function ya(t){_a=t}function ba(...t){_a.log(...t)}function wa(...t){_a.warn(...t)}function xa(t){return void 0===t}function ka(t){return!xa(t)}function Sa(t){return"function"==typeof t}function Ta(t){return"number"==typeof t}function Ca(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Ea(t){return"boolean"==typeof t}function Oa(t){return Array.isArray(t)}function Aa(t){return"string"==typeof t}function Da(t){return Aa(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Ma="object"==typeof self?self:null,Ia=Ma&&(Ma.hasOwnProperty("AudioContext")||Ma.hasOwnProperty("webkitAudioContext"));function Ra(t,e,n,r){var i,s=arguments.length,o=s<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(s<3?i(o):s>3?i(e,n,o):i(e,n))||o);return s>3&&o&&Object.defineProperty(e,n,o),o}function Pa(t,e,n,r){return new(n||(n=Promise))((function(i,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function a(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}u((r=r.apply(t,e||[])).next())}))}Object.create,Object.create;class Na{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function qa(t){return fa(t)}function Fa(t){return ha(t)}function ja(t){return da(t)}function La(t){return ca(t)}function Va(t){return t instanceof AudioBuffer}function za(t,e){return"value"===t||qa(e)||Fa(e)||Va(e)}function Ba(t,...e){if(!e.length)return t;const n=e.shift();if(Ca(t)&&Ca(n))for(const e in n)za(e,n[e])?t[e]=n[e]:Ca(n[e])?(t[e]||Object.assign(t,{[e]:{}}),Ba(t[e],n[e])):Object.assign(t,{[e]:n[e]});return Ba(t,...e)}function Wa(t,e,n=[],r){const i={},s=Array.from(e);if(Ca(s[0])&&r&&!Reflect.has(s[0],r)&&(Object.keys(s[0]).some((e=>Reflect.has(t,e)))||(Ba(i,{[r]:s[0]}),n.splice(n.indexOf(r),1),s.shift())),1===s.length&&Ca(s[0]))Ba(i,s[0]);else for(let t=0;t<n.length;t++)ka(s[t])&&(i[n[t]]=s[t]);return Ba(t,i)}function Ua(t,e){return xa(t)?e:t}function $a(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class Ga{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Ma&&this.toString()===Ma.TONE_DEBUG_CLASS)&&ba(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Ga.version=Ln;const Qa=1e-6;function Ha(t,e){return t>e+Qa}function Ya(t,e){return Ha(t,e)||Za(t,e)}function Xa(t,e){return t+Qa<e}function Za(t,e){return Math.abs(t-e)<Qa}function Ka(t,e,n){return Math.max(Math.min(t,n),e)}class Ja extends Ga{constructor(){super(),this.name="Timeline",this._timeline=[];const t=Wa(Ja.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(ma(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];ma(Ya(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(Za(this._timeline[e].time,t)){for(let n=e;n>=0&&Za(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&Ya(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const r=this._timeline.length;let i=r;if(r>0&&this._timeline[r-1][e]<=t)return r-1;for(;n<i;){let r=Math.floor(n+(i-n)/2);const s=this._timeline[r],o=this._timeline[r+1];if(Za(s[e],t)){for(let n=r;n<this._timeline.length&&Za(this._timeline[n][e],t);n++)r=n;return r}if(Xa(s[e],t)&&Ha(o[e],t))return r;Ha(s[e],t)?i=r:n=r+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let r=this._search(t),i=this._search(e);return-1!==r&&-1!==i?(this._timeline[r].time!==t&&(r+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,r,i)):-1===r&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&Za(this._timeline[n].time,t)){let r=n;for(let e=n;e>=0&&Za(this._timeline[e].time,t);e--)r=e;this._iterate((t=>{e(t)}),r,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const tu=[];function eu(t){tu.push(t)}const nu=[];function ru(t){nu.push(t)}class iu extends Ga{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{xa(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...r)=>{e(...r),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(xa(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(xa(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,r=n.length;t<r;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(iu.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class su extends iu{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class ou extends su{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new Ja,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=Wa(ou.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new Qo(t)}({latencyHint:t.latencyHint}),this._ticker=new Na(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,tu.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return ma(La(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return ma(La(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return ma(La(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){ma(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){ma(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){ma(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){ma(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return ma(ka(oa),"This node only works in a secure context (https or localhost)"),new oa(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return Pa(this,void 0,void 0,(function*(){ma(ka(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return Pa(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Aa(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return La(this._context)?this._context.resume():Promise.resolve()}close(){return Pa(this,void 0,void 0,(function*(){var t;La(this._context)&&(yield this._context.close()),this._initialized&&(t=this,nu.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const r=this._context.createBufferSource();return r.channelCount=1,r.channelCountMode="explicit",r.buffer=e,r.loop=!0,r.start(0),this._constants.set(t,r),r}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,r=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),r()},id:n,time:i+e})};return r(),n}}function au(t,e){Oa(e)?e.forEach((e=>au(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function uu(t,e){Oa(e)?e.forEach((e=>uu(t,e))):Object.defineProperty(t,e,{writable:!0})}const lu=()=>{};class cu extends Ga{constructor(){super(),this.name="ToneAudioBuffer",this.onload=lu;const t=Wa(cu.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&Va(t.url)||t.url instanceof cu?this.set(t.url):Aa(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:lu,onload:lu,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:pu().sampleRate}set(t){return t instanceof cu?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return Pa(this,void 0,void 0,(function*(){const e=cu.load(t).then((t=>{this.set(t),this.onload(this)}));cu.downloads.push(e);try{yield e}finally{const t=cu.downloads.indexOf(e);cu.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Oa(t)&&t[0].length>0,n=e?t.length:1,r=e?t[0].length:t.length,i=pu(),s=i.createBuffer(n,r,i.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)s.copyToChannel(o[t],t);return this._buffer=s,this}toMono(t){if(Ta(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Ta(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),r=Math.floor(e*this.sampleRate);ma(n<r,"The start time must be less than the end time");const i=r-n,s=pu().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)s.copyToChannel(this.getChannelData(t).subarray(n,r),t);return new cu(s)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new cu).fromArray(t)}static fromUrl(t){return Pa(this,void 0,void 0,(function*(){const e=new cu;return yield e.load(t)}))}static load(t){return Pa(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let r=n[0];for(const t of n)if(cu.supportsType(t)){r=t;break}t=t.replace(e[0],r)}const n=""===cu.baseUrl||cu.baseUrl.endsWith("/")?cu.baseUrl:cu.baseUrl+"/",r=yield fetch(n+t);if(!r.ok)throw new Error(`could not load url: ${t}`);const i=yield r.arrayBuffer();return yield pu().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return Pa(this,void 0,void 0,(function*(){for(yield Promise.resolve();cu.downloads.length;)yield cu.downloads[0]}))}}cu.baseUrl="",cu.downloads=[];class hu extends ou{constructor(){var t,e,n;super({clockSource:"offline",context:ja(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new la(t,e,n)),lookAhead:0,updateInterval:ja(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=ja(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return Pa(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return Pa(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new cu(e)}))}close(){return Promise.resolve()}}const fu=new class extends su{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return Pa(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let du=fu;function pu(){return du===fu&&Ia&&mu(new ou),du}function mu(t){du=La(t)?new ou(t):ja(t)?new hu(t):t}function gu(){return du.resume()}if(Ma&&!Ma.TONE_SILENCE_LOGGING){let t="v";"dev"===Ln&&(t="");const e=` * Tone.js ${t}${Ln} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function vu(t){return Math.pow(10,t/20)}function _u(t){return Math.log(t)/Math.LN10*20}function yu(t){return Math.pow(2,t/12)}let bu=440;function wu(t){return Math.round(xu(t))}function xu(t){return 69+12*Math.log2(t/bu)}function ku(t){return bu*Math.pow(2,(t-69)/12)}class Su extends Ga{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),r="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*r:this._beatsToUnits(4/n)*r},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let r=0;return t&&"0"!==t&&(r+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r+=this._beatsToUnits(parseFloat(n)/4)),r},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Su&&this.fromType(this._val),xa(this._val))return this._noArg();if(Aa(this._val)&&xa(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Ca(this._val)){let t=0;for(const e in this._val)if(ka(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if(ka(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Aa(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Tu extends Su{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Tu(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),r=this.valueOf();return r+(Math.round(r/n)*n-r)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],r=new Tu(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new Tu(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(r-t)&&(n=e,r=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let r=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=r.toString();return i.length>3&&(r=parseFloat(parseFloat(i).toFixed(3))),[n,e,r].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return wu(this.toFrequency())}_now(){return this.context.now()}}function Cu(t,e){return new Tu(pu(),t,e)}class Eu extends Tu{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return bu}static set A4(t){!function(t){bu=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Eu.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Ou[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Eu.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let r=1;return t&&"0"!==t&&(r*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(r*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(r*=this._beatsToUnits(parseFloat(n)/4)),r}}})}transpose(t){return new Eu(this.context,this.valueOf()*yu(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return wu(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Eu.A4);let n=Math.round(12*e)+57;const r=Math.floor(n/12);return r<0&&(n+=-12*r),Au[n%12]+r.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return ku(t)}static ftom(t){return wu(t)}}const Ou={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Au=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Du(t,e){return new Eu(pu(),t,e)}class Mu extends Tu{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Iu(t,e){return new Mu(pu(),t,e)}class Ru extends Ga{constructor(){super();const t=Wa(Ru.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:pu()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Tu(this.context,t).toSeconds()}toFrequency(t){return new Eu(this.context,t).toFrequency()}toTicks(t){return new Mu(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{xa(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];ka(n)&&ka(n.value)&&ka(n.setValueAtTime)?t[e]=n.value:n instanceof Ru?t[e]=n._getPartialProperties(t[e]):Oa(n)||Ta(n)||Aa(n)||Ea(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&ka(this[e])&&(this[e]&&ka(this[e].value)&&ka(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof Ru?this[e].set(t[e]):this[e]=t[e])})),this}}class Pu extends Ja{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return ga(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class Nu extends Ru{constructor(){super(Wa(Nu.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=Wa(Nu.getDefaults(),arguments,["param","units","convert"]);for(ma(ka(t.param)&&(qa(t.param)||t.param instanceof Nu),"param must be an AudioParam");!qa(t.param);)t.param=t.param._param;this._swappable=!!ka(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new Ja(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,ka(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Ru.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return ka(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return ka(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return ka(this.maxValue)&&ka(this.minValue)&&ga(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?vu(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?_u(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),r=this._fromType(t);return ma(isFinite(r)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(r),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:r}),this._param.setValueAtTime(r,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),r=this._events.get(e);let i=this._initialValue;if(null===r)i=this._initialValue;else if("setTargetAtTime"!==r.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=r.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=r.value;if("setTargetAtTime"===r.type){const e=this._events.getBefore(r.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(r.time,t,n.time,n.value,e):this._exponentialInterpolate(r.time,t,n.time,n.value,e)}else i=r.value;else{const t=this._events.getBefore(r.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===r.type&&(i=this._exponentialApproach(r.time,n,r.value,r.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),r=this.toSeconds(e);return ma(isFinite(n)&&isFinite(r),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:r,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,r),this._param.linearRampToValueAtTime(n,r),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=Za(n,0)?this._minOutput:n,this._assertRange(n);const r=this.toSeconds(e);return ma(isFinite(n)&&isFinite(r),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:r,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,r),this._param.exponentialRampToValueAtTime(n,r),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const r=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,r),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const r=this._fromType(t);ma(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(r),ma(isFinite(r)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:r}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(r,i,n),this}setValueCurveAtTime(t,e,n,r=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*r;this.setValueAtTime(this._toType(i),e);const s=n/(t.length-1);for(let n=1;n<t.length;n++){const i=this._fromType(t[n])*r;this.linearRampToValueAtTime(this._toType(i),e+n*s)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return ma(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));ma(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const r=this._events.get(e),i=this._events.getAfter(e);return r&&Za(r.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const r=this._events.getAfter(n.time),i=r?r.time:e+2,s=(i-e)/10;for(let n=e;n<i;n+=s)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){ma(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,r,i){return n+(e-n)*Math.exp(-(i-t)/r)}_linearInterpolate(t,e,n,r,i){return e+(i-t)/(n-t)*(r-e)}_exponentialInterpolate(t,e,n,r,i){return e*Math.pow(r/e,(i-t)/(n-t))}}class qu extends Ru{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return ka(this.input)?qa(this.input)||this.input instanceof Nu?1:this.input.numberOfInputs:0}get numberOfOutputs(){return ka(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return ka(t)&&(t instanceof qu||Fa(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();ma(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return ju(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return wa("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return Lu(this,t,e,n),this}chain(...t){return Fu(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),ka(this.input)&&(this.input instanceof qu?this.input.dispose():Fa(this.input)&&this.input.disconnect()),ka(this.output)&&(this.output instanceof qu?this.output.dispose():Fa(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Fu(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof qu?t.connect(e):Fa(t)&&ju(t,e),e)),e)}function ju(t,e,n=0,r=0){for(ma(ka(t),"Cannot connect from undefined node"),ma(ka(e),"Cannot connect to undefined node"),(e instanceof qu||Fa(e))&&ma(e.numberOfInputs>0,"Cannot connect to node with no inputs"),ma(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof qu||e instanceof Nu;)ka(e.input)&&(e=e.input);for(;t instanceof qu;)ka(t.output)&&(t=t.output);qa(e)?t.connect(e,n):t.connect(e,n,r)}function Lu(t,e,n=0,r=0){if(ka(e))for(;e instanceof qu;)e=e.input;for(;!Fa(t);)ka(t.output)&&(t=t.output);qa(e)?t.disconnect(e,n):Fa(e)?t.disconnect(e,n,r):t.disconnect()}class Vu extends qu{constructor(){super(Wa(Vu.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=Wa(Vu.getDefaults(),arguments,["gain","units"]);this.gain=new Nu({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),au(this,"gain")}static getDefaults(){return Object.assign(qu.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class zu extends qu{constructor(t){super(t),this.onended=lu,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Vu({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(qu.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:lu})}_startGain(t,e=1){ma(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){ma(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==lu&&(this.onended(this),this.onended=lu,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),ma(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Bu extends zu{constructor(){super(Wa(Bu.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=Wa(Bu.getDefaults(),arguments,["offset"]);ju(this._source,this._gainNode),this.offset=new Nu({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(zu.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Wu extends qu{constructor(){super(Wa(Wu.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=Wa(Wu.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Bu({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(qu.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return Uu(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,r){return this._param.setValueCurveAtTime(t,e,n,r),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function Uu(t,e,n,r){(e instanceof Nu||qa(e)||e instanceof Wu&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof Wu&&(e.overridden=!0)),ju(t,e,n,r)}class $u extends Nu{constructor(){super(Wa($u.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new Ja(1/0),this._multiplier=1;const t=Wa($u.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Nu.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const r=this._fromType(t),i=this._events.get(e),s=Math.round(Math.max(1/n,1));for(let t=0;t<=s;t++){const s=n*t+e,o=this._exponentialApproach(i.time,i.value,r,n,s);this.linearRampToValueAtTime(this._toType(o),s)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const r=this._events.get(n),i=this._events.previousEvent(r),s=this._getTicksUntilEvent(i,n);return r.ticks=Math.max(s,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),r=this._events.get(e),i=Math.round(Math.max(10*(e-r.time),1)),s=(e-r.time)/i;for(let t=0;t<=i;t++){const i=s*t+r.time,o=this._exponentialInterpolate(r.time,r.value,e,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(xa(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let r=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(r=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+r)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(e);return this.getTimeOfTick(r+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const r=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-r)/(n.time-e.time),s=Math.sqrt(Math.pow(r,2)-2*i*(e.ticks-t)),o=(-r+s)/i;return(o>0?o:(-r-s)/i)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),r=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+r)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class Gu extends Wu{constructor(){super(Wa(Gu.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=Wa(Gu.getDefaults(),arguments,["value"]);this.input=this._param=new $u({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(Wu.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class Qu extends Ru{constructor(){super(Wa(Qu.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new Pu,this._tickOffset=new Ja;const t=Wa(Qu.getDefaults(),arguments,["frequency"]);this.frequency=new Gu({context:this.context,units:t.units,value:t.frequency}),au(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Ru.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),ka(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),r={state:"paused",time:e};this._state.add(r);let i=n,s=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(s=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(s+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t})),this._state.remove(r),s}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let r=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=r.time;const n=this._tickOffset.get(t.time);n&&n.time>=r.time&&(i=n.seconds,e=n.time),"started"===r.state&&"started"!==t.state&&(i+=t.time-e),r=t})),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),r=this._state.get(e),i=Math.max(n.time,r.time),s=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(s)}forEachTickBetween(t,e,n){let r=this._state.get(t);this._state.forEachBetween(t,e,(e=>{r&&"started"===r.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(r.time,t),e.time-this.sampleTime,n),r=e}));let i=null;if(r&&"started"===r.state){const s=Math.max(r.time,t),o=this.frequency.getTicksAtTime(s),a=o-this.frequency.getTicksAtTime(r.time);let u=Math.ceil(a)-a;u=Za(u,1)?0:u;let l=this.frequency.getTimeOfTick(o+u);for(;l<e;){try{n(l,Math.round(this.getTicksAtTime(l)))}catch(t){i=t;break}l+=this.frequency.getDurationOfTicks(1,l)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class Hu extends Ru{constructor(){super(Wa(Hu.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=lu,this._lastUpdate=0,this._state=new Pu("stopped"),this._boundLoop=this._loop.bind(this);const t=Wa(Hu.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new Qu({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,au(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Ru.getDefaults(),{callback:lu,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){va(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),r=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(r+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}iu.mixin(Hu);class Yu extends qu{constructor(){super(Wa(Yu.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=Wa(Yu.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new Nu({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),au(this,"delayTime")}static getDefaults(){return Object.assign(qu.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function Xu(t,e,n=2,r=pu().sampleRate){return Pa(this,void 0,void 0,(function*(){const i=pu(),s=new hu(n,e,r);mu(s),yield t(s);const o=s.render();mu(i);const a=yield o;return new cu(a)}))}class Zu extends Ga{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=Wa(Zu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:lu,onload:lu,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return ma(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=lu,r=lu){return Aa(e)?this._buffers.set(t.toString(),new cu(this.baseUrl+e,n,r)):this._buffers.set(t.toString(),new cu(e,n,r)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class Ku extends Eu{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return wu(super._frequencyToUnits(t))}_ticksToUnits(t){return wu(super._ticksToUnits(t))}_beatsToUnits(t){return wu(super._beatsToUnits(t))}_secondsToUnits(t){return wu(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return ku(this.toMidi())}transpose(t){return new Ku(this.context,this.toMidi()+t)}}function Ju(t,e){return new Ku(pu(),t,e)}class tl extends Mu{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function el(t,e){return new tl(pu(),t,e)}class nl extends Ru{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new Ja,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}eu((t=>{t.draw=new nl({context:t})})),ru((t=>{t.draw.dispose()}));class rl extends Ga{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){ma(ka(t.time),"Events must have a time property"),ma(ka(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new il(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),r=t.right;r&&(t.right=r.left,r.left=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),r=t.left;r&&(t.left=r.right,r.right=t),null!==e?n?e.left=r:e.right=r:this._setRoot(r)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class il{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class sl extends qu{constructor(){super(Wa(sl.getDefaults(),arguments,["volume"])),this.name="Volume";const t=Wa(sl.getDefaults(),arguments,["volume"]);this.input=this.output=new Vu({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,au(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(qu.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class ol extends qu{constructor(){super(Wa(ol.getDefaults(),arguments)),this.name="Destination",this.input=new sl({context:this.context}),this.output=new Vu({context:this.context}),this.volume=this.input.volume;const t=Wa(ol.getDefaults(),arguments);Fu(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(qu.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),Fu(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}eu((t=>{t.destination=new ol({context:t})})),ru((t=>{t.destination.dispose()}));class al extends Ga{constructor(t){super(),this.name="TimelineValue",this._timeline=new Ja({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class ul{constructor(t,e){this.id=ul._eventId++;const n=Object.assign(ul.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:lu,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}ul._eventId=0;class ll extends ul{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(ll.getDefaults(),e);this.duration=new tl(t.context,n.duration).valueOf(),this._interval=new tl(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},ul.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new tl(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new tl(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new tl(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class cl extends Ru{constructor(){super(Wa(cl.getDefaults(),arguments)),this.name="Transport",this._loop=new al(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new Ja,this._repeatedEvents=new rl,this._syncedSignals=[],this._swingAmount=0;const t=Wa(cl.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new Hu({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),au(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(Ru.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),r=Math.sin(n*Math.PI)*this._swingAmount;t+=new tl(this.context,2*this._swingTicks/3).toSeconds()*r}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new ul(this,{callback:t,time:new Mu(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,r=1/0){const i=new ll(this,{callback:t,duration:new Tu(this.context,r).toTicks(),interval:new Tu(this.context,e).toTicks(),time:new Mu(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new ul(this,{callback:t,once:!0,time:new Mu(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new tl(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return ka(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Oa(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Tu(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Tu(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new tl(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new tl(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),r=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",r),this._clock.setTicksAtTime(t,r),this.emit("start",r,this._clock.getSecondsAtTime(r))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const r=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/r}else e=0}const n=new Vu(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),uu(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}iu.mixin(cl),eu((t=>{t.transport=new cl({context:t})})),ru((t=>{t.transport.dispose()}));class hl extends qu{constructor(t){super(t),this.input=void 0,this._state=new Pu("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=lu,this._syncedStop=lu,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new sl({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,au(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(qu.getDefaults(),{mute:!1,onstop:lu,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let r=xa(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(r=this._clampToCurrentTime(r),this._synced||"started"!==this._state.getValueAtTime(r))if(this.log("start",r),this._state.setStateAtTime("started",r),this._synced){const t=this._state.get(r);t&&(t.offset=this.toSeconds(Ua(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),r);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>r&&this._syncedStart(this.now(),this.context.transport.seconds)}else va(this.context),this._start(r,e,n);else ma(Ha(r,this._state.get(r).time),"Start time must be strictly greater than previous start time"),this._state.cancel(r),this._state.setStateAtTime("started",r),this.log("restart",r),this.restart(r,e,n);return this}stop(t){let e=xa(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||ka(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const r=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-r),this._start(t,this.toSeconds(n.offset)+r,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=lu,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class fl extends zu{constructor(){super(Wa(fl.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=Wa(fl.getDefaults(),arguments,["url","onload"]);ju(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Nu({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new cu(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(zu.getDefaults(),{url:new cu,loop:!1,loopEnd:0,loopStart:0,onload:lu,onerror:lu,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,r=1){ma(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,r),e=this.loop?Ua(e,this.loopStart):Ua(e,0);let s=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;Ya(s,t)&&(s=(s-e)%n+e),Za(s,this.buffer.duration)&&(s=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,Xa(s,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,s)),ka(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class dl extends hl{constructor(){super(Wa(dl.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=Wa(dl.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(hl.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(ma(t in gl,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=gl[this._type];this._source=new fl({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const pl=220500,ml={brown:null,pink:null,white:null},gl={get brown(){if(!ml.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(pl);t[e]=n;let r=0;for(let t=0;t<pl;t++){const e=2*Math.random()-1;n[t]=(r+.02*e)/1.02,r=n[t],n[t]*=3.5}}ml.brown=(new cu).fromArray(t)}return ml.brown},get pink(){if(!ml.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(pl);let r,i,s,o,a,u,l;t[e]=n,r=i=s=o=a=u=l=0;for(let t=0;t<pl;t++){const e=2*Math.random()-1;r=.99886*r+.0555179*e,i=.99332*i+.0750759*e,s=.969*s+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,u=-.7616*u-.016898*e,n[t]=r+i+s+o+a+u+l+.5362*e,n[t]*=.11,l=.115926*e}}ml.pink=(new cu).fromArray(t)}return ml.pink},get white(){if(!ml.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(pl);t[e]=n;for(let t=0;t<pl;t++)n[t]=2*Math.random()-1}ml.white=(new cu).fromArray(t)}return ml.white}};class vl extends qu{constructor(){super(Wa(vl.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=Wa(vl.getDefaults(),arguments,["volume"]);this._volume=this.output=new sl({context:this.context,volume:t.volume}),this.volume=this._volume.volume,au(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(qu.getDefaults(),{mute:!1,volume:0})}open(t){return Pa(this,void 0,void 0,(function*(){ma(vl.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield vl.enumerateDevices();Ta(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),ma(ka(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const r=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=r;const t=this.context.createMediaStreamSource(r);ju(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return Pa(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return ka(navigator.mediaDevices)&&ka(navigator.mediaDevices.getUserMedia)}}function _l(t,e){return Pa(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,r=new hu(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:r})).toDestination().start(0),(yield r.render()).getChannelData(0)}))}class yl extends zu{constructor(){super(Wa(yl.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=Wa(yl.getDefaults(),arguments,["frequency","type"]);ju(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new Nu({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new Nu({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),au(this,["frequency","detune"])}static getDefaults(){return Object.assign(zu.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class bl extends hl{constructor(){super(Wa(bl.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=Wa(bl.getDefaults(),arguments,["frequency","type"]);this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency}),au(this,"frequency"),this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),au(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(hl.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new yl({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return bl._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=bl._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if(ka(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),r=this.context.createPeriodicWave(e,n);this._wave=r,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),bl._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),bl._periodicWaveCache.length>100&&bl._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){ga(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const r=new Float32Array(n),i=new Float32Array(n);let s=1;if("custom"===t){if(s=this._partials.length+1,this._partialCount=this._partials.length,n=s,0===this._partials.length)return[r,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(s=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],s=Math.max(s,2),n=s):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=s?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(r[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(r[o]=0,i[o]=0)}return[r,i]}_inverseFFT(t,e,n){let r=0;const i=t.length;for(let s=0;s<i;s++)r+=t[s]*Math.cos(s*n)+e[s]*Math.sin(s*n);return r}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const r=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*r),n);return Ka(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}bl._periodicWaveCache=[];class wl extends qu{constructor(){super(Object.assign(Wa(wl.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return Uu(this,t,e,n),this}}class xl extends wl{constructor(){super(Object.assign(Wa(xl.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=Wa(xl.getDefaults(),arguments,["mapping","length"]);Oa(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Sa(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(Wu.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let r=0,i=e;r<i;r++){const e=r/(i-1)*2-1;n[r]=t(e,r)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){ma(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class kl extends wl{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new xl({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Sl extends Wu{constructor(){super(Object.assign(Wa(Sl.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=Wa(Sl.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Vu({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(Wu.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Tl extends hl{constructor(){super(Wa(Tl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new kl({context:this.context}),this._modulationNode=new Vu({context:this.context});const t=Wa(Tl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new bl({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Sl({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),au(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bl.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Cl extends hl{constructor(){super(Wa(Cl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Vu({context:this.context,gain:0});const t=Wa(Cl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new bl({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new bl({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Sl({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Sl({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),au(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(bl.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class El extends hl{constructor(){super(Wa(El.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Vu({context:this.context,gain:0}),this._thresh=new xl({context:this.context,mapping:t=>t<=0?-1:1});const t=Wa(El.getDefaults(),arguments,["frequency","width"]);this.width=new Wu({context:this.context,units:"audioRange",value:t.width}),this._triangle=new bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),au(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(hl.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Ol extends hl{constructor(){super(Wa(Ol.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=Wa(Ol.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,au(this,["frequency","detune"])}static getDefaults(){return Object.assign(bl.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,r)=>t.detune.value=e+n*r))}}get count(){return this._oscillators.length}set count(t){if(ga(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new bl({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):lu});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Al extends hl{constructor(){super(Wa(Al.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Sl({context:this.context,value:2});const t=Wa(Al.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new El({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),au(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(hl.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Dl={am:Tl,fat:Ol,fm:Cl,oscillator:bl,pulse:El,pwm:Al};class Ml extends hl{constructor(){super(Wa(Ml.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=Wa(Ml.getDefaults(),arguments,["frequency","type"]);this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),au(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(bl.getDefaults(),Cl.getDefaults(),Tl.getDefaults(),Ol.getDefaults(),El.getDefaults(),Al.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Dl[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Dl[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Ta(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Ta(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Aa(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){return _l(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Il extends Wu{constructor(){super(Object.assign(Wa(Il.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Vu({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Fu(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Wu.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Rl extends wl{constructor(){super(Object.assign(Wa(Rl.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=Wa(Rl.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Sl({context:this.context,value:t.max-t.min}),this._add=this.output=new Il({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(wl.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class Pl extends wl{constructor(){super(Object.assign(Wa(Pl.getDefaults(),arguments))),this.name="Zero",this._gain=new Vu({context:this.context}),this.output=this._gain,this.input=void 0,ju(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Lu(this.context.getConstant(0),this._gain),this}}class Nl extends qu{constructor(){super(Wa(Nl.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Nu.prototype._fromType,this._toType=Nu.prototype._toType,this._is=Nu.prototype._is,this._clampValue=Nu.prototype._clampValue;const t=Wa(Nl.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new bl(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Vu({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Wu({context:this.context,units:"audioRange",value:0}),this._zeros=new Pl({context:this.context}),this._a2g=new kl({context:this.context}),this._scaler=this.output=new Rl({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),au(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(bl.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof Nu||t instanceof Wu)&&(this.convert=t.convert,this.units=t.units),Uu(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function ql(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ga(r,t,e),n.set(this,r)}})}}function Fl(t,e=1/0){const n=new WeakMap;return function(r,i){Reflect.defineProperty(r,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(r){ga(this.toSeconds(r),t,e),n.set(this,r)}})}}class jl extends hl{constructor(){super(Wa(jl.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=Wa(jl.getDefaults(),arguments,["url","onload"]);this._buffer=new cu({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(hl.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:lu,onerror:lu,playbackRate:1,reverse:!1})}load(t){return Pa(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=lu){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?Ua(e,this._loopStart):Ua(e,0);const r=this.toSeconds(e),i=n;n=Ua(n,Math.max(this._buffer.duration-r,0));let s=this.toSeconds(n);s/=this._playbackRate,t=this.toSeconds(t);const o=new fl({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+s),this._state.setStateAtTime("stopped",t+s,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&xa(i)?o.start(t,r):o.start(t,r,s-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&ga(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&ga(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Ra([Fl(0)],jl.prototype,"fadeIn",void 0),Ra([Fl(0)],jl.prototype,"fadeOut",void 0);class Ll extends qu{constructor(){super(Wa(Ll.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=Wa(Ll.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new sl({context:this.context,volume:t.volume}),this.volume=this._volume.volume,au(this,"volume"),this._buffers=new Zu({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(hl.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:lu,onerror:lu,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach((e=>{e.fadeIn=t}))}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach((e=>{e.fadeOut=t}))}get state(){return Array.from(this._players).some((([t,e])=>"started"===e.state))?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(ma(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new jl({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return ma(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach((e=>e.stop(t))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((t=>t.dispose())),this._buffers.dispose(),this}}class Vl extends hl{constructor(){super(Wa(Vl.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=Wa(Vl.getDefaults(),arguments,["url","onload"]);this.buffer=new cu({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new Hu({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(hl.getDefaults(),{onload:lu,onerror:lu,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=Ua(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const r=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/r),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach((e=>{e.fadeOut=0,e.stop(t)})),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const r=n<this._overlap?0:this._overlap,i=new fl({context:this.context,url:this.buffer,fadeIn:r,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:yu(this.detune/100)}).connect(this.output);i.start(t,this._grainSize*e),i.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){ga(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&ga(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&ga(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);ga(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((t=>t.dispose())),this}}class zl extends wl{constructor(){super(...arguments),this.name="Abs",this._abs=new xl({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Bl extends wl{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new xl({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Wl extends wl{constructor(){super(...arguments),this.name="Negate",this._multiply=new Sl({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Ul extends Wu{constructor(){super(Object.assign(Wa(Ul.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Vu({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Wl({context:this.context}),this.subtrahend=this._param,Fu(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Wu.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class $l extends wl{constructor(){super(Object.assign(Wa($l.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new xl({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new Sl({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Gl extends Wu{constructor(){super(Object.assign(Wa(Gl.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=Wa(Gl.getDefaults(),arguments,["value"]);this._subtract=this.input=new Ul({context:this.context,value:t.value}),this._gtz=this.output=new $l({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,au(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Wu.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class Ql extends wl{constructor(){super(Object.assign(Wa(Ql.getDefaults(),arguments,["value"]))),this.name="Pow";const t=Wa(Ql.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new xl({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(wl.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class Hl extends Rl{constructor(){super(Object.assign(Wa(Hl.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=Wa(Hl.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new Ql({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Rl.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class Yl extends Wu{constructor(){super(Wa(Wu.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=Wa(Wu.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Bu({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new Mu(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new Mu(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new Mu(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new Mu(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const r=new Mu(this.context,e).toSeconds();return super.setTargetAtTime(t,r,n),this}cancelScheduledValues(t){const e=new Mu(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,r){const i=new Mu(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,i,n,r),this}cancelAndHoldAtTime(t){const e=new Mu(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new Mu(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const r=new Mu(this.context,n).toSeconds();return super.exponentialRampTo(t,e,r),this}linearRampTo(t,e,n){const r=new Mu(this.context,n).toSeconds();return super.linearRampTo(t,e,r),this}targetRampTo(t,e,n){const r=new Mu(this.context,n).toSeconds();return super.targetRampTo(t,e,r),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class Xl extends qu{constructor(){super(Wa(Xl.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Wu({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=Wa(Xl.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(qu.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Aa(t))return t;{let n;for(n in Zl)if(Zl[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Aa(n)&&Reflect.has(Zl,n)){const r=Zl[n];Ca(r)?"_decayCurve"!==t&&(this[t]=r[e]):this[t]=r}else{if(!Oa(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){ma(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const r=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0&&(n=(1-i)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let r=this._attackCurve;for(let t=1;t<r.length;t++)if(r[t-1]<=i&&i<=r[t]){r=this._attackCurve.slice(t),r[0]=i;break}this._sig.setValueCurveAtTime(r,t,n,e)}if(r&&this.sustain<1){const i=e*this.sustain,s=t+n;this.log("decay",s),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,r+s):this._sig.exponentialApproachValueAtTime(i,s,r)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(ma(Oa(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return Uu(this,t,e,n),this}asArray(t=1024){return Pa(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new hu(1,e,this.context.sampleRate),r=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=r+this.toSeconds(this.release),s=.1*i,o=i+s,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(r+s)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Ra([Fl(0)],Xl.prototype,"attack",void 0),Ra([Fl(0)],Xl.prototype,"decay",void 0),Ra([ql(0,1)],Xl.prototype,"sustain",void 0),Ra([Fl(0)],Xl.prototype,"release",void 0);const Zl=(()=>{const t=128;let e,n;const r=[];for(e=0;e<t;e++)r[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const s=[];for(e=0;e<t;e++)s[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,r=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(r*(1-n))}function u(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:u(a),Out:a},cosine:{In:r,Out:(l=r,l.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:u(i)},sine:{In:o,Out:u(o)},step:{In:s,Out:u(s)}};var l})();class Kl extends qu{constructor(){super(Wa(Kl.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=Wa(Kl.getDefaults(),arguments);this._volume=this.output=new sl({context:this.context,volume:t.volume}),this.volume=this._volume.volume,au(this,"volume")}static getDefaults(){return Object.assign(qu.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const r=t[e],i=this.context.transport.schedule((r=>{t[e]=r,n.apply(this,t)}),r);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n),s=this.toSeconds(e);return this.triggerAttack(t,i,r),this.triggerRelease(i+s),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class Jl extends Kl{constructor(){super(Wa(Jl.getDefaults(),arguments));const t=Wa(Jl.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(Kl.getDefaults(),{detune:0,onsilence:lu,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const r=this.toSeconds(e);return this._triggerEnvelopeAttack(r,n),this.setNote(t,r),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),r=t instanceof Eu?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(r,t,n)}else this.frequency.setValueAtTime(r,n);return this}}Ra([Fl(0)],Jl.prototype,"portamento",void 0);class tc extends Xl{constructor(){super(Wa(tc.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Vu({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ec extends Jl{constructor(){super(Wa(ec.getDefaults(),arguments)),this.name="Synth";const t=Wa(ec.getDefaults(),arguments);this.oscillator=new Ml(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new tc(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),au(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(Jl.getDefaults(),{envelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign($a(Ml.getDefaults(),[...Object.keys(hl.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class nc extends Jl{constructor(){super(Wa(nc.getDefaults(),arguments)),this.name="ModulationSynth";const t=Wa(nc.getDefaults(),arguments);this._carrier=new ec({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ec({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Wu({context:this.context,units:"frequency"}),this.detune=new Wu({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Sl({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new Vu({context:this.context,gain:0}),au(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(Jl.getDefaults(),{harmonicity:3,oscillator:Object.assign($a(Ml.getDefaults(),[...Object.keys(hl.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign($a(Ml.getDefaults(),[...Object.keys(hl.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class rc extends nc{constructor(){super(Wa(rc.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new kl({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class ic extends qu{constructor(){super(Wa(ic.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=Wa(ic.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Nu({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new Nu({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new Nu({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new Nu({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(qu.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){ma(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const r=19980*Math.pow(n/t,2)+20;e[n]=r}const n=new Float32Array(t),r=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,n,r),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class sc extends qu{constructor(){super(Wa(sc.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this._filters=[];const t=Wa(sc.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Wu({context:this.context,units:"positive",value:t.Q}),this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency}),this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),this.gain=new Wu({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,au(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(qu.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){ma(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Ta(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let r=n.indexOf(e);ma(-1!==r,`rolloff can only be ${n.join(", ")}`),r+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(r);for(let t=0;t<r;t++){const e=new ic({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,Fu(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new ic({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),uu(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class oc extends Xl{constructor(){super(Wa(oc.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=Wa(oc.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new Ql({context:this.context,value:t.exponent}),this._scale=this.output=new Rl({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(Xl.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);ga(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class ac extends Jl{constructor(){super(Wa(ac.getDefaults(),arguments)),this.name="MonoSynth";const t=Wa(ac.getDefaults(),arguments);this.oscillator=new Ml(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new sc(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new oc(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new tc(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),au(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(Jl.getDefaults(),{envelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign($a(sc.getDefaults(),Object.keys(qu.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign($a(oc.getDefaults(),Object.keys(qu.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign($a(Ml.getDefaults(),Object.keys(hl.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class uc extends Jl{constructor(){super(Wa(uc.getDefaults(),arguments)),this.name="DuoSynth";const t=Wa(uc.getDefaults(),arguments);this.voice0=new ac(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new ac(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Sl({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new Nl({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Vu({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Wu({context:this.context,units:"frequency",value:440}),this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),au(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return Ba(Jl.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ba($a(ac.getDefaults(),Object.keys(Jl.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ba($a(ac.getDefaults(),Object.keys(Jl.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class lc extends nc{constructor(){super(Wa(lc.getDefaults(),arguments)),this.name="FMSynth";const t=Wa(lc.getDefaults(),arguments);this.modulationIndex=new Sl({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(nc.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const cc=[1,1.483,1.932,2.546,2.63,3.897];class hc extends Jl{constructor(){super(Wa(hc.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=Wa(hc.getDefaults(),arguments);this.detune=new Wu({context:this.context,units:"cents",value:t.detune}),this.frequency=new Wu({context:this.context,units:"frequency"}),this._amplitude=new Vu({context:this.context,gain:0}).connect(this.output),this._highpass=new sc({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<cc.length;e++){const n=new Cl({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):lu,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const r=new Sl({context:this.context,value:cc[e]});this._freqMultipliers[e]=r,this.frequency.chain(r,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Rl({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new Xl({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return Ba(Jl.getDefaults(),{envelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class fc extends ec{constructor(){super(Wa(fc.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=Wa(fc.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,au(this,["oscillator","envelope"])}static getDefaults(){return Ba(Jl.getDefaults(),ec.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),r=this.toFrequency(t instanceof Eu?t.toFrequency():t),i=r*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(r,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ra([ql(0)],fc.prototype,"octaves",void 0),Ra([Fl(0)],fc.prototype,"pitchDecay",void 0);class dc extends Kl{constructor(){super(Wa(dc.getDefaults(),arguments)),this.name="NoiseSynth";const t=Wa(dc.getDefaults(),arguments);this.noise=new dl(Object.assign({context:this.context},t.noise)),this.envelope=new tc(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(Kl.getDefaults(),{envelope:Object.assign($a(Xl.getDefaults(),Object.keys(qu.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign($a(dl.getDefaults(),Object.keys(hl.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const pc=new Set;function mc(t){pc.add(t)}function gc(t,e){const n=`registerProcessor("${t}", ${e})`;pc.add(n)}class vc extends qu{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=lu;const e=URL.createObjectURL(new Blob([Array.from(pc).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}mc('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),mc("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),mc("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const _c="feedback-comb-filter";gc(_c,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class yc extends vc{constructor(){super(Wa(yc.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=Wa(yc.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this.delayTime=new Nu({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Nu({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),au(this,["resonance","delayTime"])}_audioWorkletName(){return _c}static getDefaults(){return Object.assign(qu.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){Fu(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class bc extends qu{constructor(){super(Wa(bc.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=Wa(bc.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(qu.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(t),t.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const r=19980*Math.pow(n/t,2)+20;e[n]=r}const n=new Float32Array(t),r=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,r),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class wc extends qu{constructor(){super(Wa(wc.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=Wa(wc.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new yc({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new bc({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(qu.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class xc extends Kl{constructor(){super(Wa(xc.getDefaults(),arguments)),this.name="PluckSynth";const t=Wa(xc.getDefaults(),arguments);this._noise=new dl({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new wc({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ba(Kl.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const r=1/n;return this._lfcf.delayTime.setValueAtTime(r,e),this._noise.start(e),this._noise.stop(e+r*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class kc extends Kl{constructor(){super(Wa(kc.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=Wa(kc.getDefaults(),arguments,["voice","options"]);ma(!Ta(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(Kl.getDefaults(),{maxPolyphony:32,options:{},voice:ec})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}wa("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const r=new Ku(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:r,voice:i,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new Ku(this.context,t).toMidi(),r=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));r&&(r.voice.triggerRelease(e),r.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,r){ma(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,r):this._triggerRelease(e,n):this.context.setTimeout((()=>{this._scheduleEvent(t,e,n,r)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const r=this.toSeconds(e);return this._scheduleEvent("attack",t,r,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,r){const i=this.toSeconds(n);if(this.triggerAttack(t,i,r),Oa(e)){ma(Oa(t),"If the duration is an array, the notes must also be an array");for(let n=0;n<t.length;n++){const r=e[Math.min(n,e.length-1)],s=this.toSeconds(r);ma(s>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+s)}}else{const n=this.toSeconds(e);ma(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=$a(t,["onsilence","context"]);return this.options=Ba(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Sc extends Kl{constructor(){super(Wa(Sc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=Wa(Sc.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const r=parseInt(n,10);if(ma(Da(n)||Ta(r)&&isFinite(r),`url key is neither a note or midi pitch: ${n}`),Da(n)){const r=new Eu(this.context,n).toMidi();e[r]=t.urls[n]}else Ta(r)&&isFinite(r)&&(e[r]=t.urls[r])})),this._buffers=new Zu({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(Kl.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:lu,onerror:lu,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const r=xu(new Eu(this.context,t).toFrequency()),i=Math.round(r),s=r-i,o=this._findClosest(i),a=i-o,u=this._buffers.get(a),l=yu(o+s),c=new fl({url:u,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:l}).connect(this.output);c.start(e,0,u.duration/l,n),Oa(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Eu(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,r=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,r),Oa(e)?(ma(Oa(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const r=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(r))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(ma(Da(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Da(t)){const r=new Eu(this.context,t).toMidi();this._buffers.add(r,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}Ra([Fl(0)],Sc.prototype,"attack",void 0),Ra([Fl(0)],Sc.prototype,"release",void 0);class Tc extends Ru{constructor(){super(Wa(Tc.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new Pu("stopped"),this._startOffset=0;const t=Wa(Tc.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Ru.getDefaults(),{callback:lu,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Ta(this._loop)&&this._loop>1){e=1/0,Ta(this._loop)&&(e=this._loop*this._getLoopDuration());const r=this._state.getAfter(n);null!==r&&(e=Math.min(e,r.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new tl(this.context,e));const i=new tl(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new tl(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new tl(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=Ua(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Ea(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new tl(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new tl(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Cc extends Ru{constructor(){super(Wa(Cc.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=Wa(Cc.getDefaults(),arguments,["callback","interval"]);this._event=new Tc({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(Ru.getDefaults(),{interval:"4n",callback:lu,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class Ec extends Tc{constructor(){super(Wa(Ec.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new Pu("stopped"),this._events=new Set;const t=Wa(Ec.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{Oa(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(Tc.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=Ua(e,this._loop?this._loopStart:0),e=this._loop?Ua(e,this._loopStart):Ua(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new tl(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new tl(this.context,e))):t.startOffset>=n&&t.start(new tl(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new Mu(this.context,t).toTicks(),r=new tl(this.context,1).toSeconds(),i=this._events.values();let s=i.next();for(;!s.done;){const t=s.value;if(Math.abs(n-t.startOffset)<r)return ka(e)&&(t.value=e),t;s=i.next()}return ka(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let r;return e instanceof Tc?(r=e,r.callback=this._tick.bind(this)):r=new Tc({callback:this._tick.bind(this),context:this.context,value:e}),r.startOffset=n,r.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(r),this._restartEvent(r),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new tl(this.context,e.time))}))}remove(t,e){return Ca(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(xa(e)||ka(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof Ec?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new tl(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new tl(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Oc(t){let e=0;for(;e<t.length;)e=Mc(e,t),yield t[e],e++}function*Ac(t){let e=t.length-1;for(;e>=0;)e=Mc(e,t),yield t[e],e--}function*Dc(t,e){for(;;)yield*e(t)}function Mc(t,e){return Ka(t,0,e.length-1)}function*Ic(t,e){let n=e?0:t.length-1;for(;;)n=Mc(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*Rc(t){let e=0,n=0;for(;e<t.length;)e=Mc(e,t),yield t[e],n++,e+=n%2?2:-1}function*Pc(t){let e=t.length-1,n=0;for(;e>=0;)e=Mc(e,t),yield t[e],n++,e+=n%2?-2:1}function*Nc(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=Mc(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[n]}}function*qc(t,e="up",n=0){switch(ma(t.length>0,"The array must have more than one value in it"),e){case"up":yield*Dc(t,Oc);case"down":yield*Dc(t,Ac);case"upDown":yield*Ic(t,!0);case"downUp":yield*Ic(t,!1);case"alternateUp":yield*Dc(t,Rc);case"alternateDown":yield*Dc(t,Pc);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case"randomOnce":yield*Dc(t,Nc);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class Fc extends Cc{constructor(){super(Wa(Fc.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=Wa(Fc.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=qc(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Cc.getDefaults(),{pattern:"up",values:[],callback:lu})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=qc(this._values,this._type)}}class jc extends Tc{constructor(){super(Wa(jc.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new Ec({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=Wa(jc.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign($a(Tc.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new tl(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(Aa(e)&&isFinite(parseInt(e,10))&&Oa(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,r)=>{const i=r*e+n;if(Oa(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new tl(this.context,i,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new tl(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class Lc extends qu{constructor(){super(Object.assign(Wa(Lc.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Bl({context:this.context}),this.a=new Vu({context:this.context,gain:0}),this.b=new Vu({context:this.context,gain:0}),this.output=new Vu({context:this.context}),this._internalChannels=[this.a,this.b];const t=Wa(Lc.getDefaults(),arguments,["fade"]);this.fade=new Wu({context:this.context,units:"normalRange",value:t.fade}),au(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ju(this._split,this.a.gain,0),ju(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(qu.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Vc extends qu{constructor(t){super(t),this.name="Effect",this._dryWet=new Lc({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Vu({context:this.context}),this.effectReturn=new Vu({context:this.context}),this.input=new Vu({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],au(this,"wet")}static getDefaults(){return Object.assign(qu.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class zc extends Vc{constructor(t){super(t),this.name="LFOEffect",this._lfo=new Nl({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,au(this,["frequency","depth"])}static getDefaults(){return Object.assign(Vc.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Bc extends zc{constructor(){super(Wa(Bc.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=Wa(Bc.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new sc(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(zc.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Wc extends qu{constructor(){super(Object.assign(Wa(Wc.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=Wa(Wc.getDefaults(),arguments,["pan"]);this.pan=new Nu({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",au(this,"pan")}static getDefaults(){return Object.assign(qu.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Uc extends zc{constructor(){super(Wa(Uc.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=Wa(Uc.getDefaults(),arguments,["frequency"]);this._panner=new Wc({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(zc.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class $c extends qu{constructor(){super(Wa($c.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=Wa($c.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new zl({context:this.context}),this._lowpass=this.output=new bc({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(qu.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class Gc extends Vc{constructor(){super(Wa(Gc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=Wa(Gc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new $c({context:this.context,smoothing:t.follower}),this._sweepRange=new Hl({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new Vu({context:this.context}),this._bandpass=new sc({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new sc({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,au(this,["gain","Q"])}static getDefaults(){return Object.assign(Vc.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return _u(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/vu(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const Qc="bit-crusher";gc(Qc,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class Hc extends Vc{constructor(){super(Wa(Hc.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=Wa(Hc.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new Yc({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Vc.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class Yc extends vc{constructor(){super(Wa(Yc.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=Wa(Yc.getDefaults(),arguments);this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this.bits=new Nu({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(vc.getDefaults(),{bits:12})}_audioWorkletName(){return Qc}onReady(t){Fu(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class Xc extends Vc{constructor(){super(Wa(Xc.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=Wa(Xc.getDefaults(),arguments,["order"]);this._shaper=new xl({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(Vc.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap((e=>this._getCoefficient(e,t,new Map)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Zc extends qu{constructor(){super(Wa(Zc.getDefaults(),arguments,["channels"])),this.name="Split";const t=Wa(Zc.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(qu.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class Kc extends qu{constructor(){super(Wa(Kc.getDefaults(),arguments,["channels"])),this.name="Merge";const t=Wa(Kc.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(qu.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class Jc extends qu{constructor(t){super(t),this.name="StereoEffect",this.input=new Vu({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Lc({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new Zc({context:this.context,channels:2}),this._merge=new Kc({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),au(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),Fu(...t),ju(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),Fu(...t),ju(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(qu.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class th extends Jc{constructor(t){super(t),this.feedback=new Wu({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new Vu({context:this.context}),this._feedbackR=new Vu({context:this.context}),this._feedbackSplit=new Zc({context:this.context,channels:2}),this._feedbackMerge=new Kc({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),au(this,["feedback"])}static getDefaults(){return Object.assign(Jc.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class eh extends th{constructor(){super(Wa(eh.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=Wa(eh.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new Nl({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Nl({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new Yu({context:this.context}),this._delayNodeR=new Yu({context:this.context}),this.frequency=this._lfoL.frequency,au(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(th.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class nh extends Vc{constructor(){super(Wa(nh.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=Wa(nh.getDefaults(),arguments,["distortion"]);this._shaper=new xl({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(Vc.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap((t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class rh extends Vc{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new Vu({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,au(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Vc.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class ih extends rh{constructor(){super(Wa(ih.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=Wa(ih.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new Yu({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),au(this,"delayTime")}static getDefaults(){return Object.assign(rh.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class sh extends qu{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this.offset90=new Vu({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Fu(this.input,...this._bank0,this._oneSampleDelay,this.output),Fu(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map((t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((t=>t.disconnect())),this._bank1.forEach((t=>t.disconnect())),this._oneSampleDelay.disconnect(),this}}class oh extends Vc{constructor(){super(Wa(oh.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=Wa(oh.getDefaults(),arguments,["frequency"]);this.frequency=new Wu({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new yl({context:this.context,type:"sine"}),this._cosine=new bl({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Sl({context:this.context}),this._cosineMultiply=new Sl({context:this.context}),this._negate=new Wl({context:this.context}),this._add=new Il({context:this.context}),this._phaseShifter=new sh({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(Vc.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const ah=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],uh=[225,556,441,341];class lh extends Jc{constructor(){super(Wa(lh.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=Wa(lh.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Wu({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=uh.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._allpassFiltersR=uh.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._combFilters=ah.map(((e,n)=>{const r=new wc({context:this.context,dampening:t.dampening,delayTime:e});return n<ah.length/2?this.connectEffectLeft(r,...this._allpassFiltersL):this.connectEffectRight(r,...this._allpassFiltersR),this.roomSize.connect(r.resonance),r})),au(this,["roomSize"])}static getDefaults(){return Object.assign(Jc.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach((e=>e.dampening=t))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((t=>t.disconnect())),this._allpassFiltersR.forEach((t=>t.disconnect())),this._combFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this}}const ch=[.06748,.06404,.08212,.09004],hh=[.773,.802,.753,.733],fh=[347,113,37];class dh extends Jc{constructor(){super(Wa(dh.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=Wa(dh.getDefaults(),arguments,["roomSize"]);this.roomSize=new Wu({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new Rl({context:this.context,min:-.733,max:.197}),this._allpassFilters=fh.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._feedbackCombFilters=ch.map(((t,e)=>{const n=new yc({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=hh[e],e<ch.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),au(this,["roomSize"])}static getDefaults(){return Object.assign(Jc.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((t=>t.disconnect())),this._feedbackCombFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class ph extends th{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),au(this,["feedback"])}}class mh extends ph{constructor(){super(Wa(mh.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=Wa(mh.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new Yu({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new Yu({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new Yu({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new Wu({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),au(this,["delayTime"])}static getDefaults(){return Object.assign(ph.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class gh extends rh{constructor(){super(Wa(gh.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=Wa(gh.getDefaults(),arguments,["pitch"]);this._frequency=new Wu({context:this.context}),this._delayA=new Yu({maxDelay:1,context:this.context}),this._lfoA=new Nl({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new Yu({maxDelay:1,context:this.context}),this._lfoB=new Nl({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Lc({context:this.context}),this._crossFadeLFO=new Nl({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new Yu({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,au(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(rh.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=yu(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=yu(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class vh extends Jc{constructor(){super(Wa(vh.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=Wa(vh.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new Nl({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new Nl({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new Wu({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),au(this,["frequency","Q"])}static getDefaults(){return Object.assign(Jc.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let r=0;r<t;r++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((t=>t.disconnect())),this._filtersR.forEach((t=>t.disconnect())),this.frequency.dispose(),this}}class _h extends Vc{constructor(){super(Wa(_h.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=Wa(_h.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Vc.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){ga(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){ga(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return Pa(this,void 0,void 0,(function*(){const t=this.ready,e=new hu(2,this._decay+this._preDelay,this.context.sampleRate),n=new dl({context:e}),r=new dl({context:e}),i=new Kc({context:e});n.connect(i,0,0),r.connect(i,0,1);const s=new Vu({context:e}).toDestination();i.connect(s),n.start(0),r.start(0),s.gain.setValueAtTime(0,0),s.gain.setValueAtTime(1,this._preDelay),s.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(lu),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class yh extends qu{constructor(){super(Wa(yh.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new Zc({channels:2,context:this.context}),this._midAdd=new Il({context:this.context}),this.mid=new Sl({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Ul({context:this.context}),this.side=new Sl({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class bh extends qu{constructor(){super(Wa(bh.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Vu({context:this.context}),this.side=new Vu({context:this.context}),this._left=new Il({context:this.context}),this._leftMult=new Sl({context:this.context,value:Math.SQRT1_2}),this._right=new Ul({context:this.context}),this._rightMult=new Sl({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new Kc({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class wh extends Vc{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new bh({context:this.context}),this._midSideSplit=new yh({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class xh extends wh{constructor(){super(Wa(xh.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=Wa(xh.getDefaults(),arguments,["width"]);this.width=new Wu({context:this.context,value:t.width,units:"normalRange"}),au(this,["width"]),this._twoTimesWidthMid=new Sl({context:this.context,value:2}),this._twoTimesWidthSide=new Sl({context:this.context,value:2}),this._midMult=new Sl({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Ul({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),ju(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Sl({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(wh.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class kh extends Jc{constructor(){super(Wa(kh.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=Wa(kh.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new Nl({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new Nl({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new Vu({context:this.context}),this._amplitudeR=new Vu({context:this.context}),this.frequency=new Wu({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new Wu({context:this.context,value:t.depth,units:"normalRange"}),au(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(Jc.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Sh extends Vc{constructor(){super(Wa(Sh.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=Wa(Sh.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new Yu({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new Nl({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,au(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Vc.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Th extends qu{constructor(){super(Wa(Th.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=Wa(Th.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Vu({context:this.context}),this._split=new Zc({context:this.context,channels:t.channels}),this.input.connect(this._split),ga(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(qu.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){ma("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class Ch extends qu{constructor(){super(Wa(Ch.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Th({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Eh extends Ch{constructor(){super(Wa(Eh.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=Wa(Eh.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Th({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Ch.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return wa("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map((t=>{const e=t.reduce(((t,e)=>t+e*e),0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:_u(this._rms)}));return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Oh extends Ch{constructor(){super(Wa(Oh.getDefaults(),arguments,["size"])),this.name="FFT";const t=Wa(Oh.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(qu.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?vu(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return ma(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class Ah extends Ch{constructor(){super(Wa(Ah.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Dh extends Ch{constructor(){super(Wa(Dh.getDefaults(),arguments,["size"])),this.name="Waveform";const t=Wa(Dh.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(Ch.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Mh extends qu{constructor(){super(Wa(Mh.getDefaults(),arguments,["solo"])),this.name="Solo";const t=Wa(Mh.getDefaults(),arguments,["solo"]);this.input=this.output=new Vu({context:this.context}),Mh._allSolos.has(this.context)||Mh._allSolos.set(this.context,new Set),Mh._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(qu.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Mh._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Mh._soloed.has(this.context)||Mh._soloed.set(this.context,new Set),Mh._soloed.get(this.context).add(this)}_removeSolo(){Mh._soloed.has(this.context)&&Mh._soloed.get(this.context).delete(this)}_isSoloed(){return Mh._soloed.has(this.context)&&Mh._soloed.get(this.context).has(this)}_noSolos(){return!Mh._soloed.has(this.context)||Mh._soloed.has(this.context)&&0===Mh._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Mh._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Mh._allSolos=new Map,Mh._soloed=new Map;class Ih extends qu{constructor(){super(Wa(Ih.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=Wa(Ih.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Wc({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new sl({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,au(this,["pan","volume"])}static getDefaults(){return Object.assign(qu.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class Rh extends qu{constructor(){super(Wa(Rh.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=Wa(Rh.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Mh({solo:t.solo,context:this.context}),this._panVol=this.output=new Ih({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),au(this,["pan","volume"])}static getDefaults(){return Object.assign(qu.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return Rh.buses.has(t)||Rh.buses.set(t,new Vu({context:this.context})),Rh.buses.get(t)}send(t,e=0){const n=this._getBus(t),r=new Vu({context:this.context,units:"decibels",gain:e});return this.connect(r),r.connect(n),r}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}Rh.buses=new Map;class Ph extends qu{constructor(){super(Wa(Ph.getDefaults(),arguments)),this.name="Mono",this.input=new Vu({context:this.context}),this._merge=this.output=new Kc({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Nh extends qu{constructor(){super(Wa(Nh.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Vu({context:this.context}),this.output=void 0,this.low=new sc({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new sc({context:this.context,frequency:0,type:"highpass"}),this.mid=new sc({context:this.context,frequency:0,type:"lowpass"}),this.high=new sc({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=Wa(Nh.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Wu({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new Wu({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new Wu({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),au(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(qu.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),uu(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class qh extends qu{constructor(){super(...arguments),this.name="Listener",this.positionX=new Nu({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Nu({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Nu({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Nu({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Nu({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Nu({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Nu({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Nu({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Nu({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(qu.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}eu((t=>{t.listener=new qh({context:t})})),ru((t=>{t.listener.dispose()}));class Fh extends qu{constructor(){super(Wa(Fh.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=Wa(Fh.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new Nu({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new Nu({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new Nu({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new Nu({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new Nu({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new Nu({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(qu.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class jh extends qu{constructor(){super(Wa(jh.getDefaults(),arguments)),this.name="Recorder";const t=Wa(jh.getDefaults(),arguments);this.input=new Vu({context:this.context}),ma(jh.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return qu.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==Ma&&Reflect.has(Ma,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return Pa(this,void 0,void 0,(function*(){ma("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return Pa(this,void 0,void 0,(function*(){ma("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return ma("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Lh extends qu{constructor(){super(Wa(Lh.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=Wa(Lh.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Nu({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new Nu({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new Nu({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new Nu({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new Nu({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),au(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(qu.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Vh extends qu{constructor(){super(Object.assign(Wa(Vh.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=Wa(Vh.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new $c({context:this.context,smoothing:t.smoothing}),this._gt=new Gl({context:this.context,value:vu(t.threshold)}),this.input=new Vu({context:this.context}),this._gate=this.output=new Vu({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(qu.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return _u(this._gt.value)}set threshold(t){this._gt.value=vu(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class zh extends qu{constructor(){super(Object.assign(Wa(zh.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=Wa(zh.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Lh({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,au(this,"threshold")}static getDefaults(){return Object.assign(qu.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Bh extends qu{constructor(){super(Object.assign(Wa(Bh.getDefaults(),arguments))),this.name="MidSideCompressor";const t=Wa(Bh.getDefaults(),arguments);this._midSideSplit=this.input=new yh({context:this.context}),this._midSideMerge=this.output=new bh({context:this.context}),this.mid=new Lh(Object.assign(t.mid,{context:this.context})),this.side=new Lh(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),au(this,["mid","side"])}static getDefaults(){return Object.assign(qu.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Wh extends qu{constructor(){super(Object.assign(Wa(Wh.getDefaults(),arguments))),this.name="MultibandCompressor";const t=Wa(Wh.getDefaults(),arguments);this._splitter=this.input=new Nh({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Vu({context:this.context}),this.low=new Lh(Object.assign(t.low,{context:this.context})),this.mid=new Lh(Object.assign(t.mid,{context:this.context})),this.high=new Lh(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),au(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(qu.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Uh extends qu{constructor(){super(Wa(Uh.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Vu({context:this.context}),this._internalChannels=[];const t=Wa(Uh.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Nh({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new Vu({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new Vu({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new Vu({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),au(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(qu.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),uu(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class $h extends qu{constructor(){super(Wa($h.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=Wa($h.getDefaults(),arguments,["url","onload"]);this._buffer=new cu(t.url,(e=>{this.buffer=e,t.onload()})),this.input=new Vu({context:this.context}),this.output=new Vu({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(qu.getDefaults(),{normalize:!0,onload:lu})}load(t){return Pa(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function Gh(){return pu().now()}function Qh(){return pu().immediate()}const Hh=pu().transport;function Yh(){return pu().transport}const Xh=pu().destination,Zh=pu().destination;function Kh(){return pu().destination}const Jh=pu().listener;function tf(){return pu().listener}const ef=pu().draw;function nf(){return pu().draw}const rf=pu();function sf(){return cu.loaded()}const of=cu,af=Zu,uf=fl;let lf,cf={};const hf=async function(){await gu(),Hh.bpm.value=99,Hh.setLoopPoints(0,"2m"),Hh.loop=!0},ff=function(){return r},df=function(t){cf[t.getUuid()]=t},pf=function(t){return t in cf},mf=function(t){return cf[t]},gf=function(t,e,n,r,i){lf&&function(){for(let t=0;t<lf.length;t++)for(let e=0;e<lf[0].length;e++)for(let n=0;n<lf[0][0].length;n++)Hh.clear(lf[t][e][n])}(),lf=Ze(t,e,n,-1);for(let s=0;s<t;s++)for(let t=0;t<e;t++)for(let e=0;e<n;e++)lf[s][t][e]=Hh.schedule((n=>{const o=[s,t,e];r(o).forEach((t=>cf[t].schedule(n))),ef.schedule((()=>{i(o)}),n)}),`${s}:${t}:${e}`)},vf=function(t){Hh.setLoopPoints(0,`${t}m`)},_f=function(t){t in cf?cf[t].schedule("+0.05"):console.error(`instrument ${t} not loaded yet`)},yf=function(){Hh.start("+0.05")},bf=function(){Hh.stop("+0.05")},wf=function(t){Hh.bpm.value=t};var xf,kf=new Uint8Array(16);function Sf(){if(!xf&&!(xf="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return xf(kf)}const Tf=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Cf=function(t){return"string"==typeof t&&Tf.test(t)};for(var Ef=[],Of=0;Of<256;++Of)Ef.push((Of+256).toString(16).substr(1));const Af=function(t,e,n){var r=(t=t||{}).random||(t.rng||Sf)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Ef[t[e+0]]+Ef[t[e+1]]+Ef[t[e+2]]+Ef[t[e+3]]+"-"+Ef[t[e+4]]+Ef[t[e+5]]+"-"+Ef[t[e+6]]+Ef[t[e+7]]+"-"+Ef[t[e+8]]+Ef[t[e+9]]+"-"+Ef[t[e+10]]+Ef[t[e+11]]+Ef[t[e+12]]+Ef[t[e+13]]+Ef[t[e+14]]+Ef[t[e+15]]).toLowerCase();if(!Cf(n))throw TypeError("Stringified UUID is invalid");return n}(r)};function Df(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Mf{constructor(t,e){Df(this,"name",void 0),Df(this,"value",void 0),Df(this,"update",void 0),this.name=t.name,this.value=t.value,this.update=e}getName(){return this.name}setName(t){this.name=t}getValue(){return this.value}setValue(t){this.value=t,this.update(t)}}class If extends Mf{constructor(t,e){super(t,(t=>e(t))),Df(this,"kind",void 0),Df(this,"min",void 0),Df(this,"max",void 0),Df(this,"step",void 0),this.kind="slider",this.name=t.name,this.min=t.min,this.max=t.max,this.value=t.value,this.step=t.step}toConfigObject(){return{kind:this.kind,name:this.name,value:this.value,min:this.min,max:this.max,step:this.step}}}class Rf extends Mf{constructor(t,e){super(t,(t=>e(t))),Df(this,"kind",void 0),this.kind="switch"}toConfigObject(){return{kind:this.kind,name:this.name,value:this.value}}}function Pf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Nf{constructor(t,e={}){Pf(this,"kind",void 0),Pf(this,"uuid",void 0),Pf(this,"name",void 0),Pf(this,"params",void 0),Pf(this,"channel",void 0),this.uuid=e.uuid?e.uuid:Af(),this.name=e.name?e.name:this.uuid,this.params={byId:{},allIds:[]},this.channel=new Rh(0,0),this.channel.toDestination();const n=new If({kind:"slider",name:"volume",min:-36,max:12,value:0,step:.1},(t=>this.channel.set({volume:t}))),r=new If({kind:"slider",name:"pan",min:-1,max:1,value:0,step:.1},(t=>this.channel.set({pan:t})));Xe(this.params,n.getName(),n),Xe(this.params,r.getName(),r);for(const e of t)Xe(this.params,e.getName(),e)}getKind(){return this.kind}getUuid(){return this.uuid}getName(){return this.name}setName(t){this.name=t}getAllParameterNames(){return this.params.allIds}getParameter(t){return this.params.byId[t]}getParameterConfig(t){return this.params.byId[t].toConfigObject()}getParameterValue(t){return this.params.byId[t].getValue()}setParameterValue(t,e){this.params.byId[t].setValue(e)}getAllParameterConfigs(){return this.params.allIds.map((t=>this.params.byId[t].toConfigObject()))}setSolo(t){this.channel.solo=t}setMute(t){this.channel.mute=t}}function qf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Ff extends Nf{constructor(t,e={}){e.name||(e.name="string"==typeof t?Ff.splitFilename(t):"buffer"),super([new If({kind:"slider",name:"lowpassHz",min:40,max:22e3,value:15e3,step:10},(t=>this.lowpass.set({frequency:t}))),new If({kind:"slider",name:"distortion",min:0,max:1,value:0,step:.1},(t=>this.distortion.set({distortion:t}))),new If({kind:"slider",name:"playbackRate",min:.1,max:3,value:1,step:.1},(t=>{this.player.playbackRate=t})),new Rf({kind:"switch",name:"reverse",value:!1},(t=>{this.player.reverse=t}))],e),qf(this,"kind",void 0),qf(this,"player",void 0),qf(this,"distortion",void 0),qf(this,"lowpass",void 0),this.kind="TonePlayer",this.lowpass=new sc(15e3,"lowpass").connect(this.channel),this.distortion=new nh(0).connect(this.lowpass),this.player=new jl(t).connect(this.distortion)}schedule(t){this.player.start(t)}toDBObject(){const t=this.player.buffer.get();if(!t)throw console.error("audioBuffer undefined"),Error("audioBuffer undefined");const e=this.player.buffer.toArray().buffer;return{kind:this.kind,uuid:this.getUuid(),name:this.getName(),screenName:"TODO",parameters:this.getAllParameterConfigs(),buf:e,nChannels:t.numberOfChannels,length:t.length,sampleRate:t.sampleRate}}static async from(t){const e=new Float32Array(t.buf),n=rf.createBuffer(t.nChannels,t.length,t.sampleRate);for(let r=0;r<t.nChannels;r++)n.copyToChannel(e,r);const r=new Ff(n,{uuid:t.uuid,name:t.name});return await sf(),r}static async fromFile(t){const e=new Ff(URL.createObjectURL(t),{name:t.name});return await sf(),e}static splitFilename(t){const e=t.split("/");return e[e.length-1]}}function jf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Lf extends Nf{constructor(t={}){super([new If({kind:"slider",name:"distortion",min:0,max:1,value:0,step:.1},(t=>this.distortion.set({distortion:t})))],{...t,name:t.name?t.name:"ToneSynth"}),jf(this,"kind",void 0),jf(this,"synth",void 0),jf(this,"distortion",void 0),this.distortion=new nh(0).connect(this.channel),this.synth=(new ec).connect(this.distortion),this.kind="ToneSynth"}schedule(t){this.synth.triggerAttackRelease("C2","8n",t)}toDBObject(){return{kind:this.kind,uuid:this.getUuid(),name:this.getName(),screenName:"TODO",parameters:this.getAllParameterConfigs()}}static async from(t){return new Lf({})}}function Vf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class zf extends Nf{constructor(t,e,n={}){function r(t){return t.getAllParameterNames().map((e=>(t.getParameter(e).setName(`${t.getName()}-${e}`),t.getParameter(e))))}n.name||(n.name=`Djx-${t.getName()}-${e.getName()}`),super([...r(t),...r(e)],n),Vf(this,"kind",void 0),Vf(this,"instrument1",void 0),Vf(this,"instrument2",void 0),Vf(this,"distribution",void 0),this.kind="Disjunction",this.instrument1=t,this.instrument2=e,this.distribution=[.8,.2]}schedule(t){this.pickRandom([this.instrument1,this.instrument2],this.distribution).schedule(t)}pickRandom(t,e){const n=e[0];return Math.random()<n?t[0]:t[1]}toDBObject(){return{kind:this.kind,uuid:this.getUuid(),name:this.getName(),screenName:"TODO",parameters:this.getAllParameterConfigs(),i1:this.instrument1.toDBObject(),i2:this.instrument2.toDBObject()}}static async from(t){const e=await Bf(t.i1);if(e.err)throw console.error("Got error creating i1: ",e.val),e.val;const n=e.unwrap(),r=await Bf(t.i2);if(r.err)throw console.error("Got error creating i2: ",r.val),r.val;const i=r.unwrap();return new zf(n,i,{uuid:t.uuid,name:t.name})}}async function Bf(t){let e;switch(t.kind){case"ToneSynth":return e=await Lf.from(t),wn(e);case"TonePlayer":return e=await Ff.from(t),wn(e);case"Conjunction":return e=await Uf.from(t),wn(e);case"Disjunction":return e=await zf.from(t),wn(e);default:return console.error("Not recognized IInstrument"),bn(new Error(`Unrecognized instrument type: ${t}`))}}function Wf(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Uf extends Nf{constructor(t,e,n={}){function r(t){return t.getAllParameterNames().map((e=>(t.getParameter(e).setName(`${t.getName()}-${e}`),t.getParameter(e))))}n.name||(n.name=`Cjx-${t.getName()}-${e.getName()}`),super([...r(t),...r(e)],n),Wf(this,"kind",void 0),Wf(this,"instrument1",void 0),Wf(this,"instrument2",void 0),this.kind="Conjunction",this.instrument1=t,this.instrument2=e}schedule(t){this.instrument1.schedule(t),this.instrument2.schedule(t)}toDBObject(){return{kind:this.kind,uuid:this.getUuid(),name:this.getName(),screenName:"TODO",parameters:this.getAllParameterConfigs(),i1:this.instrument1.toDBObject(),i2:this.instrument2.toDBObject()}}static async from(t){const e=await Bf(t.i1);if(e.err)throw console.error("Got error creating i1: ",e.val),e.val;const n=e.unwrap(),r=await Bf(t.i2);if(r.err)throw console.error("Got error creating i2: ",r.val),r.val;const i=r.unwrap();return new Uf(n,i,{uuid:t.uuid,name:t.name})}}const $f=He("instruments/fetchDbInstrumentNames",(async()=>{const t=await Nn();if(t.err)throw console.error("got error fetching db names"),t.val;return t.unwrap()})),Gf=He("instruments/fetchSequencerInstruments",(async(t,{dispatch:e})=>{const n=await Fn();if(n.err)throw console.error("err getting sequencer instruments",n.val),n.val;const r=n.unwrap();return e(Kf(r)),r})),Qf=He("instruments/putLocalInstrument",(async(t,{dispatch:e})=>(df(t),e(Jf(t)),{id:t.getUuid(),name:t.getName()}))),Hf=Be({name:"instruments",initialState:{loadedInstruments:{byId:{},allIds:[]},availableInstrumentNames:{byId:{},allIds:[]},sequencerInstrumentIds:[]},reducers:{instrumentStaged:{reducer(t,e){const{id:n,name:r,params:i}=e.payload;t.sequencerInstrumentIds.push(n),t.loadedInstruments.allIds.push(n),t.loadedInstruments.byId[n]={id:n,name:r,muted:!1,solo:!1,params:i}},prepare(t){return{payload:(n=t,{id:n.getUuid(),name:n.getName(),solo:!1,muted:!1,params:(e=n.getAllParameterNames().map(n.getParameterConfig.bind(n)).map((t=>[t.name,t])),{byId:Object.fromEntries(e),allIds:e.map((t=>t[0]))})})};var e,n}},instrumentUnstaged:(t,e)=>{const n=e.payload;delete t.loadedInstruments.byId[n],t.loadedInstruments.allIds.splice(t.loadedInstruments.allIds.indexOf(n),1),t.sequencerInstrumentIds.splice(t.sequencerInstrumentIds.indexOf(n),1)},instrumentDeleted:(t,e)=>{const n=e.payload;delete t.availableInstrumentNames.byId[n],t.availableInstrumentNames.allIds.splice(t.availableInstrumentNames.allIds.indexOf(n),1)},instrumentParameterUpdated:{reducer(t,e){const{instrumentId:n,parameterName:r,value:i}=e.payload;t.loadedInstruments.byId[n].params.byId[r].value=i},prepare:(t,e,n)=>({payload:{instrumentId:t,parameterName:e,value:n}})},instrumentRenamed:{reducer(t,e){const{instrumentId:n,newScreenName:r}=e.payload;t.loadedInstruments.byId[n].name=r,t.availableInstrumentNames.byId[n]=r},prepare:(t,e)=>({payload:{instrumentId:t,newScreenName:e}})},instrumentSolo:{reducer(t,e){const{id:n,value:r}=e.payload;t.loadedInstruments.byId[n].solo=r},prepare:(t,e)=>({payload:{id:t,value:e}})},instrumentMuted:{reducer(t,e){const{id:n,value:r}=e.payload;t.loadedInstruments.byId[n].muted=r},prepare:(t,e)=>({payload:{id:t,value:e}})}},extraReducers:t=>{t.addCase($f.fulfilled,((t,e)=>{e.payload.forEach((e=>{t.availableInstrumentNames.allIds.push(e.uuid),t.availableInstrumentNames.byId[e.uuid]=e.name}))})).addCase(Qf.fulfilled,((t,e)=>{const{id:n,name:r}=e.payload;t.availableInstrumentNames.allIds.push(n),t.availableInstrumentNames.byId[n]=r}))}});function Yf(t){return async function(e,n){const r=Array.from(ud(n()));e(Hf.actions.instrumentUnstaged(t)),console.debug("unstageInstrument: current sequencer=",r);const i=r.indexOf(t);return i>-1?r.splice(i,1):console.error(`id ${t} not found in array:`,r),console.debug(`unstageInstrument: removing iid=${t}, new sequencerInstruments=`,r),await e(td(r)),r}}function Xf(t,e,n){return async function(r){mf(t).setParameterValue(e,n),await r(Hf.actions.instrumentParameterUpdated(t,e,n))}}const Zf=He("instruments/playInstrument",(async t=>{await ed(t),_f(t)}));function Kf(t){return async function(e,n){const r=ud(n());console.debug("setSequencerInstrumentsInStore: current=",r,"setting to: ",t),r.filter((e=>!t.includes(e))).forEach((async t=>{e(Hf.actions.instrumentUnstaged(t))})),t.filter((t=>!r.includes(t))).forEach((async t=>{const n=await ed(t);e(Hf.actions.instrumentStaged(n)),console.debug(`adding iid=${t}`)}))}}function Jf(t){return console.debug("putInstrumentToDb",t),async function(){const e=t.toDBObject(),n=await Pn(e);if(n.err)throw console.error("putInstrumentToDb: got error writing instrument",n.val),n.val;return n.unwrap()}}function td(t){return console.debug("putSequencerInstrumentsToDb",t),async function(){const e=await jn(t);if(e.err)throw console.error("putSequencerInstrumentsToDb: got error writing instrument",e.val),e.val}}async function ed(t){if(function(t){return pf(t)}(t))return mf(t);const e=await Rn(t);if(e.err)throw console.error("db failed loading instrument",e.val),e.val;const n=e.unwrap(),r=await Bf(n);if(r.err)throw console.error("dboToInstrument failed",e.val),e.val;const i=r.unwrap();return df(i),i}const nd=t=>t.instruments.loadedInstruments.allIds,rd=(mt([nd,t=>t.instruments.loadedInstruments.byId],((t,e)=>t.map((t=>e[t])))),(t,e)=>t.instruments.loadedInstruments.byId[e].name),id=(t,e,n)=>t.instruments.loadedInstruments.byId[e].params.byId[n],sd=(t,e)=>t.instruments.loadedInstruments.byId[e].solo,od=(t,e)=>t.instruments.loadedInstruments.byId[e].muted,ad=t=>t.instruments.availableInstrumentNames.allIds.map((e=>({uuid:e,name:t.instruments.availableInstrumentNames.byId[e]}))),ud=t=>t.instruments.sequencerInstrumentIds,ld=t=>t.instruments.sequencerInstrumentIds.map((e=>({uuid:t.instruments.loadedInstruments.byId[e].id,name:t.instruments.loadedInstruments.byId[e].name}))),{instrumentStaged:cd,instrumentUnstaged:hd}=Hf.actions,fd=Hf.reducer;var dd=n(894);const pd=Be({name:"sequencer",initialState:{isPlaying:!1,nBars:2,beatsPerBar:4,padsPerBeat:4,tempo:99,currentNote:[0,0,0],pads:Ze(2,4,4,{}),rtms:{}},reducers:{play:t=>{t.isPlaying=!0},pause:t=>{t.isPlaying=!1},setTempo:(t,e)=>{t.tempo=e.payload},setNBars:(t,e)=>{t.nBars=e.payload},setCurrentNote:(t,e)=>{t.currentNote=e.payload},padClick:{reducer(t,e){const{id:n,note:r}=e.payload,[i,s,o]=r;t.pads[i][s][o][n]=!t.pads[i][s][o][n],t.rtms[n].synced=!1},prepare:(t,e)=>({payload:{id:t,note:e}})},setRtmInput:{reducer(t,e){const{instrumentId:n,rtm:r}=e.payload;t.rtms[n].input=r},prepare:(t,e)=>({payload:{instrumentId:t,rtm:e}})},compileRtm:(t,e)=>{const n=e.payload,r=t.rtms[n].input,{nBars:i,beatsPerBar:s,padsPerBeat:o}=t,a=function(t,e){if(""===t)return wn(new Array(e).fill(!1));let n;try{n=dd.parse(t)}catch(t){return bn(t)}return n.length>e?n=n.slice(0,e):n.concat(new Array(e-n.length).fill(!1)),wn(n)}(r,function(t,e,n){return t*e*n}(i,s,o));if(a.err)return t.rtms[n].valid=!1,void(t.rtms[n].errorMessage=a.val.message);t.rtms[n].valid=!0,t.rtms[n].errorMessage="",t.rtms[n].synced=!0;const u=a.val;let l=0;for(let e=0;e<i;e++)for(let r=0;r<s;r++)for(let i=0;i<o;i++)t.pads[e][r][i][n]=u[l++]},clearAllPads:t=>{const{nBars:e,beatsPerBar:n,padsPerBeat:r}=t;for(let i=0;i<e;i++)for(let e=0;e<n;e++)for(let n=0;n<r;n++)Object.keys(t.pads[i][e][n]).forEach((r=>{t.pads[i][e][n][r]=!1}));for(const e of Object.keys(t.rtms))t.rtms[e].synced=!1}},extraReducers:t=>{t.addCase(cd,((t,e)=>{const{nBars:n,beatsPerBar:r,padsPerBeat:i}=t,{id:s}=e.payload;for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let r=0;r<i;r++)t.pads[e][n][r][s]=!1;t.rtms[s]={input:"",synced:!1,valid:!0,errorMessage:""}})).addCase(hd,((t,e)=>{const{nBars:n,beatsPerBar:r,padsPerBeat:i}=t,s=e.payload;for(let e=0;e<n;e++)for(let n=0;n<r;n++)for(let r=0;r<i;r++)delete t.pads[e][n][r][s];delete t.rtms[s]}))}});function md(t){t(pd.actions.play()),yf()}function gd(t){t(pd.actions.pause()),bf()}const vd=t=>t.sequencer.nBars,_d=t=>t.sequencer.beatsPerBar,yd=t=>t.sequencer.padsPerBeat,bd=t=>t.sequencer.currentNote;const wd=(t,e,[n,r,i])=>t.sequencer.pads[n][r][i][e],{setCurrentNote:xd,padClick:kd,clearAllPads:Sd,setRtmInput:Td,compileRtm:Cd}=pd.actions,Ed=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,r=(t.immutableCheck,t.serializableCheck,new Le);return n&&(function(t){return"boolean"==typeof t}(n)?r.push(At):r.push(At.withExtraArgument(n.extraArgument))),r}(t)},r=t||{},i=r.reducer,s=void 0===i?void 0:i,o=r.middleware,a=void 0===o?n():o,u=r.devTools,l=void 0===u||u,c=r.preloadedState,h=void 0===c?void 0:c,f=r.enhancers,d=void 0===f?void 0:f;if("function"==typeof s)e=s;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"==typeof t[i]&&(n[i]=t[i])}var s,o=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:xt.INIT}))throw new Error(yt(12));if(void 0===n(void 0,{type:xt.PROBE_UNKNOWN_ACTION()}))throw new Error(yt(13))}))}(n)}catch(t){s=t}return function(t,e){if(void 0===t&&(t={}),s)throw s;for(var r=!1,i={},a=0;a<o.length;a++){var u=o[a],l=n[u],c=t[u],h=l(c,e);if(void 0===h)throw e&&e.type,new Error(yt(14));i[u]=h,r=r||h!==c}return(r=r||o.length!==Object.keys(t).length)?i:t}}(s)}var p=a;"function"==typeof p&&(p=p(n));var m=Ct.apply(void 0,p),g=Tt;l&&(g=je(Fe({trace:!1},"object"==typeof l&&l)));var v=[m];return Array.isArray(d)?v=Me([m],d):"function"==typeof d&&(v=d(v)),St(e,h,g.apply(void 0,v))}({reducer:{sequencer:pd.reducer,instruments:fd}}),Od=Ed,Ad=()=>v();function Dd(t){const{status:e,ready:n,children:r}=t;return n?r:i.createElement("div",{className:"loading"},i.createElement("p",null,"Loading..."),i.createElement("p",null,e?`Status=${e}`:""))}var Md=n(184),Id=n.n(Md);function Rd(t){const{isPlaying:e,onClick:n}=t,r=Id()("playButton");return i.createElement("button",{className:r,onClick:n},i.createElement("span",null,e?"Pause":"Play"))}var Pd=n(936);function Nd(){const t=w(vd),e=2===t,n=Ad();return i.createElement("label",{className:Id()("switch","nBars")},i.createElement("span",null,"nBars=",t),i.createElement(Pd.default,{checked:e,onChange:t=>n(function(t){return function(e){e(pd.actions.setNBars(t)),vf(t)}}(t?2:1))}))}function qd(){return qd=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qd.apply(this,arguments)}function Fd(t){const{name:e,min:n=0,max:r=1,value:s=.5,step:o=.1,onInput:a,classNames:u=[]}=t,l=Id()("slider",e,...u);return i.createElement("div",{className:l},i.createElement("label",{htmlFor:e},e," (",s,")"),i.createElement("input",{name:e,id:e,type:"range",min:n,max:r,value:s,step:o,onInput:t=>a(parseFloat(t.target.value))}))}function jd(t){return i.createElement(Fd,qd({classNames:["instrumentParameter"],onInput:t.onInput},w(t.selector)))}function Ld(){const t=w(vd),e=w(_d),n=w(yd),r=w((t=>t.sequencer.tempo)),s=Ad();return i.useEffect((()=>{gf(t,e,n,(t=>((t,e)=>(t=>Object.keys(t.sequencer.pads[0][0][0]))(t).filter((n=>wd(t,n,e))))(Od.getState(),t)),(t=>s(xd(t))))}),[]),i.createElement(i.Fragment,null,i.createElement(Fd,{classNames:["bpm"],name:"bpm",min:10,max:200,value:r,step:1,onInput:t=>s(function(t){return function(e){e(pd.actions.setTempo(t)),wf(t)}}(t))}),i.createElement(Nd,null))}function Vd(){const t=w((t=>t.sequencer.isPlaying)),e=Ad();return i.createElement("section",{className:"sequencerControls"},i.createElement(Ld,null),i.createElement(Rd,{isPlaying:t,onClick:()=>e(t?gd:md)}),i.createElement("button",{className:Id()("clearAll"),onClick:()=>e(Sd())},"Clear All"))}let zd;function Bd(t,e){switch(e.type){case"keyDown":t[e.payload]=!0;break;case"keyUp":t[e.payload]=!1}return t}(zd||(zd={})).actions={KEYDOWN:t=>({type:"keyDown",payload:t}),KEYUP:t=>({type:"keyUp",payload:t})};const Wd=(t,e)=>{const n=t.reduce(((t,e)=>(t[e]=!1,t)),{}),[r,s]=i.useReducer(Bd,n),o=i.useCallback((e=>{const{key:n,target:i,repeat:o}=e;o||t.includes(n)&&(r[n]||s(zd.actions.KEYDOWN(n)))}),[t,r]),a=i.useCallback((n=>{const{key:i,target:o}=n;t.includes(i)&&r[i]&&(s(zd.actions.KEYUP(i)),e())}),[t,r]);i.useEffect((()=>(window.addEventListener("keydown",o,!0),()=>window.removeEventListener("keydown",o,!0))),[o]),i.useEffect((()=>(window.addEventListener("keyup",a,!0),()=>window.removeEventListener("keyup",a,!0))),[a])};function Ud(t){const{instrumentId:e,editable:n=!0}=t,[r,s]=i.useState(!1),o=w((t=>rd(t,e))),a=Ad(),[u,l]=i.useState(o),c=i.useRef(null);return Wd(["Enter"],(()=>{r&&c.current.blur()})),r?i.createElement("input",{className:Id()("instrumentLabel","edit"),type:"text",autoFocus:!0,ref:c,onFocus:t=>t.target.select(),onChange:t=>l(t.target.value),onBlur:t=>{var n,r;a((n=e,r=u,async function(t){const e=mf(n);e.setName(r),await Promise.all([t(Jf(e)),t(Hf.actions.instrumentRenamed(n,r))])})),s(!1)},value:u}):i.createElement("span",{className:Id()("instrumentLabel"),onDoubleClick:()=>{n&&s(!0)}},o)}function $d(t){const{instrumentId:e,keyboardShortcut:n="s"}=t,r=Ad(),s=Id()("instrumentPlayButton");return Wd([n],(()=>{"keyboardShortcut"in t&&r(Zf(e))})),i.createElement("button",{className:s,onClick:()=>r(Zf(e))},"sample")}function Gd(t){const{instrumentId:e,onEdit:n}=t,r=w((t=>sd(t,e))),s=w((t=>od(t,e))),o=Ad(),a=Id()("quickControls");return i.createElement("section",{className:a},i.createElement("button",{className:Id()("quickControlButton","solo",r?"on":"off"),onClick:()=>{return o((t=e,console.debug("solo ",t),async function(e,n){const r=!sd(n(),t),i=mf(t);i.setSolo(r),e(Hf.actions.instrumentSolo(t,r)),i.setMute(!1),e(Hf.actions.instrumentMuted(t,!1))}));var t}},"solo"),i.createElement("button",{className:Id()("quickControlButton","mute",s?"on":"off"),onClick:()=>{return o((t=e,console.debug("mute ",t),async function(e,n){const r=!od(n(),t),i=mf(t);i.setMute(r),e(Hf.actions.instrumentMuted(t,r)),i.setSolo(!1),e(Hf.actions.instrumentSolo(t,!1))}));var t}},"mute"),i.createElement("button",{className:Id()("quickControlButton","edit"),onClick:n},"edit"))}function Qd(t){const{instrumentId:e,parameterName:n}=t,r=w((t=>id(t,e,n))),s=Ad();return i.createElement("div",{className:Id()("switch",n)},i.createElement("label",{htmlFor:n},n),i.createElement(Pd.default,{name:n,checked:r.value,onChange:t=>s(Xf(e,n,t))}))}function Hd(t){const{instrumentId:e,parameterName:n}=t,r=w((t=>id(t,e,n))),s=Ad();switch(r.kind){case"slider":return i.createElement(jd,{selector:t=>id(t,e,n),onInput:t=>s(Xf(e,n,t))});case"switch":return i.createElement(Qd,{instrumentId:e,parameterName:r.name});default:throw new Error("unexpected param kind")}}function Yd(t){const{instrumentId:e}=t,n=w((t=>((t,e)=>t.instruments.loadedInstruments.byId[e].params.allIds)(t,e)));return i.createElement("section",{className:Id()("instrumentParameters")},n.map((t=>i.createElement(Hd,{key:t,instrumentId:e,parameterName:t}))))}var Xd=n(486);function Zd(t){const{instrumentId:e}=t,{input:n,synced:r,valid:s,errorMessage:o}=w((t=>((t,e)=>t.sequencer.rtms[e])(t,e))),a=Ad(),u=(0,Xd.debounce)((()=>{a(Cd(e))}),250);return i.createElement("section",{className:Id()("rtmBox")},i.createElement("span",null,i.createElement("label",null,"RTM"),i.createElement("input",{className:Id()("rtmInput",s?"valid":"invalid"),value:n,type:"text",onChange:t=>{const n=t.target.value;a(Td(e,n)),u()}}),r?"synced":"unsynced"))}function Kd(t){const{instrumentId:e,closePanel:n}=t,r=Id()("fullControlPanel"),s=i.useRef(null);return function(t,e){function n(n){t.current&&!t.current.contains(n.target)&&e(n)}i.useEffect((()=>(document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n))),[t])}(s,n),i.createElement("section",{ref:s,className:r},i.createElement("span",null,i.createElement(Ud,{instrumentId:e,editable:!0}),i.createElement($d,{instrumentId:e,keyboardShortcut:"s"})),i.createElement(Zd,{instrumentId:e}),i.createElement(Yd,{instrumentId:e}))}function Jd(t){const e=document.querySelector("#stepsequencer_container");return s.createPortal(t.children,e)}function tp(t){const{instrumentId:e}=t,[n,r]=i.useState(!1),s=Ad(),o=Id()("track","quickControlPanel");return i.createElement("section",{className:o},i.createElement("button",{className:Id()("removeInstrumentButton"),onClick:t=>s(Yf(e))},"x"),i.createElement(Ud,{instrumentId:e,editable:!1}),i.createElement($d,{instrumentId:e}),i.createElement(Gd,{instrumentId:e,onEdit:()=>r(!0)}),n?i.createElement(Jd,null,i.createElement(Kd,{instrumentId:e,closePanel:()=>r(!1)})):null)}function ep(t){return[...np(0,t)]}function*np(t,e,n=1){for(let r=t;r<e;r+=n)yield r}function rp(t){const{instrumentId:e,note:n}=t,r=w((t=>rd(t,e))),s=w((t=>wd(t,e,n))),o=w(bd),a=o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2],u=Ad(),l=Id()("pad",s?"on":"off",a?"active":"inactive");return i.createElement("button",{"aria-label":`${r} pad${n.join("")}`,className:l,onClick:()=>u(kd(e,n))})}function ip(t){const{instrumentId:e}=t,n=w(vd),r=w(_d),s=w(yd),o=Id()("track","pads");return i.createElement("section",{className:o,style:{gridTemplateColumns:`repeat(${n}, 1fr)`}},ep(n).map((t=>i.createElement("span",{key:`bar${t}`,className:Id()("bar"),style:{gridTemplateColumns:`repeat(${r}, 1fr)`}},ep(r).map((n=>i.createElement("span",{key:`beat${n}`,className:Id()("beat"),style:{gridTemplateColumns:`repeat(${s}, 1fr)`}},ep(s).map((r=>i.createElement(rp,{key:`${r}`,instrumentId:e,note:[t,n,r]}))))))))))}function sp(t){const{instrumentId:e}=t,n=Id()("track");return i.createElement("section",{className:n},i.createElement(tp,{instrumentId:e}),i.createElement(ip,{instrumentId:e}))}function op(){const t=w(nd),e=Id()("tracks");return i.createElement("section",{className:e},t.map((t=>i.createElement(sp,{key:t,instrumentId:t}))))}const ap=function(){return i.createElement("section",{className:"stepSequencer"},i.createElement(Vd,null),i.createElement(op,null))};var up=n(757),lp={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=st()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};function cp(){const t=w(ld),e=Ad();return i.createElement("section",{className:Id()("sequencerInstruments")},i.createElement("p",{className:Id()("instrumentListTitle")},"Staged Instruments"),i.createElement("ol",{className:Id()("instrumentSelectList","right")},t.map((({uuid:t,name:n},r)=>i.createElement("li",{className:Id()("instrumentListItem","sequencer"),key:t,onClick:()=>{e(Zf(t))}},`${r+1}. ${n}`,i.createElement("div",{className:Id()("spacer")}),i.createElement("button",{onClick:()=>e(Yf(t))},"Unstage"))))))}function hp(){const t=w(ad),e=w(ld),n=t.filter((t=>!e.map((t=>t.uuid)).includes(t.uuid)));console.debug("DbInstrumentList dbInstruments:",t),console.debug("DbInstrumentList sequencerInstruments:",e),console.debug("DbInstrumentList availableInstruments:",n);const r=Ad();return i.createElement("section",{className:Id()("availableInstruments")},i.createElement("p",{className:Id()("instrumentListTitle")},"Available to add"),i.createElement("ol",{className:Id()("instrumentSelectList","left")},n.map((({uuid:t,name:e},n)=>i.createElement("li",{className:Id()("instrumentListItem","available"),key:t,onClick:()=>{r(Zf(t))}},`${n+1}. ${e}`,i.createElement("div",{className:Id()("spacer")}),i.createElement("button",{onClick:()=>{return r((e=t,async function(t,n){const r=Array.from(ud(n())),i=await ed(e);return t(Hf.actions.instrumentStaged(i)),r.push(e),t(td(r)),r}));var e}},"Stage"),i.createElement("button",{onClick:()=>{return r((e=t,console.debug("deleteInstrumentFromDb",e),async function(t){const n=await qn(e);if(n.err)throw console.error("deleteInstrumentDb: got error deleting instrument",n.val),n.val;t(Hf.actions.instrumentDeleted(e))}));var e}},"Delete"))))))}function fp(){return console.debug("InstrumentSelect"),i.createElement("section",{className:Id()("instrumentSelect")},i.createElement(hp,null),i.createElement(cp,null))}function dp(){const[t,e]=i.useState([]),n=Ad();return i.createElement("section",null,i.createElement("label",null,"File(s)"),i.createElement("input",{type:"file",multiple:!0,onChange:async t=>{e(Array.from(t.target.files))}}),i.createElement("button",{disabled:0===t.length,onClick:()=>{t.map((async t=>{const e=await Ff.fromFile(t);n(Qf(e))})),e([])}},"Upload"))}function pp(){return i.createElement("section",{className:Id()()},i.createElement(fp,null),i.createElement(dp,null))}function mp(t){const{onClick:e}=t;return i.useEffect((()=>(document.addEventListener("click",e,!1),()=>document.removeEventListener("click",e,!1))),[]),i.createElement("div",{className:Id()("clickToStart"),onClick:e},i.createElement("p",null,"Click Anywhere to Start..."))}function gp(t,e){return e("pending"),t().then((t=>(e("fulfilled"),t))).catch((t=>{throw e("rejected"),t}))}lp.domAPI=rt(),lp.insertStyleElement=at(),et()(up.Z,lp),up.Z&&up.Z.locals&&up.Z.locals;const vp=function(){const t=Ad(),[e,n]=i.useState(!1),[r,s]=i.useState("notStarted"),[o,a]=i.useState("notStarted");return e?i.createElement(B,null,i.createElement($,null,i.createElement(Y,null,"Sequencer"),i.createElement(Y,null,"Instrument Builder")),i.createElement(J,null,i.createElement(Dd,{status:o,ready:"fulfilled"===o},i.createElement(ap,null))),i.createElement(J,null,i.createElement(Dd,{status:r,ready:"fulfilled"===r},i.createElement(pp,null)))):i.createElement(mp,{onClick:()=>{!async function(){console.log("initializing app"),await hf(),gp((()=>t(Gf()).unwrap()),a),gp((()=>t($f()).unwrap()),s).then((async e=>{0===e.length&&(console.debug("found no instruments in db. initializing default instruments"),await t((async function(t){console.debug("initializing default instruments");const e=await async function(){const t=[new zf(new Ff("/assets/audio/shaker1.wav"),new Ff("/assets/audio/shaker2.wav")),new Ff("/assets/audio/hat.wav"),new Ff("/assets/audio/lazertom.wav"),new Ff("/assets/audio/electrotom.wav"),new Ff("/assets/audio/snare.wav"),new Uf(new Ff("/assets/audio/kick.wav"),new Lf({name:"synth"}))];return await ff().loaded(),t}(),n=e.map((t=>t.getUuid()));var r;await ff().loaded(),e.forEach((e=>{t(Qf(e))})),t((r=n,async function(t){await t(Kf(r)),await t(td(r))}))})))}))}(),n(!0)}})},_p=document.querySelector("#stepsequencer_container");s.render(i.createElement(f,{store:Od},i.createElement(vp,null)),_p)})()})();