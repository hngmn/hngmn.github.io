/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={228:t=>{t.exports=function(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s},t.exports.default=t.exports,t.exports.__esModule=!0},858:t=>{t.exports=function(t){if(Array.isArray(t))return t},t.exports.default=t.exports,t.exports.__esModule=!0},575:t=>{t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},t.exports.default=t.exports,t.exports.__esModule=!0},913:t=>{function e(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}t.exports=function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t},t.exports.default=t.exports,t.exports.__esModule=!0},884:t=>{t.exports=function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var s,i,r=[],o=!0,a=!1;try{for(n=n.call(t);!(o=(s=n.next()).done)&&(r.push(s.value),!e||r.length!==e);o=!0);}catch(t){a=!0,i=t}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return r}},t.exports.default=t.exports,t.exports.__esModule=!0},521:t=>{t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},t.exports.default=t.exports,t.exports.__esModule=!0},38:(t,e,n)=>{var s=n(858),i=n(884),r=n(323),o=n(521);t.exports=function(t,e){return s(t)||i(t,e)||r(t,e)||o()},t.exports.default=t.exports,t.exports.__esModule=!0},323:(t,e,n)=>{var s=n(228);t.exports=function(t,e){if(t){if("string"==typeof t)return s(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}},t.exports.default=t.exports,t.exports.__esModule=!0},382:function(t,e,n){!function(t,e,n,s){"use strict";function i(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var r=i(e),o=i(n),a=i(s),l=function(t,e,n){return{endTime:e,insertTime:n,type:"exponentialRampToValue",value:t}},u=function(t,e,n){return{endTime:e,insertTime:n,type:"linearRampToValue",value:t}},c=function(t,e){return{startTime:e,type:"setValue",value:t}},h=function(t,e,n){return{duration:n,startTime:e,type:"setValueCurve",values:t}},d=function(t,e,n){var s=n.startTime,i=n.target,r=n.timeConstant;return i+(e-i)*Math.exp((s-t)/r)},p=function(t){return"exponentialRampToValue"===t.type},f=function(t){return"linearRampToValue"===t.type},m=function(t){return p(t)||f(t)},g=function(t){return"setValue"===t.type},y=function(t){return"setValueCurve"===t.type},v=function t(e,n,s,i){var r=e[n];return void 0===r?i:m(r)||g(r)?r.value:y(r)?r.values[r.values.length-1]:d(s,t(e,n-1,r.startTime,i),r)},_=function(t,e,n,s,i){return void 0===n?[s.insertTime,i]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:y(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(t,e-1,n.startTime,i)]},b=function(t){return"cancelAndHold"===t.type},w=function(t){return"cancelScheduledValues"===t.type},x=function(t){return b(t)||w(t)?t.cancelTime:p(t)||f(t)?t.endTime:t.startTime},k=function(t,e,n,s){var i=s.endTime,r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(t-e)/(i-e)):0},S=function(t,e,n,s){return n+(t-e)/(s.endTime-e)*(s.value-n)},T=function(t,e){var n=e.duration,s=e.startTime,i=e.values;return function(t,e){var n=Math.floor(e),s=Math.ceil(e);return n===s?t[n]:(1-(e-n))*t[n]+(1-(s-e))*t[s]}(i,(t-s)/n*(i.length-1))},C=function(t){return"setTarget"===t.type},O=function(){function t(e){o.default(this,t),this._automationEvents=[],this._currenTime=0,this._defaultValue=e}return a.default(t,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(t){var e=x(t);if(b(t)||w(t)){var n=this._automationEvents.findIndex((function(n){return w(t)&&y(n)?n.startTime+n.duration>=e:x(n)>=e})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(t)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(C(i))throw new Error("The internal list is malformed.");var r=y(i)?i.startTime+i.duration:x(i),o=y(i)?i.values[i.values.length-1]:i.value,a=p(s)?k(e,r,o,s):S(e,r,o,s),d=p(s)?l(a,e,this._currenTime):u(a,e,this._currenTime);this._automationEvents.push(d)}void 0!==i&&C(i)&&this._automationEvents.push(c(this.getValue(e),e)),void 0!==i&&y(i)&&i.startTime+i.duration>e&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,e-i.startTime))}}else{var g=this._automationEvents.findIndex((function(t){return x(t)>e})),v=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==v&&y(v)&&x(v)+v.duration>e)return!1;var _=p(t)?l(t.value,t.endTime,this._currenTime):f(t)?u(t.value,e,this._currenTime):t;if(-1===g)this._automationEvents.push(_);else{if(y(t)&&e+t.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,_)}}return!0}},{key:"flush",value:function(t){var e=this._automationEvents.findIndex((function(e){return x(e)>t}));if(e>1){var n=this._automationEvents.slice(e-1),s=n[0];C(s)&&n.unshift(c(v(this._automationEvents,e-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(t){if(0===this._automationEvents.length)return this._defaultValue;var e=this._automationEvents.findIndex((function(e){return x(e)>t})),n=this._automationEvents[e],s=(-1===e?this._automationEvents.length:e)-1,i=this._automationEvents[s];if(void 0!==i&&C(i)&&(void 0===n||!m(n)||n.insertTime>t))return d(t,v(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(void 0!==i&&g(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==i&&y(i)&&(void 0===n||!m(n)||i.startTime+i.duration>t))return t<i.startTime+i.duration?T(t,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==n&&p(n)){var o=_(this._automationEvents,s,i,n,this._defaultValue),a=r.default(o,2),l=a[0],u=a[1];return k(t,l,u,n)}if(void 0!==n&&f(n)){var c=_(this._automationEvents,s,i,n,this._defaultValue),h=r.default(c,2),b=h[0],w=h[1];return S(t,b,w,n)}return this._defaultValue}}]),t}();t.AutomationEventList=O,t.createCancelAndHoldAutomationEvent=function(t){return{cancelTime:t,type:"cancelAndHold"}},t.createCancelScheduledValuesAutomationEvent=function(t){return{cancelTime:t,type:"cancelScheduledValues"}},t.createExponentialRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"exponentialRampToValue",value:t}},t.createLinearRampToValueAutomationEvent=function(t,e){return{endTime:e,type:"linearRampToValue",value:t}},t.createSetTargetAutomationEvent=function(t,e,n){return{startTime:e,target:t,timeConstant:n,type:"setTarget"}},t.createSetValueAutomationEvent=c,t.createSetValueCurveAutomationEvent=h,Object.defineProperty(t,"__esModule",{value:!0})}(e,n(38),n(575),n(913))},184:(t,e)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&t.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)s.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},60:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var s=n(645),i=n.n(s)()((function(t){return t[1]}));i.push([t.id,".react-dual-listbox {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n}\n.react-dual-listbox * {\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n}\n.react-dual-listbox input:disabled,\n.react-dual-listbox select:disabled {\n  background: #eee;\n  cursor: not-allowed;\n}\n.react-dual-listbox button,\n.react-dual-listbox select {\n  line-height: 1.42857;\n  font-family: inherit;\n}\n\n.rdl-list-box {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 1 0px;\n          flex: 1 1 0;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  -ms-flex-item-align: stretch;\n      align-self: stretch;\n}\n\n.rdl-filter,\n.rdl-control {\n  display: block;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  padding: 8px 12px;\n  width: 100%;\n  color: #333;\n  font-size: 14px;\n}\n\n.rdl-filter {\n  margin-bottom: 10px;\n}\n\n.rdl-control-container {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 1;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.rdl-control-label {\n  padding: 2px 4px;\n}\n.rdl-control-label.rdl-sr-only {\n  position: absolute;\n  clip: rect(0 0 0 0);\n}\n\n.rdl-control {\n  -webkit-box-flex: 1;\n      -ms-flex: 1 0 auto;\n          flex: 1 0 auto;\n}\n.rdl-control optgroup {\n  font: inherit;\n  font-weight: 700;\n}\n\n.rdl-actions {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-flex: 0;\n      -ms-flex: 0 0 auto;\n          flex: 0 0 auto;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n  margin: 0 10px;\n}\n.rdl-has-header .rdl-actions {\n  padding-top: 31px;\n}\n.rdl-has-filter .rdl-actions {\n  padding-top: 44px;\n}\n.rdl-has-header.rdl-has-filter .rdl-actions {\n  padding-top: 75px;\n}\n\n.rdl-actions-right,\n.rdl-actions-left {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-orient: vertical;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: column;\n          flex-direction: column;\n}\n\n.rdl-actions-right {\n  margin-bottom: 10px;\n}\n\n.rdl-move {\n  margin-bottom: 5px;\n  border: 1px solid #ccc;\n  border-radius: 2px;\n  background: #fff;\n  cursor: pointer;\n  padding: 5px 10px;\n  color: #333;\n  font-size: 12px;\n}\n.rdl-move:active:not(:disabled), .rdl-move:focus:not(:disabled) {\n  border-color: #8c8c8c;\n  background: #e6e6e6;\n}\n.rdl-move:focus:not(:disabled) {\n  outline: thin dotted;\n  outline-offset: -2px;\n}\n.rdl-move:hover:not(:disabled) {\n  border-color: #adadad;\n  background: #e6e6e6;\n}\n.rdl-move:disabled {\n  opacity: 0.5;\n  cursor: not-allowed;\n}\n.rdl-move:last-child {\n  margin-bottom: 0;\n}\n.rdl-move i {\n  margin: 0 -1px;\n}\n\n.rdl-align-top .rdl-available {\n  margin-right: 10px;\n}\n.rdl-align-top .rdl-selected {\n  margin-left: 10px;\n}\n.rdl-align-top .rdl-control {\n  border-top-left-radius: 0;\n  border-top-right-radius: 0;\n}\n.rdl-align-top .rdl-actions-left,\n.rdl-align-top .rdl-actions-right {\n  -webkit-box-orient: horizontal;\n  -webkit-box-direction: normal;\n      -ms-flex-direction: row;\n          flex-direction: row;\n  margin: 0;\n}\n.rdl-align-top .rdl-list-box .rdl-move {\n  -webkit-box-flex: 0;\n      -ms-flex: 0 1 50%;\n          flex: 0 1 50%;\n}\n.rdl-align-top .rdl-list-box .rdl-move:first-child {\n  margin-bottom: 0;\n  border-right: 0;\n  border-top-right-radius: 0;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}\n.rdl-align-top .rdl-list-box .rdl-move:last-child {\n  border-top-left-radius: 0;\n  border-bottom-left-radius: 0;\n  border-bottom-right-radius: 0;\n}",""]);const r=i},263:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var s=n(645),i=n.n(s)()((function(t){return t[1]}));i.push([t.id,'.react-tabs {\n  -webkit-tap-highlight-color: transparent;\n}\n\n.react-tabs__tab-list {\n  border-bottom: 1px solid #aaa;\n  margin: 0 0 10px;\n  padding: 0;\n}\n\n.react-tabs__tab {\n  display: inline-block;\n  border: 1px solid transparent;\n  border-bottom: none;\n  bottom: -1px;\n  position: relative;\n  list-style: none;\n  padding: 6px 12px;\n  cursor: pointer;\n}\n\n.react-tabs__tab--selected {\n  background: #fff;\n  border-color: #aaa;\n  color: black;\n  border-radius: 5px 5px 0 0;\n}\n\n.react-tabs__tab--disabled {\n  color: GrayText;\n  cursor: default;\n}\n\n.react-tabs__tab:focus {\n  box-shadow: 0 0 5px hsl(208, 99%, 50%);\n  border-color: hsl(208, 99%, 50%);\n  outline: none;\n}\n\n.react-tabs__tab:focus:after {\n  content: "";\n  position: absolute;\n  height: 5px;\n  left: -4px;\n  right: -4px;\n  bottom: -5px;\n  background: #fff;\n}\n\n.react-tabs__tab-panel {\n  display: none;\n}\n\n.react-tabs__tab-panel--selected {\n  display: block;\n}\n',""]);const r=i},763:(t,e,n)=>{"use strict";n.d(e,{Z:()=>r});var s=n(645),i=n.n(s)()((function(t){return t[1]}));i.push([t.id,'html, body {\n  margin: 0px;\n  height: 100vh;\n}\n\n.stepSequencer {\n  display: block;\n  position: absolute;\n  background-color: #3b60a9;\n  border: 4px black;\n  height: 100vh;\n  width: 100vw;\n}\n\n.sequencerControls {\n  display: grid;\n  grid-template-columns: minmax(10px, 20vw) minmax(10px, 15vw) 1fr minmax(10px, auto) minmax(10px, auto);\n  grid-template-rows: auto;\n  grid-template-areas:\n    "bpm bar . play clear";\n  justify-items: center;\n  border: 1px solid black;\n  border-radius: 4px;\n  padding: 15px;\n}\n\n.slider.bpm {\n  grid-area: bpm;\n}\n\n.switch.nBars {\n  grid-area: bar;\n}\n\n.playButton {\n  grid-area: play;\n\n  display: inline-block;\n  border-radius: 28px;\n  color: #ffffff;\n  background: #d9ad34;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n}\n\n.clearAll {\n  grid-area: clear;\n\n  display: inline-block;\n  border-radius: 28px;\n  color: #ffffff;\n  background: #d9ad34;\n  padding: 10px 20px 10px 20px;\n  text-decoration: none;\n}\n\n.tracks {\n  display: block;\n}\n\n.track {\n  display: grid;\n  grid-template-columns: [icp-start] minmax(0, 1fr) [icp-end] 25px [pads-start] minmax(0, 5fr) [pads-end];\n  grid-template-rows: auto;\n}\n\n.fullControlPanel {\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-template-rows: minmax(10px, auto) minmax(10px, 1fr);\n  grid-template-areas:\n    "label"\n    "parameters";\n  justify-items: stretch;\n\n  z-index: 42;\n  box-shadow: 5px 5px gray;\n  position: relative;\n  top: 20vh;\n  left: 20vw;\n  width: 40vw;\n  height: 40vh;\n  background-color: orange;\n  border: 1px solid black;\n  border-radius: 4px;\n}\n\n.quickControlPanel {\n  grid-column: icp-start / icp-end;\n\n  display: grid;\n  grid-template-columns: 15px minmax(0, 1fr) auto;\n  grid-template-rows: minmax(10px, auto) minmax(0px, 1fr);\n  grid-template-areas:\n    "rm label play"\n    "qc qc    qc";\n  justify-items: center;\n  align-items: center;\n  border: 1px solid black;\n  border-radius: 2px;\n}\n\n.removeInstrumentButton {\n  grid-area: rm;\n\n  display: inline;\n  padding: 5px;\n  background-color: transparent;\n  border: none;\n  border-radius: 2px;\n}\n\n.instrumentLabel {\n  grid-area: label;\n}\n\n.instrumentPlayButton {\n  display: inline;\n  grid-area: play;\n  margin: 3px 10px;\n}\n\n.quickControls {\n  display: inline;\n  grid-area: qc;\n}\n\n.quickControlButton {\n  display: inline;\n  margin: 3px 5px;\n}\n\n.instrumentParameters {\n  grid-area: parameters;\n}\n\n.slider {\n  display: inline-grid;\n  grid-template-columns: minmax(10px, 40%) minmax(10px, 60%);\n  grid-template-rows: auto;\n  grid-template-areas:\n    "label slider";\n  justify-items: start;\n}\n\n.slider.instrumentParameter {\n  display: grid;\n}\n\n.slider.instrumentParameter label {\n  grid-area: label;\n}\n\n.slider.instrumentParameter input {\n  grid-area: slider;\n  justify-self: center;\n  width: 80%\n}\n\n.pads {\n  grid-column: pads-start / pads-end;\n\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 6px;\n  justify-self: start;\n}\n\n.bar {\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 4px;\n}\n\n.beat > button:first-child {\n  border-color: orange;\n}\n\n.beat {\n  display: grid;\n  grid-template-rows: auto;\n  column-gap: 2px;\n}\n\n.pad {\n  display: inline-block;\n  border-radius: 2px;\n  padding: 15px 15px;\n  margin: 0px;\n  cursor: pointer;\n  border: 1px solid gray;\n}\n\n.pad.on {\n  background-color: #e5f523;\n}\n\n.pad.off {\n  background-color: #829bb1;\n}\n\n.pad.active {\n  border: 2px solid yellow;\n}\n',""]);const r=i},645:t=>{"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=t(e);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,s){"string"==typeof t&&(t=[[null,t,""]]);var i={};if(s)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var a=0;a<t.length;a++){var l=[].concat(t[a]);s&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),e.push(l))}},e}},679:(t,e,n)=>{"use strict";var s=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(t){return s.isMemo(t)?o:a[t.$$typeof]||i}a[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[s.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;t.exports=function t(e,n,s){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&t(e,i,s)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(e),m=l(n),g=0;g<o.length;++g){var y=o[g];if(!(r[y]||s&&s[y]||m&&m[y]||a&&a[y])){var v=d(n,y);try{u(e,y,v)}catch(t){}}}}return e}},418:t=>{"use strict";var e=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function i(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(t){s[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(t){return!1}}()?Object.assign:function(t,r){for(var o,a,l=i(t),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(e){a=e(o);for(var h=0;h<a.length;h++)s.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},703:(t,e,n)=>{"use strict";var s=n(414);function i(){}function r(){}r.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(t,e,n)=>{"use strict";var s=n(294),i=n(418),r=n(840);function o(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!s)throw Error(o(227));var a=new Set,l={};function u(t,e){c(t,e),c(t+"Capture",e)}function c(t,e){for(l[t]=e,t=0;t<e.length;t++)a.add(e[t])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(t,e,n,s,i,r,o){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=r,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){y[t]=new g(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];y[e]=new g(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){y[t]=new g(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){y[t]=new g(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){y[t]=new g(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){y[t]=new g(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){y[t]=new g(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){y[t]=new g(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){y[t]=new g(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,s){var i=y.hasOwnProperty(e)?y[e]:null;(null!==i?0===i.type:!s&&2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1]))||(function(t,e,n,s){if(null==e||function(t,e,n,s){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,s)&&(n=null),s||null===i?function(t){return!!p.call(m,t)||!p.call(f,t)&&(d.test(t)?m[t]=!0:(f[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,s=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?t.setAttributeNS(s,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,_);y[e]=new g(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,_);y[e]=new g(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,_);y[e]=new g(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!1,!1)})),y.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){y[t]=new g(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,k=60106,S=60107,T=60108,C=60114,O=60109,E=60110,A=60112,D=60113,M=60120,R=60115,P=60116,I=60121,N=60128,q=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),k=V("react.portal"),S=V("react.fragment"),T=V("react.strict_mode"),C=V("react.profiler"),O=V("react.provider"),E=V("react.context"),A=V("react.forward_ref"),D=V("react.suspense"),M=V("react.suspense_list"),R=V("react.memo"),P=V("react.lazy"),I=V("react.block"),V("react.scope"),N=V("react.opaque.id"),q=V("react.debug_trace_mode"),F=V("react.offscreen"),j=V("react.legacy_hidden")}var L,z="function"==typeof Symbol&&Symbol.iterator;function B(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=z&&t[z]||t["@@iterator"])?t:null}function U(t){if(void 0===L)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);L=e&&e[1]||""}return"\n"+L+t}var W=!1;function $(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(t){var s=t}Reflect.construct(t,[],e)}else{try{e.call()}catch(t){s=t}t.call(e.prototype)}else{try{throw Error()}catch(t){s=t}t()}}catch(t){if(t&&s&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),r=s.stack.split("\n"),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==r[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?U(t):""}function H(t){switch(t.tag){case 5:return U(t.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return $(t.type,!1);case 11:return $(t.type.render,!1);case 22:return $(t.type._render,!1);case 1:return $(t.type,!0);default:return""}}function Q(t){if(null==t)return null;if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t;switch(t){case S:return"Fragment";case k:return"Portal";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if("object"==typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case O:return(t._context.displayName||"Context")+".Provider";case A:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case R:return Q(t.type);case I:return Q(t._render);case P:e=t._payload,t=t._init;try{return Q(t(e))}catch(t){}}return null}function G(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function X(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Y(t){t._valueTracker||(t._valueTracker=function(t){var e=X(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),s=""+t[e];if(!t.hasOwnProperty(e)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){s=""+t,r.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(t){s=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function Z(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),s="";return t&&(s=X(t)?t.checked?"true":"false":t.value),(t=s)!==n&&(e.setValue(t),!0)}function K(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,s=null!=e.checked?e.checked:e.defaultChecked;n=G(null!=e.value?e.value:n),t._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=G(e.value),s=e.type;if(null!=n)"number"===s?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===s||"reset"===s)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,G(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function st(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var s=e.type;if(!("submit"!==s&&"reset"!==s||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&K(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function rt(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return s.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function ot(t,e,n,s){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&s&&(t[n].defaultSelected=!0)}else{for(n=""+G(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(s&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function at(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(o(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:G(n)}}function ut(t,e){var n=G(e.value),s=G(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=s&&(t.defaultValue=""+s)}function ct(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ht="http://www.w3.org/1999/xhtml";function dt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?dt(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var ft,mt,gt=(mt=function(t,e){if("http://www.w3.org/2000/svg"!==t.namespaceURI||"innerHTML"in t)t.innerHTML=e;else{for((ft=ft||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ft.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,s){MSApp.execUnsafeLocalFunction((function(){return mt(t,e)}))}:mt);function yt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var vt={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},_t=["Webkit","ms","Moz","O"];function bt(t,e,n){return null==e||"boolean"==typeof e||""===e?"":n||"number"!=typeof e||0===e||vt.hasOwnProperty(t)&&vt[t]?(""+e).trim():e+"px"}function wt(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=bt(n,e[n],s);"float"===n&&(n="cssFloat"),s?t.setProperty(n,i):t[n]=i}}Object.keys(vt).forEach((function(t){_t.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vt[e]=vt[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(o(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(o(60));if("object"!=typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=e.style&&"object"!=typeof e.style)throw Error(o(62))}}function St(t,e){if(-1===t.indexOf("-"))return"string"==typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Tt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Ct=null,Ot=null,Et=null;function At(t){if(t=Js(t)){if("function"!=typeof Ct)throw Error(o(280));var e=t.stateNode;e&&(e=ei(e),Ct(t.stateNode,t.type,e))}}function Dt(t){Ot?Et?Et.push(t):Et=[t]:Ot=t}function Mt(){if(Ot){var t=Ot,e=Et;if(Et=Ot=null,At(t),e)for(t=0;t<e.length;t++)At(e[t])}}function Rt(t,e){return t(e)}function Pt(t,e,n,s,i){return t(e,n,s,i)}function It(){}var Nt=Rt,qt=!1,Ft=!1;function jt(){null===Ot&&null===Et||(It(),Mt())}function Vt(t,e){var n=t.stateNode;if(null===n)return null;var s=ei(n);if(null===s)return null;n=s[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!s;break t;default:t=!1}if(t)return null;if(n&&"function"!=typeof n)throw Error(o(231,e,typeof n));return n}var Lt=!1;if(h)try{var zt={};Object.defineProperty(zt,"passive",{get:function(){Lt=!0}}),window.addEventListener("test",zt,zt),window.removeEventListener("test",zt,zt)}catch(mt){Lt=!1}function Bt(t,e,n,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(t){this.onError(t)}}var Ut=!1,Wt=null,$t=!1,Ht=null,Qt={onError:function(t){Ut=!0,Wt=t}};function Gt(t,e,n,s,i,r,o,a,l){Ut=!1,Wt=null,Bt.apply(Qt,arguments)}function Xt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!=(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function Yt(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&null!==(t=t.alternate)&&(e=t.memoizedState),null!==e)return e.dehydrated}return null}function Zt(t){if(Xt(t)!==t)throw Error(o(188))}function Kt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Xt(t)))throw Error(o(188));return e!==t?null:t}for(var n=t,s=e;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(s=i.return)){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Zt(i),t;if(r===s)return Zt(i),e;r=r.sibling}throw Error(o(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Jt(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var te,ee,ne,se,ie=!1,re=[],oe=null,ae=null,le=null,ue=new Map,ce=new Map,he=[],de="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,s,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[s]}}function fe(t,e){switch(t){case"focusin":case"focusout":oe=null;break;case"dragenter":case"dragleave":ae=null;break;case"mouseover":case"mouseout":le=null;break;case"pointerover":case"pointerout":ue.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function me(t,e,n,s,i,r){return null===t||t.nativeEvent!==r?(t=pe(e,n,s,i,r),null!==e&&null!==(e=Js(e))&&ee(e),t):(t.eventSystemFlags|=s,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function ge(t){var e=Ks(t.target);if(null!==e){var n=Xt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=Yt(n)))return t.blockedOn=e,void se(t.lanePriority,(function(){r.unstable_runWithPriority(t.priority,(function(){ne(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ye(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=Js(n))&&ee(e),t.blockedOn=n,!1;e.shift()}return!0}function ve(t,e,n){ye(t)&&n.delete(e)}function _e(){for(ie=!1;0<re.length;){var t=re[0];if(null!==t.blockedOn){null!==(t=Js(t.blockedOn))&&te(t);break}for(var e=t.targetContainers;0<e.length;){var n=Ke(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&re.shift()}null!==oe&&ye(oe)&&(oe=null),null!==ae&&ye(ae)&&(ae=null),null!==le&&ye(le)&&(le=null),ue.forEach(ve),ce.forEach(ve)}function be(t,e){t.blockedOn===e&&(t.blockedOn=null,ie||(ie=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,_e)))}function we(t){function e(e){return be(e,t)}if(0<re.length){be(re[0],t);for(var n=1;n<re.length;n++){var s=re[n];s.blockedOn===t&&(s.blockedOn=null)}}for(null!==oe&&be(oe,t),null!==ae&&be(ae,t),null!==le&&be(le,t),ue.forEach(e),ce.forEach(e),n=0;n<he.length;n++)(s=he[n]).blockedOn===t&&(s.blockedOn=null);for(;0<he.length&&null===(n=he[0]).blockedOn;)ge(n),null===n.blockedOn&&he.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Se={},Te={};function Ce(t){if(Se[t])return Se[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Te)return Se[t]=n[e];return t}h&&(Te=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Oe=Ce("animationend"),Ee=Ce("animationiteration"),Ae=Ce("animationstart"),De=Ce("transitionend"),Me=new Map,Re=new Map,Pe=["abort","abort",Oe,"animationEnd",Ee,"animationIteration",Ae,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",De,"transitionEnd","waiting","waiting"];function Ie(t,e){for(var n=0;n<t.length;n+=2){var s=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Re.set(s,e),Me.set(s,i),u(i,[s])}}(0,r.unstable_now)();var Ne=8;function qe(t){if(0!=(1&t))return Ne=15,1;if(0!=(2&t))return Ne=14,2;if(0!=(4&t))return Ne=13,4;var e=24&t;return 0!==e?(Ne=12,e):0!=(32&t)?(Ne=11,32):0!=(e=192&t)?(Ne=10,e):0!=(256&t)?(Ne=9,256):0!=(e=3584&t)?(Ne=8,e):0!=(4096&t)?(Ne=7,4096):0!=(e=4186112&t)?(Ne=6,e):0!=(e=62914560&t)?(Ne=5,e):67108864&t?(Ne=4,67108864):0!=(134217728&t)?(Ne=3,134217728):0!=(e=805306368&t)?(Ne=2,e):0!=(1073741824&t)?(Ne=1,1073741824):(Ne=8,t)}function Fe(t,e){var n=t.pendingLanes;if(0===n)return Ne=0;var s=0,i=0,r=t.expiredLanes,o=t.suspendedLanes,a=t.pingedLanes;if(0!==r)s=r,i=Ne=15;else if(0!=(r=134217727&n)){var l=r&~o;0!==l?(s=qe(l),i=Ne):0!=(a&=r)&&(s=qe(a),i=Ne)}else 0!=(r=n&~o)?(s=qe(r),i=Ne):0!==a&&(s=qe(a),i=Ne);if(0===s)return 0;if(s=n&((0>(s=31-Ue(s))?0:1<<s)<<1)-1,0!==e&&e!==s&&0==(e&o)){if(qe(e),i<=Ne)return e;Ne=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=s;0<e;)i=1<<(n=31-Ue(e)),s|=t[n],e&=~i;return s}function je(t){return 0!=(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ve(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Le(24&~e))?Ve(10,e):t;case 10:return 0===(t=Le(192&~e))?Ve(8,e):t;case 8:return 0===(t=Le(3584&~e))&&0===(t=Le(4186112&~e))&&(t=512),t;case 2:return 0===(e=Le(805306368&~e))&&(e=268435456),e}throw Error(o(358,t))}function Le(t){return t&-t}function ze(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Be(t,e,n){t.pendingLanes|=e;var s=e-1;t.suspendedLanes&=s,t.pingedLanes&=s,(t=t.eventTimes)[e=31-Ue(e)]=n}var Ue=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(We(t)/$e|0)|0},We=Math.log,$e=Math.LN2,He=r.unstable_UserBlockingPriority,Qe=r.unstable_runWithPriority,Ge=!0;function Xe(t,e,n,s){qt||It();var i=Ze,r=qt;qt=!0;try{Pt(i,t,e,n,s)}finally{(qt=r)||jt()}}function Ye(t,e,n,s){Qe(He,Ze.bind(null,t,e,n,s))}function Ze(t,e,n,s){var i;if(Ge)if((i=0==(4&e))&&0<re.length&&-1<de.indexOf(t))t=pe(null,t,e,n,s),re.push(t);else{var r=Ke(t,e,n,s);if(null===r)i&&fe(t,s);else{if(i){if(-1<de.indexOf(t))return t=pe(r,t,e,n,s),void re.push(t);if(function(t,e,n,s,i){switch(e){case"focusin":return oe=me(oe,t,e,n,s,i),!0;case"dragenter":return ae=me(ae,t,e,n,s,i),!0;case"mouseover":return le=me(le,t,e,n,s,i),!0;case"pointerover":var r=i.pointerId;return ue.set(r,me(ue.get(r)||null,t,e,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,ce.set(r,me(ce.get(r)||null,t,e,n,s,i)),!0}return!1}(r,t,e,n,s))return;fe(t,s)}Ms(t,e,s,null,n)}}}function Ke(t,e,n,s){var i=Tt(s);if(null!==(i=Ks(i))){var r=Xt(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=Yt(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ms(t,e,s,i,n),null}var Je=null,tn=null,en=null;function nn(){if(en)return en;var t,e,n=tn,s=n.length,i="value"in Je?Je.value:Je.textContent,r=i.length;for(t=0;t<s&&n[t]===i[t];t++);var o=s-t;for(e=1;e<=o&&n[s-e]===i[r-e];e++);return en=i.slice(t,1<e?1-e:void 0)}function sn(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function rn(){return!0}function on(){return!1}function an(t){function e(e,n,s,i,r){for(var o in this._reactName=e,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,t)t.hasOwnProperty(o)&&(e=t[o],this[o]=e?e(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!=typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!=typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),e}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),pn=i({},hn,{view:0,detail:0}),fn=an(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(ln=t.screenX-cn.screenX,un=t.screenY-cn.screenY):un=ln=0,cn=t),ln)},movementY:function(t){return"movementY"in t?t.movementY:un}}),gn=an(mn),yn=an(i({},mn,{dataTransfer:0})),vn=an(i({},pn,{relatedTarget:0})),_n=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},hn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),wn=an(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Sn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Sn[t])&&!!e[t]}function Cn(){return Tn}var On=an(i({},pn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=sn(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?kn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(t){return"keypress"===t.type?sn(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?sn(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),En=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=an(i({},mn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),Rn=[9,13,27,32],Pn=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var Nn=h&&"TextEvent"in window&&!In,qn=h&&(!Pn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),jn=!1;function Vn(t,e){switch(t){case"keyup":return-1!==Rn.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(t){return"object"==typeof(t=t.detail)&&"data"in t?t.data:null}var zn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Un(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Bn[t.type]:"textarea"===e}function Wn(t,e,n,s){Dt(s),0<(e=Ps(e,"onChange")).length&&(n=new dn("onChange","change",null,n,s),t.push({event:n,listeners:e}))}var $n=null,Hn=null;function Qn(t){Ts(t,0)}function Gn(t){if(Z(ti(t)))return t}function Xn(t,e){if("change"===t)return e}var Yn=!1;if(h){var Zn;if(h){var Kn="oninput"in document;if(!Kn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Kn="function"==typeof Jn.oninput}Zn=Kn}else Zn=!1;Yn=Zn&&(!document.documentMode||9<document.documentMode)}function ts(){$n&&($n.detachEvent("onpropertychange",es),Hn=$n=null)}function es(t){if("value"===t.propertyName&&Gn(Hn)){var e=[];if(Wn(e,Hn,t,Tt(t)),t=Qn,qt)t(e);else{qt=!0;try{Rt(t,e)}finally{qt=!1,jt()}}}}function ns(t,e,n){"focusin"===t?(ts(),Hn=n,($n=e).attachEvent("onpropertychange",es)):"focusout"===t&&ts()}function ss(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return Gn(Hn)}function is(t,e){if("click"===t)return Gn(e)}function rs(t,e){if("input"===t||"change"===t)return Gn(e)}var os="function"==typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t==1/e)||t!=t&&e!=e},as=Object.prototype.hasOwnProperty;function ls(t,e){if(os(t,e))return!0;if("object"!=typeof t||null===t||"object"!=typeof e||null===e)return!1;var n=Object.keys(t),s=Object.keys(e);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++)if(!as.call(e,n[s])||!os(t[n[s]],e[n[s]]))return!1;return!0}function us(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cs(t,e){var n,s=us(t);for(t=0;s;){if(3===s.nodeType){if(n=t+s.textContent.length,t<=e&&n>=e)return{node:s,offset:e-t};t=n}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=us(s)}}function hs(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?hs(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function ds(){for(var t=window,e=K();e instanceof t.HTMLIFrameElement;){try{var n="string"==typeof e.contentWindow.location.href}catch(t){n=!1}if(!n)break;e=K((t=e.contentWindow).document)}return e}function ps(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var fs=h&&"documentMode"in document&&11>=document.documentMode,ms=null,gs=null,ys=null,vs=!1;function _s(t,e,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vs||null==ms||ms!==K(s)||(s="selectionStart"in(s=ms)&&ps(s)?{start:s.selectionStart,end:s.selectionEnd}:{anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},ys&&ls(ys,s)||(ys=s,0<(s=Ps(gs,"onSelect")).length&&(e=new dn("onSelect","select",null,e,n),t.push({event:e,listeners:s}),e.target=ms)))}Ie("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ie("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ie(Pe,2);for(var bs="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ws=0;ws<bs.length;ws++)Re.set(bs[ws],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ks=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function Ss(t,e,n){var s=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,s,i,r,a,l,u){if(Gt.apply(this,arguments),Ut){if(!Ut)throw Error(o(198));var c=Wt;Ut=!1,Wt=null,$t||($t=!0,Ht=c)}}(s,e,void 0,t),t.currentTarget=null}function Ts(t,e){e=0!=(4&e);for(var n=0;n<t.length;n++){var s=t[n],i=s.event;s=s.listeners;t:{var r=void 0;if(e)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break t;Ss(i,a,u),r=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break t;Ss(i,a,u),r=l}}}if($t)throw t=Ht,$t=!1,Ht=null,t}function Cs(t,e){var n=ni(e),s=t+"__bubble";n.has(s)||(Ds(e,t,2,!1),n.add(s))}var Os="_reactListening"+Math.random().toString(36).slice(2);function Es(t){t[Os]||(t[Os]=!0,a.forEach((function(e){ks.has(e)||As(e,!1,t,null),As(e,!0,t,null)})))}function As(t,e,n,s){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===t&&9!==n.nodeType&&(r=n.ownerDocument),null!==s&&!e&&ks.has(t)){if("scroll"!==t)return;i|=2,r=s}var o=ni(r),a=t+"__"+(e?"capture":"bubble");o.has(a)||(e&&(i|=4),Ds(r,t,i,e),o.add(a))}function Ds(t,e,n,s){var i=Re.get(e);switch(void 0===i?2:i){case 0:i=Xe;break;case 1:i=Ye;break;default:i=Ze}n=i.bind(null,e,n,t),i=void 0,!Lt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),s?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ms(t,e,n,s,i){var r=s;if(0==(1&e)&&0==(2&e)&&null!==s)t:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ks(a)))return;if(5===(l=o.tag)||6===l){s=r=o;continue t}a=a.parentNode}}s=s.return}!function(t,e,n){if(Ft)return t();Ft=!0;try{Nt(t,e,n)}finally{Ft=!1,jt()}}((function(){var s=r,i=Tt(n),o=[];t:{var a=Me.get(t);if(void 0!==a){var l=dn,u=t;switch(t){case"keypress":if(0===sn(n))break t;case"keydown":case"keyup":l=On;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Oe:case Ee:case Ae:l=_n;break;case De:l=Dn;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!=(4&e),h=!c&&"scroll"===t,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=s;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Vt(f,d))&&c.push(Rs(f,m,p))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(a="mouseover"===t||"pointerover"===t)||0!=(16&e)||!(u=n.relatedTarget||n.fromElement)||!Ks(u)&&!u[Ys])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(u=(u=n.relatedTarget||n.toElement)?Ks(u):null)&&(u!==(h=Xt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=s),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==t&&"pointerover"!==t||(c=En,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:ti(l),p=null==u?a:ti(u),(a=new c(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,Ks(i)===s&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)t:{for(d=u,f=0,p=c=l;p;p=Is(p))f++;for(p=0,m=d;m;m=Is(m))p++;for(;0<f-p;)c=Is(c),f--;for(;0<p-f;)d=Is(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break t;c=Is(c),d=Is(d)}c=null}else c=null;null!==l&&Ns(o,a,l,c,!1),null!==u&&null!==h&&Ns(o,h,u,c,!0)}if("select"===(l=(a=s?ti(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Xn;else if(Un(a))if(Yn)g=rs;else{g=ss;var y=ns}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=is);switch(g&&(g=g(t,s))?Wn(o,g,n,i):(y&&y(t,a,s),"focusout"===t&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&it(a,"number",a.value)),y=s?ti(s):window,t){case"focusin":(Un(y)||"true"===y.contentEditable)&&(ms=y,gs=s,ys=null);break;case"focusout":ys=gs=ms=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,_s(o,n,i);break;case"selectionchange":if(fs)break;case"keydown":case"keyup":_s(o,n,i)}var v;if(Pn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else zn?Vn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(qn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==_?"onCompositionEnd"===_&&zn&&(v=nn()):(tn="value"in(Je=i)?Je.value:Je.textContent,zn=!0)),0<(y=Ps(s,_)).length&&(_=new wn(_,t,null,n,i),o.push({event:_,listeners:y}),(v||null!==(v=Ln(n)))&&(_.data=v))),(v=Nn?function(t,e){switch(t){case"compositionend":return Ln(e);case"keypress":return 32!==e.which?null:(jn=!0,Fn);case"textInput":return(t=e.data)===Fn&&jn?null:t;default:return null}}(t,n):function(t,e){if(zn)return"compositionend"===t||!Pn&&Vn(t,e)?(t=nn(),en=tn=Je=null,zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qn&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&0<(s=Ps(s,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:s}),i.data=v)}Ts(o,e)}))}function Rs(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Ps(t,e){for(var n=e+"Capture",s=[];null!==t;){var i=t,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Vt(t,n))&&s.unshift(Rs(t,r,i)),null!=(r=Vt(t,e))&&s.push(Rs(t,r,i))),t=t.return}return s}function Is(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Ns(t,e,n,s,i){for(var r=e._reactName,o=[];null!==n&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Vt(n,r))&&o.unshift(Rs(n,l,a)):i||null!=(l=Vt(n,r))&&o.push(Rs(n,l,a))),n=n.return}0!==o.length&&t.push({event:e,listeners:o})}function qs(){}var Fs=null,js=null;function Vs(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Ls(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"==typeof e.children||"number"==typeof e.children||"object"==typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var zs="function"==typeof setTimeout?setTimeout:void 0,Bs="function"==typeof clearTimeout?clearTimeout:void 0;function Us(t){(1===t.nodeType||9===t.nodeType&&null!=(t=t.body))&&(t.textContent="")}function Ws(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function $s(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Hs=0,Qs=Math.random().toString(36).slice(2),Gs="__reactFiber$"+Qs,Xs="__reactProps$"+Qs,Ys="__reactContainer$"+Qs,Zs="__reactEvents$"+Qs;function Ks(t){var e=t[Gs];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ys]||n[Gs]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=$s(t);null!==t;){if(n=t[Gs])return n;t=$s(t)}return e}n=(t=n).parentNode}return null}function Js(t){return!(t=t[Gs]||t[Ys])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ti(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(o(33))}function ei(t){return t[Xs]||null}function ni(t){var e=t[Zs];return void 0===e&&(e=t[Zs]=new Set),e}var si=[],ii=-1;function ri(t){return{current:t}}function oi(t){0>ii||(t.current=si[ii],si[ii]=null,ii--)}function ai(t,e){ii++,si[ii]=t.current,t.current=e}var li={},ui=ri(li),ci=ri(!1),hi=li;function di(t,e){var n=t.type.contextTypes;if(!n)return li;var s=t.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===e)return s.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=e[i];return s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function pi(t){return null!=t.childContextTypes}function fi(){oi(ci),oi(ui)}function mi(t,e,n){if(ui.current!==li)throw Error(o(168));ai(ui,e),ai(ci,n)}function gi(t,e,n){var s=t.stateNode;if(t=e.childContextTypes,"function"!=typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in t))throw Error(o(108,Q(e)||"Unknown",r));return i({},n,s)}function yi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||li,hi=ui.current,ai(ui,t),ai(ci,ci.current),!0}function vi(t,e,n){var s=t.stateNode;if(!s)throw Error(o(169));n?(t=gi(t,e,hi),s.__reactInternalMemoizedMergedChildContext=t,oi(ci),oi(ui),ai(ui,t)):oi(ci),ai(ci,n)}var _i=null,bi=null,wi=r.unstable_runWithPriority,xi=r.unstable_scheduleCallback,ki=r.unstable_cancelCallback,Si=r.unstable_shouldYield,Ti=r.unstable_requestPaint,Ci=r.unstable_now,Oi=r.unstable_getCurrentPriorityLevel,Ei=r.unstable_ImmediatePriority,Ai=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,Mi=r.unstable_LowPriority,Ri=r.unstable_IdlePriority,Pi={},Ii=void 0!==Ti?Ti:function(){},Ni=null,qi=null,Fi=!1,ji=Ci(),Vi=1e4>ji?Ci:function(){return Ci()-ji};function Li(){switch(Oi()){case Ei:return 99;case Ai:return 98;case Di:return 97;case Mi:return 96;case Ri:return 95;default:throw Error(o(332))}}function zi(t){switch(t){case 99:return Ei;case 98:return Ai;case 97:return Di;case 96:return Mi;case 95:return Ri;default:throw Error(o(332))}}function Bi(t,e){return t=zi(t),wi(t,e)}function Ui(t,e,n){return t=zi(t),xi(t,e,n)}function Wi(){if(null!==qi){var t=qi;qi=null,ki(t)}$i()}function $i(){if(!Fi&&null!==Ni){Fi=!0;var t=0;try{var e=Ni;Bi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(e){throw null!==Ni&&(Ni=Ni.slice(t+1)),xi(Ei,Wi),e}finally{Fi=!1}}}var Hi=w.ReactCurrentBatchConfig;function Qi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var Gi=ri(null),Xi=null,Yi=null,Zi=null;function Ki(){Zi=Yi=Xi=null}function Ji(t){var e=Gi.current;oi(Gi),t.type._context._currentValue=e}function tr(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function er(t,e){Xi=t,Zi=Yi=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!=(t.lanes&e)&&(Po=!0),t.firstContext=null)}function nr(t,e){if(Zi!==t&&!1!==e&&0!==e)if("number"==typeof e&&1073741823!==e||(Zi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===Yi){if(null===Xi)throw Error(o(308));Yi=e,Xi.dependencies={lanes:0,firstContext:e,responders:null}}else Yi=Yi.next=e;return t._currentValue}var sr=!1;function ir(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rr(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function or(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ar(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function lr(t,e){var n=t.updateQueue,s=t.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?i=r=e:r=r.next=e}else i=r=e;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ur(t,e,n,s){var r=t.updateQueue;sr=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=t.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=r.baseState,a=0,h=c=u=null;;){l=o.lane;var p=o.eventTime;if((s&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});t:{var f=t,m=o;switch(l=e,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,l);break t}d=f;break t;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,d,l):f))break t;d=i({},d,l);break t;case 2:sr=!0}}null!==o.callback&&(t.flags|=32,null===(l=r.effects)?r.effects=[o]:l.push(o))}else p={eventTime:p,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,a|=l;if(null===(o=o.next)){if(null===(l=r.shared.pending))break;o=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===h&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,Na|=a,t.lanes=a,t.memoizedState=d}}function cr(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var s=t[e],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!=typeof i)throw Error(o(191,i));i.call(s)}}}var hr=(new s.Component).refs;function dr(t,e,n,s){n=null==(n=n(s,e=t.memoizedState))?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var pr={isMounted:function(t){return!!(t=t._reactInternals)&&Xt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var s=ol(),i=al(t),r=or(s,i);r.payload=e,null!=n&&(r.callback=n),ar(t,r),ll(t,i,s)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var s=ol(),i=al(t),r=or(s,i);r.tag=1,r.payload=e,null!=n&&(r.callback=n),ar(t,r),ll(t,i,s)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ol(),s=al(t),i=or(n,s);i.tag=2,null!=e&&(i.callback=e),ar(t,i),ll(t,s,n)}};function fr(t,e,n,s,i,r,o){return"function"==typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(s,r,o):!(e.prototype&&e.prototype.isPureReactComponent&&ls(n,s)&&ls(i,r))}function mr(t,e,n){var s=!1,i=li,r=e.contextType;return"object"==typeof r&&null!==r?r=nr(r):(i=pi(e)?hi:ui.current,r=(s=null!=(s=e.contextTypes))?di(t,i):li),e=new e(n,r),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=pr,t.stateNode=e,e._reactInternals=t,s&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=r),e}function gr(t,e,n,s){t=e.state,"function"==typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,s),"function"==typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,s),e.state!==t&&pr.enqueueReplaceState(e,e.state,null)}function yr(t,e,n,s){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=hr,ir(t);var r=e.contextType;"object"==typeof r&&null!==r?i.context=nr(r):(r=pi(e)?hi:ui.current,i.context=di(t,r)),ur(t,n,i,s),i.state=t.memoizedState,"function"==typeof(r=e.getDerivedStateFromProps)&&(dr(t,e,r,n),i.state=t.memoizedState),"function"==typeof e.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(e=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&pr.enqueueReplaceState(i,i.state,null),ur(t,n,i,s),i.state=t.memoizedState),"function"==typeof i.componentDidMount&&(t.flags|=4)}var vr=Array.isArray;function _r(t,e,n){if(null!==(t=n.ref)&&"function"!=typeof t&&"object"!=typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"==typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=s.refs;e===hr&&(e=s.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!=typeof t)throw Error(o(284));if(!n._owner)throw Error(o(290,t))}return t}function br(t,e){if("textarea"!==t.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function wr(t){function e(e,n){if(t){var s=e.lastEffect;null!==s?(s.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,s){if(!t)return null;for(;null!==s;)e(n,s),s=s.sibling;return null}function s(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Ll(t,e)).index=0,t.sibling=null,t}function r(e,n,s){return e.index=s,t?null!==(s=e.alternate)?(s=s.index)<n?(e.flags=2,n):s:(e.flags=2,n):n}function a(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,s){return null===e||6!==e.tag?((e=Wl(n,t.mode,s)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,s){return null!==e&&e.elementType===n.type?((s=i(e,n.props)).ref=_r(t,e,n),s.return=t,s):((s=zl(n.type,n.key,n.props,null,t.mode,s)).ref=_r(t,e,n),s.return=t,s)}function c(t,e,n,s){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=$l(n,t.mode,s)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function h(t,e,n,s,r){return null===e||7!==e.tag?((e=Bl(n,t.mode,s,r)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"==typeof e||"number"==typeof e)return(e=Wl(""+e,t.mode,n)).return=t,e;if("object"==typeof e&&null!==e){switch(e.$$typeof){case x:return(n=zl(e.type,e.key,e.props,null,t.mode,n)).ref=_r(t,null,e),n.return=t,n;case k:return(e=$l(e,t.mode,n)).return=t,e}if(vr(e)||B(e))return(e=Bl(e,t.mode,n,null)).return=t,e;br(t,e)}return null}function p(t,e,n,s){var i=null!==e?e.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(t,e,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?h(t,e,n.props.children,s,i):u(t,e,n,s):null;case k:return n.key===i?c(t,e,n,s):null}if(vr(n)||B(n))return null!==i?null:h(t,e,n,s,null);br(t,n)}return null}function f(t,e,n,s,i){if("string"==typeof s||"number"==typeof s)return l(e,t=t.get(n)||null,""+s,i);if("object"==typeof s&&null!==s){switch(s.$$typeof){case x:return t=t.get(null===s.key?n:s.key)||null,s.type===S?h(e,t,s.props.children,i,s.key):u(e,t,s,i);case k:return c(e,t=t.get(null===s.key?n:s.key)||null,s,i)}if(vr(s)||B(s))return h(e,t=t.get(n)||null,s,i,null);br(e,s)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var y=p(i,h,a[m],l);if(null===y){null===h&&(h=g);break}t&&h&&null===y.alternate&&e(i,h),o=r(y,o,m),null===c?u=y:c.sibling=y,c=y,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=r(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=s(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(t&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=r(g,o,m),null===c?u=g:c.sibling=g,c=g);return t&&h.forEach((function(t){return e(i,t)})),u}function g(i,a,l,u){var c=B(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var _=p(i,m,v.value,u);if(null===_){null===m&&(m=y);break}t&&m&&null===_.alternate&&e(i,m),a=r(_,a,g),null===h?c=_:h.sibling=_,h=_,m=y}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=s(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(t&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return t&&m.forEach((function(t){return e(i,t)})),c}return function(t,s,r,l){var u="object"==typeof r&&null!==r&&r.type===S&&null===r.key;u&&(r=r.props.children);var c="object"==typeof r&&null!==r;if(c)switch(r.$$typeof){case x:t:{for(c=r.key,u=s;null!==u;){if(u.key===c){switch(u.tag){case 7:if(r.type===S){n(t,u.sibling),(s=i(u,r.props.children)).return=t,t=s;break t}break;default:if(u.elementType===r.type){n(t,u.sibling),(s=i(u,r.props)).ref=_r(t,u,r),s.return=t,t=s;break t}}n(t,u);break}e(t,u),u=u.sibling}r.type===S?((s=Bl(r.props.children,t.mode,l,r.key)).return=t,t=s):((l=zl(r.type,r.key,r.props,null,t.mode,l)).ref=_r(t,s,r),l.return=t,t=l)}return a(t);case k:t:{for(u=r.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(t,s.sibling),(s=i(s,r.children||[])).return=t,t=s;break t}n(t,s);break}e(t,s),s=s.sibling}(s=$l(r,t.mode,l)).return=t,t=s}return a(t)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==s&&6===s.tag?(n(t,s.sibling),(s=i(s,r)).return=t,t=s):(n(t,s),(s=Wl(r,t.mode,l)).return=t,t=s),a(t);if(vr(r))return m(t,s,r,l);if(B(r))return g(t,s,r,l);if(c&&br(t,r),void 0===r&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,Q(t.type)||"Component"))}return n(t,s)}}var xr=wr(!0),kr=wr(!1),Sr={},Tr=ri(Sr),Cr=ri(Sr),Or=ri(Sr);function Er(t){if(t===Sr)throw Error(o(174));return t}function Ar(t,e){switch(ai(Or,e),ai(Cr,t),ai(Tr,Sr),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}oi(Tr),ai(Tr,e)}function Dr(){oi(Tr),oi(Cr),oi(Or)}function Mr(t){Er(Or.current);var e=Er(Tr.current),n=pt(e,t.type);e!==n&&(ai(Cr,t),ai(Tr,n))}function Rr(t){Cr.current===t&&(oi(Tr),oi(Cr))}var Pr=ri(0);function Ir(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!=(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nr=null,qr=null,Fr=!1;function jr(t,e){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Vr(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function Lr(t){if(Fr){var e=qr;if(e){var n=e;if(!Vr(t,e)){if(!(e=Ws(n.nextSibling))||!Vr(t,e))return t.flags=-1025&t.flags|2,Fr=!1,void(Nr=t);jr(Nr,n)}Nr=t,qr=Ws(e.firstChild)}else t.flags=-1025&t.flags|2,Fr=!1,Nr=t}}function zr(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Nr=t}function Br(t){if(t!==Nr)return!1;if(!Fr)return zr(t),Fr=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Ls(e,t.memoizedProps))for(e=qr;e;)jr(t,e),e=Ws(e.nextSibling);if(zr(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(o(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){qr=Ws(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}qr=null}}else qr=Nr?Ws(t.stateNode.nextSibling):null;return!0}function Ur(){qr=Nr=null,Fr=!1}var Wr=[];function $r(){for(var t=0;t<Wr.length;t++)Wr[t]._workInProgressVersionPrimary=null;Wr.length=0}var Hr=w.ReactCurrentDispatcher,Qr=w.ReactCurrentBatchConfig,Gr=0,Xr=null,Yr=null,Zr=null,Kr=!1,Jr=!1;function to(){throw Error(o(321))}function eo(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!os(t[n],e[n]))return!1;return!0}function no(t,e,n,s,i,r){if(Gr=r,Xr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hr.current=null===t||null===t.memoizedState?Ao:Do,t=n(s,i),Jr){r=0;do{if(Jr=!1,!(25>r))throw Error(o(301));r+=1,Zr=Yr=null,e.updateQueue=null,Hr.current=Mo,t=n(s,i)}while(Jr)}if(Hr.current=Eo,e=null!==Yr&&null!==Yr.next,Gr=0,Zr=Yr=Xr=null,Kr=!1,e)throw Error(o(300));return t}function so(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zr?Xr.memoizedState=Zr=t:Zr=Zr.next=t,Zr}function io(){if(null===Yr){var t=Xr.alternate;t=null!==t?t.memoizedState:null}else t=Yr.next;var e=null===Zr?Xr.memoizedState:Zr.next;if(null!==e)Zr=e,Yr=t;else{if(null===t)throw Error(o(310));t={memoizedState:(Yr=t).memoizedState,baseState:Yr.baseState,baseQueue:Yr.baseQueue,queue:Yr.queue,next:null},null===Zr?Xr.memoizedState=Zr=t:Zr=Zr.next=t}return Zr}function ro(t,e){return"function"==typeof e?e(t):e}function oo(t){var e=io(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var s=Yr,i=s.baseQueue,r=n.pending;if(null!==r){if(null!==i){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,n.pending=null}if(null!==i){i=i.next,s=s.baseState;var l=a=r=null,u=i;do{var c=u.lane;if((Gr&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),s=u.eagerReducer===t?u.eagerState:t(s,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,r=s):l=l.next=h,Xr.lanes|=c,Na|=c}u=u.next}while(null!==u&&u!==i);null===l?r=s:l.next=a,os(s,e.memoizedState)||(Po=!0),e.memoizedState=s,e.baseState=r,e.baseQueue=l,n.lastRenderedState=s}return[e.memoizedState,n.dispatch]}function ao(t){var e=io(),n=e.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=t;var s=n.dispatch,i=n.pending,r=e.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{r=t(r,a.action),a=a.next}while(a!==i);os(r,e.memoizedState)||(Po=!0),e.memoizedState=r,null===e.baseQueue&&(e.baseState=r),n.lastRenderedState=r}return[r,s]}function lo(t,e,n){var s=e._getVersion;s=s(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===s:(t=t.mutableReadLanes,(t=(Gr&t)===t)&&(e._workInProgressVersionPrimary=s,Wr.push(e))),t)return n(e._source);throw Wr.push(e),Error(o(350))}function uo(t,e,n,s){var i=Oa;if(null===i)throw Error(o(349));var r=e._getVersion,a=r(e._source),l=Hr.current,u=l.useState((function(){return lo(i,e,n)})),c=u[1],h=u[0];u=Zr;var d=t.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=Xr;return t.memoizedState={refs:p,source:e,subscribe:s},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var t=r(e._source);if(!os(a,t)){t=n(e._source),os(h,t)||(c(t),t=al(g),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var s=i.entanglements,o=t;0<o;){var l=31-Ue(o),u=1<<l;s[l]|=t,o&=~u}}}),[n,e,s]),l.useEffect((function(){return s(e._source,(function(){var t=p.getSnapshot,n=p.setSnapshot;try{n(t(e._source));var s=al(g);i.mutableReadLanes|=s&i.pendingLanes}catch(t){n((function(){throw t}))}}))}),[e,s]),os(f,n)&&os(m,e)&&os(d,s)||((t={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:h}).dispatch=c=Oo.bind(null,Xr,t),u.queue=t,u.baseQueue=null,h=lo(i,e,n),u.memoizedState=u.baseState=h),h}function co(t,e,n){return uo(io(),t,e,n)}function ho(t){var e=so();return"function"==typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:t}).dispatch=Oo.bind(null,Xr,t),[e.memoizedState,t]}function po(t,e,n,s){return t={tag:t,create:e,destroy:n,deps:s,next:null},null===(e=Xr.updateQueue)?(e={lastEffect:null},Xr.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(s=n.next,n.next=t,t.next=s,e.lastEffect=t),t}function fo(t){return t={current:t},so().memoizedState=t}function mo(){return io().memoizedState}function go(t,e,n,s){var i=so();Xr.flags|=t,i.memoizedState=po(1|e,n,void 0,void 0===s?null:s)}function yo(t,e,n,s){var i=io();s=void 0===s?null:s;var r=void 0;if(null!==Yr){var o=Yr.memoizedState;if(r=o.destroy,null!==s&&eo(s,o.deps))return void po(e,n,r,s)}Xr.flags|=t,i.memoizedState=po(1|e,n,r,s)}function vo(t,e){return go(516,4,t,e)}function _o(t,e){return yo(516,4,t,e)}function bo(t,e){return yo(4,2,t,e)}function wo(t,e){return"function"==typeof e?(t=t(),e(t),function(){e(null)}):null!=e?(t=t(),e.current=t,function(){e.current=null}):void 0}function xo(t,e,n){return n=null!=n?n.concat([t]):null,yo(4,2,wo.bind(null,e,t),n)}function ko(){}function So(t,e){var n=io();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&eo(e,s[1])?s[0]:(n.memoizedState=[t,e],t)}function To(t,e){var n=io();e=void 0===e?null:e;var s=n.memoizedState;return null!==s&&null!==e&&eo(e,s[1])?s[0]:(t=t(),n.memoizedState=[t,e],t)}function Co(t,e){var n=Li();Bi(98>n?98:n,(function(){t(!0)})),Bi(97<n?97:n,(function(){var n=Qr.transition;Qr.transition=1;try{t(!1),e()}finally{Qr.transition=n}}))}function Oo(t,e,n){var s=ol(),i=al(t),r={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=e.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),e.pending=r,o=t.alternate,t===Xr||null!==o&&o===Xr)Jr=Kr=!0;else{if(0===t.lanes&&(null===o||0===o.lanes)&&null!==(o=e.lastRenderedReducer))try{var a=e.lastRenderedState,l=o(a,n);if(r.eagerReducer=o,r.eagerState=l,os(l,a))return}catch(t){}ll(t,i,s)}}var Eo={readContext:nr,useCallback:to,useContext:to,useEffect:to,useImperativeHandle:to,useLayoutEffect:to,useMemo:to,useReducer:to,useRef:to,useState:to,useDebugValue:to,useDeferredValue:to,useTransition:to,useMutableSource:to,useOpaqueIdentifier:to,unstable_isNewReconciler:!1},Ao={readContext:nr,useCallback:function(t,e){return so().memoizedState=[t,void 0===e?null:e],t},useContext:nr,useEffect:vo,useImperativeHandle:function(t,e,n){return n=null!=n?n.concat([t]):null,go(4,2,wo.bind(null,e,t),n)},useLayoutEffect:function(t,e){return go(4,2,t,e)},useMemo:function(t,e){var n=so();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var s=so();return e=void 0!==n?n(e):e,s.memoizedState=s.baseState=e,t=(t=s.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Oo.bind(null,Xr,t),[s.memoizedState,t]},useRef:fo,useState:ho,useDebugValue:ko,useDeferredValue:function(t){var e=ho(t),n=e[0],s=e[1];return vo((function(){var e=Qr.transition;Qr.transition=1;try{s(t)}finally{Qr.transition=e}}),[t]),n},useTransition:function(){var t=ho(!1),e=t[0];return fo(t=Co.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var s=so();return s.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},uo(s,t,e,n)},useOpaqueIdentifier:function(){if(Fr){var t=!1,e=function(t){return{$$typeof:N,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Hs++).toString(36))),Error(o(355))})),n=ho(e)[1];return 0==(2&Xr.mode)&&(Xr.flags|=516,po(5,(function(){n("r:"+(Hs++).toString(36))}),void 0,null)),e}return ho(e="r:"+(Hs++).toString(36)),e},unstable_isNewReconciler:!1},Do={readContext:nr,useCallback:So,useContext:nr,useEffect:_o,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:To,useReducer:oo,useRef:mo,useState:function(){return oo(ro)},useDebugValue:ko,useDeferredValue:function(t){var e=oo(ro),n=e[0],s=e[1];return _o((function(){var e=Qr.transition;Qr.transition=1;try{s(t)}finally{Qr.transition=e}}),[t]),n},useTransition:function(){var t=oo(ro)[0];return[mo().current,t]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(ro)[0]},unstable_isNewReconciler:!1},Mo={readContext:nr,useCallback:So,useContext:nr,useEffect:_o,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:To,useReducer:ao,useRef:mo,useState:function(){return ao(ro)},useDebugValue:ko,useDeferredValue:function(t){var e=ao(ro),n=e[0],s=e[1];return _o((function(){var e=Qr.transition;Qr.transition=1;try{s(t)}finally{Qr.transition=e}}),[t]),n},useTransition:function(){var t=ao(ro)[0];return[mo().current,t]},useMutableSource:co,useOpaqueIdentifier:function(){return ao(ro)[0]},unstable_isNewReconciler:!1},Ro=w.ReactCurrentOwner,Po=!1;function Io(t,e,n,s){e.child=null===t?kr(e,null,n,s):xr(e,t.child,n,s)}function No(t,e,n,s,i){n=n.render;var r=e.ref;return er(e,i),s=no(t,e,n,s,r,i),null===t||Po?(e.flags|=1,Io(t,e,s,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jo(t,e,i))}function qo(t,e,n,s,i,r){if(null===t){var o=n.type;return"function"!=typeof o||Vl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=zl(n.type,null,s,e,e.mode,r)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=o,Fo(t,e,o,s,i,r))}return o=t.child,0==(i&r)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ls)(i,s)&&t.ref===e.ref)?Jo(t,e,r):(e.flags|=1,(t=Ll(o,s)).ref=e.ref,t.return=e,e.child=t)}function Fo(t,e,n,s,i,r){if(null!==t&&ls(t.memoizedProps,s)&&t.ref===e.ref){if(Po=!1,0==(r&i))return e.lanes=t.lanes,Jo(t,e,r);0!=(16384&t.flags)&&(Po=!0)}return Lo(t,e,n,s,r)}function jo(t,e,n){var s=e.pendingProps,i=s.children,r=null!==t?t.memoizedState:null;if("hidden"===s.mode||"unstable-defer-without-hiding"===s.mode)if(0==(4&e.mode))e.memoizedState={baseLanes:0},gl(0,n);else{if(0==(1073741824&n))return t=null!==r?r.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},gl(0,t),null;e.memoizedState={baseLanes:0},gl(0,null!==r?r.baseLanes:n)}else null!==r?(s=r.baseLanes|n,e.memoizedState=null):s=n,gl(0,s);return Io(t,e,i,n),e.child}function Vo(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Lo(t,e,n,s,i){var r=pi(n)?hi:ui.current;return r=di(e,r),er(e,i),n=no(t,e,n,s,r,i),null===t||Po?(e.flags|=1,Io(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,Jo(t,e,i))}function zo(t,e,n,s,i){if(pi(n)){var r=!0;yi(e)}else r=!1;if(er(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),mr(e,n,s),yr(e,n,s,i),s=!0;else if(null===t){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?nr(u):di(e,u=pi(n)?hi:ui.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==s||l!==u)&&gr(e,o,s,u),sr=!1;var d=e.memoizedState;o.state=d,ur(e,s,o,i),l=e.memoizedState,a!==s||d!==l||ci.current||sr?("function"==typeof c&&(dr(e,n,c,s),l=e.memoizedState),(a=sr||fr(e,n,a,s,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(e.flags|=4)):("function"==typeof o.componentDidMount&&(e.flags|=4),e.memoizedProps=s,e.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):("function"==typeof o.componentDidMount&&(e.flags|=4),s=!1)}else{o=e.stateNode,rr(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Qi(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?nr(l):di(e,l=pi(n)?hi:ui.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&gr(e,o,s,l),sr=!1,d=e.memoizedState,o.state=d,ur(e,s,o,i);var f=e.memoizedState;a!==h||d!==f||ci.current||sr?("function"==typeof p&&(dr(e,n,p,s),f=e.memoizedState),(u=sr||fr(e,n,u,s,d,f,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(s,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,f,l)),"function"==typeof o.componentDidUpdate&&(e.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=s,e.memoizedState=f),o.props=s,o.state=f,o.context=l,s=u):("function"!=typeof o.componentDidUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),s=!1)}return Bo(t,e,n,s,r,i)}function Bo(t,e,n,s,i,r){Vo(t,e);var o=0!=(64&e.flags);if(!s&&!o)return i&&vi(e,n,!1),Jo(t,e,r);s=e.stateNode,Ro.current=e;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:s.render();return e.flags|=1,null!==t&&o?(e.child=xr(e,t.child,null,r),e.child=xr(e,null,a,r)):Io(t,e,a,r),e.memoizedState=s.state,i&&vi(e,n,!0),e.child}function Uo(t){var e=t.stateNode;e.pendingContext?mi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&mi(0,e.context,!1),Ar(t,e.containerInfo)}var Wo,$o,Ho,Qo={dehydrated:null,retryLane:0};function Go(t,e,n){var s,i=e.pendingProps,r=Pr.current,o=!1;return(s=0!=(64&e.flags))||(s=(null===t||null!==t.memoizedState)&&0!=(2&r)),s?(o=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(r|=1),ai(Pr,1&r),null===t?(void 0!==i.fallback&&Lr(e),t=i.children,r=i.fallback,o?(t=Xo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qo,t):"number"==typeof i.unstable_expectedLoadTime?(t=Xo(e,t,r,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Qo,e.lanes=33554432,t):((n=Ul({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,o?(i=function(t,e,n,s,i){var r=e.mode,o=t.child;t=o.sibling;var a={mode:"hidden",children:n};return 0==(2&r)&&e.child!==o?((n=e.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=o,o.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Ll(o,a),null!==t?s=Ll(t,s):(s=Bl(s,r,i,null)).flags|=2,s.return=e,n.return=e,n.sibling=s,e.child=n,s}(t,e,i.children,i.fallback,n),o=e.child,r=t.child.memoizedState,o.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},o.childLanes=t.childLanes&~n,e.memoizedState=Qo,i):(n=function(t,e,n,s){var i=t.child;return t=i.sibling,n=Ll(i,{mode:"visible",children:n}),0==(2&e.mode)&&(n.lanes=s),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}(t,e,i.children,n),e.memoizedState=null,n))}function Xo(t,e,n,s){var i=t.mode,r=t.child;return e={mode:"hidden",children:e},0==(2&i)&&null!==r?(r.childLanes=0,r.pendingProps=e):r=Ul(e,i,0,null),n=Bl(n,i,s,null),r.return=t,n.return=t,r.sibling=n,t.child=r,n}function Yo(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),tr(t.return,e)}function Zo(t,e,n,s,i,r){var o=t.memoizedState;null===o?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,lastEffect:r}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i,o.lastEffect=r)}function Ko(t,e,n){var s=e.pendingProps,i=s.revealOrder,r=s.tail;if(Io(t,e,s.children,n),0!=(2&(s=Pr.current)))s=1&s|2,e.flags|=64;else{if(null!==t&&0!=(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Yo(t,n);else if(19===t.tag)Yo(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}s&=1}if(ai(Pr,s),0==(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Ir(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Zo(e,!1,i,n,r,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ir(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Zo(e,!0,n,null,r,e.lastEffect);break;case"together":Zo(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function Jo(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Na|=e.lanes,0!=(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(o(153));if(null!==e.child){for(n=Ll(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Ll(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function ta(t,e){if(!Fr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?e||null===t.tail?t.tail=null:t.tail.sibling=null:s.sibling=null}}function ea(t,e,n){var s=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(e.type)&&fi(),null;case 3:return Dr(),oi(ci),oi(ui),$r(),(s=e.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==t&&null!==t.child||(Br(e)?e.flags|=4:s.hydrate||(e.flags|=256)),null;case 5:Rr(e);var r=Er(Or.current);if(n=e.type,null!==t&&null!=e.stateNode)$o(t,e,n,s),t.ref!==e.ref&&(e.flags|=128);else{if(!s){if(null===e.stateNode)throw Error(o(166));return null}if(t=Er(Tr.current),Br(e)){s=e.stateNode,n=e.type;var a=e.memoizedProps;switch(s[Gs]=e,s[Xs]=a,n){case"dialog":Cs("cancel",s),Cs("close",s);break;case"iframe":case"object":case"embed":Cs("load",s);break;case"video":case"audio":for(t=0;t<xs.length;t++)Cs(xs[t],s);break;case"source":Cs("error",s);break;case"img":case"image":case"link":Cs("error",s),Cs("load",s);break;case"details":Cs("toggle",s);break;case"input":tt(s,a),Cs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Cs("invalid",s);break;case"textarea":lt(s,a),Cs("invalid",s)}for(var u in kt(n,a),t=null,a)a.hasOwnProperty(u)&&(r=a[u],"children"===u?"string"==typeof r?s.textContent!==r&&(t=["children",r]):"number"==typeof r&&s.textContent!==""+r&&(t=["children",""+r]):l.hasOwnProperty(u)&&null!=r&&"onScroll"===u&&Cs("scroll",s));switch(n){case"input":Y(s),st(s,a,!0);break;case"textarea":Y(s),ct(s);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(s.onclick=qs)}s=t,e.updateQueue=s,null!==s&&(e.flags|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,t===ht&&(t=dt(n)),t===ht?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"==typeof s.is?t=u.createElement(n,{is:s.is}):(t=u.createElement(n),"select"===n&&(u=t,s.multiple?u.multiple=!0:s.size&&(u.size=s.size))):t=u.createElementNS(t,n),t[Gs]=e,t[Xs]=s,Wo(t,e),e.stateNode=t,u=St(n,s),n){case"dialog":Cs("cancel",t),Cs("close",t),r=s;break;case"iframe":case"object":case"embed":Cs("load",t),r=s;break;case"video":case"audio":for(r=0;r<xs.length;r++)Cs(xs[r],t);r=s;break;case"source":Cs("error",t),r=s;break;case"img":case"image":case"link":Cs("error",t),Cs("load",t),r=s;break;case"details":Cs("toggle",t),r=s;break;case"input":tt(t,s),r=J(t,s),Cs("invalid",t);break;case"option":r=rt(t,s);break;case"select":t._wrapperState={wasMultiple:!!s.multiple},r=i({},s,{value:void 0}),Cs("invalid",t);break;case"textarea":lt(t,s),r=at(t,s),Cs("invalid",t);break;default:r=s}kt(n,r);var c=r;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?wt(t,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&gt(t,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&yt(t,h):"number"==typeof h&&yt(t,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Cs("scroll",t):null!=h&&b(t,a,h,u))}switch(n){case"input":Y(t),st(t,s,!1);break;case"textarea":Y(t),ct(t);break;case"option":null!=s.value&&t.setAttribute("value",""+G(s.value));break;case"select":t.multiple=!!s.multiple,null!=(a=s.value)?ot(t,!!s.multiple,a,!1):null!=s.defaultValue&&ot(t,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof r.onClick&&(t.onclick=qs)}Vs(n,s)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Ho(0,e,t.memoizedProps,s);else{if("string"!=typeof s&&null===e.stateNode)throw Error(o(166));n=Er(Or.current),Er(Tr.current),Br(e)?(s=e.stateNode,n=e.memoizedProps,s[Gs]=e,s.nodeValue!==n&&(e.flags|=4)):((s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[Gs]=e,e.stateNode=s)}return null;case 13:return oi(Pr),s=e.memoizedState,0!=(64&e.flags)?(e.lanes=n,e):(s=null!==s,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Br(e):n=null!==t.memoizedState,s&&!n&&0!=(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!=(1&Pr.current)?0===Ra&&(Ra=3):(0!==Ra&&3!==Ra||(Ra=4),null===Oa||0==(134217727&Na)&&0==(134217727&qa)||dl(Oa,Aa))),(s||n)&&(e.flags|=4),null);case 4:return Dr(),null===t&&Es(e.stateNode.containerInfo),null;case 10:return Ji(e),null;case 17:return pi(e.type)&&fi(),null;case 19:if(oi(Pr),null===(s=e.memoizedState))return null;if(a=0!=(64&e.flags),null===(u=s.rendering))if(a)ta(s,!1);else{if(0!==Ra||null!==t&&0!=(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=Ir(t))){for(e.flags|=64,ta(s,!1),null!==(a=u.updateQueue)&&(e.updateQueue=a,e.flags|=4),null===s.lastEffect&&(e.firstEffect=null),e.lastEffect=s.lastEffect,s=n,n=e.child;null!==n;)t=s,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=t,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ai(Pr,1&Pr.current|2),e.child}t=t.sibling}null!==s.tail&&Vi()>La&&(e.flags|=64,a=!0,ta(s,!1),e.lanes=33554432)}else{if(!a)if(null!==(t=Ir(u))){if(e.flags|=64,a=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),ta(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!Fr)return null!==(e=e.lastEffect=s.lastEffect)&&(e.nextEffect=null),null}else 2*Vi()-s.renderingStartTime>La&&1073741824!==n&&(e.flags|=64,a=!0,ta(s,!1),e.lanes=33554432);s.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=s.last)?n.sibling=u:e.child=u,s.last=u)}return null!==s.tail?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.lastEffect=e.lastEffect,s.renderingStartTime=Vi(),n.sibling=null,e=Pr.current,ai(Pr,a?1&e|2:1&e),n):null;case 23:case 24:return yl(),null!==t&&null!==t.memoizedState!=(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==s.mode&&(e.flags|=4),null}throw Error(o(156,e.tag))}function na(t){switch(t.tag){case 1:pi(t.type)&&fi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Dr(),oi(ci),oi(ui),$r(),0!=(64&(e=t.flags)))throw Error(o(285));return t.flags=-4097&e|64,t;case 5:return Rr(t),null;case 13:return oi(Pr),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return oi(Pr),null;case 4:return Dr(),null;case 10:return Ji(t),null;case 23:case 24:return yl(),null;default:return null}}function sa(t,e){try{var n="",s=e;do{n+=H(s),s=s.return}while(s);var i=n}catch(t){i="\nError generating stack: "+t.message+"\n"+t.stack}return{value:t,source:e,stack:i}}function ia(t,e){try{console.error(e.value)}catch(t){setTimeout((function(){throw t}))}}Wo=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(t,e,n,s){var r=t.memoizedProps;if(r!==s){t=e.stateNode,Er(Tr.current);var o,a=null;switch(n){case"input":r=J(t,r),s=J(t,s),a=[];break;case"option":r=rt(t,r),s=rt(t,s),a=[];break;case"select":r=i({},r,{value:void 0}),s=i({},s,{value:void 0}),a=[];break;case"textarea":r=at(t,r),s=at(t,s),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof s.onClick&&(t.onclick=qs)}for(h in kt(n,s),n=null,r)if(!s.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var u=r[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in s){var c=s[h];if(u=null!=r?r[h]:void 0,s.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Cs("scroll",t),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(e.updateQueue=h)&&(e.flags|=4)}},Ho=function(t,e,n,s){n!==s&&(e.flags|=4)};var ra="function"==typeof WeakMap?WeakMap:Map;function oa(t,e,n){(n=or(-1,n)).tag=3,n.payload={element:null};var s=e.value;return n.callback=function(){Wa||(Wa=!0,$a=s),ia(0,e)},n}function aa(t,e,n){(n=or(-1,n)).tag=3;var s=t.type.getDerivedStateFromError;if("function"==typeof s){var i=e.value;n.payload=function(){return ia(0,e),s(i)}}var r=t.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof s&&(null===Ha?Ha=new Set([this]):Ha.add(this),ia(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var la="function"==typeof WeakSet?WeakSet:Set;function ua(t){var e=t.ref;if(null!==e)if("function"==typeof e)try{e(null)}catch(e){Il(t,e)}else e.current=null}function ca(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,s=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Qi(e.type,n),s),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Us(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ha(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3==(3&t.tag)){var s=t.create;t.destroy=s()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;s=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ml(n,t),Dl(n,t)),t=s}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(s=n.elementType===n.type?e.memoizedProps:Qi(n.type,e.memoizedProps),t.componentDidUpdate(s,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&cr(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}cr(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Vs(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&we(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function da(t,e){for(var n=t;;){if(5===n.tag){var s=n.stateNode;if(e)"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{s=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,s.style.display=bt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pa(t,e){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(_i,e)}catch(t){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var s=n,i=s.destroy;if(s=s.tag,void 0!==i)if(0!=(4&s))Ml(e,n);else{s=e;try{i()}catch(t){Il(s,t)}}n=n.next}while(n!==t)}break;case 1:if(ua(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Il(e,t)}break;case 5:ua(e);break;case 4:_a(t,e)}}function fa(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function ma(t){return 5===t.tag||3===t.tag||4===t.tag}function ga(t){t:{for(var e=t.return;null!==e;){if(ma(e))break t;e=e.return}throw Error(o(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var s=!1;break;case 3:case 4:e=e.containerInfo,s=!0;break;default:throw Error(o(161))}16&n.flags&&(yt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}s?ya(t,n,e):va(t,n,e)}function ya(t,e,n){var s=t.tag,i=5===s||6===s;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!=(n=n._reactRootContainer)||null!==e.onclick||(e.onclick=qs));else if(4!==s&&null!==(t=t.child))for(ya(t,e,n),t=t.sibling;null!==t;)ya(t,e,n),t=t.sibling}function va(t,e,n){var s=t.tag,i=5===s||6===s;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==s&&null!==(t=t.child))for(va(t,e,n),t=t.sibling;null!==t;)va(t,e,n),t=t.sibling}function _a(t,e){for(var n,s,i=e,r=!1;;){if(!r){r=i.return;t:for(;;){if(null===r)throw Error(o(160));switch(n=r.stateNode,r.tag){case 5:s=!1;break t;case 3:case 4:n=n.containerInfo,s=!0;break t}r=r.return}r=!0}if(5===i.tag||6===i.tag){t:for(var a=t,l=i,u=l;;)if(pa(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,s=!0,i.child.return=i,i=i.child;continue}}else if(pa(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(r=!1)}i.sibling.return=i.return,i=i.sibling}}function ba(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{3==(3&s.tag)&&(t=s.destroy,s.destroy=void 0,void 0!==t&&t()),s=s.next}while(s!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){s=e.memoizedProps;var i=null!==t?t.memoizedProps:s;t=e.type;var r=e.updateQueue;if(e.updateQueue=null,null!==r){for(n[Xs]=s,"input"===t&&"radio"===s.type&&null!=s.name&&et(n,s),St(t,i),e=St(t,s),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];"style"===a?wt(n,l):"dangerouslySetInnerHTML"===a?gt(n,l):"children"===a?yt(n,l):b(n,a,l,e)}switch(t){case"input":nt(n,s);break;case"textarea":ut(n,s);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!s.multiple,null!=(r=s.value)?ot(n,!!s.multiple,r,!1):t!==!!s.multiple&&(null!=s.defaultValue?ot(n,!!s.multiple,s.defaultValue,!0):ot(n,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(o(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,we(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(Va=Vi(),da(e.child,!0)),void wa(e);case 19:return void wa(e);case 17:return;case 23:case 24:return void da(e,null!==e.memoizedState)}throw Error(o(163))}function wa(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new la),e.forEach((function(e){var s=ql.bind(null,t,e);n.has(e)||(n.add(e),e.then(s,s))}))}}function xa(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&null!==(e=e.memoizedState)&&null===e.dehydrated}var ka=Math.ceil,Sa=w.ReactCurrentDispatcher,Ta=w.ReactCurrentOwner,Ca=0,Oa=null,Ea=null,Aa=0,Da=0,Ma=ri(0),Ra=0,Pa=null,Ia=0,Na=0,qa=0,Fa=0,ja=null,Va=0,La=1/0;function za(){La=Vi()+500}var Ba,Ua=null,Wa=!1,$a=null,Ha=null,Qa=!1,Ga=null,Xa=90,Ya=[],Za=[],Ka=null,Ja=0,tl=null,el=-1,nl=0,sl=0,il=null,rl=!1;function ol(){return 0!=(48&Ca)?Vi():-1!==el?el:el=Vi()}function al(t){if(0==(2&(t=t.mode)))return 1;if(0==(4&t))return 99===Li()?1:2;if(0===nl&&(nl=Ia),0!==Hi.transition){0!==sl&&(sl=null!==ja?ja.pendingLanes:0),t=nl;var e=4186112&~sl;return 0==(e&=-e)&&0==(e=(t=4186112&~t)&-t)&&(e=8192),e}return t=Li(),t=Ve(0!=(4&Ca)&&98===t?12:t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),nl)}function ll(t,e,n){if(50<Ja)throw Ja=0,tl=null,Error(o(185));if(null===(t=ul(t,e)))return null;Be(t,e,n),t===Oa&&(qa|=e,4===Ra&&dl(t,Aa));var s=Li();1===e?0!=(8&Ca)&&0==(48&Ca)?pl(t):(cl(t,n),0===Ca&&(za(),Wi())):(0==(4&Ca)||98!==s&&99!==s||(null===Ka?Ka=new Set([t]):Ka.add(t)),cl(t,n)),ja=t}function ul(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function cl(t,e){for(var n=t.callbackNode,s=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,a=t.pendingLanes;0<a;){var l=31-Ue(a),u=1<<l,c=r[l];if(-1===c){if(0==(u&s)||0!=(u&i)){c=e,qe(u);var h=Ne;r[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=e&&(t.expiredLanes|=u);a&=~u}if(s=Fe(t,t===Oa?Aa:0),e=Ne,0===s)null!==n&&(n!==Pi&&ki(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Pi&&ki(n)}15===e?(n=pl.bind(null,t),null===Ni?(Ni=[n],qi=xi(Ei,$i)):Ni.push(n),n=Pi):n=14===e?Ui(99,pl.bind(null,t)):Ui(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,t))}}(e),hl.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function hl(t){if(el=-1,sl=nl=0,0!=(48&Ca))throw Error(o(327));var e=t.callbackNode;if(Al()&&t.callbackNode!==e)return null;var n=Fe(t,t===Oa?Aa:0);if(0===n)return null;var s=n,i=Ca;Ca|=16;var r=bl();for(Oa===t&&Aa===s||(za(),vl(t,s));;)try{kl();break}catch(e){_l(t,e)}if(Ki(),Sa.current=r,Ca=i,null!==Ea?s=0:(Oa=null,Aa=0,s=Ra),0!=(Ia&qa))vl(t,0);else if(0!==s){if(2===s&&(Ca|=64,t.hydrate&&(t.hydrate=!1,Us(t.containerInfo)),0!==(n=je(t))&&(s=wl(t,n))),1===s)throw e=Pa,vl(t,0),dl(t,n),cl(t,Vi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,s){case 0:case 1:throw Error(o(345));case 2:Cl(t);break;case 3:if(dl(t,n),(62914560&n)===n&&10<(s=Va+500-Vi())){if(0!==Fe(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ol(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=zs(Cl.bind(null,t),s);break}Cl(t);break;case 4:if(dl(t,n),(4186112&n)===n)break;for(s=t.eventTimes,i=-1;0<n;){var a=31-Ue(n);r=1<<a,(a=s[a])>i&&(i=a),n&=~r}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*ka(n/1960))-n)){t.timeoutHandle=zs(Cl.bind(null,t),n);break}Cl(t);break;case 5:Cl(t);break;default:throw Error(o(329))}}return cl(t,Vi()),t.callbackNode===e?hl.bind(null,t):null}function dl(t,e){for(e&=~Fa,e&=~qa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ue(e),s=1<<n;t[n]=-1,e&=~s}}function pl(t){if(0!=(48&Ca))throw Error(o(327));if(Al(),t===Oa&&0!=(t.expiredLanes&Aa)){var e=Aa,n=wl(t,e);0!=(Ia&qa)&&(n=wl(t,e=Fe(t,e)))}else n=wl(t,e=Fe(t,0));if(0!==t.tag&&2===n&&(Ca|=64,t.hydrate&&(t.hydrate=!1,Us(t.containerInfo)),0!==(e=je(t))&&(n=wl(t,e))),1===n)throw n=Pa,vl(t,0),dl(t,e),cl(t,Vi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Cl(t),cl(t,Vi()),null}function fl(t,e){var n=Ca;Ca|=1;try{return t(e)}finally{0===(Ca=n)&&(za(),Wi())}}function ml(t,e){var n=Ca;Ca&=-2,Ca|=8;try{return t(e)}finally{0===(Ca=n)&&(za(),Wi())}}function gl(t,e){ai(Ma,Da),Da|=e,Ia|=e}function yl(){Da=Ma.current,oi(Ma)}function vl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Bs(n)),null!==Ea)for(n=Ea.return;null!==n;){var s=n;switch(s.tag){case 1:null!=(s=s.type.childContextTypes)&&fi();break;case 3:Dr(),oi(ci),oi(ui),$r();break;case 5:Rr(s);break;case 4:Dr();break;case 13:case 19:oi(Pr);break;case 10:Ji(s);break;case 23:case 24:yl()}n=n.return}Oa=t,Ea=Ll(t.current,null),Aa=Da=Ia=e,Ra=0,Pa=null,Fa=qa=Na=0}function _l(t,e){for(;;){var n=Ea;try{if(Ki(),Hr.current=Eo,Kr){for(var s=Xr.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}Kr=!1}if(Gr=0,Zr=Yr=Xr=null,Jr=!1,Ta.current=null,null===n||null===n.return){Ra=1,Pa=e,Ea=null;break}t:{var r=t,o=n.return,a=n,l=e;if(e=Aa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Pr.current),d=o;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var y=new Set;y.add(u),d.updateQueue=y}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=or(-1,1);v.tag=2,ar(a,v)}a.lanes|=1;break t}l=void 0,a=e;var _=r.pingCache;if(null===_?(_=r.pingCache=new ra,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(a)){l.add(a);var b=Nl.bind(null,r,u,a);u.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);l=Error((Q(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ra&&(Ra=2),l=sa(l,a),d=o;do{switch(d.tag){case 3:r=l,d.flags|=4096,e&=-e,d.lanes|=e,lr(d,oa(0,r,e));break t;case 1:r=l;var w=d.type,x=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Ha||!Ha.has(x)))){d.flags|=4096,e&=-e,d.lanes|=e,lr(d,aa(d,r,e));break t}}d=d.return}while(null!==d)}Tl(n)}catch(t){e=t,Ea===n&&null!==n&&(Ea=n=n.return);continue}break}}function bl(){var t=Sa.current;return Sa.current=Eo,null===t?Eo:t}function wl(t,e){var n=Ca;Ca|=16;var s=bl();for(Oa===t&&Aa===e||vl(t,e);;)try{xl();break}catch(e){_l(t,e)}if(Ki(),Ca=n,Sa.current=s,null!==Ea)throw Error(o(261));return Oa=null,Aa=0,Ra}function xl(){for(;null!==Ea;)Sl(Ea)}function kl(){for(;null!==Ea&&!Si();)Sl(Ea)}function Sl(t){var e=Ba(t.alternate,t,Da);t.memoizedProps=t.pendingProps,null===e?Tl(t):Ea=e,Ta.current=null}function Tl(t){var e=t;do{var n=e.alternate;if(t=e.return,0==(2048&e.flags)){if(null!==(n=ea(n,e,Da)))return void(Ea=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Da)||0==(4&n.mode)){for(var s=0,i=n.child;null!==i;)s|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=s}null!==t&&0==(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=na(e)))return n.flags&=2047,void(Ea=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Ea=e);Ea=e=t}while(null!==e);0===Ra&&(Ra=5)}function Cl(t){var e=Li();return Bi(99,Ol.bind(null,t,e)),null}function Ol(t,e){do{Al()}while(null!==Ga);if(0!=(48&Ca))throw Error(o(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(o(177));t.callbackNode=null;var s=n.lanes|n.childLanes,i=s,r=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var a=t.eventTimes,l=t.expirationTimes;0<r;){var u=31-Ue(r),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,r&=~c}if(null!==Ka&&0==(24&s)&&Ka.has(t)&&Ka.delete(t),t===Oa&&(Ea=Oa=null,Aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,s=n.firstEffect):s=n:s=n.firstEffect,null!==s){if(i=Ca,Ca|=32,Ta.current=null,Fs=Ge,ps(a=ds())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else t:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,r=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(t){l=null;break t}var h=0,d=-1,p=-1,f=0,m=0,g=a,y=null;e:for(;;){for(var v;g!==l||0!==r&&3!==g.nodeType||(d=h+r),g!==u||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)y=g,g=v;for(;;){if(g===a)break e;if(y===l&&++f===r&&(d=h),y===u&&++m===c&&(p=h),null!==(v=g.nextSibling))break;y=(g=y).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;js={focusedElem:a,selectionRange:l},Ge=!1,il=null,rl=!1,Ua=s;do{try{El()}catch(t){if(null===Ua)throw Error(o(330));Il(Ua,t),Ua=Ua.nextEffect}}while(null!==Ua);il=null,Ua=s;do{try{for(a=t;null!==Ua;){var _=Ua.flags;if(16&_&&yt(Ua.stateNode,""),128&_){var b=Ua.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&_){case 2:ga(Ua),Ua.flags&=-3;break;case 6:ga(Ua),Ua.flags&=-3,ba(Ua.alternate,Ua);break;case 1024:Ua.flags&=-1025;break;case 1028:Ua.flags&=-1025,ba(Ua.alternate,Ua);break;case 4:ba(Ua.alternate,Ua);break;case 8:_a(a,l=Ua);var x=l.alternate;fa(l),null!==x&&fa(x)}Ua=Ua.nextEffect}}catch(t){if(null===Ua)throw Error(o(330));Il(Ua,t),Ua=Ua.nextEffect}}while(null!==Ua);if(w=js,b=ds(),_=w.focusedElem,a=w.selectionRange,b!==_&&_&&_.ownerDocument&&hs(_.ownerDocument.documentElement,_)){null!==a&&ps(_)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!w.extend&&x>a&&(l=a,a=x,x=l),l=cs(_,x),r=cs(_,a),l&&r&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==r.node||w.focusOffset!==r.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(r.node,r.offset)):(b.setEnd(r.node,r.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ge=!!Fs,js=Fs=null,t.current=n,Ua=s;do{try{for(_=t;null!==Ua;){var k=Ua.flags;if(36&k&&ha(_,Ua.alternate,Ua),128&k){b=void 0;var S=Ua.ref;if(null!==S){var T=Ua.stateNode;switch(Ua.tag){case 5:b=T;break;default:b=T}"function"==typeof S?S(b):S.current=b}}Ua=Ua.nextEffect}}catch(t){if(null===Ua)throw Error(o(330));Il(Ua,t),Ua=Ua.nextEffect}}while(null!==Ua);Ua=null,Ii(),Ca=i}else t.current=n;if(Qa)Qa=!1,Ga=t,Xa=e;else for(Ua=s;null!==Ua;)e=Ua.nextEffect,Ua.nextEffect=null,8&Ua.flags&&((k=Ua).sibling=null,k.stateNode=null),Ua=e;if(0===(s=t.pendingLanes)&&(Ha=null),1===s?t===tl?Ja++:(Ja=0,tl=t):Ja=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(_i,n,void 0,64==(64&n.current.flags))}catch(t){}if(cl(t,Vi()),Wa)throw Wa=!1,t=$a,$a=null,t;return 0!=(8&Ca)||Wi(),null}function El(){for(;null!==Ua;){var t=Ua.alternate;rl||null===il||(0!=(8&Ua.flags)?Jt(Ua,il)&&(rl=!0):13===Ua.tag&&xa(t,Ua)&&Jt(Ua,il)&&(rl=!0));var e=Ua.flags;0!=(256&e)&&ca(t,Ua),0==(512&e)||Qa||(Qa=!0,Ui(97,(function(){return Al(),null}))),Ua=Ua.nextEffect}}function Al(){if(90!==Xa){var t=97<Xa?97:Xa;return Xa=90,Bi(t,Rl)}return!1}function Dl(t,e){Ya.push(e,t),Qa||(Qa=!0,Ui(97,(function(){return Al(),null})))}function Ml(t,e){Za.push(e,t),Qa||(Qa=!0,Ui(97,(function(){return Al(),null})))}function Rl(){if(null===Ga)return!1;var t=Ga;if(Ga=null,0!=(48&Ca))throw Error(o(331));var e=Ca;Ca|=32;var n=Za;Za=[];for(var s=0;s<n.length;s+=2){var i=n[s],r=n[s+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(t){if(null===r)throw Error(o(330));Il(r,t)}}for(n=Ya,Ya=[],s=0;s<n.length;s+=2){i=n[s],r=n[s+1];try{var l=i.create;i.destroy=l()}catch(t){if(null===r)throw Error(o(330));Il(r,t)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Ca=e,Wi(),!0}function Pl(t,e,n){ar(t,e=oa(0,e=sa(n,e),1)),e=ol(),null!==(t=ul(t,1))&&(Be(t,1,e),cl(t,e))}function Il(t,e){if(3===t.tag)Pl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Pl(n,t,e);break}if(1===n.tag){var s=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Ha||!Ha.has(s))){var i=aa(n,t=sa(e,t),1);if(ar(n,i),i=ol(),null!==(n=ul(n,1)))Be(n,1,i),cl(n,i);else if("function"==typeof s.componentDidCatch&&(null===Ha||!Ha.has(s)))try{s.componentDidCatch(e,t)}catch(t){}break}}n=n.return}}function Nl(t,e,n){var s=t.pingCache;null!==s&&s.delete(e),e=ol(),t.pingedLanes|=t.suspendedLanes&n,Oa===t&&(Aa&n)===n&&(4===Ra||3===Ra&&(62914560&Aa)===Aa&&500>Vi()-Va?vl(t,0):Fa|=n),cl(t,e)}function ql(t,e){var n=t.stateNode;null!==n&&n.delete(e),0==(e=0)&&(0==(2&(e=t.mode))?e=1:0==(4&e)?e=99===Li()?1:2:(0===nl&&(nl=Ia),0===(e=Le(62914560&~nl))&&(e=4194304))),n=ol(),null!==(t=ul(t,e))&&(Be(t,e,n),cl(t,n))}function Fl(t,e,n,s){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(t,e,n,s){return new Fl(t,e,n,s)}function Vl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Ll(t,e){var n=t.alternate;return null===n?((n=jl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function zl(t,e,n,s,i,r){var a=2;if(s=t,"function"==typeof t)Vl(t)&&(a=1);else if("string"==typeof t)a=5;else t:switch(t){case S:return Bl(n.children,i,r,e);case q:a=8,i|=16;break;case T:a=8,i|=1;break;case C:return(t=jl(12,n,e,8|i)).elementType=C,t.type=C,t.lanes=r,t;case D:return(t=jl(13,n,e,i)).type=D,t.elementType=D,t.lanes=r,t;case M:return(t=jl(19,n,e,i)).elementType=M,t.lanes=r,t;case F:return Ul(n,i,r,e);case j:return(t=jl(24,n,e,i)).elementType=j,t.lanes=r,t;default:if("object"==typeof t&&null!==t)switch(t.$$typeof){case O:a=10;break t;case E:a=9;break t;case A:a=11;break t;case R:a=14;break t;case P:a=16,s=null;break t;case I:a=22;break t}throw Error(o(130,null==t?t:typeof t,""))}return(e=jl(a,n,e,i)).elementType=t,e.type=s,e.lanes=r,e}function Bl(t,e,n,s){return(t=jl(7,t,s,e)).lanes=n,t}function Ul(t,e,n,s){return(t=jl(23,t,s,e)).elementType=F,t.lanes=n,t}function Wl(t,e,n){return(t=jl(6,t,null,e)).lanes=n,t}function $l(t,e,n){return(e=jl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Hl(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=ze(0),this.expirationTimes=ze(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ze(0),this.mutableSourceEagerHydrationData=null}function Ql(t,e,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:k,key:null==s?null:""+s,children:t,containerInfo:e,implementation:n}}function Gl(t,e,n,s){var i=e.current,r=ol(),a=al(i);t:if(n){e:{if(Xt(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=gi(n,u,l);break t}}n=l}else n=li;return null===e.context?e.context=n:e.pendingContext=n,(e=or(r,a)).payload={element:t},null!==(s=void 0===s?null:s)&&(e.callback=s),ar(i,e),ll(i,a,r),a}function Xl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Yl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function Zl(t,e){Yl(t,e),(t=t.alternate)&&Yl(t,e)}function Kl(t,e,n){var s=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Hl(t,e,null!=n&&!0===n.hydrate),e=jl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,ir(e),t[Ys]=n.current,Es(8===t.nodeType?t.parentNode:t),s)for(t=0;t<s.length;t++){var i=(e=s[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function Jl(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function tu(t,e,n,s,i){var r=n._reactRootContainer;if(r){var o=r._internalRoot;if("function"==typeof i){var a=i;i=function(){var t=Xl(o);a.call(t)}}Gl(e,o,t,i)}else{if(r=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Kl(t,0,e?{hydrate:!0}:void 0)}(n,s),o=r._internalRoot,"function"==typeof i){var l=i;i=function(){var t=Xl(o);l.call(t)}}ml((function(){Gl(e,o,t,i)}))}return Xl(o)}function eu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(e))throw Error(o(200));return Ql(t,e,null,n)}Ba=function(t,e,n){var s=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ci.current)Po=!0;else{if(0==(n&s)){switch(Po=!1,e.tag){case 3:Uo(e),Ur();break;case 5:Mr(e);break;case 1:pi(e.type)&&yi(e);break;case 4:Ar(e,e.stateNode.containerInfo);break;case 10:s=e.memoizedProps.value;var i=e.type._context;ai(Gi,i._currentValue),i._currentValue=s;break;case 13:if(null!==e.memoizedState)return 0!=(n&e.child.childLanes)?Go(t,e,n):(ai(Pr,1&Pr.current),null!==(e=Jo(t,e,n))?e.sibling:null);ai(Pr,1&Pr.current);break;case 19:if(s=0!=(n&e.childLanes),0!=(64&t.flags)){if(s)return Ko(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Pr,Pr.current),s)break;return null;case 23:case 24:return e.lanes=0,jo(t,e,n)}return Jo(t,e,n)}Po=0!=(16384&t.flags)}else Po=!1;switch(e.lanes=0,e.tag){case 2:if(s=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=di(e,ui.current),er(e,n),i=no(null,e,s,t,i,n),e.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(s)){var r=!0;yi(e)}else r=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ir(e);var a=s.getDerivedStateFromProps;"function"==typeof a&&dr(e,s,a,t),i.updater=pr,e.stateNode=i,i._reactInternals=e,yr(e,s,t,n),e=Bo(null,e,s,!0,r,n)}else e.tag=0,Io(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(r=i._init)(i._payload),e.type=i,r=e.tag=function(t){if("function"==typeof t)return Vl(t)?1:0;if(null!=t){if((t=t.$$typeof)===A)return 11;if(t===R)return 14}return 2}(i),t=Qi(i,t),r){case 0:e=Lo(null,e,i,t,n);break t;case 1:e=zo(null,e,i,t,n);break t;case 11:e=No(null,e,i,t,n);break t;case 14:e=qo(null,e,i,Qi(i.type,t),s,n);break t}throw Error(o(306,i,""))}return e;case 0:return s=e.type,i=e.pendingProps,Lo(t,e,s,i=e.elementType===s?i:Qi(s,i),n);case 1:return s=e.type,i=e.pendingProps,zo(t,e,s,i=e.elementType===s?i:Qi(s,i),n);case 3:if(Uo(e),s=e.updateQueue,null===t||null===s)throw Error(o(282));if(s=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,rr(t,e),ur(e,s,null,n),(s=e.memoizedState.element)===i)Ur(),e=Jo(t,e,n);else{if((r=(i=e.stateNode).hydrate)&&(qr=Ws(e.stateNode.containerInfo.firstChild),Nr=e,r=Fr=!0),r){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(r=t[i])._workInProgressVersionPrimary=t[i+1],Wr.push(r);for(n=kr(e,null,s,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(t,e,s,n),Ur();e=e.child}return e;case 5:return Mr(e),null===t&&Lr(e),s=e.type,i=e.pendingProps,r=null!==t?t.memoizedProps:null,a=i.children,Ls(s,i)?a=null:null!==r&&Ls(s,r)&&(e.flags|=16),Vo(t,e),Io(t,e,a,n),e.child;case 6:return null===t&&Lr(e),null;case 13:return Go(t,e,n);case 4:return Ar(e,e.stateNode.containerInfo),s=e.pendingProps,null===t?e.child=xr(e,null,s,n):Io(t,e,s,n),e.child;case 11:return s=e.type,i=e.pendingProps,No(t,e,s,i=e.elementType===s?i:Qi(s,i),n);case 7:return Io(t,e,e.pendingProps,n),e.child;case 8:case 12:return Io(t,e,e.pendingProps.children,n),e.child;case 10:t:{s=e.type._context,i=e.pendingProps,a=e.memoizedProps,r=i.value;var l=e.type._context;if(ai(Gi,l._currentValue),l._currentValue=r,null!==a)if(l=a.value,0==(r=os(l,r)?0:0|("function"==typeof s._calculateChangedBits?s._calculateChangedBits(l,r):1073741823))){if(a.children===i.children&&!ci.current){e=Jo(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===s&&0!=(c.observedBits&r)){1===l.tag&&((c=or(-1,n&-n)).tag=2,ar(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),tr(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===e.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===e){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Io(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,s=(r=e.pendingProps).children,er(e,n),s=s(i=nr(i,r.unstable_observedBits)),e.flags|=1,Io(t,e,s,n),e.child;case 14:return r=Qi(i=e.type,e.pendingProps),qo(t,e,i,r=Qi(i.type,r),s,n);case 15:return Fo(t,e,e.type,e.pendingProps,s,n);case 17:return s=e.type,i=e.pendingProps,i=e.elementType===s?i:Qi(s,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,pi(s)?(t=!0,yi(e)):t=!1,er(e,n),mr(e,s,i),yr(e,s,i,n),Bo(null,e,s,!0,t,n);case 19:return Ko(t,e,n);case 23:case 24:return jo(t,e,n)}throw Error(o(156,e.tag))},Kl.prototype.render=function(t){Gl(t,this._internalRoot,null,null)},Kl.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;Gl(null,t,null,(function(){e[Ys]=null}))},te=function(t){13===t.tag&&(ll(t,4,ol()),Zl(t,4))},ee=function(t){13===t.tag&&(ll(t,67108864,ol()),Zl(t,67108864))},ne=function(t){if(13===t.tag){var e=ol(),n=al(t);ll(t,n,e),Zl(t,n)}},se=function(t,e){return e()},Ct=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var s=n[e];if(s!==t&&s.form===t.form){var i=ei(s);if(!i)throw Error(o(90));Z(s),nt(s,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&ot(t,!!n.multiple,e,!1)}},Rt=fl,Pt=function(t,e,n,s,i){var r=Ca;Ca|=4;try{return Bi(98,t.bind(null,e,n,s,i))}finally{0===(Ca=r)&&(za(),Wi())}},It=function(){0==(49&Ca)&&(function(){if(null!==Ka){var t=Ka;Ka=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,cl(t,Vi())}))}Wi()}(),Al())},Nt=function(t,e){var n=Ca;Ca|=2;try{return t(e)}finally{0===(Ca=n)&&(za(),Wi())}};var nu={Events:[Js,ti,ei,Dt,Mt,Al,{current:!1}]},su={findFiberByHostInstance:Ks,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},iu={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Kt(t))?null:t.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{_i=ru.inject(iu),bi=ru}catch(mt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,e.createPortal=eu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"==typeof t.render)throw Error(o(188));throw Error(o(268,Object.keys(t)))}return null===(t=Kt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ca;if(0!=(48&n))return t(e);Ca|=1;try{if(t)return Bi(99,t.bind(null,e))}finally{Ca=n,Wi()}},e.hydrate=function(t,e,n){if(!Jl(e))throw Error(o(200));return tu(null,t,e,!0,n)},e.render=function(t,e,n){if(!Jl(e))throw Error(o(200));return tu(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!Jl(t))throw Error(o(40));return!!t._reactRootContainer&&(ml((function(){tu(null,null,t,!1,(function(){t._reactRootContainer=null,t[Ys]=null}))})),!0)},e.unstable_batchedUpdates=fl,e.unstable_createPortal=function(t,e){return eu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,s){if(!Jl(n))throw Error(o(200));if(null==t||void 0===t._reactInternals)throw Error(o(38));return tu(t,e,n,!1,s)},e.version="17.0.2"},935:(t,e,n)=>{"use strict";!function t(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(t){console.error(t)}}(),t.exports=n(448)},310:(t,e,n)=>{var s;self,t.exports=(s=n(294),(()=>{var t={579:(t,e,n)=>{t.exports=n(869).default},869:(t,e,n)=>{"use strict";n.d(e,{default:()=>at});var s=n(184),i=n.n(s),r=n(522),o=n.n(r);let a=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t));for(;t--;){let s=63&n[t];e+=s<36?s.toString(36):s<62?(s-26).toString(36).toUpperCase():s<63?"_":"-"}return e};var l=n(697),u=n.n(l),c=n(698),h=n.n(c);const d=u().shape({moveLeft:u().node.isRequired,moveAllLeft:u().node.isRequired,moveRight:u().node.isRequired,moveAllRight:u().node.isRequired,moveDown:u().node,moveUp:u().node}),p=u().shape({moveLeft:u().string.isRequired,moveAllLeft:u().string.isRequired,moveRight:u().string.isRequired,moveAllRight:u().string.isRequired,availableFilterHeader:u().string,availableHeader:u().string,moveDown:u().string,moveUp:u().string,noAvailableOptions:u().string,noSelectedOptions:u().string,selectedFilterHeader:u().string,selectedHeader:u().string}),f=function(t){return t.charAt(0).toUpperCase()+t.slice(1)};function m(t){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function y(t,e){return!e||"object"!==m(e)&&"function"!=typeof e?v(t):e}function v(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function b(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var w=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}(o,t);var e,n,s,r=(n=o,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=_(n);if(s){var i=_(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return y(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).onClick=e.onClick.bind(v(e)),e}return(e=[{key:"onClick",value:function(){var t=this.props,e=t.direction,n=t.isMoveAll;(0,t.onClick)({direction:e,isMoveAll:n})}},{key:"getId",value:function(){var t=this.props,e=t.id,n=t.direction,s=t.isMoveAll;return"".concat(e,"-move").concat(s?"-all":"","-").concat(n)}},{key:"getActionKey",value:function(){var t=this.props,e=t.direction,n=t.isMoveAll;return"move".concat(n?"All":"").concat(f(e))}},{key:"getLabel",value:function(){return this.props.lang[this.getActionKey()]}},{key:"renderIcons",value:function(){return this.props.icons[this.getActionKey()]}},{key:"render",value:function(){var t=this.props,e=t.direction,n=t.disabled,s=t.isMoveAll,r=this.getId(),o=this.getLabel(),a=i()(b({"rdl-move":!0,"rdl-move-all":s},"rdl-move-".concat(e),!0));return h().createElement("button",{"aria-label":o,className:a,disabled:n,id:r,title:o,type:"button",onClick:this.onClick},this.renderIcons())}}])&&function(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(o.prototype,e),o}(h().Component);b(w,"propTypes",{direction:u().oneOf(["left","right","up","down","top","bottom"]).isRequired,disabled:u().bool.isRequired,icons:d.isRequired,id:u().string.isRequired,lang:p.isRequired,onClick:u().func.isRequired,isMoveAll:u().bool}),b(w,"defaultProps",{isMoveAll:!1});const x=w;function k(t){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function S(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T(t,e){return(T=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function C(t,e){return!e||"object"!==k(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function O(t){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var E,A,D,M=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&T(t,e)}(r,t);var e,n,s,i=(n=r,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=O(n);if(s){var i=O(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return C(this,t)});function r(){return S(this,r),i.apply(this,arguments)}return(e=[{key:"render",value:function(){var t=this.props,e=t.controlKey,n=t.disabled,s=t.filterPlaceholder,i=t.filterValue,r=t.id,o=t.lang,a=t.onFilterChange;return h().createElement("div",{className:"rdl-filter-container"},h().createElement("label",{className:"rdl-control-label rdl-sr-only",htmlFor:"".concat(r,"-filter-").concat(e)},o["".concat(e,"FilterHeader")]),h().createElement("input",{className:"rdl-filter","data-key":e,disabled:n,id:"".concat(r,"-filter-").concat(e),placeholder:s,type:"text",value:i,onChange:a}))}}])&&function(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(r.prototype,e),r}(h().PureComponent);E=M,A="propTypes",D={controlKey:u().string.isRequired,disabled:u().bool.isRequired,filterPlaceholder:u().string.isRequired,filterValue:u().string.isRequired,id:u().string.isRequired,lang:p.isRequired,onFilterChange:u().func.isRequired},A in E?Object.defineProperty(E,A,{value:D,enumerable:!0,configurable:!0,writable:!0}):E[A]=D;const R=M;function P(t){for(var e=[],n=0;n<t.length;n+=1)e.push(t[n]);return e}function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function N(t,e){return(N=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function q(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?F(t):e}function F(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function j(t){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function V(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var L=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&N(t,e)}(o,t);var e,n,s,r=(n=o,s=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=j(n);if(s){var i=j(this).constructor;t=Reflect.construct(e,arguments,i)}else t=e.apply(this,arguments);return q(this,t)});function o(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this,t)).state={value:[]},e.onChange=e.onChange.bind(F(e)),e}return(e=[{key:"onChange",value:function(t){var e=P(t.target.options).filter((function(t){return t.selected})).map((function(t){return t.value}));this.setState({value:e})}},{key:"renderFilter",value:function(){var t=this.props,e=t.canFilter,n=t.controlKey,s=t.disabled,i=t.filterPlaceholder,r=t.filterValue,o=t.id,a=t.lang,l=t.onFilterChange;return e?h().createElement(R,{controlKey:n,disabled:s,filterPlaceholder:i,filterValue:r,id:o,lang:a,onFilterChange:l}):null}},{key:"renderSelect",value:function(){var t=this.props,e=t.actions,n=t.children,s=t.disabled,i=t.controlKey,r=t.id,o=t.inputRef,a=t.lang,l=t.showNoOptionsText,u=t.onDoubleClick,c=t.onKeyUp,d=this.state.value;return l&&0===h().Children.count(n)?h().createElement("div",{className:"rdl-no-options"},a["no".concat(f(i),"Options")]):h().createElement("div",{className:"rdl-control-container"},e,h().createElement("select",{className:"rdl-control",disabled:s,id:"".concat(r,"-").concat(i),multiple:!0,ref:o,value:d,onChange:this.onChange,onDoubleClick:u,onKeyUp:c},n))}},{key:"render",value:function(){var t=this.props,e=t.controlKey,n=t.id,s=t.lang,r=t.showHeaderLabels,o=i()({"rdl-control-label":!0,"rdl-sr-only":!r});return h().createElement("div",{className:"rdl-list-box rdl-".concat(e)},h().createElement("label",{className:o,htmlFor:"".concat(n,"-").concat(e)},s["".concat(e,"Header")]),this.renderFilter(),this.renderSelect())}}])&&function(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}(o.prototype,e),o}(h().Component);V(L,"propTypes",{canFilter:u().bool.isRequired,children:u().node.isRequired,controlKey:u().string.isRequired,disabled:u().bool.isRequired,filterPlaceholder:u().string.isRequired,filterValue:u().string.isRequired,id:u().string.isRequired,inputRef:u().func.isRequired,lang:p.isRequired,showHeaderLabels:u().bool.isRequired,showNoOptionsText:u().bool.isRequired,onDoubleClick:u().func.isRequired,onFilterChange:u().func.isRequired,onKeyUp:u().func.isRequired,actions:u().node}),V(L,"defaultProps",{actions:null});const z=L,B=u().shape({label:u().string.isRequired,value:u().oneOfType([u().string,u().number]).isRequired,disabled:u().bool,title:u().string}),U=u().arrayOf(u().oneOfType([B,u().shape({label:u().node.isRequired,options:u().arrayOf(B).isRequired,disabled:u().bool,title:u().title})])),W=u().arrayOf(u().oneOfType([u().string,B,u().shape({value:u().oneOfType([u().string,u().number]),options:u().arrayOf(B)})]));function $(t){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function H(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function Q(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?H(Object(n),!0).forEach((function(e){J(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function G(t,e){for(var n=0;n<e.length;n++){var s=e[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function X(t,e){return(X=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Y(t,e){return!e||"object"!==$(e)&&"function"!=typeof e?Z(t):e}function Z(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function K(t){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function J(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tt(t){return function(t){if(Array.isArray(t))return et(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return et(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?et(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function et(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,s=new Array(e);n<e;n++)s[n]=t[n];return s}var nt="middle",st="top",it=function(t,e){return function(n){var s=tt(n),i=[s[e],s[t]];return s[t]=i[0],s[e]=i[1],s}},rt={moveLeft:h().createElement("span",{className:"fa fa-chevron-left"}),moveAllLeft:[h().createElement("span",{key:0,className:"fa fa-chevron-left"}),h().createElement("span",{key:1,className:"fa fa-chevron-left"})],moveRight:h().createElement("span",{className:"fa fa-chevron-right"}),moveAllRight:[h().createElement("span",{key:0,className:"fa fa-chevron-right"}),h().createElement("span",{key:1,className:"fa fa-chevron-right"})],moveTop:h().createElement("span",{className:"fa fa-angle-double-up"}),moveBottom:h().createElement("span",{className:"fa fa-angle-double-down"}),moveDown:h().createElement("span",{className:"fa fa-chevron-down"}),moveUp:h().createElement("span",{className:"fa fa-chevron-up"})},ot=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&X(t,e)}(u,t);var e,n,s,r,o,l=(r=u,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=K(r);if(o){var n=K(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return Y(this,t)});function u(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),(e=l.call(this,t)).state={filter:t.filter?t.filter:{available:"",selected:""},id:t.id||"rdl-".concat(a())},e.onActionClick=e.onActionClick.bind(Z(e)),e.onOptionDoubleClick=e.onOptionDoubleClick.bind(Z(e)),e.onOptionKeyUp=e.onOptionKeyUp.bind(Z(e)),e.onFilterChange=e.onFilterChange.bind(Z(e)),e}return e=u,s=[{key:"getDerivedStateFromProps",value:function(t,e){var n=t.filter,s=t.id,i=Q({},e);return null!==n&&(i.filter=n),null!==s&&(i.id=s),i}}],(n=[{key:"onChange",value:function(t,e){var n=this.props,s=n.options,i=n.simpleValue,r=n.onChange,o=e.map((function(t){return t.value}));if(i)r(t,o);else{var a={selected:[],userSelection:[]},l={selected:t,userSelection:o};Object.keys(l).forEach((function(t){l[t].forEach((function(e){s.forEach((function(n){if(n.value)n.value===e&&a[t].push(n);else{var s=[];n.options.forEach((function(t){t.value===e&&s.push(t)})),s.length>0&&a[t].push({label:n.label,options:s})}}))}))})),r(a.selected,a.userSelection)}}},{key:"onActionClick",value:function(t){var e,n=t.direction,s=t.isMoveAll,i=this.props.options,r="right"===n,o=r?this.available:this.selected,a=this.getMarkedOptions(o);e=["up","down"].indexOf(n)>-1?this.rearrangeSelected(a,n):["top","bottom"].indexOf(n)>-1?this.moveToExtremes(a,n):s?r?this.makeOptionsSelected(i):[]:this.toggleSelected(a,r?"available":"selected"),this.onChange(e,a)}},{key:"onOptionDoubleClick",value:function(t,e){var n=this.getMarkedOptions(t.currentTarget),s=this.toggleSelected(n,e);this.onChange(s,n)}},{key:"onOptionKeyUp",value:function(t,e){var n=t.currentTarget,s=t.keyCode;if(this.props.moveKeyCodes.indexOf(s)>-1){var i=this.getMarkedOptions(n),r=this.toggleSelected(i,e);this.onChange(r,i)}}},{key:"onFilterChange",value:function(t){var e=this.props.onFilterChange,n=Q(Q({},this.state.filter),{},J({},t.target.dataset.key,t.target.value));e?e(n):this.setState({filter:n})}},{key:"getFlatOptions",value:function(t){if(this.props.simpleValue)return t;var e=[];return t.forEach((function(t){void 0!==t.value?e.push(t.value):void 0!==t.options&&t.options.forEach((function(t){e.push(t.value)}))})),e}},{key:"getLabelMap",value:function(t){var e=this,n={};return t.forEach((function(t){void 0!==t.options?n=Q(Q({},n),e.getLabelMap(t.options)):n[t.value]=t.label})),n}},{key:"getMarkedOptions",value:function(t){return null===t?[]:P(t.options).filter((function(t){return t.selected})).map((function(t){return{index:parseInt(t.dataset.index,10),value:JSON.parse(t.dataset.realValue)}}))}},{key:"rearrangeSelected",value:function(t,e){var n=this.props.selected,s=this.getFlatOptions(n).slice(0),i=tt(s);return 0===t.length||("up"===e?t[t.length-1].index>t.length-1&&t.forEach((function(t){var e=t.index;e>0&&(i=it(e,e-1)(i))})):"down"===e&&t[0].index<s.length-t.length&&t.reverse().forEach((function(t){var e=t.index;e<s.length-1&&(i=it(e,e+1)(i))}))),i}},{key:"moveToExtremes",value:function(t,e){var n=this.props.selected,s=this.getFlatOptions(n).slice(0),i=tt(s);t.forEach((function(t){var e=t.index;i[e]=null})),i=i.filter((function(t){return null!==t}));var r=t.map((function(t){var e=t.index;return s[e]}));return"top"===e?[].concat(tt(r),tt(i)):[].concat(tt(i),tt(r))}},{key:"makeOptionsSelected",value:function(t){var e=this.props.selected,n=this.filterAvailable(t);return[].concat(tt(this.getFlatOptions(e)),tt(this.makeOptionsSelectedRecursive(n)))}},{key:"makeOptionsSelectedRecursive",value:function(t){var e=this,n=[];return t.forEach((function(t){void 0!==t.options?n=[].concat(tt(n),tt(e.makeOptionsSelectedRecursive(t.options))):n.push(t.value)})),n}},{key:"toggleSelected",value:function(t,e){var n=this.props,s=n.allowDuplicates,i=n.selected,r=this.getFlatOptions(i).slice(0),o=Q({},r);return t.forEach((function(t){var n=t.value,i=t.index;!(r.indexOf(n)>-1)||s&&"selected"!==e?r.push(n):delete o[i]})),"selected"===e?Object.keys(o).map((function(t){return o[t]})):r}},{key:"filterOptions",value:function(t,e,n){var s=this,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this.props,o=r.canFilter,a=r.filterCallback,l=[];return t.forEach((function(t){if(void 0!==t.options){var r=s.filterOptions(t.options,e,n,a(t,n));r.length>0&&l.push(Q(Q({},t),{},{options:r}))}else{var u=[],c=e(t);if(Array.isArray(c)?c.forEach((function(e){u.push(Q(Q({},t),{},{selectedIndex:e}))})):c&&u.push(t),u.length>0){if(o&&!a(t,n)&&!i)return;u.forEach((function(t){l.push(t)}))}}})),l}},{key:"filterAvailable",value:function(t){var e=this,n=this.props,s=n.allowDuplicates,i=n.available,r=n.selected,o=this.state.filter.available,a=[];return void 0!==i&&a.push((function(t){return e.getFlatOptions(i).indexOf(t.value)>=0})),s||a.push((function(t){return e.getFlatOptions(r).indexOf(t.value)<0})),this.filterOptions(t,(function(t){return a.reduce((function(e,n){return e&&n(t)}),!0)}),o)}},{key:"filterSelected",value:function(t){var e=this,n=this.props,s=n.preserveSelectOrder,i=n.selected,r=this.state.filter.selected;return s?this.filterSelectedByOrder(t):this.filterOptions(t,(function(t){return function(t,e){var n=[];return t.forEach((function(t,s){t===e&&n.push(s)})),n}(e.getFlatOptions(i),t.value)}),r)}},{key:"filterSelectedByOrder",value:function(t){var e=this.props,n=e.canFilter,s=e.filterCallback,i=e.selected,r=this.state.filter.selected,o=this.getLabelMap(t),a=this.getFlatOptions(i).map((function(t,e){return{value:t,label:o[t],selectedIndex:e}}));return n?a.filter((function(t){return s(t,r)})).map((function(t,e){return Q(Q({},t),{},{selectedIndex:e})})):a}},{key:"renderOptions",value:function(t){var e=this,n=this.props.allowDuplicates,s=this.state.id;return t.map((function(t,i){var r=n?"".concat(t.value,"-").concat(t.label,"-").concat(i):"".concat(t.value,"-").concat(t.label);if(void 0!==t.options)return h().createElement("optgroup",{key:r,disabled:t.disabled,id:"".concat(s,"-optgroup-").concat(t.label),label:t.label,title:t.title},e.renderOptions(t.options));var o=n?"".concat(t.value,"-").concat(i):t.value;return h().createElement("option",{key:r,"data-index":t.selectedIndex,"data-real-value":JSON.stringify(t.value),disabled:t.disabled,id:"".concat(s,"-option-").concat(t.value),title:t.title,value:o},t.label)}))}},{key:"renderListBox",value:function(t,e,n,s){var i=this,r=this.props,o=r.alignActions,a=r.canFilter,l=r.disabled,u=r.filterPlaceholder,c=r.lang,d=r.showHeaderLabels,p=r.showNoOptionsText,f=this.state,m=f.filter,g=f.id,y=function(e){return function(n){return e(n,t)}};return h().createElement(z,{actions:o===st?s:null,canFilter:a,controlKey:t,disabled:l,filterPlaceholder:u,filterValue:m[t],id:g,inputRef:function(e){i[t]=e,n&&n(e)},lang:c,showHeaderLabels:d,showNoOptionsText:p,onDoubleClick:y(this.onOptionDoubleClick),onFilterChange:y(this.onFilterChange),onKeyUp:y(this.onOptionKeyUp)},e)}},{key:"render",value:function(){var t=this,e=this.props,n=e.alignActions,s=e.availableRef,r=e.canFilter,o=e.className,a=e.disabled,l=e.icons,u=e.lang,c=e.name,d=e.options,p=e.preserveSelectOrder,f=e.selected,m=e.selectedRef,g=e.showHeaderLabels,y=e.showOrderButtons,v=this.state.id,_=this.renderOptions(this.filterAvailable(d)),b=this.renderOptions(this.filterSelected(d)),w=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return h().createElement(x,{direction:e,disabled:a,icons:l,id:v,isMoveAll:n,lang:u,onClick:t.onActionClick})},k=h().createElement("div",{className:"rdl-actions-right"},w("right",!0),w("right")),S=h().createElement("div",{className:"rdl-actions-left"},w("left"),w("left",!0)),T=i()(Q({"react-dual-listbox":!0,"rdl-has-filter":r,"rdl-has-header":g,"rdl-align-top":n===st},o&&J({},o,!0))),C=this.getFlatOptions(f).join(",");return h().createElement("div",{className:T,id:v},this.renderListBox("available",_,s,k),n===nt?h().createElement("div",{className:"rdl-actions"},k,S):null,this.renderListBox("selected",b,m,S),p&&y?h().createElement("div",{className:"rdl-actions"},w("top"),w("up"),w("down"),w("bottom")):null,h().createElement("input",{disabled:a,name:c,type:"hidden",value:C}))}}])&&G(e.prototype,n),s&&G(e,s),u}(h().Component);J(ot,"propTypes",{options:U.isRequired,onChange:u().func.isRequired,alignActions:u().oneOf([nt,st]),allowDuplicates:u().bool,available:W,availableRef:u().func,canFilter:u().bool,className:u().string,disabled:u().bool,filter:u().shape({available:u().string.isRequired,selected:u().string.isRequired}),filterCallback:u().func,filterPlaceholder:u().string,icons:d,id:u().string,lang:p,moveKeyCodes:u().arrayOf(u().number),name:u().string,preserveSelectOrder:u().bool,selected:W,selectedRef:u().func,showHeaderLabels:u().bool,showNoOptionsText:u().bool,showOrderButtons:u().bool,simpleValue:u().bool,onFilterChange:u().func}),J(ot,"defaultProps",{alignActions:nt,allowDuplicates:!1,available:void 0,availableRef:null,canFilter:!1,className:null,disabled:!1,filter:null,filterPlaceholder:"Search...",filterCallback:function(t,e){return""===e||new RegExp(o()(e),"i").test(t.label)},icons:rt,id:null,lang:{availableFilterHeader:"Filter available",availableHeader:"Available",moveAllLeft:"Move all left",moveAllRight:"Move all right",moveLeft:"Move left",moveRight:"Move right",moveBottom:"Move to bottom",moveDown:"Move down",moveUp:"Move up",moveTop:"Move to top",noAvailableOptions:"No available options",noSelectedOptions:"No selected options",selectedFilterHeader:"Filter selected",selectedHeader:"Selected"},moveKeyCodes:[32,13],name:null,preserveSelectOrder:null,selected:[],selectedRef:null,simpleValue:!0,showHeaderLabels:!1,showNoOptionsText:!1,showOrderButtons:!1,onFilterChange:null});const at=ot},184:(t,e)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var r=typeof n;if("string"===r||"number"===r)t.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&t.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)s.call(n,a)&&n[a]&&t.push(a);else t.push(n.toString())}}return t.join(" ")}t.exports?(i.default=i,t.exports=i):void 0===(n=function(){return i}.apply(e,[]))||(t.exports=n)}()},705:(t,e,n)=>{var s=n(639).Symbol;t.exports=s},932:t=>{t.exports=function(t,e){for(var n=-1,s=null==t?0:t.length,i=Array(s);++n<s;)i[n]=e(t[n],n,t);return i}},239:(t,e,n)=>{var s=n(705),i=n(607),r=n(333),o=s?s.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":o&&o in Object(t)?i(t):r(t)}},531:(t,e,n)=>{var s=n(705),i=n(932),r=n(469),o=n(448),a=s?s.prototype:void 0,l=a?a.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(r(e))return i(e,t)+"";if(o(e))return l?l.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},957:(t,e,n)=>{var s="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;t.exports=s},607:(t,e,n)=>{var s=n(705),i=Object.prototype,r=i.hasOwnProperty,o=i.toString,a=s?s.toStringTag:void 0;t.exports=function(t){var e=r.call(t,a),n=t[a];try{t[a]=void 0;var s=!0}catch(t){}var i=o.call(t);return s&&(e?t[a]=n:delete t[a]),i}},333:t=>{var e=Object.prototype.toString;t.exports=function(t){return e.call(t)}},639:(t,e,n)=>{var s=n(957),i="object"==typeof self&&self&&self.Object===Object&&self,r=s||i||Function("return this")();t.exports=r},522:(t,e,n)=>{var s=n(833),i=/[\\^$.*+?()[\]{}|]/g,r=RegExp(i.source);t.exports=function(t){return(t=s(t))&&r.test(t)?t.replace(i,"\\$&"):t}},469:t=>{var e=Array.isArray;t.exports=e},5:t=>{t.exports=function(t){return null!=t&&"object"==typeof t}},448:(t,e,n)=>{var s=n(239),i=n(5);t.exports=function(t){return"symbol"==typeof t||i(t)&&"[object Symbol]"==s(t)}},833:(t,e,n)=>{var s=n(531);t.exports=function(t){return null==t?"":s(t)}},703:(t,e,n)=>{"use strict";var s=n(414);function i(){}function r(){}r.resetWarningCache=i,t.exports=function(){function t(t,e,n,i,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},697:(t,e,n)=>{t.exports=n(703)()},414:t=>{"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},698:t=>{"use strict";t.exports=s}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={exports:{}};return t[s](r,r.exports,n),r.exports}return n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n(579)})())},921:(t,e)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case s:switch(t=t.type){case c:case h:case r:case a:case o:case p:return t;default:switch(t=t&&t.$$typeof){case u:case d:case g:case m:case l:return t;default:return e}}case i:return e}}}function x(t){return w(t)===h}e.AsyncMode=c,e.ConcurrentMode=h,e.ContextConsumer=u,e.ContextProvider=l,e.Element=s,e.ForwardRef=d,e.Fragment=r,e.Lazy=g,e.Memo=m,e.Portal=i,e.Profiler=a,e.StrictMode=o,e.Suspense=p,e.isAsyncMode=function(t){return x(t)||w(t)===c},e.isConcurrentMode=x,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===l},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===s},e.isForwardRef=function(t){return w(t)===d},e.isFragment=function(t){return w(t)===r},e.isLazy=function(t){return w(t)===g},e.isMemo=function(t){return w(t)===m},e.isPortal=function(t){return w(t)===i},e.isProfiler=function(t){return w(t)===a},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===p},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===r||t===h||t===a||t===o||t===p||t===f||"object"==typeof t&&null!==t&&(t.$$typeof===g||t.$$typeof===m||t.$$typeof===l||t.$$typeof===u||t.$$typeof===d||t.$$typeof===v||t.$$typeof===_||t.$$typeof===b||t.$$typeof===y)},e.typeOf=w},864:(t,e,n)=>{"use strict";t.exports=n(921)},231:(t,e,n)=>{var s=n(294);function i(){return(i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}var r=s.createElement("svg",{viewBox:"-2 -5 14 20",height:"100%",width:"100%",style:{position:"absolute",top:0}},s.createElement("path",{d:"M9.9 2.12L7.78 0 4.95 2.828 2.12 0 0 2.12l2.83 2.83L0 7.776 2.123 9.9 4.95 7.07 7.78 9.9 9.9 7.776 7.072 4.95 9.9 2.12",fill:"#fff",fillRule:"evenodd"})),o=s.createElement("svg",{height:"100%",width:"100%",viewBox:"-2 -5 17 21",style:{position:"absolute",top:0}},s.createElement("path",{d:"M11.264 0L5.26 6.004 2.103 2.847 0 4.95l5.26 5.26 8.108-8.107L11.264 0",fill:"#fff",fillRule:"evenodd"}));function a(t){if(7===t.length)return t;for(var e="#",n=1;n<4;n+=1)e+=t[n]+t[n];return e}function l(t,e,n,s,i){return function(t,e,n,s,i){var r=(t-n)/(e-n);if(0===r)return s;if(1===r)return i;for(var o="#",a=1;a<6;a+=2){var l=parseInt(s.substr(a,2),16),u=parseInt(i.substr(a,2),16),c=Math.round((1-r)*l+r*u).toString(16);1===c.length&&(c="0"+c),o+=c}return o}(t,e,n,a(s),a(i))}var u=function(t){function e(e){t.call(this,e);var n=e.height,s=e.width,i=e.checked;this.t=e.handleDiameter||n-2,this.i=Math.max(s-n,s-(n+this.t)/2),this.o=Math.max(0,(n-this.t)/2),this.state={h:i?this.i:this.o},this.l=0,this.u=0,this.p=this.p.bind(this),this.v=this.v.bind(this),this.g=this.g.bind(this),this.k=this.k.bind(this),this.M=this.M.bind(this),this.m=this.m.bind(this),this.T=this.T.bind(this),this.$=this.$.bind(this),this.C=this.C.bind(this),this.D=this.D.bind(this),this.O=this.O.bind(this),this.S=this.S.bind(this)}return t&&(e.__proto__=t),(e.prototype=Object.create(t&&t.prototype)).constructor=e,e.prototype.componentDidMount=function(){this.W=!0},e.prototype.componentDidUpdate=function(t){t.checked!==this.props.checked&&this.setState({h:this.props.checked?this.i:this.o})},e.prototype.componentWillUnmount=function(){this.W=!1},e.prototype.I=function(t){this.H.focus(),this.setState({R:t,j:!0,B:Date.now()})},e.prototype.L=function(t){var e=this.state,n=e.R,s=e.h,i=(this.props.checked?this.i:this.o)+t-n;e.N||t===n||this.setState({N:!0});var r=Math.min(this.i,Math.max(this.o,i));r!==s&&this.setState({h:r})},e.prototype.U=function(t){var e=this.state,n=e.h,s=e.N,i=e.B,r=this.props.checked,o=(this.i+this.o)/2;this.setState({h:this.props.checked?this.i:this.o});var a=Date.now()-i;(!s||a<250||r&&n<=o||!r&&n>=o)&&this.A(t),this.W&&this.setState({N:!1,j:!1}),this.l=Date.now()},e.prototype.p=function(t){t.preventDefault(),"number"==typeof t.button&&0!==t.button||(this.I(t.clientX),window.addEventListener("mousemove",this.v),window.addEventListener("mouseup",this.g))},e.prototype.v=function(t){t.preventDefault(),this.L(t.clientX)},e.prototype.g=function(t){this.U(t),window.removeEventListener("mousemove",this.v),window.removeEventListener("mouseup",this.g)},e.prototype.k=function(t){this.X=null,this.I(t.touches[0].clientX)},e.prototype.M=function(t){this.L(t.touches[0].clientX)},e.prototype.m=function(t){t.preventDefault(),this.U(t)},e.prototype.$=function(t){Date.now()-this.l>50&&(this.A(t),Date.now()-this.u>50&&this.W&&this.setState({j:!1}))},e.prototype.C=function(){this.u=Date.now()},e.prototype.D=function(){this.setState({j:!0})},e.prototype.O=function(){this.setState({j:!1})},e.prototype.S=function(t){this.H=t},e.prototype.T=function(t){t.preventDefault(),this.H.focus(),this.A(t),this.W&&this.setState({j:!1})},e.prototype.A=function(t){var e=this.props;(0,e.onChange)(!e.checked,t,e.id)},e.prototype.render=function(){var t=this.props,e=t.checked,n=t.disabled,r=t.className,o=t.offColor,a=t.onColor,u=t.offHandleColor,c=t.onHandleColor,h=t.checkedIcon,d=t.uncheckedIcon,p=t.checkedHandleIcon,f=t.uncheckedHandleIcon,m=t.boxShadow,g=t.activeBoxShadow,y=t.height,v=t.width,_=t.borderRadius,b=function(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&-1===e.indexOf(s)&&(n[s]=t[s]);return n}(t,["checked","disabled","className","offColor","onColor","offHandleColor","onHandleColor","checkedIcon","uncheckedIcon","checkedHandleIcon","uncheckedHandleIcon","boxShadow","activeBoxShadow","height","width","borderRadius","handleDiameter"]),w=this.state,x=w.h,k=w.N,S=w.j,T={position:"relative",display:"inline-block",textAlign:"left",opacity:n?.5:1,direction:"ltr",borderRadius:y/2,WebkitTransition:"opacity 0.25s",MozTransition:"opacity 0.25s",transition:"opacity 0.25s",touchAction:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",userSelect:"none"},C={height:y,width:v,margin:Math.max(0,(this.t-y)/2),position:"relative",background:l(x,this.i,this.o,o,a),borderRadius:"number"==typeof _?_:y/2,cursor:n?"default":"pointer",WebkitTransition:k?null:"background 0.25s",MozTransition:k?null:"background 0.25s",transition:k?null:"background 0.25s"},O={height:y,width:Math.min(1.5*y,v-(this.t+y)/2+1),position:"relative",opacity:(x-this.o)/(this.i-this.o),pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},E={height:y,width:Math.min(1.5*y,v-(this.t+y)/2+1),position:"absolute",opacity:1-(x-this.o)/(this.i-this.o),right:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},A={height:this.t,width:this.t,background:l(x,this.i,this.o,u,c),display:"inline-block",cursor:n?"default":"pointer",borderRadius:"number"==typeof _?_-1:"50%",position:"absolute",transform:"translateX("+x+"px)",top:Math.max(0,(y-this.t)/2),outline:0,boxShadow:S?g:m,border:0,WebkitTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",MozTransition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s",transition:k?null:"background-color 0.25s, transform 0.25s, box-shadow 0.15s"},D={height:this.t,width:this.t,opacity:Math.max(2*(1-(x-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"},M={height:this.t,width:this.t,opacity:Math.max(2*((x-this.o)/(this.i-this.o)-.5),0),position:"absolute",left:0,top:0,pointerEvents:"none",WebkitTransition:k?null:"opacity 0.25s",MozTransition:k?null:"opacity 0.25s",transition:k?null:"opacity 0.25s"};return s.createElement("div",{className:r,style:T},s.createElement("div",{className:"react-switch-bg",style:C,onClick:n?null:this.T,onMouseDown:function(t){return t.preventDefault()}},h&&s.createElement("div",{style:O},h),d&&s.createElement("div",{style:E},d)),s.createElement("div",{className:"react-switch-handle",style:A,onClick:function(t){return t.preventDefault()},onMouseDown:n?null:this.p,onTouchStart:n?null:this.k,onTouchMove:n?null:this.M,onTouchEnd:n?null:this.m,onTouchCancel:n?null:this.O},f&&s.createElement("div",{style:D},f),p&&s.createElement("div",{style:M},p)),s.createElement("input",i({},{type:"checkbox",role:"switch","aria-checked":e,checked:e,disabled:n,style:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",width:1}},b,{ref:this.S,onFocus:this.D,onBlur:this.O,onKeyUp:this.C,onChange:this.$})))},e}(s.Component);u.defaultProps={disabled:!1,offColor:"#888",onColor:"#080",offHandleColor:"#fff",onHandleColor:"#fff",uncheckedIcon:r,checkedIcon:o,boxShadow:null,activeBoxShadow:"0 0 2px 3px #3bf",height:28,width:56},e.default=u},936:(t,e,n)=>{t.exports=n(231)},408:(t,e,n)=>{"use strict";var s=n(418),i=60103,r=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var o=60109,a=60110,l=60112;e.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),r=h("react.portal"),e.Fragment=h("react.fragment"),e.StrictMode=h("react.strict_mode"),e.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),e.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}function y(){}function v(t,e,n){this.props=t,this.context=e,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(t,e){if("object"!=typeof t&&"function"!=typeof t&&null!=t)throw Error(p(85));this.updater.enqueueSetState(this,t,e,"setState")},g.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},y.prototype=g.prototype;var _=v.prototype=new y;_.constructor=v,s(_,g.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function k(t,e,n){var s,r={},o=null,a=null;if(null!=e)for(s in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)w.call(e,s)&&!x.hasOwnProperty(s)&&(r[s]=e[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(t&&t.defaultProps)for(s in l=t.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:t,key:o,ref:a,props:r,_owner:b.current}}function S(t){return"object"==typeof t&&null!==t&&t.$$typeof===i}var T=/\/+/g;function C(t,e){return"object"==typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function O(t,e,n,s,o){var a=typeof t;"undefined"!==a&&"boolean"!==a||(t=null);var l=!1;if(null===t)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case r:l=!0}}if(l)return o=o(l=t),t=""===s?"."+C(l,0):s,Array.isArray(o)?(n="",null!=t&&(n=t.replace(T,"$&/")+"/"),O(o,e,n,"",(function(t){return t}))):null!=o&&(S(o)&&(o=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+t)),e.push(o)),1;if(l=0,s=""===s?".":s+":",Array.isArray(t))for(var u=0;u<t.length;u++){var c=s+C(a=t[u],u);l+=O(a,e,n,c,o)}else if("function"==typeof(c=function(t){return null===t||"object"!=typeof t?null:"function"==typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t)))for(t=c.call(t),u=0;!(a=t.next()).done;)l+=O(a=a.value,e,n,c=s+C(a,u++),o);else if("object"===a)throw e=""+t,Error(p(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function E(t,e,n){if(null==t)return t;var s=[],i=0;return O(t,s,"","",(function(t){return e.call(n,t,i++)})),s}function A(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var D={current:null};function M(){var t=D.current;if(null===t)throw Error(p(321));return t}var R={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:s};e.Children={map:E,forEach:function(t,e,n){E(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return E(t,(function(){e++})),e},toArray:function(t){return E(t,(function(t){return t}))||[]},only:function(t){if(!S(t))throw Error(p(143));return t}},e.Component=g,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,e.cloneElement=function(t,e,n){if(null==t)throw Error(p(267,t));var r=s({},t.props),o=t.key,a=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(a=e.ref,l=b.current),void 0!==e.key&&(o=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(c in e)w.call(e,c)&&!x.hasOwnProperty(c)&&(r[c]=void 0===e[c]&&void 0!==u?u[c]:e[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:i,type:t.type,key:o,ref:a,props:r,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:a,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:t},t.Consumer=t},e.createElement=k,e.createFactory=function(t){var e=k.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=S,e.lazy=function(t){return{$$typeof:c,_payload:{_status:-1,_result:t},_init:A}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return M().useCallback(t,e)},e.useContext=function(t,e){return M().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return M().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return M().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return M().useLayoutEffect(t,e)},e.useMemo=function(t,e){return M().useMemo(t,e)},e.useReducer=function(t,e,n){return M().useReducer(t,e,n)},e.useRef=function(t){return M().useRef(t)},e.useState=function(t){return M().useState(t)},e.version="17.0.2"},294:(t,e,n)=>{"use strict";t.exports=n(408)},53:(t,e)=>{"use strict";var n,s,i,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;e.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();e.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var t=e.unstable_now();u(!0,t),u=null}catch(t){throw setTimeout(h,0),t}};n=function(t){null!==u?setTimeout(n,0,t):(u=t,setTimeout(h,0))},s=function(t,e){c=setTimeout(t,e)},i=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},r=e.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,y=-1,v=5,_=0;e.unstable_shouldYield=function(){return e.unstable_now()>=_},r=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<t?Math.floor(1e3/t):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var t=e.unstable_now();_=t+v;try{g(!0,t)?w.postMessage(null):(m=!1,g=null)}catch(t){throw w.postMessage(null),t}}else m=!1},n=function(t){g=t,m||(m=!0,w.postMessage(null))},s=function(t,n){y=d((function(){t(e.unstable_now())}),n)},i=function(){p(y),y=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var s=n-1>>>1,i=t[s];if(!(void 0!==i&&0<T(i,e)))break t;t[s]=e,t[n]=i,n=s}}function k(t){return void 0===(t=t[0])?null:t}function S(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var s=0,i=t.length;s<i;){var r=2*(s+1)-1,o=t[r],a=r+1,l=t[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(t[s]=l,t[a]=n,s=a):(t[s]=o,t[r]=n,s=r);else{if(!(void 0!==l&&0>T(l,n)))break t;t[s]=l,t[a]=n,s=a}}}return e}return null}function T(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var C=[],O=[],E=1,A=null,D=3,M=!1,R=!1,P=!1;function I(t){for(var e=k(O);null!==e;){if(null===e.callback)S(O);else{if(!(e.startTime<=t))break;S(O),e.sortIndex=e.expirationTime,x(C,e)}e=k(O)}}function N(t){if(P=!1,I(t),!R)if(null!==k(C))R=!0,n(q);else{var e=k(O);null!==e&&s(N,e.startTime-t)}}function q(t,n){R=!1,P&&(P=!1,i()),M=!0;var r=D;try{for(I(n),A=k(C);null!==A&&(!(A.expirationTime>n)||t&&!e.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,D=A.priorityLevel;var a=o(A.expirationTime<=n);n=e.unstable_now(),"function"==typeof a?A.callback=a:A===k(C)&&S(C),I(n)}else S(C);A=k(C)}if(null!==A)var l=!0;else{var u=k(O);null!==u&&s(N,u.startTime-n),l=!1}return l}finally{A=null,D=r,M=!1}}var F=r;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){R||M||(R=!0,n(q))},e.unstable_getCurrentPriorityLevel=function(){return D},e.unstable_getFirstCallbackNode=function(){return k(C)},e.unstable_next=function(t){switch(D){case 1:case 2:case 3:var e=3;break;default:e=D}var n=D;D=e;try{return t()}finally{D=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=F,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=D;D=t;try{return e()}finally{D=n}},e.unstable_scheduleCallback=function(t,r,o){var a=e.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:E++,callback:r,priorityLevel:t,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(t.sortIndex=o,x(O,t),null===k(C)&&t===k(O)&&(P?i():P=!0,s(N,o-a))):(t.sortIndex=l,x(C,t),R||M||(R=!0,n(q))),t},e.unstable_wrapCallback=function(t){var e=D;return function(){var n=D;D=e;try{return t.apply(this,arguments)}finally{D=n}}}},840:(t,e,n)=>{"use strict";t.exports=n(53)},695:t=>{"use strict";var e={};t.exports=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}},379:t=>{"use strict";var e=[];function n(t){for(var n=-1,s=0;s<e.length;s++)if(e[s].identifier===t){n=s;break}return n}function s(t,s){for(var r={},o=[],a=0;a<t.length;a++){var l=t[a],u=s.base?l[0]+s.base:l[0],c=r[u]||0,h="".concat(u," ").concat(c);r[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(e[d].references++,e[d].updater(p)):e.push({identifier:h,updater:i(p,s),references:1}),o.push(h)}return o}function i(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n.update(t=e)}else n.remove()}}t.exports=function(t,i){var r=s(t=t||[],i=i||{});return function(t){t=t||[];for(var o=0;o<r.length;o++){var a=n(r[o]);e[a].references--}for(var l=s(t,i),u=0;u<r.length;u++){var c=n(r[u]);0===e[c].references&&(e[c].updater(),e.splice(c,1))}r=l}}},216:t=>{"use strict";t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e),e}},795:t=>{"use strict";t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var s=n.css,i=n.media,r=n.sourceMap;i?t.setAttribute("media",i):t.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(s,t)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var r=e[s]={id:s,exports:{}};return t[s].call(r.exports,r,r.exports,n),r.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t={};n.r(t),n.d(t,{assert:()=>Fo,assertContextRunning:()=>Vo,assertRange:()=>jo,log:()=>Bo,setLogger:()=>zo,warn:()=>Uo});var e={};n.r(e);var s={};n.r(s),n.d(s,{AMOscillator:()=>Ql,AMSynth:()=>Tu,Abs:()=>uu,Add:()=>tu,AmplitudeEnvelope:()=>xu,Analyser:()=>Qc,AudioToGain:()=>$l,AutoFilter:()=>cc,AutoPanner:()=>dc,AutoWah:()=>fc,BaseContext:()=>Oa,BiquadFilter:()=>Cu,BitCrusher:()=>gc,Buffer:()=>Oh,BufferSource:()=>Ah,Buffers:()=>Eh,Channel:()=>eh,Chebyshev:()=>vc,Chorus:()=>kc,Clock:()=>gl,Compressor:()=>ah,Context:()=>Ea,Convolver:()=>ph,CrossFade:()=>ac,DCMeter:()=>Zc,Delay:()=>yl,Destination:()=>vh,Distortion:()=>Sc,Draw:()=>kh,DuoSynth:()=>Du,EQ3:()=>dh,Emitter:()=>Ca,Envelope:()=>vu,FFT:()=>Yc,FMOscillator:()=>Gl,FMSynth:()=>Mu,FatOscillator:()=>Yl,FeedbackCombFilter:()=>zu,FeedbackDelay:()=>Cc,Filter:()=>Ou,Follower:()=>pc,Freeverb:()=>Mc,Frequency:()=>Ka,FrequencyClass:()=>Xa,FrequencyEnvelope:()=>Eu,FrequencyShifter:()=>Ec,Gain:()=>ll,GainToAudio:()=>cu,Gate:()=>lh,GrainPlayer:()=>lu,GreaterThan:()=>fu,GreaterThanZero:()=>pu,IntervalTimeline:()=>Tl,JCReverb:()=>Nc,LFO:()=>su,Limiter:()=>uh,Listener:()=>wh,Loop:()=>Gu,LowpassCombFilter:()=>Uu,Master:()=>_h,MembraneSynth:()=>Iu,Merge:()=>bc,MetalSynth:()=>Pu,Meter:()=>Xc,MidSideCompressor:()=>ch,MidSideMerge:()=>Bc,MidSideSplit:()=>zc,Midi:()=>wl,MidiClass:()=>bl,Mono:()=>nh,MonoSynth:()=>Au,MultibandCompressor:()=>hh,MultibandSplit:()=>sh,Multiply:()=>Hl,Negate:()=>hu,Noise:()=>Nl,NoiseSynth:()=>Nu,Offline:()=>vl,OfflineContext:()=>Pa,OmniOscillator:()=>Jl,OnePoleFilter:()=>Bu,Oscillator:()=>Bl,PWMOscillator:()=>Zl,PanVol:()=>th,Panner:()=>hc,Panner3D:()=>rh,Param:()=>sl,Part:()=>Xu,Pattern:()=>rc,Phaser:()=>Vc,PingPongDelay:()=>Fc,PitchShift:()=>jc,Player:()=>ou,Players:()=>au,PluckSynth:()=>Wu,PolySynth:()=>$u,Pow:()=>mu,PulseOscillator:()=>Xl,Recorder:()=>oh,Reverb:()=>Lc,Sampler:()=>Hu,Scale:()=>eu,ScaleExp:()=>gu,Sequence:()=>oc,Signal:()=>hl,Solo:()=>Jc,Split:()=>_c,StateTimeline:()=>nl,StereoWidener:()=>Wc,Subtract:()=>du,SyncedSignal:()=>yu,Synth:()=>ku,Ticks:()=>kl,TicksClass:()=>xl,Time:()=>Ga,TimeClass:()=>Qa,Timeline:()=>wa,ToneAudioBuffer:()=>Ra,ToneAudioBuffers:()=>_l,ToneAudioNode:()=>il,ToneBufferSource:()=>Il,ToneEvent:()=>Qu,ToneOscillatorNode:()=>zl,Transport:()=>gh,TransportTime:()=>tl,TransportTimeClass:()=>Ja,Tremolo:()=>$c,Unit:()=>e,UserMedia:()=>Vl,Vibrato:()=>Hc,Volume:()=>Ol,WaveShaper:()=>Wl,Waveform:()=>Kc,Zero:()=>nu,connect:()=>ol,connectSeries:()=>rl,connectSignal:()=>dl,context:()=>Th,dbToGain:()=>Va,debug:()=>t,defaultArg:()=>da,disconnect:()=>al,ftom:()=>Ua,gainToDb:()=>La,getContext:()=>qa,getDestination:()=>bh,getDraw:()=>Sh,getListener:()=>xh,getTransport:()=>yh,immediate:()=>mh,intervalToFrequencyRatio:()=>za,isArray:()=>Yo,isBoolean:()=>Xo,isDefined:()=>$o,isFunction:()=>Ho,isNote:()=>Ko,isNumber:()=>Qo,isObject:()=>Go,isString:()=>Zo,isUndef:()=>Wo,loaded:()=>Ch,mtof:()=>$a,now:()=>fh,optionsFromArguments:()=>ha,setContext:()=>Fa,start:()=>ja,supported:()=>No,version:()=>_n});var i=n(294),r=n(935),o=(n(697),i.createContext(null)),a=function(t){t()},l=function(){return a},u={notify:function(){}},c=function(){function t(t,e){this.store=t,this.parentSub=e,this.unsubscribe=null,this.listeners=u,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var t=l(),e=null,n=null;return{clear:function(){e=null,n=null},notify:function(){t((function(){for(var t=e;t;)t.callback(),t=t.next}))},get:function(){for(var t=[],n=e;n;)t.push(n),n=n.next;return t},subscribe:function(t){var s=!0,i=n={callback:t,next:null,prev:n};return i.prev?i.prev.next=i:e=i,function(){s&&null!==e&&(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=u)},t}(),h="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?i.useLayoutEffect:i.useEffect;const d=function(t){var e=t.store,n=t.context,s=t.children,r=(0,i.useMemo)((function(){var t=new c(e);return t.onStateChange=t.notifyNestedSubs,{store:e,subscription:t}}),[e]),a=(0,i.useMemo)((function(){return e.getState()}),[e]);h((function(){var t=r.subscription;return t.trySubscribe(),a!==e.getState()&&t.notifyNestedSubs(),function(){t.tryUnsubscribe(),t.onStateChange=null}}),[r,a]);var l=n||o;return i.createElement(l.Provider,{value:r},s)};function p(){return(0,i.useContext)(o)}function f(t){void 0===t&&(t=o);var e=t===o?p:function(){return(0,i.useContext)(t)};return function(){return e().store}}n(679),n(864);var m=f();function g(t){void 0===t&&(t=o);var e=t===o?m:f(t);return function(){return e().dispatch}}var y=g(),v=function(t,e){return t===e};function _(t){void 0===t&&(t=o);var e=t===o?p:function(){return(0,i.useContext)(t)};return function(t,n){void 0===n&&(n=v);var s=e(),r=function(t,e,n,s){var r,o=(0,i.useReducer)((function(t){return t+1}),0)[1],a=(0,i.useMemo)((function(){return new c(n,s)}),[n,s]),l=(0,i.useRef)(),u=(0,i.useRef)(),d=(0,i.useRef)(),p=(0,i.useRef)(),f=n.getState();try{if(t!==u.current||f!==d.current||l.current){var m=t(f);r=void 0!==p.current&&e(m,p.current)?p.current:m}else r=p.current}catch(t){throw l.current&&(t.message+="\nThe error may be correlated with this previous error:\n"+l.current.stack+"\n\n"),t}return h((function(){u.current=t,d.current=f,p.current=r,l.current=void 0})),h((function(){function t(){try{var t=n.getState(),s=u.current(t);if(e(s,p.current))return;p.current=s,d.current=t}catch(t){l.current=t}o()}return a.onStateChange=t,a.trySubscribe(),t(),function(){return a.tryUnsubscribe()}}),[n,a]),r}(t,n,s.store,s.subscription);return(0,i.useDebugValue)(r),r}}var b,w=_();function x(t){return function(e){return!!e.type&&e.type.tabsRole===t}}b=r.unstable_batchedUpdates,a=b;var k=x("Tab"),S=x("TabList"),T=x("TabPanel");function C(){return(C=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function O(t,e){return i.Children.map(t,(function(t){return null===t?null:function(t){return k(t)||S(t)||T(t)}(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children?(0,i.cloneElement)(t,C({},t.props,{children:O(t.props.children,e)})):t}))}function E(t,e){return i.Children.forEach(t,(function(t){null!==t&&(k(t)||T(t)?e(t):t.props&&t.props.children&&"object"==typeof t.props.children&&(S(t)&&e(t),E(t.props.children,e)))}))}function A(t){var e,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=A(t[e]))&&(s&&(s+=" "),s+=n);else for(e in t)t[e]&&(s&&(s+=" "),s+=e);return s}function D(){for(var t,e,n=0,s="";n<arguments.length;)(t=arguments[n++])&&(e=A(t))&&(s&&(s+=" "),s+=e);return s}var M,R=0;function P(){return"react-tabs-"+R++}function I(t){var e=0;return E(t,(function(t){k(t)&&e++})),e}function N(){return(N=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function q(t,e){return(q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function F(t){return t&&"getAttribute"in t}function j(t){return F(t)&&"tab"===t.getAttribute("role")}function V(t){return F(t)&&"true"===t.getAttribute("aria-disabled")}var L=function(t){var e,n;function s(){for(var e,n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(e=t.call.apply(t,[this].concat(s))||this).tabNodes=[],e.handleKeyDown=function(t){var n=e.props,s=n.direction,i=n.disableUpDownKeys;if(e.isTabFromContainer(t.target)){var r=e.props.selectedIndex,o=!1,a=!1;32!==t.keyCode&&13!==t.keyCode||(o=!0,a=!1,e.handleClick(t)),37===t.keyCode||!i&&38===t.keyCode?(r="rtl"===s?e.getNextTab(r):e.getPrevTab(r),o=!0,a=!0):39===t.keyCode||!i&&40===t.keyCode?(r="rtl"===s?e.getPrevTab(r):e.getNextTab(r),o=!0,a=!0):35===t.keyCode?(r=e.getLastTab(),o=!0,a=!0):36===t.keyCode&&(r=e.getFirstTab(),o=!0,a=!0),o&&t.preventDefault(),a&&e.setSelected(r,t)}},e.handleClick=function(t){var n=t.target;do{if(e.isTabFromContainer(n)){if(V(n))return;var s=[].slice.call(n.parentNode.children).filter(j).indexOf(n);return void e.setSelected(s,t)}}while(null!=(n=n.parentNode))},e}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,q(e,n);var r=s.prototype;return r.setSelected=function(t,e){if(!(t<0||t>=this.getTabsCount())){var n=this.props;(0,n.onSelect)(t,n.selectedIndex,e)}},r.getNextTab=function(t){for(var e=this.getTabsCount(),n=t+1;n<e;n++)if(!V(this.getTab(n)))return n;for(var s=0;s<t;s++)if(!V(this.getTab(s)))return s;return t},r.getPrevTab=function(t){for(var e=t;e--;)if(!V(this.getTab(e)))return e;for(e=this.getTabsCount();e-- >t;)if(!V(this.getTab(e)))return e;return t},r.getFirstTab=function(){for(var t=this.getTabsCount(),e=0;e<t;e++)if(!V(this.getTab(e)))return e;return null},r.getLastTab=function(){for(var t=this.getTabsCount();t--;)if(!V(this.getTab(t)))return t;return null},r.getTabsCount=function(){return I(this.props.children)},r.getPanelsCount=function(){return t=this.props.children,e=0,E(t,(function(t){T(t)&&e++})),e;var t,e},r.getTab=function(t){return this.tabNodes["tabs-"+t]},r.getChildren=function(){var t=this,e=0,n=this.props,s=n.children,r=n.disabledTabClassName,o=n.focus,a=n.forceRenderTabPanel,l=n.selectedIndex,u=n.selectedTabClassName,c=n.selectedTabPanelClassName,h=n.environment;this.tabIds=this.tabIds||[],this.panelIds=this.panelIds||[];for(var d=this.tabIds.length-this.getTabsCount();d++<0;)this.tabIds.push(P()),this.panelIds.push(P());return O(s,(function(n){var s=n;if(S(n)){var d=0,p=!1;null==M&&function(t){var e=t||("undefined"!=typeof window?window:void 0);try{M=!(void 0===e||!e.document||!e.document.activeElement)}catch(t){M=!1}}(h),M&&(p=i.Children.toArray(n.props.children).filter(k).some((function(e,n){var s=h||("undefined"!=typeof window?window:void 0);return s&&s.document.activeElement===t.getTab(n)}))),s=(0,i.cloneElement)(n,{children:O(n.props.children,(function(e){var n="tabs-"+d,s=l===d,a={tabRef:function(e){t.tabNodes[n]=e},id:t.tabIds[d],panelId:t.panelIds[d],selected:s,focus:s&&(o||p)};return u&&(a.selectedClassName=u),r&&(a.disabledClassName=r),d++,(0,i.cloneElement)(e,a)}))})}else if(T(n)){var f={id:t.panelIds[e],tabId:t.tabIds[e],selected:l===e};a&&(f.forceRender=a),c&&(f.selectedClassName=c),e++,s=(0,i.cloneElement)(n,f)}return s}))},r.isTabFromContainer=function(t){if(!j(t))return!1;var e=t.parentElement;do{if(e===this.node)return!0;if(e.getAttribute("data-tabs"))break;e=e.parentElement}while(e);return!1},r.render=function(){var t=this,e=this.props,n=(e.children,e.className),s=(e.disabledTabClassName,e.domRef),r=(e.focus,e.forceRenderTabPanel,e.onSelect,e.selectedIndex,e.selectedTabClassName,e.selectedTabPanelClassName,e.environment,e.disableUpDownKeys,function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children","className","disabledTabClassName","domRef","focus","forceRenderTabPanel","onSelect","selectedIndex","selectedTabClassName","selectedTabPanelClassName","environment","disableUpDownKeys"]));return i.createElement("div",N({},r,{className:D(n),onClick:this.handleClick,onKeyDown:this.handleKeyDown,ref:function(e){t.node=e,s&&s(e)},"data-tabs":!0}),this.getChildren())},s}(i.Component);function z(t,e){return(z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}L.defaultProps={className:"react-tabs",focus:!1},L.propTypes={};var B=function(t){var e,n;function s(e){var n;return(n=t.call(this,e)||this).handleSelected=function(t,e,s){var i=n.props.onSelect,r=n.state.mode;if("function"!=typeof i||!1!==i(t,e,s)){var o={focus:"keydown"===s.type};1===r&&(o.selectedIndex=t),n.setState(o)}},n.state=s.copyPropsToState(n.props,{},e.defaultFocus),n}return n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,z(e,n),s.getDerivedStateFromProps=function(t,e){return s.copyPropsToState(t,e)},s.getModeFromProps=function(t){return null===t.selectedIndex?1:0},s.copyPropsToState=function(t,e,n){void 0===n&&(n=!1);var i={focus:n,mode:s.getModeFromProps(t)};if(1===i.mode){var r,o=Math.max(0,I(t.children)-1);r=null!=e.selectedIndex?Math.min(e.selectedIndex,o):t.defaultIndex||0,i.selectedIndex=r}return i},s.prototype.render=function(){var t=this.props,e=t.children,n=(t.defaultIndex,t.defaultFocus,function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","defaultIndex","defaultFocus"])),s=this.state,r=s.focus,o=s.selectedIndex;return n.focus=r,n.onSelect=this.handleSelected,null!=o&&(n.selectedIndex=o),i.createElement(L,n,e)},s}(i.Component);function U(){return(U=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function W(t,e){return(W=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}B.defaultProps={defaultFocus:!1,forceRenderTabPanel:!1,selectedIndex:null,defaultIndex:null,environment:null,disableUpDownKeys:!1},B.propTypes={},B.tabsRole="Tabs";var $=function(t){var e,n;function s(){return t.apply(this,arguments)||this}return n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,W(e,n),s.prototype.render=function(){var t=this.props,e=t.children,n=t.className,s=function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["children","className"]);return i.createElement("ul",U({},s,{className:D(n),role:"tablist"}),e)},s}(i.Component);function H(){return(H=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function Q(t,e){return(Q=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}$.defaultProps={className:"react-tabs__tab-list"},$.propTypes={},$.tabsRole="TabList";var G="react-tabs__tab",X=function(t){var e,n;function s(){return t.apply(this,arguments)||this}n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,Q(e,n);var r=s.prototype;return r.componentDidMount=function(){this.checkFocus()},r.componentDidUpdate=function(){this.checkFocus()},r.checkFocus=function(){var t=this.props,e=t.selected,n=t.focus;e&&n&&this.node.focus()},r.render=function(){var t,e=this,n=this.props,s=n.children,r=n.className,o=n.disabled,a=n.disabledClassName,l=(n.focus,n.id),u=n.panelId,c=n.selected,h=n.selectedClassName,d=n.tabIndex,p=n.tabRef,f=function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(n,["children","className","disabled","disabledClassName","focus","id","panelId","selected","selectedClassName","tabIndex","tabRef"]);return i.createElement("li",H({},f,{className:D(r,(t={},t[h]=c,t[a]=o,t)),ref:function(t){e.node=t,p&&p(t)},role:"tab",id:l,"aria-selected":c?"true":"false","aria-disabled":o?"true":"false","aria-controls":u,tabIndex:d||(c?"0":null)}),s)},s}(i.Component);function Y(){return(Y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function Z(t,e){return(Z=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}X.defaultProps={className:G,disabledClassName:G+"--disabled",focus:!1,id:null,panelId:null,selected:!1,selectedClassName:G+"--selected"},X.propTypes={},X.tabsRole="Tab";var K=function(t){var e,n;function s(){return t.apply(this,arguments)||this}return n=t,(e=s).prototype=Object.create(n.prototype),e.prototype.constructor=e,Z(e,n),s.prototype.render=function(){var t,e=this.props,n=e.children,s=e.className,r=e.forceRender,o=e.id,a=e.selected,l=e.selectedClassName,u=e.tabId,c=function(t,e){if(null==t)return{};var n,s,i={},r=Object.keys(t);for(s=0;s<r.length;s++)n=r[s],e.indexOf(n)>=0||(i[n]=t[n]);return i}(e,["children","className","forceRender","id","selected","selectedClassName","tabId"]);return i.createElement("div",Y({},c,{className:D(s,(t={},t[l]=a,t)),role:"tabpanel",id:o,"aria-labelledby":u}),r||a?n:null)},s}(i.Component);K.defaultProps={className:"react-tabs__tab-panel",forceRender:!1,selectedClassName:"react-tabs__tab-panel--selected"},K.propTypes={},K.tabsRole="TabPanel";var J=n(379),tt=n.n(J),et=n(795),nt=n.n(et),st=n(695),it=n.n(st),rt=n(216),ot=n.n(rt),at=n(263),lt={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=it()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};lt.domAPI=nt(),lt.insertStyleElement=ot(),tt()(at.Z,lt),at.Z&&at.Z.locals&&at.Z.locals;var ut=n(763),ct={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=it()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};function ht(t,e){return t===e}function dt(t,e,n){if(null===e||null===n||e.length!==n.length)return!1;for(var s=e.length,i=0;i<s;i++)if(!t(e[i],n[i]))return!1;return!0}function pt(t){var e=Array.isArray(t[0])?t[0]:t;if(!e.every((function(t){return"function"==typeof t}))){var n=e.map((function(t){return typeof t})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return e}ct.domAPI=nt(),ct.insertStyleElement=ot(),tt()(ut.Z,ct),ut.Z&&ut.Z.locals&&ut.Z.locals;var ft=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];return function(){for(var e=arguments.length,s=Array(e),i=0;i<e;i++)s[i]=arguments[i];var r=0,o=s.pop(),a=pt(s),l=t.apply(void 0,[function(){return r++,o.apply(null,arguments)}].concat(n)),u=t((function(){for(var t=[],e=a.length,n=0;n<e;n++)t.push(a[n].apply(null,arguments));return l.apply(null,t)}));return u.resultFunc=o,u.dependencies=a,u.recomputations=function(){return r},u.resetRecomputations=function(){return r=0},u}}((function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ht,n=null,s=null;return function(){return dt(e,n,arguments)||(s=t.apply(null,arguments)),n=arguments,s}}));function mt(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gt(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,s)}return n}function yt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?gt(Object(n),!0).forEach((function(e){mt(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gt(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function vt(t){return"Minified Redux error #"+t+"; visit https://redux.js.org/Errors?code="+t+" for the full message or use the non-minified dev environment for full errors. "}var _t="function"==typeof Symbol&&Symbol.observable||"@@observable",bt=function(){return Math.random().toString(36).substring(7).split("").join(".")},wt={INIT:"@@redux/INIT"+bt(),REPLACE:"@@redux/REPLACE"+bt(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+bt()}};function xt(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function kt(t,e,n){var s;if("function"==typeof e&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(vt(0));if("function"==typeof e&&void 0===n&&(n=e,e=void 0),void 0!==n){if("function"!=typeof n)throw new Error(vt(1));return n(kt)(t,e)}if("function"!=typeof t)throw new Error(vt(2));var i=t,r=e,o=[],a=o,l=!1;function u(){a===o&&(a=o.slice())}function c(){if(l)throw new Error(vt(3));return r}function h(t){if("function"!=typeof t)throw new Error(vt(4));if(l)throw new Error(vt(5));var e=!0;return u(),a.push(t),function(){if(e){if(l)throw new Error(vt(6));e=!1,u();var n=a.indexOf(t);a.splice(n,1),o=null}}}function d(t){if(!xt(t))throw new Error(vt(7));if(void 0===t.type)throw new Error(vt(8));if(l)throw new Error(vt(9));try{l=!0,r=i(r,t)}finally{l=!1}for(var e=o=a,n=0;n<e.length;n++)(0,e[n])();return t}function p(t){if("function"!=typeof t)throw new Error(vt(10));i=t,d({type:wt.REPLACE})}function f(){var t,e=h;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new Error(vt(11));function n(){t.next&&t.next(c())}return n(),{unsubscribe:e(n)}}})[_t]=function(){return this},t}return d({type:wt.INIT}),(s={dispatch:d,subscribe:h,getState:c,replaceReducer:p})[_t]=f,s}function St(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce((function(t,e){return function(){return t(e.apply(void 0,arguments))}}))}function Tt(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),s=function(){throw new Error(vt(15))},i={getState:n.getState,dispatch:function(){return s.apply(void 0,arguments)}},r=e.map((function(t){return t(i)}));return s=St.apply(void 0,r)(n.dispatch),yt(yt({},n),{},{dispatch:s})}}}function Ct(t){return function(e){var n=e.dispatch,s=e.getState;return function(e){return function(i){return"function"==typeof i?i(n,s,t):e(i)}}}}var Ot=Ct();Ot.withExtraArgument=Ct;const Et=Ot;function At(t){for(var e=arguments.length,n=Array(e>1?e-1:0),s=1;s<e;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+t+(n.length?" "+n.map((function(t){return"'"+t+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Dt(t){return!!t&&!!t[ye]}function Mt(t){return!!t&&(function(t){if(!t||"object"!=typeof t)return!1;var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ve}(t)||Array.isArray(t)||!!t[ge]||!!t.constructor[ge]||Ft(t)||jt(t))}function Rt(t,e,n){void 0===n&&(n=!1),0===Pt(t)?(n?Object.keys:_e)(t).forEach((function(s){n&&"symbol"==typeof s||e(s,t[s],t)})):t.forEach((function(n,s){return e(s,n,t)}))}function Pt(t){var e=t[ye];return e?e.i>3?e.i-4:e.i:Array.isArray(t)?1:Ft(t)?2:jt(t)?3:0}function It(t,e){return 2===Pt(t)?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Nt(t,e,n){var s=Pt(t);2===s?t.set(e,n):3===s?(t.delete(e),t.add(n)):t[e]=n}function qt(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function Ft(t){return de&&t instanceof Map}function jt(t){return pe&&t instanceof Set}function Vt(t){return t.o||t.t}function Lt(t){if(Array.isArray(t))return Array.prototype.slice.call(t);var e=be(t);delete e[ye];for(var n=_e(e),s=0;s<n.length;s++){var i=n[s],r=e[i];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(e[i]={configurable:!0,writable:!0,enumerable:r.enumerable,value:t[i]})}return Object.create(Object.getPrototypeOf(t),e)}function zt(t,e){return void 0===e&&(e=!1),Ut(t)||Dt(t)||!Mt(t)||(Pt(t)>1&&(t.set=t.add=t.clear=t.delete=Bt),Object.freeze(t),e&&Rt(t,(function(t,e){return zt(e,!0)}),!0)),t}function Bt(){At(2)}function Ut(t){return null==t||"object"!=typeof t||Object.isFrozen(t)}function Wt(t){var e=we[t];return e||At(18,t),e}function $t(){return ce}function Ht(t,e){e&&(Wt("Patches"),t.u=[],t.s=[],t.v=e)}function Qt(t){Gt(t),t.p.forEach(Yt),t.p=null}function Gt(t){t===ce&&(ce=t.l)}function Xt(t){return ce={p:[],l:ce,h:t,m:!0,_:0}}function Yt(t){var e=t[ye];0===e.i||1===e.i?e.j():e.O=!0}function Zt(t,e){e._=e.p.length;var n=e.p[0],s=void 0!==t&&t!==n;return e.h.g||Wt("ES5").S(e,t,s),s?(n[ye].P&&(Qt(e),At(4)),Mt(t)&&(t=Kt(e,t),e.l||te(e,t)),e.u&&Wt("Patches").M(n[ye],t,e.u,e.s)):t=Kt(e,n,[]),Qt(e),e.u&&e.v(e.u,e.s),t!==me?t:void 0}function Kt(t,e,n){if(Ut(e))return e;var s=e[ye];if(!s)return Rt(e,(function(i,r){return Jt(t,s,e,i,r,n)}),!0),e;if(s.A!==t)return e;if(!s.P)return te(t,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var i=4===s.i||5===s.i?s.o=Lt(s.k):s.o;Rt(3===s.i?new Set(i):i,(function(e,r){return Jt(t,s,i,e,r,n)})),te(t,i,!1),n&&t.u&&Wt("Patches").R(s,n,t.u,t.s)}return s.o}function Jt(t,e,n,s,i,r){if(Dt(i)){var o=Kt(t,i,r&&e&&3!==e.i&&!It(e.D,s)?r.concat(s):void 0);if(Nt(n,s,o),!Dt(o))return;t.m=!1}if(Mt(i)&&!Ut(i)){if(!t.h.F&&t._<1)return;Kt(t,i),e&&e.A.l||te(t,i)}}function te(t,e,n){void 0===n&&(n=!1),t.h.F&&t.m&&zt(e,n)}function ee(t,e){var n=t[ye];return(n?Vt(n):t)[e]}function ne(t,e){if(e in t)for(var n=Object.getPrototypeOf(t);n;){var s=Object.getOwnPropertyDescriptor(n,e);if(s)return s;n=Object.getPrototypeOf(n)}}function se(t){t.P||(t.P=!0,t.l&&se(t.l))}function ie(t){t.o||(t.o=Lt(t.t))}function re(t,e,n){var s=Ft(e)?Wt("MapSet").N(e,n):jt(e)?Wt("MapSet").T(e,n):t.g?function(t,e){var n=Array.isArray(t),s={i:n?1:0,A:e?e.A:$t(),P:!1,I:!1,D:{},l:e,t,k:null,o:null,j:null,C:!1},i=s,r=xe;n&&(i=[s],r=ke);var o=Proxy.revocable(i,r),a=o.revoke,l=o.proxy;return s.k=l,s.j=a,l}(e,n):Wt("ES5").J(e,n);return(n?n.A:$t()).p.push(s),s}function oe(t){return Dt(t)||At(22,t),function t(e){if(!Mt(e))return e;var n,s=e[ye],i=Pt(e);if(s){if(!s.P&&(s.i<4||!Wt("ES5").K(s)))return s.t;s.I=!0,n=ae(e,i),s.I=!1}else n=ae(e,i);return Rt(n,(function(e,i){s&&function(t,e){return 2===Pt(t)?t.get(e):t[e]}(s.t,e)===i||Nt(n,e,t(i))})),3===i?new Set(n):n}(t)}function ae(t,e){switch(e){case 2:return new Map(t);case 3:return Array.from(t)}return Lt(t)}function le(){function t(t,e){var n=i[t];return n?n.enumerable=e:i[t]=n={configurable:!0,enumerable:e,get:function(){var e=this[ye];return xe.get(e,t)},set:function(e){var n=this[ye];xe.set(n,t,e)}},n}function e(t){for(var e=t.length-1;e>=0;e--){var i=t[e][ye];if(!i.P)switch(i.i){case 5:s(i)&&se(i);break;case 4:n(i)&&se(i)}}}function n(t){for(var e=t.t,n=t.k,s=_e(n),i=s.length-1;i>=0;i--){var r=s[i];if(r!==ye){var o=e[r];if(void 0===o&&!It(e,r))return!0;var a=n[r],l=a&&a[ye];if(l?l.t!==o:!qt(a,o))return!0}}var u=!!e[ye];return s.length!==_e(e).length+(u?0:1)}function s(t){var e=t.k;if(e.length!==t.t.length)return!0;var n=Object.getOwnPropertyDescriptor(e,e.length-1);return!(!n||n.get)}var i={};!function(t,e){we[t]||(we[t]=e)}("ES5",{J:function(e,n){var s=Array.isArray(e),i=function(e,n){if(e){for(var s=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(s,""+i,t(i,!0));return s}var r=be(n);delete r[ye];for(var o=_e(r),a=0;a<o.length;a++){var l=o[a];r[l]=t(l,e||!!r[l].enumerable)}return Object.create(Object.getPrototypeOf(n),r)}(s,e),r={i:s?5:4,A:n?n.A:$t(),P:!1,I:!1,D:{},l:n,t:e,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,ye,{value:r,writable:!0}),i},S:function(t,n,i){i?Dt(n)&&n[ye].A===t&&e(t.p):(t.u&&function t(e){if(e&&"object"==typeof e){var n=e[ye];if(n){var i=n.t,r=n.k,o=n.D,a=n.i;if(4===a)Rt(r,(function(e){e!==ye&&(void 0!==i[e]||It(i,e)?o[e]||t(r[e]):(o[e]=!0,se(n)))})),Rt(i,(function(t){void 0!==r[t]||It(r,t)||(o[t]=!1,se(n))}));else if(5===a){if(s(n)&&(se(n),o.length=!0),r.length<i.length)for(var l=r.length;l<i.length;l++)o[l]=!1;else for(var u=i.length;u<r.length;u++)o[u]=!0;for(var c=Math.min(r.length,i.length),h=0;h<c;h++)void 0===o[h]&&t(r[h])}}}}(t.p[0]),e(t.p))},K:function(t){return 4===t.i?n(t):s(t)}})}var ue,ce,he="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),de="undefined"!=typeof Map,pe="undefined"!=typeof Set,fe="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,me=he?Symbol.for("immer-nothing"):((ue={})["immer-nothing"]=!0,ue),ge=he?Symbol.for("immer-draftable"):"__$immer_draftable",ye=he?Symbol.for("immer-state"):"__$immer_state",ve=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),_e="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:Object.getOwnPropertyNames,be=Object.getOwnPropertyDescriptors||function(t){var e={};return _e(t).forEach((function(n){e[n]=Object.getOwnPropertyDescriptor(t,n)})),e},we={},xe={get:function(t,e){if(e===ye)return t;var n=Vt(t);if(!It(n,e))return function(t,e,n){var s,i=ne(e,n);return i?"value"in i?i.value:null===(s=i.get)||void 0===s?void 0:s.call(t.k):void 0}(t,n,e);var s=n[e];return t.I||!Mt(s)?s:s===ee(t.t,e)?(ie(t),t.o[e]=re(t.A.h,s,t)):s},has:function(t,e){return e in Vt(t)},ownKeys:function(t){return Reflect.ownKeys(Vt(t))},set:function(t,e,n){var s=ne(Vt(t),e);if(null==s?void 0:s.set)return s.set.call(t.k,n),!0;if(!t.P){var i=ee(Vt(t),e),r=null==i?void 0:i[ye];if(r&&r.t===n)return t.o[e]=n,t.D[e]=!1,!0;if(qt(n,i)&&(void 0!==n||It(t.t,e)))return!0;ie(t),se(t)}return t.o[e]===n&&"number"!=typeof n||(t.o[e]=n,t.D[e]=!0,!0)},deleteProperty:function(t,e){return void 0!==ee(t.t,e)||e in t.t?(t.D[e]=!1,ie(t),se(t)):delete t.D[e],t.o&&delete t.o[e],!0},getOwnPropertyDescriptor:function(t,e){var n=Vt(t),s=Reflect.getOwnPropertyDescriptor(n,e);return s?{writable:!0,configurable:1!==t.i||"length"!==e,enumerable:s.enumerable,value:n[e]}:s},defineProperty:function(){At(11)},getPrototypeOf:function(t){return Object.getPrototypeOf(t.t)},setPrototypeOf:function(){At(12)}},ke={};Rt(xe,(function(t,e){ke[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}})),ke.deleteProperty=function(t,e){return xe.deleteProperty.call(this,t[0],e)},ke.set=function(t,e,n){return xe.set.call(this,t[0],e,n,t[0])};var Se=new(function(){function t(t){var e=this;this.g=fe,this.F=!0,this.produce=function(t,n,s){if("function"==typeof t&&"function"!=typeof n){var i=n;n=t;var r=e;return function(t){var e=this;void 0===t&&(t=i);for(var s=arguments.length,o=Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return r.produce(t,(function(t){var s;return(s=n).call.apply(s,[e,t].concat(o))}))}}var o;if("function"!=typeof n&&At(6),void 0!==s&&"function"!=typeof s&&At(7),Mt(t)){var a=Xt(e),l=re(e,t,void 0),u=!0;try{o=n(l),u=!1}finally{u?Qt(a):Gt(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(t){return Ht(a,s),Zt(t,a)}),(function(t){throw Qt(a),t})):(Ht(a,s),Zt(o,a))}if(!t||"object"!=typeof t){if((o=n(t))===me)return;return void 0===o&&(o=t),e.F&&zt(o,!0),o}At(21,t)},this.produceWithPatches=function(t,n){return"function"==typeof t?function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];return e.produceWithPatches(n,(function(e){return t.apply(void 0,[e].concat(i))}))}:[e.produce(t,n,(function(t,e){s=t,i=e})),s,i];var s,i},"boolean"==typeof(null==t?void 0:t.useProxies)&&this.setUseProxies(t.useProxies),"boolean"==typeof(null==t?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze)}var e=t.prototype;return e.createDraft=function(t){Mt(t)||At(8),Dt(t)&&(t=oe(t));var e=Xt(this),n=re(this,t,void 0);return n[ye].C=!0,Gt(e),n},e.finishDraft=function(t,e){var n=(t&&t[ye]).A;return Ht(n,e),Zt(void 0,n)},e.setAutoFreeze=function(t){this.F=t},e.setUseProxies=function(t){t&&!fe&&At(20),this.g=t},e.applyPatches=function(t,e){var n;for(n=e.length-1;n>=0;n--){var s=e[n];if(0===s.path.length&&"replace"===s.op){t=s.value;break}}var i=Wt("Patches").$;return Dt(t)?i(t,e):this.produce(t,(function(t){return i(t,e.slice(n+1))}))},t}()),Te=Se.produce;Se.produceWithPatches.bind(Se),Se.setAutoFreeze.bind(Se),Se.setUseProxies.bind(Se),Se.applyPatches.bind(Se),Se.createDraft.bind(Se),Se.finishDraft.bind(Se);const Ce=Te;var Oe,Ee=(Oe=function(t,e){return(Oe=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}Oe(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Ae=function(t,e){for(var n=0,s=e.length,i=t.length;n<s;n++,i++)t[i]=e[n];return t},De=Object.defineProperty,Me=Object.prototype.hasOwnProperty,Re=Object.getOwnPropertySymbols,Pe=Object.prototype.propertyIsEnumerable,Ie=function(t,e,n){return e in t?De(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n},Ne=function(t,e){for(var n in e||(e={}))Me.call(e,n)&&Ie(t,n,e[n]);if(Re)for(var s=0,i=Re(e);s<i.length;s++)n=i[s],Pe.call(e,n)&&Ie(t,n,e[n]);return t},qe="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?St:St.apply(null,arguments)};"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Fe=function(t){function e(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=t.apply(this,n)||this;return Object.setPrototypeOf(i,e.prototype),i}return Ee(e,t),Object.defineProperty(e,Symbol.species,{get:function(){return e},enumerable:!1,configurable:!0}),e.prototype.concat=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.prototype.concat.apply(this,e)},e.prototype.prepend=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return 1===t.length&&Array.isArray(t[0])?new(e.bind.apply(e,Ae([void 0],t[0].concat(this)))):new(e.bind.apply(e,Ae([void 0],t.concat(this))))},e}(Array);function je(t,e){function n(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(e){var i=e.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Ne(Ne({type:t,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:t,payload:n[0]}}return n.toString=function(){return""+t},n.type=t,n.match=function(e){return e.type===t},n}function Ve(t){var e,n={},s=[],i={addCase:function(t,e){var s="string"==typeof t?t:t.type;if(s in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[s]=e,i},addMatcher:function(t,e){return s.push({matcher:t,reducer:e}),i},addDefaultCase:function(t){return e=t,i}};return t(i),[n,s,e]}function Le(t){var e=t.name,n=t.initialState;if(!e)throw new Error("`name` is a required option for createSlice");var s=t.reducers||{},i="function"==typeof t.extraReducers?Ve(t.extraReducers):[t.extraReducers],r=i[0],o=void 0===r?{}:r,a=i[1],l=void 0===a?[]:a,u=i[2],c=void 0===u?void 0:u,h=Object.keys(s),d={},p={},f={};h.forEach((function(t){var n,i,r=s[t],o=e+"/"+t;"reducer"in r?(n=r.reducer,i=r.prepare):n=r,d[t]=n,p[o]=n,f[t]=i?je(o,i):je(o)}));var m=function(t,e,n,s){void 0===n&&(n=[]),le();var i="function"==typeof e?Ve(e):[e,n,s],r=i[0],o=i[1],a=i[2],l=Ce(t,(function(){}));return function(t,e){void 0===t&&(t=l);var n=Ae([r[e.type]],o.filter((function(t){return(0,t.matcher)(e)})).map((function(t){return t.reducer})));return 0===n.filter((function(t){return!!t})).length&&(n=[a]),n.reduce((function(t,n){if(n){var s;if(Dt(t))return void 0===(s=n(t,e))?t:s;if(Mt(t))return Ce(t,(function(t){return n(t,e)}));if(void 0===(s=n(t,e))){if(null===t)return t;throw Error("A case reducer on a non-draftable value must not return undefined")}return s}return t}),t)}}(n,Ne(Ne({},o),p),l,c);return{name:e,reducer:m,actions:f,caseReducers:d}}var ze=function(t){void 0===t&&(t=21);for(var e="",n=t;n--;)e+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return e},Be=["name","message","stack","code"],Ue=function(t,e){this.payload=t,this.meta=e},We=function(t,e){this.payload=t,this.meta=e},$e=function(t){if("object"==typeof t&&null!==t){for(var e={},n=0,s=Be;n<s.length;n++){var i=s[n];"string"==typeof t[i]&&(e[i]=t[i])}return e}return{message:String(t)}};function He(t,e,n){var s=je(t+"/fulfilled",(function(t,e,n,s){return{payload:t,meta:Ne(Ne({},s||{}),{arg:n,requestId:e,requestStatus:"fulfilled"})}})),i=je(t+"/pending",(function(t,e,n){return{payload:void 0,meta:Ne(Ne({},n||{}),{arg:e,requestId:t,requestStatus:"pending"})}})),r=je(t+"/rejected",(function(t,e,s,i,r){return{payload:i,error:(n&&n.serializeError||$e)(t||"Rejected"),meta:Ne(Ne({},r||{}),{arg:s,requestId:e,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==t?void 0:t.name),condition:"ConditionError"===(null==t?void 0:t.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function t(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return t.prototype.abort=function(){},t}();return Object.assign((function(t){return function(a,l,u){var c,h,d=(null!=(c=null==n?void 0:n.idGenerator)?c:ze)(),p=new o,f=new Promise((function(t,e){return p.signal.addEventListener("abort",(function(){return e({name:"AbortError",message:h||"Aborted"})}))})),m=!1,g=function(){return o=this,null,c=function(){var o,c,h;return function(t,e){var n,s,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,s=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=e.call(t,o)}catch(t){r=[6,t],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(g){switch(g.label){case 0:if(g.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(t,{getState:l,extra:u}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=!0,a(i(d,t,null==(o=null==n?void 0:n.getPendingMeta)?void 0:o.call(n,{requestId:d,arg:t},{getState:l,extra:u}))),[4,Promise.race([f,Promise.resolve(e(t,{dispatch:a,getState:l,extra:u,requestId:d,signal:p.signal,rejectWithValue:function(t,e){return new Ue(t,e)},fulfillWithValue:function(t,e){return new We(t,e)}})).then((function(e){if(e instanceof Ue)throw e;return e instanceof We?s(e.payload,d,t,e.meta):s(e,d,t)}))])];case 1:return c=g.sent(),[3,3];case 2:return h=g.sent(),c=h instanceof Ue?r(null,d,t,h.payload,h.meta):r(h,d,t),[3,3];case 3:return n&&!n.dispatchConditionRejection&&r.match(c)&&c.meta.condition||a(c),[2,c]}}))},new Promise((function(t,e){var n=function(t){try{i(c.next(t))}catch(t){e(t)}},s=function(t){try{i(c.throw(t))}catch(t){e(t)}},i=function(e){return e.done?t(e.value):Promise.resolve(e.value).then(n,s)};i((c=c.apply(o,null)).next())}));var o,c}();return Object.assign(g,{abort:function(t){m&&(h=t,p.abort())},requestId:d,arg:t,unwrap:function(){return g.then(Qe)}})}}),{pending:i,rejected:r,fulfilled:s,typePrefix:t})}function Qe(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Ge(t){return{byId:Object.fromEntries(t),allIds:t.map((t=>t[0]))}}let Xe,Ye;const Ze=new WeakMap,Ke=new WeakMap,Je=new WeakMap,tn=new WeakMap,en=new WeakMap;let nn={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return Ke.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Je.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return rn(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function sn(t){return"function"==typeof t?(e=t)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ye||(Ye=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(...t){return e.apply(on(this),t),rn(Ze.get(this))}:function(...t){return rn(e.apply(on(this),t))}:function(t,...n){const s=e.call(on(this),t,...n);return Je.set(s,t.sort?t.sort():[t]),rn(s)}:(t instanceof IDBTransaction&&function(t){if(Ke.has(t))return;const e=new Promise(((e,n)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",r),t.removeEventListener("abort",r)},i=()=>{e(),s()},r=()=>{n(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",r),t.addEventListener("abort",r)}));Ke.set(t,e)}(t),n=t,(Xe||(Xe=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((t=>n instanceof t))?new Proxy(t,nn):t);var e,n}function rn(t){if(t instanceof IDBRequest)return function(t){const e=new Promise(((e,n)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",r)},i=()=>{e(rn(t.result)),s()},r=()=>{n(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",r)}));return e.then((e=>{e instanceof IDBCursor&&Ze.set(e,t)})).catch((()=>{})),en.set(e,t),e}(t);if(tn.has(t))return tn.get(t);const e=sn(t);return e!==t&&(tn.set(t,e),en.set(e,t)),e}const on=t=>en.get(t),an=["get","getKey","getAll","getAllKeys","count"],ln=["put","add","delete","clear"],un=new Map;function cn(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(un.get(e))return un.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=ln.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!i&&!an.includes(n))return;const r=async function(t,...e){const r=this.transaction(t,i?"readwrite":"readonly");let o=r.store;return s&&(o=o.index(e.shift())),(await Promise.all([o[n](...e),i&&r.done]))[0]};return un.set(e,r),r}var hn;hn=nn,nn={...hn,get:(t,e,n)=>cn(t,e)||hn.get(t,e,n),has:(t,e)=>!!cn(t,e)||hn.has(t,e)};const dn="instruments",pn="instrumentNames";let fn;async function mn(){return await function(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),a=rn(o);return s&&o.addEventListener("upgradeneeded",(t=>{s(rn(o.result),t.oldVersion,t.newVersion,rn(o.transaction))})),n&&o.addEventListener("blocked",(()=>n())),a.then((t=>{r&&t.addEventListener("close",(()=>r())),i&&t.addEventListener("versionchange",(()=>i()))})).catch((()=>{})),a}("MyDB",1,{upgrade(t,e,n){console.log(`upgrade o:${e} n:${n}`),t.createObjectStore(dn,{keyPath:"uuid"}).createIndex(pn,"name")},blocked(){console.log("blocked")},blocking(){console.log("blocking")},terminated(){console.log("terminated")}})}const gn=async function(t){fn=fn||await mn();try{return await fn.put(dn,t)}catch(t){console.error("db.put error:",t)}},yn=async function(){return fn=fn||await mn(),await fn.getAll(dn)},vn=async function(){return fn=fn||await mn(),await fn.getAllKeys(dn)},_n="14.7.77";var bn=n(382);const wn=new WeakSet,xn=new WeakMap,kn=new WeakMap,Sn=new WeakMap,Tn=new WeakMap,Cn=new WeakMap,On=new WeakMap,En=new WeakMap,An=new WeakMap,Dn=new WeakMap,Mn={construct:()=>Mn},Rn=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Pn=(t,e)=>{const n=[];let s=t.replace(/^[\s]+/,""),i=s.match(Rn);for(;null!==i;){const t=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(t,new URL(t,e).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(Rn)}return[n.join(";"),s]},In=t=>{if(void 0!==t&&!Array.isArray(t))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},Nn=t=>{if(!(t=>{try{new new Proxy(t,Mn)}catch{return!1}return!0})(t))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===t.prototype||"object"!=typeof t.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},qn=(t,e)=>{const n=t.get(e);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},Fn=(t,e)=>{const n=Array.from(t).filter(e);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return t.delete(s),s},jn=(t,e,n,s)=>{const i=qn(t,e),r=Fn(i,(t=>t[0]===n&&t[1]===s));return 0===i.size&&t.delete(e),r},Vn=t=>qn(On,t),Ln=t=>{if(wn.has(t))throw new Error("The AudioNode is already stored.");wn.add(t),Vn(t).forEach((t=>t(!0)))},zn=t=>"port"in t,Bn=t=>{if(!wn.has(t))throw new Error("The AudioNode is not stored.");wn.delete(t),Vn(t).forEach((t=>t(!1)))},Un=(t,e)=>{!zn(t)&&e.every((t=>0===t.size))&&Bn(t)},Wn={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},$n=(t,e)=>t.context===e,Hn=t=>{try{t.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},Qn=()=>new DOMException("","IndexSizeError"),Gn=t=>{var e;t.getChannelData=(e=t.getChannelData,n=>{try{return e.call(t,n)}catch(t){if(12===t.code)throw Qn();throw t}})},Xn={numberOfChannels:1},Yn=-34028234663852886e22,Zn=-Yn,Kn=t=>wn.has(t),Jn={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},ts=t=>qn(xn,t),es=t=>qn(Sn,t),ns=(t,e)=>{const{activeInputs:n}=ts(t);n.forEach((n=>n.forEach((([n])=>{e.includes(t)||ns(n,[...e,t])}))));const s=(t=>"playbackRate"in t)(t)?[t.playbackRate]:zn(t)?Array.from(t.parameters.values()):(t=>"frequency"in t&&"gain"in t)(t)?[t.Q,t.detune,t.frequency,t.gain]:(t=>"offset"in t)(t)?[t.offset]:(t=>!("frequency"in t)&&"gain"in t)(t)?[t.gain]:(t=>"detune"in t&&"frequency"in t)(t)?[t.detune,t.frequency]:(t=>"pan"in t)(t)?[t.pan]:[];for(const t of s){const n=es(t);void 0!==n&&n.activeInputs.forEach((([t])=>ns(t,e)))}Kn(t)&&Bn(t)},ss=t=>{ns(t.destination,[])},is=t=>"context"in t,rs=t=>is(t[0]),os=(t,e,n,s)=>{for(const e of t)if(n(e)){if(s)return!1;throw Error("The set contains at least one similar element.")}return t.add(e),!0},as=(t,e,[n,s],i)=>{os(t,[e,n,s],(t=>t[0]===e&&t[1]===n),i)},ls=(t,[e,n,s],i)=>{const r=t.get(e);void 0===r?t.set(e,new Set([[n,s]])):os(r,[n,s],(t=>t[0]===n),i)},us=t=>"inputs"in t,cs=(t,e,n,s)=>{if(us(e)){const i=e.inputs[s];return t.connect(i,n,0),[i,n,0]}return t.connect(e,n,s),[e,n,s]},hs=(t,e,n)=>{for(const s of t)if(s[0]===e&&s[1]===n)return t.delete(s),s;return null},ds=(t,e)=>{if(!Vn(t).delete(e))throw new Error("Missing the expected event listener.")},ps=(t,e,n)=>{const s=qn(t,e),i=Fn(s,(t=>t[0]===n));return 0===s.size&&t.delete(e),i},fs=(t,e,n,s)=>{us(e)?t.disconnect(e.inputs[s],n,0):t.disconnect(e,n,s)},ms=t=>qn(kn,t),gs=t=>qn(Tn,t),ys=t=>En.has(t),vs=t=>!wn.has(t),_s=t=>new Promise((e=>{const n=t.createScriptProcessor(256,1,1),s=t.createGain(),i=t.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const o=t.createBufferSource();o.buffer=i,o.loop=!0,o.connect(n).connect(t.destination),o.connect(s),o.disconnect(s),n.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(t=>1===t))?e(!0):e(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(t.destination)},o.start()})),bs=(t,e)=>{const n=new Map;for(const e of t)for(const t of e){const e=n.get(t);n.set(t,void 0===e?1:e+1)}n.forEach(((t,n)=>e(n,t)))},ws=t=>"context"in t,xs=t=>{const e=new Map;var n;t.connect=(n=t.connect.bind(t),(t,s=0,i=0)=>{const r=ws(t)?n(t,s,i):n(t,s),o=e.get(t);return void 0===o?e.set(t,[{input:i,output:s}]):o.every((t=>t.input!==i||t.output!==s))&&o.push({input:i,output:s}),r}),t.disconnect=(n=>(s,i,r)=>{if(n.apply(t),void 0===s)e.clear();else if("number"==typeof s)for(const[t,n]of e){const i=n.filter((t=>t.output!==s));0===i.length?e.delete(t):e.set(t,i)}else if(e.has(s))if(void 0===i)e.delete(s);else{const t=e.get(s);if(void 0!==t){const n=t.filter((t=>t.output!==i&&(t.input!==r||void 0===r)));0===n.length?e.delete(s):e.set(s,n)}}for(const[n,s]of e)s.forEach((e=>{ws(n)?t.connect(n,e.output,e.input):t.connect(n,e.output)}))})(t.disconnect)},ks=(t,e,n,s,i)=>{const[r,o]=((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=ts(e),o=hs(i[s],t,n);return null===o?[jn(r,t,n,s)[2],!1]:[o[2],!0]})(t,n,s,i);if(null!==r&&(ds(t,r),!o||e||ys(t)||fs(ms(t),ms(n),s,i)),Kn(n)){const{activeInputs:t}=ts(n);Un(n,t)}},Ss=(t,e,n,s)=>{const[i,r]=((t,e,n)=>{const{activeInputs:s,passiveInputs:i}=es(e),r=hs(s,t,n);return null===r?[ps(i,t,n)[1],!1]:[r[2],!0]})(t,n,s);null!==i&&(ds(t,i),!r||e||ys(t)||ms(t).disconnect(gs(n),s))};class Ts{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,e=null){return this._map.forEach(((n,s)=>t.call(e,n,s,this)))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Cs={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function Os(t,e,n,s,i){if("function"==typeof t.copyFromChannel)0===e[n].byteLength&&(e[n]=new Float32Array(128)),t.copyFromChannel(e[n],s,i);else{const r=t.getChannelData(s);if(0===e[n].byteLength)e[n]=r.slice(i,i+128);else{const t=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);e[n].set(t)}}}const Es=(t,e,n,s,i)=>{"function"==typeof t.copyToChannel?0!==e[n].byteLength&&t.copyToChannel(e[n],s,i):0!==e[n].byteLength&&t.getChannelData(s).set(e[n],i)},As=(t,e)=>{const n=[];for(let s=0;s<t;s+=1){const t=[],i="number"==typeof e?e:e[s];for(let e=0;e<i;e+=1)t.push(new Float32Array(128));n.push(t)}return n},Ds=async(t,e,n,s,i,r,o)=>{const a=null===e?128*Math.ceil(t.context.length/128):e.length,l=s.channelCount*s.numberOfInputs,u=i.reduce(((t,e)=>t+e),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=ts(t),d=await((t,e)=>{const n=qn(Dn,t),s=ms(e);return qn(n,s)})(n,t),p=As(s.numberOfInputs,s.channelCount),f=As(s.numberOfOutputs,i),m=Array.from(t.parameters.keys()).reduce(((t,e)=>({...t,[e]:new Float32Array(128)})),{});for(let u=0;u<a;u+=128){if(s.numberOfInputs>0&&null!==e)for(let t=0;t<s.numberOfInputs;t+=1)for(let n=0;n<s.channelCount;n+=1)Os(e,p[t],n,n,u);void 0!==r.parameterDescriptors&&null!==e&&r.parameterDescriptors.forEach((({name:t},n)=>{Os(e,m,t,l+n,u)}));for(let t=0;t<s.numberOfInputs;t+=1)for(let e=0;e<i[t];e+=1)0===f[t][e].byteLength&&(f[t][e]=new Float32Array(128));try{const t=p.map(((t,e)=>0===h.activeInputs[e].size?[]:t)),e=o(u/n.sampleRate,n.sampleRate,(()=>d.process(t,f,m)));if(null!==c)for(let t=0,e=0;t<s.numberOfOutputs;t+=1){for(let n=0;n<i[t];n+=1)Es(c,f[t],n,e+n,u);e+=i[t]}if(!e)break}catch(e){t.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}));break}}return c},Ms={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},Rs={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},Ps={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},Is={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},Ns={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},qs=t=>{const{port1:e,port2:n}=new MessageChannel;return new Promise((s=>{n.onmessage=()=>{e.close(),n.close(),s()},e.postMessage(t,[t])}))},Fs={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},js=(t,e,n)=>{const s=e[n];if(void 0===s)throw t();return s},Vs={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ls={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},zs=()=>new DOMException("","InvalidStateError"),Bs=()=>new DOMException("","InvalidAccessError"),Us={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},Ws=(t,e,n,s,i,r,o,a,l,u,c)=>{const h=u.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*u[a];for(let e=1;e<i;e+=1){const s=d-e&l-1;h+=n[e]*r[s],h-=t[e]*o[s]}for(let t=i;t<s;t+=1)h+=n[t]*r[d-t&l-1];for(let n=i;n<e;n+=1)h-=t[n]*o[d-n&l-1];r[d]=u[a],o[d]=h,d=d+1&l-1,c[a]=h}return d},$s={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Hs=t=>{const e=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=t.decodeAudioData(e.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Qs=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n]&&(t[n]=s)},Gs=(t,e)=>{Qs(t,e,"channelCount"),Qs(t,e,"channelCountMode"),Qs(t,e,"channelInterpretation")},Xs=t=>"function"==typeof t.getFloatTimeDomainData,Ys=(t,e,n)=>{const s=e[n];void 0!==s&&s!==t[n].value&&(t[n].value=s)},Zs=t=>{t.start=(e=>(n=0,s=0,i)=>{if("number"==typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");e.call(t,n,s,i)})(t.start)},Ks=t=>{var e;t.stop=(e=t.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");e.call(t,n)})},Js=(t,e)=>null===t?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(t*e))))),ti=(t,e)=>{const n=t.createBiquadFilter();return Gs(n,e),Ys(n,e,"Q"),Ys(n,e,"detune"),Ys(n,e,"frequency"),Ys(n,e,"gain"),Qs(n,e,"type"),n},ei=(t,e)=>{const n=t.createChannelSplitter(e.numberOfOutputs);return Gs(n,e),(t=>{const e=t.numberOfOutputs;Object.defineProperty(t,"channelCount",{get:()=>e,set:t=>{if(t!==e)throw zs()}}),Object.defineProperty(t,"channelCountMode",{get:()=>"explicit",set:t=>{if("explicit"!==t)throw zs()}}),Object.defineProperty(t,"channelInterpretation",{get:()=>"discrete",set:t=>{if("discrete"!==t)throw zs()}})})(n),n},ni=(t,e)=>(t.connect=e.connect.bind(e),t.disconnect=e.disconnect.bind(e),t),si=(t,e)=>{const n=t.createDelay(e.maxDelayTime);return Gs(n,e),Ys(n,e,"delayTime"),n},ii=(t,e)=>{const n=t.createGain();return Gs(n,e),Ys(n,e,"gain"),n};function ri(t,e){const n=e[0]*e[0]+e[1]*e[1];return[(t[0]*e[0]+t[1]*e[1])/n,(t[1]*e[0]-t[0]*e[1])/n]}function oi(t,e){return[t[0]*e[0]-t[1]*e[1],t[0]*e[1]+t[1]*e[0]]}function ai(t,e){let n=[0,0];for(let s=t.length-1;s>=0;s-=1)n=oi(n,e),n[0]+=t[s];return n}const li=(t,e,n,s)=>t.createScriptProcessor(e,n,s),ui=()=>new DOMException("","NotSupportedError"),ci={numberOfChannels:1},hi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},di={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},pi={disableNormalization:!1},fi={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},mi=()=>new DOMException("","UnknownError"),gi={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},yi=t=>{if(null===t)return!1;const e=t.length;return e%2!=0?0!==t[Math.floor(e/2)]:t[e/2-1]+t[e/2]!==0},vi=(t,e,n,s)=>{let i=Object.getPrototypeOf(t);for(;!i.hasOwnProperty(e);)i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,e);Object.defineProperty(t,e,{get:n(r),set:s(o)})},_i=(t,e,n)=>{try{t.setValueAtTime(e,n)}catch(s){if(9!==s.code)throw s;_i(t,e,n+1e-7)}},bi=t=>{const e=t.createOscillator();try{e.start(-1)}catch(t){return t instanceof RangeError}return!1},wi=t=>{const e=t.createBuffer(1,1,44100),n=t.createBufferSource();n.buffer=e,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},xi=t=>{const e=t.createOscillator();try{e.stop(-1)}catch(t){return t instanceof RangeError}return!1},ki=()=>{try{new DOMException}catch{return!1}return!0},Si=()=>new Promise((t=>{const e=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:e})=>t(null!==e),s.postMessage(e,[e])})),Ti=(t,e)=>{const n=e.createGain();t.connect(n);const s=(e=>()=>{e.call(t,n),t.removeEventListener("ended",s)})(t.disconnect);t.addEventListener("ended",s),ni(t,n),t.stop=(e=>{let s=!1;return(i=0)=>{if(s)try{e.call(t,i)}catch{n.gain.setValueAtTime(0,i)}else e.call(t,i),s=!0}})(t.stop)},Ci=(t,e)=>n=>{const s={value:t};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof e?e.call(t,n):e.handleEvent.call(t,n)},Oi=(t=>(e,n,[s,i,r],o)=>{t(e[i],[n,s,r],(t=>t[0]===n&&t[1]===s),o)})(os),Ei=(t=>(e,n,[s,i,r],o)=>{const a=e.get(s);void 0===a?e.set(s,new Set([[i,n,r]])):t(a,[i,n,r],(t=>t[0]===i&&t[1]===n),o)})(os),Ai=(t=>(e,n,s,i)=>t(e[i],(t=>t[0]===n&&t[1]===s)))(Fn),Di=new WeakMap,Mi=(t=>e=>{var n;return null!==(n=t.get(e))&&void 0!==n?n:0})(Di),Ri=(Pi=new Map,Ii=new WeakMap,(t,e)=>{const n=Ii.get(t);if(void 0!==n)return n;const s=Pi.get(t);if(void 0!==s)return s;try{const n=e();return n instanceof Promise?(Pi.set(t,n),n.catch((()=>!1)).then((e=>(Pi.delete(t),Ii.set(t,e),e)))):(Ii.set(t,n),n)}catch{return Ii.set(t,!1),!1}});var Pi,Ii;const Ni="undefined"==typeof window?null:window,qi=((t,e)=>(n,s)=>{const i=n.createAnalyser();if(Gs(i,s),!(s.maxDecibels>s.minDecibels))throw e();return Qs(i,s,"fftSize"),Qs(i,s,"maxDecibels"),Qs(i,s,"minDecibels"),Qs(i,s,"smoothingTimeConstant"),t(Xs,(()=>Xs(i)))||(t=>{t.getFloatTimeDomainData=e=>{const n=new Uint8Array(e.length);t.getByteTimeDomainData(n);const s=Math.max(n.length,t.fftSize);for(let t=0;t<s;t+=1)e[t]=.0078125*(n[t]-128);return e}})(i),i})(Ri,Qn),Fi=(t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(ts),ji=((t,e,n)=>async(s,i,r,o)=>{const a=t(s),l=[...o,s];await Promise.all(a.activeInputs.map(((t,o)=>Array.from(t).filter((([t])=>!l.includes(t))).map((async([t,a])=>{const u=e(t),c=await u.render(t,i,l),h=s.context.destination;n(t)||s===h&&n(s)||c.connect(r,a,o)})))).reduce(((t,e)=>[...t,...e]),[]))})(ts,Fi,ys),Vi=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=e(i);if(!$n(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=t(r,e)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(qi,ms,ji),Li=(zi=Cn,t=>{const e=zi.get(t);if(void 0===e)throw zs();return e});var zi;const Bi=(t=>null===t?null:t.hasOwnProperty("OfflineAudioContext")?t.OfflineAudioContext:t.hasOwnProperty("webkitOfflineAudioContext")?t.webkitOfflineAudioContext:null)(Ni),Ui=(t=>e=>null!==t&&e instanceof t)(Bi),Wi=new WeakMap,$i=(t=>class{constructor(t){this._nativeEventTarget=t,this._listeners=new WeakMap}addEventListener(e,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=t(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(e,i,s)}}dispatchEvent(t){return this._nativeEventTarget.dispatchEvent(t)}removeEventListener(t,e,n){const s=null===e?void 0:this._listeners.get(e);this._nativeEventTarget.removeEventListener(t,void 0===s?null:s,n)}})(Ci),Hi=(t=>null===t?null:t.hasOwnProperty("AudioContext")?t.AudioContext:t.hasOwnProperty("webkitAudioContext")?t.webkitAudioContext:null)(Ni),Qi=(t=>e=>null!==t&&e instanceof t)(Hi),Gi=(t=>e=>null!==t&&"function"==typeof t.AudioNode&&e instanceof t.AudioNode)(Ni),Xi=(t=>e=>null!==t&&"function"==typeof t.AudioParam&&e instanceof t.AudioParam)(Ni),Yi=((t,e,n,s,i,r,o,a,l,u,c,h,d,p,f)=>class extends u{constructor(e,s,i,r){super(i),this._context=e,this._nativeAudioNode=i;const o=c(e);h(o)&&!0!==n(_s,(()=>_s(o)))&&xs(i),kn.set(this,i),On.set(this,new Set),"closed"!==e.state&&s&&Ln(this),t(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(t){this._nativeAudioNode.channelCount=t}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(t){this._nativeAudioNode.channelCountMode=t}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(t){this._nativeAudioNode.channelInterpretation=t}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(t,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const u=c(this._context),h=f(u);if(d(t)||p(t))throw r();if(is(t)){const i=ms(t);try{const e=cs(this._nativeAudioNode,i,n,a),s=vs(this);(h||s)&&this._nativeAudioNode.disconnect(...e),"closed"!==this.context.state&&!s&&vs(t)&&Ln(t)}catch(t){if(12===t.code)throw r();throw t}if(e(this,t,n,a,h)){const e=l([this],t);bs(e,s(h))}return t}const m=gs(t);if("playbackRate"===m.name&&1024===m.maxValue)throw o();try{this._nativeAudioNode.connect(m,n),(h||vs(this))&&this._nativeAudioNode.disconnect(m,n)}catch(t){if(12===t.code)throw r();throw t}if(((t,e,n,s)=>{const{activeInputs:i,passiveInputs:r}=es(e),{outputs:o}=ts(t),a=Vn(t),l=o=>{const a=ms(t),l=gs(e);if(o){const e=ps(r,t,n);as(i,t,e,!1),s||ys(t)||a.connect(l,n)}else{const e=((t,e,n)=>Fn(t,(t=>t[0]===e&&t[1]===n)))(i,t,n);ls(r,e,!1),s||ys(t)||a.disconnect(l,n)}};return!!os(o,[e,n],(t=>t[0]===e&&t[1]===n),!0)&&(a.add(l),Kn(t)?as(i,t,[n,l],!0):ls(r,[t,n,l],!0),!0)})(this,t,n,h)){const e=l([this],t);bs(e,s(h))}}disconnect(t,e,n){let s;const o=c(this._context),u=f(o);if(void 0===t)s=((t,e)=>{const n=ts(t),s=[];for(const i of n.outputs)rs(i)?ks(t,e,...i):Ss(t,e,...i),s.push(i[0]);return n.outputs.clear(),s})(this,u);else if("number"==typeof t){if(t<0||t>=this.numberOfOutputs)throw i();s=((t,e,n)=>{const s=ts(t),i=[];for(const r of s.outputs)r[1]===n&&(rs(r)?ks(t,e,...r):Ss(t,e,...r),i.push(r[0]),s.outputs.delete(r));return i})(this,u,t)}else{if(void 0!==e&&(e<0||e>=this.numberOfOutputs))throw i();if(is(t)&&void 0!==n&&(n<0||n>=t.numberOfInputs))throw i();if(s=((t,e,n,s,i)=>{const r=ts(t);return Array.from(r.outputs).filter((t=>!(t[0]!==n||void 0!==s&&t[1]!==s||void 0!==i&&t[2]!==i))).map((n=>(rs(n)?ks(t,e,...n):Ss(t,e,...n),r.outputs.delete(n),n[0])))})(this,u,t,e,n),0===s.length)throw r()}for(const t of s){const e=l([this],t);bs(e,a)}}})((Zi=xn,(t,e,n)=>{const s=[];for(let t=0;t<n.numberOfInputs;t+=1)s.push(new Set);Zi.set(t,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:e})}),((t,e,n,s,i,r,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,y,v)=>{const{activeInputs:_,passiveInputs:b}=r(m),{outputs:w}=r(f),x=a(f),k=r=>{const a=l(m),u=l(f);if(r){const e=jn(b,f,g,y);t(_,f,e,!1),v||h(f)||n(u,a,g,y),d(m)&&Ln(m)}else{const t=s(_,f,g,y);e(b,y,t,!1),v||h(f)||i(u,a,g,y);const n=o(m);if(0===n)c(m)&&Un(m,_);else{const t=p.get(m);void 0!==t&&clearTimeout(t),p.set(m,setTimeout((()=>{c(m)&&Un(m,_)}),1e3*n))}}};return!!u(w,[m,g,y],(t=>t[0]===m&&t[1]===g&&t[2]===y),!0)&&(x.add(k),c(f)?t(_,f,[g,y,k],!0):e(b,y,[f,g,k],!0),!0)}})(Oi,Ei,cs,Ai,fs,ts,Mi,Vn,ms,os,Kn,ys,vs),Ri,((t,e,n,s,i,r)=>o=>(a,l)=>{const u=t.get(a);if(void 0===u){if(!o&&r(a)){const t=s(a),{outputs:r}=n(a);for(const n of r)if(rs(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.disconnect(e,n[1])}}t.set(a,l)}else t.set(a,u+l)})(En,fs,ts,ms,gs,Kn),Qn,Bs,ui,((t,e,n,s,i,r,o,a)=>(l,u)=>{const c=e.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(c===u){if(e.delete(l),!d&&o(l)){const e=s(l),{outputs:r}=n(l);for(const n of r)if(rs(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.connect(t,n[1])}}}else e.set(l,c-u)})(cs,En,ts,ms,gs,Li,Kn,Ui),((t,e,n)=>function s(i,r){const o=is(r)?r:n(t,r);if((t=>"delayTime"in t)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=e(o);return Array.from(a).map((t=>s([...i,o],t[0]))).reduce(((t,e)=>t.concat(e)),[])})(Wi,ts,qn),$i,Li,Qi,Gi,Xi,Ui);var Zi;const Ki=((t,e,n,s,i,r)=>class extends t{constructor(t,n){const o=i(t),a={...Wn,...n},l=s(o,a);super(t,!1,l,r(o)?e():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(t){this._nativeAnalyserNode.fftSize=t}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(t){const e=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=t,!(t>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=e,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(t){const e=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=t,!(this._nativeAnalyserNode.maxDecibels>t))throw this._nativeAnalyserNode.minDecibels=e,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(t){this._nativeAnalyserNode.smoothingTimeConstant=t}getByteFrequencyData(t){this._nativeAnalyserNode.getByteFrequencyData(t)}getByteTimeDomainData(t){this._nativeAnalyserNode.getByteTimeDomainData(t)}getFloatFrequencyData(t){this._nativeAnalyserNode.getFloatFrequencyData(t)}getFloatTimeDomainData(t){this._nativeAnalyserNode.getFloatTimeDomainData(t)}})(Yi,Vi,Qn,qi,Li,Ui),Ji=new WeakSet,tr=(t=>null===t?null:t.hasOwnProperty("AudioBuffer")?t.AudioBuffer:null)(Ni),er=(nr=new Uint32Array(1),t=>(nr[0]=t,nr[0]));var nr;const sr=((t,e)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)s[t]=u[t+o]},n.copyToChannel=(s,i,r=0)=>{const o=t(r),a=t(i);if(a>=n.numberOfChannels)throw e();const l=n.length,u=n.getChannelData(a),c=s.length;for(let t=o<0?-o:0;t+o<l&&t<c;t+=1)u[t+o]=s[t]}})(er,Qn),ir=(t=>e=>{e.copyFromChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyFromChannel),e.copyToChannel=(n=>(s,i,r=0)=>{const o=t(r),a=t(i);if(o<e.length)return n.call(e,s,a,o)})(e.copyToChannel)})(er),rr=((t,e,n,s,i,r,o,a)=>{let l=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...Xn,...u};null===l&&(l=new i(1,1,44100));const p=null!==s&&e(r,r)?new s({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),Gn(p)):e(Hn,(()=>Hn(p)))||a(p),t.add(p),p}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===u.prototype||t.has(e)}}})(Ji,Ri,ui,tr,Bi,(t=>()=>{if(null===t)return!1;try{new t({length:1,sampleRate:44100})}catch{return!1}return!0})(tr),sr,ir),or=(t=>(e,n)=>{const s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(e.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)})(ii),ar=((t,e,n)=>async(s,i,r,o)=>{const a=e(s);await Promise.all(Array.from(a.activeInputs).map((async([e,s])=>{const a=t(e),l=await a.render(e,i,o);n(e)||l.connect(r,s)})))})(Fi,es,ys),lr=(t=>(e,n,s,i)=>t(n,e,s,i))(ar),ur=((t,e,n,s,i,r,o,a,l,u,c)=>(l,h)=>{const d=l.createBufferSource();return Gs(d,h),Ys(d,h,"playbackRate"),Qs(d,h,"buffer"),Qs(d,h,"loop"),Qs(d,h,"loopEnd"),Qs(d,h,"loopStart"),e(n,(()=>n(l)))||(t=>{t.start=(e=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw zs();e.call(t,s,i,r),n=!0}})(t.start)})(d),e(s,(()=>s(l)))||(t=>{t.start=(e=>(n=0,s=0,i)=>{const r=t.buffer,o=null===r?s:Math.min(r.duration,s);null!==r&&o>r.duration-.5/t.context.sampleRate?e.call(t,n,0,0):e.call(t,n,o,i)})(t.start)})(d),e(i,(()=>i(l)))||u(d,l),e(r,(()=>r(l)))||Zs(d),e(o,(()=>o(l)))||c(d,l),e(a,(()=>a(l)))||Ks(d),t(l,d),d})(or,Ri,(t=>{const e=t.createBufferSource();e.start();try{e.start()}catch{return!0}return!1}),(t=>{const e=t.createBufferSource(),n=t.createBuffer(1,1,44100);e.buffer=n;try{e.start(0,1)}catch{return!1}return!0}),(t=>{const e=t.createBufferSource();e.start();try{e.stop()}catch{return!1}return!0}),bi,wi,xi,0,(t=>(e,n)=>{const s=n.createBuffer(1,1,44100);null===e.buffer&&(e.buffer=s),t(e,"buffer",(t=>()=>{const n=t.call(e);return n===s?null:n}),(t=>n=>t.call(e,null===n?s:n)))})(vi),Ti),cr=((t,e)=>(n,s,i,r)=>(t(s).replay(i),e(s,n,i,r)))((t=>e=>{const n=t(e);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(es),ar),hr=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u,c){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=$n(h,u);if(!d){const t={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=e(u,t),null!==o&&h.start(...o),null!==a&&h.stop(a)}return r.set(u,h),d?await t(u,l.playbackRate,h.playbackRate,c):await s(u,l.playbackRate,h.playbackRate,c),await i(l,u,h,c),h})(l,u,c)}}})(lr,ur,ms,cr,ji),dr=((t,e,n,s,i,r,o,a,l,u,c,h,d)=>(s,p,f,m=null,g=null)=>{const y=new bn.AutomationEventList(f.defaultValue),v=p?(t=>({replay(e){for(const n of t)if("exponentialRampToValue"===n.type){const{endTime:t,value:s}=n;e.exponentialRampToValueAtTime(s,t)}else if("linearRampToValue"===n.type){const{endTime:t,value:s}=n;e.linearRampToValueAtTime(s,t)}else if("setTarget"===n.type){const{startTime:t,target:s,timeConstant:i}=n;e.setTargetAtTime(s,t,i)}else if("setValue"===n.type){const{startTime:t,value:s}=n;e.setValueAtTime(s,t)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:t,startTime:s,values:i}=n;e.setValueCurveAtTime(i,s,t)}}}}))(y):null,_={get defaultValue(){return f.defaultValue},get maxValue(){return null===m?f.maxValue:m},get minValue(){return null===g?f.minValue:g},get value(){return f.value},set value(t){f.value=t,_.setValueAtTime(t,s.context.currentTime)},cancelAndHoldAtTime(t){if("function"==typeof f.cancelAndHoldAtTime)null===v&&y.flush(s.context.currentTime),y.add(i(t)),f.cancelAndHoldAtTime(t);else{const e=Array.from(y).pop();null===v&&y.flush(s.context.currentTime),y.add(i(t));const n=Array.from(y).pop();f.cancelScheduledValues(t),e!==n&&void 0!==n&&("exponentialRampToValue"===n.type?f.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?f.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?f.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&f.setValueCurveAtTime(n.values,n.startTime,n.duration))}return _},cancelScheduledValues:t=>(null===v&&y.flush(s.context.currentTime),y.add(r(t)),f.cancelScheduledValues(t),_),exponentialRampToValueAtTime(t,e){if(0===t)throw new RangeError;if(!Number.isFinite(e)||e<0)throw new RangeError;return null===v&&y.flush(s.context.currentTime),y.add(o(t,e)),f.exponentialRampToValueAtTime(t,e),_},linearRampToValueAtTime:(t,e)=>(null===v&&y.flush(s.context.currentTime),y.add(a(t,e)),f.linearRampToValueAtTime(t,e),_),setTargetAtTime:(t,e,n)=>(null===v&&y.flush(s.context.currentTime),y.add(l(t,e,n)),f.setTargetAtTime(t,e,n),_),setValueAtTime:(t,e)=>(null===v&&y.flush(s.context.currentTime),y.add(u(t,e)),f.setValueAtTime(t,e),_),setValueCurveAtTime(t,e,n){const i=t instanceof Float32Array?t:new Float32Array(t);if(null!==h&&"webkitAudioContext"===h.name){const t=e+n,r=s.context.sampleRate,o=Math.ceil(e*r),a=Math.floor(t*r),l=a-o,u=new Float32Array(l);for(let t=0;t<l;t+=1){const s=(i.length-1)/n*((o+t)/r-e),a=Math.floor(s),l=Math.ceil(s);u[t]=a===l?i[a]:(1-(s-a))*i[a]+(1-(l-s))*i[l]}null===v&&y.flush(s.context.currentTime),y.add(c(u,e,n)),f.setValueCurveAtTime(u,e,n);const h=a/r;h<t&&d(_,u[u.length-1],h),d(_,i[i.length-1],t)}else null===v&&y.flush(s.context.currentTime),y.add(c(i,e,n)),f.setValueCurveAtTime(i,e,n);return _}};return n.set(_,f),e.set(_,s),t(_,v),_})((pr=Sn,(t,e)=>{pr.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:e})}),Wi,Tn,0,bn.createCancelAndHoldAutomationEvent,bn.createCancelScheduledValuesAutomationEvent,bn.createExponentialRampToValueAutomationEvent,bn.createLinearRampToValueAutomationEvent,bn.createSetTargetAutomationEvent,bn.createSetValueAutomationEvent,bn.createSetValueCurveAutomationEvent,Hi,_i);var pr;const fr=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const a=r(t),l={...Jn,...s},u=i(a,l),c=o(a),h=c?e():null;super(t,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,Zn,Yn)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(t){if(this._nativeAudioBufferSourceNode.buffer=t,null!==t){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(t){this._nativeAudioBufferSourceNode.loop=t}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(t){this._nativeAudioBufferSourceNode.loopEnd=t}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(t){this._nativeAudioBufferSourceNode.loopStart=t}get onended(){return this._onended}set onended(t){const e="function"==typeof t?a(this,t):null;this._nativeAudioBufferSourceNode.onended=e;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===e?t:n}get playbackRate(){return this._playbackRate}start(t=0,e=0,n){if(this._nativeAudioBufferSourceNode.start(t,e,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[t,e]:[t,e,n]),"closed"!==this.context.state){Ln(this);const t=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",t),Kn(this)&&Bn(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeAudioBufferSourceNode.stop(t),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=t)}})(Yi,hr,dr,zs,ur,Li,Ui,Ci),mr=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,e){const n=r(t),s=o(n),l=i(n,e,s);super(t,!1,l,s?(t=>{let e=null;return{render:(n,s,i)=>(null===e&&(e=(async(e,n,s)=>{const i=n.destination;return await t(e,n,i,s),i})(n,s,i)),e)}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(t>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=t}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(t){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=t}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Yi,0,Qn,zs,((t,e)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=t(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return e(o,"channelCount",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e);try{r.channelCount=e}catch(t){if(e>r.maxChannelCount)throw t}})),e(o,"channelCountMode",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelCountMode=e})),e(o,"channelInterpretation",(t=>()=>t.call(o)),(t=>e=>{t.call(o,e),r.channelInterpretation=e})),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(ii,vi),Li,Ui,ji),gr=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=$n(u,a);if(!c){const t={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=e(a,t)}return r.set(a,u),c?(await t(a,o.Q,u.Q,l),await t(a,o.detune,u.detune,l),await t(a,o.frequency,u.frequency,l),await t(a,o.gain,u.gain,l)):(await s(a,o.Q,u.Q,l),await s(a,o.detune,u.detune,l),await s(a,o.frequency,u.frequency,l),await s(a,o.gain,u.gain,l)),await i(o,a,u,l),u})(o,a,l)}}})(lr,ti,ms,cr,ji),yr=(t=>(e,n)=>t.set(e,n))(Di),vr=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,s){const l=r(t),u={...Ms,...s},c=i(l,u),h=o(l);super(t,!1,c,h?n():null),this._Q=e(this,h,c.Q,Zn,Yn),this._detune=e(this,h,c.detune,1200*Math.log2(Zn),-1200*Math.log2(Zn)),this._frequency=e(this,h,c.frequency,t.sampleRate/2,0),this._gain=e(this,h,c.gain,40*Math.log10(Zn),Yn),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(t){this._nativeBiquadFilterNode.type=t}getFrequencyResponse(t,e,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(t,e,n)}catch(t){if(11===t.code)throw s();throw t}if(t.length!==e.length||e.length!==n.length)throw s()}})(Yi,dr,gr,Bs,ti,Li,Ui,yr),_r=((t,e)=>(n,s,i)=>{const r=new Set;return n.connect=(o=n.connect,(i,a=0,l=0)=>{const u=0===r.size;if(e(i))return o.call(n,i,a,l),t(r,[i,a,l],(t=>t[0]===i&&t[1]===a&&t[2]===l),!0),u&&s(),i;o.call(n,i,a),t(r,[i,a],(t=>t[0]===i&&t[1]===a),!0),u&&s()}),n.disconnect=(t=>(s,o,a)=>{const l=r.size>0;if(void 0===s)t.apply(n),r.clear();else if("number"==typeof s){t.call(n,s);for(const t of r)t[1]===s&&r.delete(t)}else{e(s)?t.call(n,s,o,a):t.call(n,s,o);for(const t of r)t[0]!==s||void 0!==o&&t[1]!==o||void 0!==a&&t[2]!==a||r.delete(t)}const u=0===r.size;l&&u&&i()})(n.disconnect),n;var o})(os,Gi),br=((t,e)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw t()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw t()}});const i=n.createBufferSource();e(s,(()=>{const t=s.numberOfInputs;for(let e=0;e<t;e+=1)i.connect(s,0,e)}),(()=>i.disconnect(s)))})(zs,_r),wr=((t,e)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==t&&"webkitAudioContext"===t.name&&e(n,i),Gs(i,s),i})(Hi,br),xr=((t,e,n,s,i)=>class extends t{constructor(t,r){const o=s(t),a={...Rs,...r};super(t,!1,n(o,a),i(o)?e():null)}})(Yi,((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=e(i);if(!$n(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=t(r,e)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(wr,ms,ji),wr,Li,Ui),kr=((t,e,n,s,i,r)=>class extends t{constructor(t,r){const o=s(t),a=(t=>({...t,channelCount:t.numberOfOutputs}))({...Ps,...r});super(t,!1,n(o,a),i(o)?e():null)}})(Yi,((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=e(i);if(!$n(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=t(r,e)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(ei,ms,ji),ei,Li,Ui),Sr=((t,e,n,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),l=e(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:r}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){u.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){u.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){u.channelInterpretation=t},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(t){l.onended=t},addEventListener:(...t)=>l.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>l.dispatchEvent(t[0]),removeEventListener:(...t)=>l.removeEventListener(t[0],t[1],t[2]),start(t=0){l.start.call(l,t)},stop(t=0){l.stop.call(l,t)}};return t(i,l),s(ni(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})(or,ur,ii,_r),Tr=((t,e,n,s,i)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return Gs(a,o),Ys(a,o,"offset"),e(s,(()=>s(r)))||Zs(a),e(i,(()=>i(r)))||Ks(a),t(r,a),a})(or,Ri,Sr,bi,xi),Cr=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={...Is,...o},u=s(a,l),c=r(a),h=c?n():null;super(t,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=e(this,c,u.offset,Zn,Yn),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeConstantSourceNode.onended=e;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===e?t:n}start(t=0){if(this._nativeConstantSourceNode.start(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=t),"closed"!==this.context.state){Ln(this);const t=()=>{this._nativeConstantSourceNode.removeEventListener("ended",t),Kn(this)&&Bn(this)};this._nativeConstantSourceNode.addEventListener("ended",t)}}stop(t=0){this._nativeConstantSourceNode.stop(t),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=t)}})(Yi,dr,((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(t){o=t},set stop(t){a=t},render(l,u,c){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=$n(h,u);if(!d){const t={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=e(u,t),null!==o&&h.start(o),null!==a&&h.stop(a)}return r.set(u,h),d?await t(u,l.offset,h.offset,c):await s(u,l.offset,h.offset,c),await i(l,u,h,c),h})(l,u,c)}}})(lr,Tr,ms,cr,ji),Tr,Li,Ui,Ci),Or=((t,e)=>(n,s)=>{const i=n.createConvolver();if(Gs(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),Qs(i,s,"buffer"),s.channelCount>2)throw t();if(e(i,"channelCount",(t=>()=>t.call(i)),(e=>n=>{if(n>2)throw t();return e.call(i,n)})),"max"===s.channelCountMode)throw t();return e(i,"channelCountMode",(t=>()=>t.call(i)),(e=>n=>{if("max"===n)throw t();return e.call(i,n)})),i})(ui,vi),Er=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l={...Ns,...o},u=n(a,l);super(t,!1,u,i(a)?e():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(t){if(this._nativeConvolverNode.buffer=t,null===t&&null!==this._nativeConvolverNode.buffer){const t=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=t.createBuffer(1,1,44100),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(t){this._nativeConvolverNode.normalize=t}})(Yi,((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=e(i);if(!$n(a,r)){const e={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=t(r,e)}return s.set(r,a),us(a)?await n(i,r,a.inputs[0],o):await n(i,r,a,o),a})(i,r,o)}}})(Or,ms,ji),Or,Li,Ui,yr),Ar=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),u={...Fs,...a},c=s(l,u),h=r(l);super(t,!1,c,h?n(u.maxDelayTime):null),this._delayTime=e(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Yi,dr,((t,e,n,s,i)=>r=>{const o=new WeakMap;return{render(a,l,u){const c=o.get(l);return void 0!==c?Promise.resolve(c):(async(a,l,u)=>{let c=n(a);const h=$n(c,l);if(!h){const t={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:r};c=e(l,t)}return o.set(l,c),h?await t(l,a.delayTime,c.delayTime,u):await s(l,a.delayTime,c.delayTime,u),await i(a,l,c,u),c})(a,l,u)}}})(lr,si,ms,cr,ji),si,Li,Ui,yr),Dr=(t=>(e,n)=>{const s=e.createDynamicsCompressor();if(Gs(s,n),n.channelCount>2)throw t();if("max"===n.channelCountMode)throw t();return Ys(s,n,"attack"),Ys(s,n,"knee"),Ys(s,n,"ratio"),Ys(s,n,"release"),Ys(s,n,"threshold"),s})(ui),Mr=((t,e,n,s,i,r,o,a)=>class extends t{constructor(t,i){const l=r(t),u={...Vs,...i},c=s(l,u),h=o(l);super(t,!1,c,h?n():null),this._attack=e(this,h,c.attack),this._knee=e(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=e(this,h,c.ratio),this._release=e(this,h,c.release),this._threshold=e(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(t){const e=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=t,t>2)throw this._nativeDynamicsCompressorNode.channelCount=e,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(t){const e=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=t,"max"===t)throw this._nativeDynamicsCompressorNode.channelCountMode=e,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Yi,dr,((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=$n(u,a);if(!c){const t={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=e(a,t)}return r.set(a,u),c?(await t(a,o.attack,u.attack,l),await t(a,o.knee,u.knee,l),await t(a,o.ratio,u.ratio,l),await t(a,o.release,u.release,l),await t(a,o.threshold,u.threshold,l)):(await s(a,o.attack,u.attack,l),await s(a,o.knee,u.knee,l),await s(a,o.ratio,u.ratio,l),await s(a,o.release,u.release,l),await s(a,o.threshold,u.threshold,l)),await i(o,a,u,l),u})(o,a,l)}}})(lr,Dr,ms,cr,ji),Dr,ui,Li,Ui,yr),Rr=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...Ls,...o},u=s(a,l),c=r(a);super(t,!1,u,c?n():null),this._gain=e(this,c,u.gain,Zn,Yn)}get gain(){return this._gain}})(Yi,dr,((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=$n(u,a);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=e(a,t)}return r.set(a,u),c?await t(a,o.gain,u.gain,l):await s(a,o.gain,u.gain,l),await i(o,a,u,l),u})(o,a,l)}}})(lr,ii,ms,cr,ji),ii,Li,Ui),Pr=((t,e,n,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Js(r,i.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw e();if(0===m||m>20)throw s();if(0===p[0])throw e();if(1!==d[0]){for(let t=0;t<m;t+=1)p[t]/=d[0];for(let t=1;t<f;t+=1)d[t]/=d[0]}const y=n(i,h,o,o);y.channelCount=o,y.channelCountMode=a,y.channelInterpretation=l;const v=[],_=[],b=[];for(let t=0;t<o;t+=1){v.push(0);const t=new Float32Array(32),e=new Float32Array(32);t.fill(0),e.fill(0),_.push(t),b.push(e)}y.onaudioprocess=t=>{const e=t.inputBuffer,n=t.outputBuffer,s=e.numberOfChannels;for(let t=0;t<s;t+=1){const s=e.getChannelData(t),i=n.getChannelData(t);v[t]=Ws(d,f,p,m,g,_[t],b[t],v[t],32,s,i)}};const w=i.sampleRate/2;return ni({get bufferSize(){return h},get channelCount(){return y.channelCount},set channelCount(t){y.channelCount=t},get channelCountMode(){return y.channelCountMode},set channelCountMode(t){y.channelCountMode=t},get channelInterpretation(){return y.channelInterpretation},set channelInterpretation(t){y.channelInterpretation=t},get context(){return y.context},get inputs(){return[y]},get numberOfInputs(){return y.numberOfInputs},get numberOfOutputs(){return y.numberOfOutputs},addEventListener:(...t)=>y.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>y.dispatchEvent(t[0]),getFrequencyResponse(e,n,s){if(e.length!==n.length||n.length!==s.length)throw t();const i=e.length;for(let t=0;t<i;t+=1){const i=-Math.PI*(e[t]/w),r=[Math.cos(i),Math.sin(i)],o=ri(ai(p,r),ai(d,r));n[t]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[t]=Math.atan2(o[1],o[0])}},removeEventListener:(...t)=>y.removeEventListener(t[0],t[1],t[2])},y)})(Bs,zs,li,ui),Ir=((t,e,n,s)=>i=>t(Hs,(()=>Hs(i)))?Promise.resolve(t(s,s)).then((t=>{if(!t){const t=n(i,512,0,1);i.oncomplete=()=>{t.onaudioprocess=null,t.disconnect()},t.onaudioprocess=()=>i.currentTime,t.connect(i.destination)}return i.startRendering()})):new Promise((t=>{const n=e(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=e=>{n.disconnect(),t(e.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(Ri,ii,li,((t,e)=>()=>{if(null===e)return Promise.resolve(!1);const n=new e(1,1,44100),s=t(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((t=>{n.oncomplete=()=>{s.disconnect(),t(0!==n.currentTime)},n.startRendering()}))})(ii,Bi)),Nr=((t,e,n,s,i)=>(r,o)=>{const a=new WeakMap;let l=null;return{render(u,c,h){const d=a.get(c);return void 0!==d?Promise.resolve(d):(async(u,c,h)=>{let d=null,p=e(u);const f=$n(p,c);if(void 0===c.createIIRFilter?d=t(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=c.createIIRFilter(o,r)),a.set(c,null===d?p:d),null!==d){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>(await s(u,t,t.destination,h),((t,e,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,l=Math.min(o,a);if(1!==i[0]){for(let t=0;t<o;t+=1)r[t]/=i[0];for(let t=1;t<a;t+=1)i[t]/=i[0]}const u=new Float32Array(32),c=new Float32Array(32),h=e.createBuffer(t.numberOfChannels,t.length,t.sampleRate),d=t.numberOfChannels;for(let e=0;e<d;e+=1){const n=t.getChannelData(e),s=h.getChannelData(e);u.fill(0),c.fill(0),Ws(i,o,r,a,l,u,c,0,32,n,s)}return h})(await i(t),c,r,o)))()}const t=await l;return d.buffer=t,d.start(0),d}return await s(u,c,p,h),p})(u,c,h)}}})(ur,ms,Bi,ji,Ir),qr=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=s(t),l=i(a),u={...Us,...o},c=e(a,l?null:t.baseLatency,u);super(t,!1,c,l?n(u.feedback,u.feedforward):null),(t=>{var e;t.getFrequencyResponse=(e=t.getFrequencyResponse,(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Bs();return e.call(t,n,s,i)})})(c),this._nativeIIRFilterNode=c,r(this,1)}getFrequencyResponse(t,e,n){return this._nativeIIRFilterNode.getFrequencyResponse(t,e,n)}})(Yi,(t=>(e,n,s)=>{if(void 0===e.createIIRFilter)return t(e,n,s);const i=e.createIIRFilter(s.feedforward,s.feedback);return Gs(i,s),i})(Pr),Nr,Li,Ui,yr),Fr=((t,e,n,s,i)=>(r,o)=>{const a=o.listener,{forwardX:l,forwardY:u,forwardZ:c,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const l=e(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),u=i(o),c=s(o,256,9,0),h=(e,s)=>{const i=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});return i.connect(l,0,e),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>s}),t({context:r},u,i.offset,Zn,Yn)};let d=[0,0,-1,0,1,0],p=[0,0,0];return c.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0],t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];e.some(((t,e)=>t!==d[e]))&&(a.setOrientation(...e),d=e);const n=[t.getChannelData(6)[0],t.getChannelData(7)[0],t.getChannelData(8)[0]];n.some(((t,e)=>t!==p[e]))&&(a.setPosition(...n),p=n)},l.connect(c),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return l},get forwardY(){return u},get forwardZ(){return c},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(dr,wr,Tr,li,Ui),jr=new WeakMap,Vr=((t,e,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,Cn.set(this,n),s(n)&&i.set(n,new Set),this._destination=new t(this,r),this._listener=e(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(t){const e="function"==typeof t?r(this,t):null;this._nativeContext.onstatechange=e;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===e?t:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(mr,Fr,$i,Ui,jr,Ci),Lr=((t,e,n,s,i,r)=>(o,a)=>{const l=o.createOscillator();return Gs(l,a),Ys(l,a,"detune"),Ys(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Qs(l,a,"type"),e(n,(()=>n(o)))||Zs(l),e(s,(()=>s(o)))||r(l,o),e(i,(()=>i(o)))||Ks(l),t(o,l),l})(or,Ri,bi,wi,xi,Ti),zr=((t,e,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(t){o=t},set start(t){a=t},set stop(t){l=t},render(u,c,h){const d=r.get(c);return void 0!==d?Promise.resolve(d):(async(u,c,h)=>{let d=n(u);const p=$n(d,c);if(!p){const t={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=e(c,t),null!==a&&d.start(a),null!==l&&d.stop(l)}return r.set(c,d),p?(await t(c,u.detune,d.detune,h),await t(c,u.frequency,d.frequency,h)):(await s(c,u.detune,d.detune,h),await s(c,u.frequency,d.frequency,h)),await i(u,c,d,h),d})(u,c,h)}}})(lr,Lr,ms,cr,ji),Br=((t,e,n,s,i,r,o)=>class extends t{constructor(t,o){const a=i(t),l={...hi,...o},u=n(a,l),c=r(a),h=c?s():null,d=t.sampleRate/2;super(t,!1,u,h),this._detune=e(this,c,u.detune,153600,-153600),this._frequency=e(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(t){const e="function"==typeof t?o(this,t):null;this._nativeOscillatorNode.onended=e;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===e?t:n}get type(){return this._nativeOscillatorNode.type}set type(t){this._nativeOscillatorNode.type=t,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(t){this._nativeOscillatorNode.setPeriodicWave(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=t)}start(t=0){if(this._nativeOscillatorNode.start(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=t),"closed"!==this.context.state){Ln(this);const t=()=>{this._nativeOscillatorNode.removeEventListener("ended",t),Kn(this)&&Bn(this)};this._nativeOscillatorNode.addEventListener("ended",t)}}stop(t=0){this._nativeOscillatorNode.stop(t),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=t)}})(Yi,dr,Lr,zr,Li,Ui,Ci),Ur=(t=>(e,n)=>{const s=t(e,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=e.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(ur),Wr=((t,e,n,s,i)=>(r,{curve:o,oversample:a,...l})=>{const u=r.createWaveShaper(),c=r.createWaveShaper();Gs(u,l),Gs(c,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,y=null;const v={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(t){h.channelCount=t,d.channelCount=t,u.channelCount=t,p.channelCount=t,c.channelCount=t,f.channelCount=t},get channelCountMode(){return u.channelCountMode},set channelCountMode(t){h.channelCountMode=t,d.channelCountMode=t,u.channelCountMode=t,p.channelCountMode=t,c.channelCountMode=t,f.channelCountMode=t},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(t){h.channelInterpretation=t,d.channelInterpretation=t,u.channelInterpretation=t,p.channelInterpretation=t,c.channelInterpretation=t,f.channelInterpretation=t},get context(){return u.context},get curve(){return y},set curve(n){if(null!==n&&n.length<2)throw e();if(null===n)u.curve=n,c.curve=n;else{const t=n.length,e=new Float32Array(t+2-t%2),s=new Float32Array(t+2-t%2);e[0]=n[0],s[0]=-n[t-1];const i=Math.ceil((t+1)/2),r=(t+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*r,l=Math.floor(a),u=Math.ceil(a);e[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],s[o]=l===u?-n[t-1-l]:-(1-(a-l))*n[t-1-l]-(1-(u-a))*n[t-1-u]}e[i]=t%2==1?n[i-1]:(n[i-2]+n[i-1])/2,u.curve=e,c.curve=s}y=n,g&&(s(y)&&null===m?m=t(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(t){u.oversample=t,c.oversample=t},addEventListener:(...t)=>h.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>h.dispatchEvent(t[0]),removeEventListener:(...t)=>h.removeEventListener(t[0],t[1],t[2])};return null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a),i(ni(v,p),(()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(f).connect(p),g=!0,s(y)&&(m=t(r,h))}),(()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(Ur,zs,ii,yi,_r),$r=((t,e,n,s,i,r,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Gs(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw e();Qs(u,{curve:c},"curve"),Qs(u,l,"oversample");let h=null,d=!1;return o(u,"curve",(t=>()=>t.call(u)),(e=>n=>(e.call(u,n),d&&(s(n)&&null===h?h=t(a,u):s(n)||null===h||(h(),h=null)),n))),i(u,(()=>{d=!0,s(u.curve)&&(h=t(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(Ur,zs,Wr,yi,_r,Hi,vi),Hr=(qo=((t,e,n,s,i,r,o,a,l)=>(u,{coneInnerAngle:c,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:y,panningModel:v,positionX:_,positionY:b,positionZ:w,refDistance:x,rolloffFactor:k,...S})=>{const T=u.createPanner();if(S.channelCount>2)throw o();if("max"===S.channelCountMode)throw o();Gs(T,S);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(u,{...C,channelInterpretation:"speakers",numberOfInputs:6}),E=s(u,{...S,gain:1}),A=s(u,{...C,gain:1}),D=s(u,{...C,gain:0}),M=s(u,{...C,gain:0}),R=s(u,{...C,gain:0}),P=s(u,{...C,gain:0}),I=s(u,{...C,gain:0}),N=i(u,256,6,1),q=r(u,{...C,curve:new Float32Array([1,1]),oversample:"none"});let F=[m,g,y],j=[_,b,w];N.onaudioprocess=({inputBuffer:t})=>{const e=[t.getChannelData(0)[0],t.getChannelData(1)[0],t.getChannelData(2)[0]];e.some(((t,e)=>t!==F[e]))&&(T.setOrientation(...e),F=e);const n=[t.getChannelData(3)[0],t.getChannelData(4)[0],t.getChannelData(5)[0]];n.some(((t,e)=>t!==j[e]))&&(T.setPosition(...n),j=n)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0});const V={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(t){if(t>2)throw o();E.channelCount=t,T.channelCount=t},get channelCountMode(){return T.channelCountMode},set channelCountMode(t){if("max"===t)throw o();E.channelCountMode=t,T.channelCountMode=t},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(t){E.channelInterpretation=t,T.channelInterpretation=t},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(t){T.coneInnerAngle=t},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(t){T.coneOuterAngle=t},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(t){if(t<0||t>1)throw e();T.coneOuterGain=t},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(t){T.distanceModel=t},get inputs(){return[E]},get maxDistance(){return T.maxDistance},set maxDistance(t){if(t<0)throw new RangeError;T.maxDistance=t},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return D.gain},get orientationZ(){return M.gain},get panningModel(){return T.panningModel},set panningModel(t){T.panningModel=t},get positionX(){return R.gain},get positionY(){return P.gain},get positionZ(){return I.gain},get refDistance(){return T.refDistance},set refDistance(t){if(t<0)throw new RangeError;T.refDistance=t},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(t){if(t<0)throw new RangeError;T.rolloffFactor=t},addEventListener:(...t)=>E.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>E.dispatchEvent(t[0]),removeEventListener:(...t)=>E.removeEventListener(t[0],t[1],t[2])};return c!==V.coneInnerAngle&&(V.coneInnerAngle=c),h!==V.coneOuterAngle&&(V.coneOuterAngle=h),d!==V.coneOuterGain&&(V.coneOuterGain=d),p!==V.distanceModel&&(V.distanceModel=p),f!==V.maxDistance&&(V.maxDistance=f),m!==V.orientationX.value&&(V.orientationX.value=m),g!==V.orientationY.value&&(V.orientationY.value=g),y!==V.orientationZ.value&&(V.orientationZ.value=y),v!==V.panningModel&&(V.panningModel=v),_!==V.positionX.value&&(V.positionX.value=_),b!==V.positionY.value&&(V.positionY.value=b),w!==V.positionZ.value&&(V.positionZ.value=w),x!==V.refDistance&&(V.refDistance=x),k!==V.rolloffFactor&&(V.rolloffFactor=k),1===F[0]&&0===F[1]&&0===F[2]||T.setOrientation(...F),0===j[0]&&0===j[1]&&0===j[2]||T.setPosition(...j),l(ni(V,T),(()=>{E.connect(T),t(E,q,0,0),q.connect(A).connect(O,0,0),q.connect(D).connect(O,0,1),q.connect(M).connect(O,0,2),q.connect(R).connect(O,0,3),q.connect(P).connect(O,0,4),q.connect(I).connect(O,0,5),O.connect(N).connect(u.destination)}),(()=>{E.disconnect(T),a(E,q,0,0),q.disconnect(A),A.disconnect(O),q.disconnect(D),D.disconnect(O),q.disconnect(M),M.disconnect(O),q.disconnect(R),R.disconnect(O),q.disconnect(P),P.disconnect(O),q.disconnect(I),I.disconnect(O),O.disconnect(N),N.disconnect(u.destination)}))})(cs,zs,wr,ii,li,$r,ui,fs,_r),(t,e)=>{const n=t.createPanner();return void 0===n.orientationX?qo(t,e):(Gs(n,e),Ys(n,e,"orientationX"),Ys(n,e,"orientationY"),Ys(n,e,"orientationZ"),Ys(n,e,"positionX"),Ys(n,e,"positionY"),Ys(n,e,"positionZ"),Qs(n,e,"coneInnerAngle"),Qs(n,e,"coneOuterAngle"),Qs(n,e,"coneOuterGain"),Qs(n,e,"distanceModel"),Qs(n,e,"maxDistance"),Qs(n,e,"panningModel"),Qs(n,e,"refDistance"),Qs(n,e,"rolloffFactor"),n)}),Qr=((t,e,n,s,i,r,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p,f){const m=c.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=r(d);const y={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},v={...y,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},_=$n(g,p);if("bufferSize"in g)m=s(p,{...y,gain:1});else if(!_){const t={...v,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=i(p,t)}if(c.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const t=new o(6,d.context.length,p.sampleRate),s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(t.destination),h=(async()=>{const e=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(e,s)=>{const i=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(t,e,i.offset,f),i})));for(let t=0;t<6;t+=1)e[t].connect(s,0,t),e[t].start(0);return u(t)})()}const t=await h,r=s(p,{...y,gain:1});await l(d,p,r,f);const c=[];for(let e=0;e<t.numberOfChannels;e+=1)c.push(t.getChannelData(e));let g=[c[0][0],c[1][0],c[2][0]],_=[c[3][0],c[4][0],c[5][0]],b=s(p,{...y,gain:1}),w=i(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]});r.connect(b).connect(w.inputs[0]),w.connect(m);for(let e=128;e<t.length;e+=128){const t=[c[0][e],c[1][e],c[2][e]],n=[c[3][e],c[4][e],c[5][e]];if(t.some(((t,e)=>t!==g[e]))||n.some(((t,e)=>t!==_[e]))){g=t,_=n;const o=e/p.sampleRate;b.gain.setValueAtTime(0,o),b=s(p,{...y,gain:0}),w=i(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:_[0],positionY:_[1],positionZ:_[2]}),b.gain.setValueAtTime(1,o),r.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return _?(await t(p,d.orientationX,g.orientationX,f),await t(p,d.orientationY,g.orientationY,f),await t(p,d.orientationZ,g.orientationZ,f),await t(p,d.positionX,g.positionX,f),await t(p,d.positionY,g.positionY,f),await t(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),us(g)?await l(d,p,g.inputs[0],f):await l(d,p,g,f),g})(d,p,f)}}})(lr,wr,Tr,ii,Hr,ms,Bi,cr,ji,Ir),Gr=((t,e,n,s,i,r,o)=>class extends t{constructor(t,a){const l=i(t),u={...di,...a},c=n(l,u),h=r(l);super(t,!1,c,h?s():null),this._nativePannerNode=c,this._orientationX=e(this,h,c.orientationX,Zn,Yn),this._orientationY=e(this,h,c.orientationY,Zn,Yn),this._orientationZ=e(this,h,c.orientationZ,Zn,Yn),this._positionX=e(this,h,c.positionX,Zn,Yn),this._positionY=e(this,h,c.positionY,Zn,Yn),this._positionZ=e(this,h,c.positionZ,Zn,Yn),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(t){this._nativePannerNode.coneInnerAngle=t}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(t){this._nativePannerNode.coneOuterAngle=t}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(t){this._nativePannerNode.coneOuterGain=t}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(t){this._nativePannerNode.distanceModel=t}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(t){this._nativePannerNode.maxDistance=t}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(t){this._nativePannerNode.panningModel=t}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(t){this._nativePannerNode.refDistance=t}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(t){this._nativePannerNode.rolloffFactor=t}})(Yi,dr,Hr,Qr,Li,Ui,yr),Xr=((t,e,n,s)=>class s{constructor(s,i){const r=e(s),o=(t=>{const{imag:e,real:n}=t;return void 0===e?void 0===n?{...t,imag:[0,0],real:[0,0]}:{...t,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...t,imag:e,real:Array.from(e,(()=>0))}:{...t,imag:e,real:n}})({...pi,...i}),a=t(r,o);return n.add(a),a}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===s.prototype||n.has(t)}})((t=>(e,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=e.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(s).length<2)throw t();return a})(Qn),Li,new WeakSet),Yr=((t,e)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw e();if(void 0===n.createStereoPanner)return t(n,s);const r=n.createStereoPanner();return Gs(r,s),Ys(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:t=>{if(t!==i)throw e()}}),r})(((t,e,n,s,i,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(t,r,h,d,p)=>{if(1===r)return((t,e,i,r)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let t=0;t<o;t+=1){const e=t/16384*l;h[t]=Math.cos(e),d[t]=Math.sin(e)}const p=n(t,{...u,gain:0}),f=s(t,{...c,curve:h}),m=s(t,{...c,curve:a}),g=n(t,{...u,gain:0}),y=s(t,{...c,curve:d});return{connectGraph(){e.connect(p),e.connect(void 0===m.inputs?m:m.inputs[0]),e.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===y.inputs?y:y.inputs[0]),f.connect(p.gain),y.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){e.disconnect(p),e.disconnect(void 0===m.inputs?m:m.inputs[0]),e.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===y.inputs?y:y.inputs[0]),f.disconnect(p.gain),y.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(t,h,d,p);if(2===r)return((t,i,r,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let t=0;t<o;t+=1)if(t>g){const e=(t-g)/(16384-g)*l;d[t]=Math.cos(e),p[t]=Math.sin(e),f[t]=0,m[t]=1}else{const e=t/(16384-g)*l;d[t]=1,p[t]=0,f[t]=Math.cos(e),m[t]=Math.sin(e)}const y=e(t,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(t,{...u,gain:0}),_=s(t,{...c,curve:d}),b=n(t,{...u,gain:0}),w=s(t,{...c,curve:p}),x=s(t,{...c,curve:a}),k=n(t,{...u,gain:0}),S=s(t,{...c,curve:f}),T=n(t,{...u,gain:0}),C=s(t,{...c,curve:m});return{connectGraph(){i.connect(y),i.connect(void 0===x.inputs?x:x.inputs[0]),y.connect(v,0),y.connect(b,0),y.connect(k,1),y.connect(T,1),x.connect(r),r.connect(void 0===_.inputs?_:_.inputs[0]),r.connect(void 0===w.inputs?w:w.inputs[0]),r.connect(void 0===S.inputs?S:S.inputs[0]),r.connect(void 0===C.inputs?C:C.inputs[0]),_.connect(v.gain),w.connect(b.gain),S.connect(k.gain),C.connect(T.gain),v.connect(h,0,0),k.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){i.disconnect(y),i.disconnect(void 0===x.inputs?x:x.inputs[0]),y.disconnect(v,0),y.disconnect(b,0),y.disconnect(k,1),y.disconnect(T,1),x.disconnect(r),r.disconnect(void 0===_.inputs?_:_.inputs[0]),r.disconnect(void 0===w.inputs?w:w.inputs[0]),r.disconnect(void 0===S.inputs?S:S.inputs[0]),r.disconnect(void 0===C.inputs?C:C.inputs[0]),_.disconnect(v.gain),w.disconnect(b.gain),S.disconnect(k.gain),C.disconnect(T.gain),v.disconnect(h,0,0),k.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(t,h,d,p);throw i()};return(e,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw i();const u=t(e,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),c=n(e,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(e,s,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(t){c.channelCount!==t&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(e,t,c,d,u)),g&&p()),c.channelCount=t},get channelCountMode(){return c.channelCountMode},set channelCountMode(t){if("clamped-max"===t||"max"===t)throw i();c.channelCountMode=t},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(t){c.channelInterpretation=t},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...t)=>c.addEventListener(t[0],t[1],t[2]),dispatchEvent:(...t)=>c.dispatchEvent(t[0]),removeEventListener:(...t)=>c.removeEventListener(t[0],t[1],t[2])};let g=!1;return r(ni(m,u),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(wr,ei,ii,$r,ui,_r),ui),Zr=((t,e,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=$n(u,a);if(!c){const t={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=e(a,t)}return r.set(a,u),c?await t(a,o.pan,u.pan,l):await s(a,o.pan,u.pan,l),us(u)?await i(o,a,u.inputs[0],l):await i(o,a,u,l),u})(o,a,l)}}})(lr,Yr,ms,cr,ji),Kr=((t,e,n,s,i,r)=>class extends t{constructor(t,o){const a=i(t),l={...fi,...o},u=n(a,l),c=r(a);super(t,!1,u,c?s():null),this._pan=e(this,c,u.pan)}get pan(){return this._pan}})(Yi,dr,Yr,Zr,Li,Ui),Jr=((t,e,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=e(i);if(!$n(a,r)){const e={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=t(r,e)}return s.set(r,a),us(a)?await n(i,r,a.inputs[0],o):await n(i,r,a,o),a})(i,r,o)}}})($r,ms,ji),to=((t,e,n,s,i,r,o)=>class extends t{constructor(t,e){const a=i(t),l={...gi,...e},u=n(a,l);super(t,!0,u,r(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(t){if(null===t)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(t.length<2)throw e();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=t}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(t){this._nativeWaveShaperNode.oversample=t}})(Yi,zs,$r,Jr,Li,Ui,yr),eo=(t=>null!==t&&t.isSecureContext)(Ni),no=(t=>(e,n,s)=>{Object.defineProperties(t,{currentFrame:{configurable:!0,get:()=>Math.round(e*n)},currentTime:{configurable:!0,get:()=>e}});try{return s()}finally{null!==t&&(delete t.currentFrame,delete t.currentTime)}})(Ni),so=new WeakMap,io=((t,e)=>n=>{let s=t.get(n);if(void 0!==s)return s;if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new e(1,1,44100),t.set(n,s),s})(so,Bi),ro=(t=>null===t?null:t.hasOwnProperty("AudioWorkletNode")?t.AudioWorkletNode:null)(Ni),oo=eo?((t,e,n,s,i,r,o,a,l,u,c,h,d)=>(p,f,m={credentials:"omit"})=>{const g=r(p);if(void 0!==g.audioWorklet)return Promise.all([i(f),Promise.resolve(t(h,h))]).then((([[t,e],n])=>{const[s,i]=Pn(t,e),r=new Blob([`${s};((AudioWorkletProcessor,registerProcessor)=>{${i}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(r);return g.audioWorklet.addModule(u,m).then((()=>{if(a(g))return g;const t=o(g);return t.audioWorklet.addModule(u,m).then((()=>t))})).then((t=>{if(null===l)throw new SyntaxError;try{new l(t,"__sac")}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));const y=c.get(p);if(void 0!==y&&y.has(f))return Promise.resolve();const v=u.get(p);if(void 0!==v){const t=v.get(f);if(void 0!==t)return t}const _=i(f).then((([t,e])=>{const[s,i]=Pn(t,e);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const t=d._AWGS.pop();if(void 0===t)throw new SyntaxError;s(g.currentTime,g.sampleRate,(()=>t(class{},void 0,((t,n)=>{if(""===t.trim())throw e();const s=An.get(g);if(void 0!==s){if(s.has(t))throw e();Nn(n),In(n.parameterDescriptors),s.set(t,n)}else Nn(n),In(n.parameterDescriptors),An.set(g,new Map([[t,n]]))}),g.sampleRate,void 0,void 0)))}));return void 0===v?u.set(p,new Map([[f,_]])):v.set(f,_),_.then((()=>{const t=c.get(p);void 0===t?c.set(p,new Set([f])):t.add(f)})).finally((()=>{const t=u.get(p);void 0!==t&&t.delete(f)})),_})(Ri,ui,(t=>e=>new Promise(((n,s)=>{if(null===t)return void s(new SyntaxError);const i=t.document.head;if(null===i)s(new SyntaxError);else{const r=t.document.createElement("script"),o=new Blob([e],{type:"application/javascript"}),a=URL.createObjectURL(o),l=t.onerror,u=()=>{t.onerror=l,URL.revokeObjectURL(a)};t.onerror=(e,n,i,r,o)=>n===a||n===t.location.href&&1===i&&1===r?(u(),s(o),!1):null!==l?l(e,n,i,r,o):void 0,r.onerror=()=>{u(),s(new SyntaxError)},r.onload=()=>{u(),n()},r.src=a,r.type="module",i.appendChild(r)}})))(Ni),no,(async t=>{try{const e=await fetch(t);if(e.ok)return[await e.text(),e.url]}catch{}throw new DOMException("","AbortError")}),Li,io,Ui,ro,new WeakMap,new WeakMap,((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new e(1,128,44100),i=URL.createObjectURL(n);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const e=new t(s,"a",{numberOfOutputs:0}),n=s.createOscillator();e.port.onmessage=()=>r=!0,e.onprocessorerror=()=>o=!0,n.connect(e),n.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return r&&!o})(ro,Bi),Ni):void 0,ao=((t,e)=>n=>t(n)||e(n))(Qi,Ui),lo=((t,e,n,s,i,r,o,a,l,u,c,h,d,p,f,m,g,y,v,_)=>class extends f{constructor(e,n){super(e,n),this._nativeContext=e,this._audioWorklet=void 0===t?void 0:{addModule:(e,n)=>t(this,e,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new e(this)}createBiquadFilter(){return new i(this)}createBuffer(t,e,s){return new n({length:e,numberOfChannels:t,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(t=6){return new r(this,{numberOfInputs:t})}createChannelSplitter(t=6){return new o(this,{numberOfOutputs:t})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(t=1){return new c(this,{maxDelayTime:t})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(t,e){return new p(this,{feedback:e,feedforward:t})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(t,e,n={disableNormalization:!1}){return new y(this,{...n,imag:e,real:t})}createStereoPanner(){return new v(this)}createWaveShaper(){return new _(this)}decodeAudioData(t,e,n){return u(this._nativeContext,t).then((t=>("function"==typeof e&&e(t),t)),(t=>{throw"function"==typeof n&&n(t),t}))}})(oo,Ki,rr,fr,vr,xr,kr,Cr,Er,((t,e,n,s,i,r,o,a,l,u,c)=>(n,s)=>{const h=o(n)?n:r(n);if(i.has(s)){const t=new DOMException("","DataCloneError");return Promise.reject(t)}try{i.add(s)}catch{}return e(l,(()=>l(h)))?h.decodeAudioData(s).then((n=>(qs(s).catch((()=>{})),e(a,(()=>a(n)))||c(n),t.add(n),n))):new Promise(((e,n)=>{const i=async()=>{try{await qs(s)}catch{}},r=t=>{n(t),i()};try{h.decodeAudioData(s,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),Gn(n)),t.add(n),i().then((()=>e(n)))}),(t=>{r(null===t?new DOMException("","EncodingError"):t)}))}catch(t){r(t)}}))})(Ji,Ri,0,0,new WeakSet,Li,ao,Hn,Hs,sr,ir),Ar,Mr,Rr,qr,Vr,Br,Gr,Xr,Kr,to),uo=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,e)=>t.createMediaElementSource(e.mediaElement))(i,e);if(s(i))throw TypeError();super(t,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Yi,0,Li,Ui),co=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t);if(s(i))throw new TypeError;const r=((t,e)=>{const n=t.createMediaStreamDestination();return Gs(n,e),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(i,{...$s,...e});super(t,!1,r,null),this._nativeMediaStreamAudioDestinationNode=r}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Yi,0,Li,Ui),ho=((t,e,n,s)=>class extends t{constructor(t,e){const i=n(t),r=((t,{mediaStream:e})=>{const n=e.getAudioTracks();n.sort(((t,e)=>t.id<e.id?-1:t.id>e.id?1:0));const s=n.slice(0,1),i=t.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:e}),i})(i,e);if(s(i))throw new TypeError;super(t,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Yi,0,Li,Ui),po=((t,e,n)=>class extends t{constructor(t,s){const i=n(t);super(t,!0,e(i,s),null)}})(Yi,((t,e)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw t();if(e(n))throw new TypeError;return r})(zs,Ui),Li),fo=((t,e,n,s,i,r,o,a,l)=>class extends t{constructor(t={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let e;try{e=new l(t)}catch(t){if(12===t.code&&"sampleRate is not in range"===t.message)throw n();throw t}if(null===e)throw s();if(!(t=>void 0===t||"number"==typeof t||"string"==typeof t&&("balanced"===t||"interactive"===t||"playback"===t))(t.latencyHint))throw new TypeError(`The provided value '${t.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==t.sampleRate&&e.sampleRate!==t.sampleRate)throw n();super(e,2);const{latencyHint:i}=t,{sampleRate:r}=e;if(this._baseLatency="number"==typeof e.baseLatency?e.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=e,"webkitAudioContext"===l.name?(this._nativeGainNode=e.createGain(),this._nativeOscillatorNode=e.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(e.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===e.state){this._state="suspended";const t=()=>{"suspended"===this._state&&(this._state=null),e.removeEventListener("statechange",t)};e.addEventListener("statechange",t)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw e()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),ss(this)})))}createMediaElementSource(t){return new i(this,{mediaElement:t})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(t){return new o(this,{mediaStream:t})}createMediaStreamTrackSource(t){return new a(this,{mediaStreamTrack:t})}resume(){return"suspended"===this._state?new Promise(((t,e)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?t():this.resume().then(t,e)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((t=>{if(void 0===t||15===t.code)throw e();throw t}))}suspend(){return this._nativeAudioContext.suspend().catch((t=>{if(void 0===t)throw e();throw t}))}})(lo,zs,ui,mi,uo,co,ho,po,Hi),mo=(t=>e=>{const n=t.get(e);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(jr),go=(t=>(e,n)=>{t(e).add(n)})(mo),yo=(t=>(e,n,s=0,i=0)=>{const r=e[s];if(void 0===r)throw t();return ws(n)?r.connect(n,0,i):r.connect(n,0)})(Qn),vo=(t=>(e,n)=>{t(e).delete(n)})(mo),_o=(t=>(e,n,s,i=0)=>void 0===n?e.forEach((t=>t.disconnect())):"number"==typeof n?js(t,e,n).disconnect():ws(n)?void 0===s?e.forEach((t=>t.disconnect(n))):void 0===i?js(t,e,s).disconnect(n,0):js(t,e,s).disconnect(n,0,i):void 0===s?e.forEach((t=>t.disconnect(n))):js(t,e,s).disconnect(n,0))(Qn),bo=new WeakMap,wo=((t,e)=>n=>e(t,n))(bo,qn),xo=((t,e,n,s,i,r,o,a,l,u,c,h,d)=>(p,f,m,g)=>{if(0===g.numberOfInputs&&0===g.numberOfOutputs)throw l();const y=Array.isArray(g.outputChannelCount)?g.outputChannelCount:Array.from(g.outputChannelCount);if(y.some((t=>t<1)))throw l();if(y.length!==g.numberOfOutputs)throw e();if("explicit"!==g.channelCountMode)throw l();const v=g.channelCount*g.numberOfInputs,_=y.reduce(((t,e)=>t+e),0),b=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(v+b>6||_>6)throw l();const w=new MessageChannel,x=[],k=[];for(let t=0;t<g.numberOfInputs;t+=1)x.push(o(p,{channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation,gain:1})),k.push(i(p,{channelCount:g.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:g.channelCount}));const S=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:t,maxValue:e,minValue:n,name:s}of m.parameterDescriptors){const i=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==g.parameterData[s]?g.parameterData[s]:void 0===t?0:t});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===t?0:t},maxValue:{get:()=>void 0===e?Zn:e},minValue:{get:()=>void 0===n?Yn:n}}),S.push(i)}const T=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,v+b)}),C=Js(f,p.sampleRate),O=a(p,C,v+b,Math.max(1,_)),E=i(p,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),A=[];for(let t=0;t<g.numberOfOutputs;t+=1)A.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:y[t]}));for(let t=0;t<g.numberOfInputs;t+=1){x[t].connect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[t].connect(T,e,t*g.channelCount+e)}const D=new Ts(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:t},e)=>{const n=S[e];return n.connect(T,0,v+e),n.start(0),[t,n.offset]})));T.connect(O);let M=g.channelInterpretation,R=null;const P=0===g.numberOfOutputs?[O]:A,I={get bufferSize(){return C},get channelCount(){return g.channelCount},set channelCount(t){throw n()},get channelCountMode(){return g.channelCountMode},set channelCountMode(t){throw n()},get channelInterpretation(){return M},set channelInterpretation(t){for(const e of x)e.channelInterpretation=t;M=t},get context(){return O.context},get inputs(){return x},get numberOfInputs(){return g.numberOfInputs},get numberOfOutputs(){return g.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(t){"function"==typeof R&&I.removeEventListener("processorerror",R),R="function"==typeof t?t:null,"function"==typeof R&&I.addEventListener("processorerror",R)},get parameters(){return D},get port(){return w.port2},addEventListener:(...t)=>O.addEventListener(t[0],t[1],t[2]),connect:t.bind(null,P),disconnect:u.bind(null,P),dispatchEvent:(...t)=>O.dispatchEvent(t[0]),removeEventListener:(...t)=>O.removeEventListener(t[0],t[1],t[2])},N=new Map;var q,F;w.port1.addEventListener=(q=w.port1.addEventListener,(...t)=>{if("message"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=N.get(t[1]);void 0!==n?t[1]=n:(t[1]=t=>{c(p.currentTime,p.sampleRate,(()=>e(t)))},N.set(e,t[1]))}}return q.call(w.port1,t[0],t[1],t[2])}),w.port1.removeEventListener=(F=w.port1.removeEventListener,(...t)=>{if("message"===t[0]){const e=N.get(t[1]);void 0!==e&&(N.delete(t[1]),t[1]=e)}return F.call(w.port1,t[0],t[1],t[2])});let j=null;Object.defineProperty(w.port1,"onmessage",{get:()=>j,set:t=>{"function"==typeof j&&w.port1.removeEventListener("message",j),j="function"==typeof t?t:null,"function"==typeof j&&(w.port1.addEventListener("message",j),w.port1.start())}}),m.prototype.port=w.port1;let V=null;((t,e,n,s)=>{let i=Dn.get(t);void 0===i&&(i=new WeakMap,Dn.set(t,i));const r=(async(t,e)=>new t(await(t=>new Promise(((e,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:t})=>{s.close(),i.close(),e(t)},s.onmessageerror=({data:t})=>{s.close(),i.close(),n(t)},i.postMessage(t)})))(e)))(n,s);return i.set(e,r),r})(p,I,m,g).then((t=>V=t));const L=As(g.numberOfInputs,g.channelCount),z=As(g.numberOfOutputs,y),B=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((t,{name:e})=>({...t,[e]:new Float32Array(128)})),{});let U=!0;const W=()=>{g.numberOfOutputs>0&&O.disconnect(E);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let s=0;s<y[t];s+=1)E.disconnect(n,e+s,s);e+=y[t]}},$=new Map;O.onaudioprocess=({inputBuffer:t,outputBuffer:e})=>{if(null!==V){const n=h(I);for(let s=0;s<C;s+=128){for(let e=0;e<g.numberOfInputs;e+=1)for(let n=0;n<g.channelCount;n+=1)Os(t,L[e],n,n,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:e},n)=>{Os(t,B,e,v+n,s)}));for(let t=0;t<g.numberOfInputs;t+=1)for(let e=0;e<y[t];e+=1)0===z[t][e].byteLength&&(z[t][e]=new Float32Array(128));try{const t=L.map(((t,e)=>{if(n[e].size>0)return $.set(e,C/128),t;const s=$.get(e);return void 0===s?[]:(t.every((t=>t.every((t=>0===t))))&&(1===s?$.delete(e):$.set(e,s-1)),t)})),i=c(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>V.process(t,z,B)));U=i;for(let t=0,n=0;t<g.numberOfOutputs;t+=1){for(let i=0;i<y[t];i+=1)Es(e,z[t],i,n+i,s);n+=y[t]}}catch(t){U=!1,I.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}))}if(!U){for(let t=0;t<g.numberOfInputs;t+=1){x[t].disconnect(k[t]);for(let e=0;e<g.channelCount;e+=1)k[s].disconnect(T,e,t*g.channelCount+e)}if(void 0!==m.parameterDescriptors){const t=m.parameterDescriptors.length;for(let e=0;e<t;e+=1){const t=S[e];t.disconnect(T,0,v+e),t.stop()}}T.disconnect(O),O.onaudioprocess=null,H?W():X();break}}}};let H=!1;const Q=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),G=()=>O.connect(Q).connect(p.destination),X=()=>{O.disconnect(Q),Q.disconnect()};return G(),d(I,(()=>{if(U){X(),g.numberOfOutputs>0&&O.connect(E);for(let t=0,e=0;t<g.numberOfOutputs;t+=1){const n=A[t];for(let s=0;s<y[t];s+=1)E.connect(n,e+s,s);e+=y[t]}}H=!0}),(()=>{U&&(G(),W()),H=!1}))})(yo,Qn,zs,wr,ei,Tr,ii,li,ui,_o,no,wo,_r),ko=((t,e,n,s,i)=>(r,o,a,l,u,c)=>{if(null!==a)try{const e=new a(r,l,c),s=new Map;let o=null;if(Object.defineProperties(e,{channelCount:{get:()=>c.channelCount,set:()=>{throw t()}},channelCountMode:{get:()=>"explicit",set:()=>{throw t()}},onprocessorerror:{get:()=>o,set:t=>{"function"==typeof o&&e.removeEventListener("processorerror",o),o="function"==typeof t?t:null,"function"==typeof o&&e.addEventListener("processorerror",o)}}}),e.addEventListener=(d=e.addEventListener,(...t)=>{if("processorerror"===t[0]){const e="function"==typeof t[1]?t[1]:"object"==typeof t[1]&&null!==t[1]&&"function"==typeof t[1].handleEvent?t[1].handleEvent:null;if(null!==e){const n=s.get(t[1]);void 0!==n?t[1]=n:(t[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),e(n)):e(new ErrorEvent(t[0],{...n}))},s.set(e,t[1]))}}return d.call(e,"error",t[1],t[2]),d.call(e,...t)}),e.removeEventListener=(h=e.removeEventListener,(...t)=>{if("processorerror"===t[0]){const e=s.get(t[1]);void 0!==e&&(s.delete(t[1]),t[1]=e)}return h.call(e,"error",t[1],t[2]),h.call(e,t[0],t[1],t[2])}),0!==c.numberOfOutputs){const t=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return e.connect(t).connect(r.destination),i(e,(()=>t.disconnect()),(()=>t.connect(r.destination)))}return e}catch(t){if(11===t.code)throw s();throw t}var h,d;if(void 0===u)throw s();return(t=>{const{port1:e}=new MessageChannel;try{e.postMessage(t)}finally{e.close()}})(c),e(r,o,u,c)})(zs,xo,ii,ui,_r),So=((t,e,n,s,i,r,o,a,l,u,c,h,d,p,f,m)=>(g,y,v)=>{const _=new WeakMap;let b=null;return{render(w,x,k){a(x,w);const S=_.get(x);return void 0!==S?Promise.resolve(S):(async(a,w,x)=>{let k=c(a),S=null;const T=$n(k,w),C=Array.isArray(y.outputChannelCount)?y.outputChannelCount:Array.from(y.outputChannelCount);if(null===h){const t=C.reduce(((t,e)=>t+e),0),n=i(w,{channelCount:Math.max(1,t),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,t)}),r=[];for(let t=0;t<a.numberOfOutputs;t+=1)r.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[t]}));const u=o(w,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1});u.connect=e.bind(null,r),u.disconnect=l.bind(null,r),S=[n,r,u]}else T||(k=new h(w,g));if(_.set(w,null===S?k:S[2]),null!==S){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const t=a.channelCount*a.numberOfInputs,e=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=t+e,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),u=[],c=[];for(let t=0;t<y.numberOfInputs;t+=1)u.push(o(l,{channelCount:y.channelCount,channelCountMode:y.channelCountMode,channelInterpretation:y.channelInterpretation,gain:1})),c.push(i(l,{channelCount:y.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:y.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async t=>{const e=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:t.value});return await p(l,t,e.offset,x),e}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,t+e)});for(let t=0;t<y.numberOfInputs;t+=1){u[t].connect(c[t]);for(let e=0;e<y.channelCount;e+=1)c[t].connect(g,e,t*y.channelCount+e)}for(const[e,n]of h.entries())n.connect(g,0,t+e),n.start(0);return g.connect(l.destination),await Promise.all(u.map((t=>f(a,l,t,x)))),m(l)};b=Ds(a,0===n?null:await l(),w,y,C,v,u)}const t=await b,e=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=S;null!==t&&(e.buffer=t,e.start(0)),e.connect(l);for(let t=0,e=0;t<a.numberOfOutputs;t+=1){const n=c[t];for(let s=0;s<C[t];s+=1)l.connect(n,e+s,s);e+=C[t]}return h}if(T)for(const[e,n]of a.parameters.entries())await t(w,n,k.parameters.get(e),x);else for(const[t,e]of a.parameters.entries())await p(w,e,k.parameters.get(t),x);return await f(a,w,k,x),k})(w,x,k)}}})(lr,yo,ur,wr,ei,Tr,ii,vo,_o,no,ms,ro,Bi,cr,ji,Ir),To=(t=>e=>t.get(e))(so),Co=(t=>(e,n)=>{t.set(e,n)})(bo),Oo=eo?((t,e,n,s,i,r,o,a,l,u,c,h,d,p)=>class extends e{constructor(e,c,d){var p;const f=a(e),m=l(f),g=(t=>({...t,outputChannelCount:void 0!==t.outputChannelCount?t.outputChannelCount:1===t.numberOfInputs&&1===t.numberOfOutputs?[t.channelCount]:Array.from({length:t.numberOfOutputs},(()=>1))}))({...Cs,...d});(t=>{const{port1:e,port2:n}=new MessageChannel;try{e.postMessage(t)}finally{e.close(),n.close()}})(g);const y=An.get(f),v=null==y?void 0:y.get(c),_=m||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,b=i(_,m?null:e.baseLatency,u,c,v,g);super(e,!0,b,m?s(c,g,v):null);const w=[];b.parameters.forEach(((t,e)=>{const s=n(this,m,t);w.push([e,s])})),this._nativeAudioWorkletNode=b,this._onprocessorerror=null,this._parameters=new Ts(w),m&&t(f,this);const{activeInputs:x}=r(this);h(b,x)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(t){const e="function"==typeof t?p(this,t):null;this._nativeAudioWorkletNode.onprocessorerror=e;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===e?t:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(go,Yi,dr,So,ko,ts,To,Li,Ui,ro,0,Co,0,Ci):void 0,Eo=((t,e)=>(n,s,i)=>{if(null===e)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new e(n,s,i)}catch(e){if("SyntaxError"===e.name)throw t();throw e}})(ui,Bi),Ao=((t,e,n,s,i,r,o,a)=>{const l=[];return(u,c)=>n(u).render(u,c,l).then((()=>Promise.all(Array.from(s(c)).map((t=>n(t).render(t,c,l)))))).then((()=>i(c))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),Gn(n)):e(r,(()=>r(n)))||a(n),t.add(n),n)))})(Ji,Ri,Fi,mo,Ir,Hn,sr,ir),Do=((t,e,n,s,i)=>class extends t{constructor(t,n,i){let r;if("number"==typeof t&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:t,sampleRate:i};else{if("object"!=typeof t)throw new Error("The given parameters are not valid.");r=t}const{length:o,numberOfChannels:a,sampleRate:l}={...ci,...r},u=s(a,o,l);e(Hs,(()=>Hs(u)))||u.addEventListener("statechange",(()=>{let t=0;const e=n=>{"running"===this._state&&(t>0?(u.removeEventListener("statechange",e),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):t+=1)};return e})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,ss(this)})))}_waitForThePromiseToSettle(t){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(t):setTimeout((()=>this._waitForThePromiseToSettle(t)))}})(lo,Ri,zs,Eo,Ao),Mo=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Cn,Qi),Ro=((t,e)=>n=>t.has(n)||e(n))(kn,Gi),Po=((t,e)=>n=>t.has(n)||e(n))(Tn,Xi),Io=((t,e)=>n=>{const s=t.get(n);return e(s)||e(n)})(Cn,Ui),No=()=>(async(t,e,n,s,i,r,o,a,l,u,c,h,d,p,f,m)=>!!(t(e,e)&&t(n,n)&&t(i,i)&&t(r,r)&&t(a,a)&&t(l,l)&&t(u,u)&&t(c,c)&&t(h,h)&&t(d,d)&&t(p,p))&&(await Promise.all([t(s,s),t(o,o),t(f,f),t(m,m)])).every((t=>t)))(Ri,(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createBuffer(1,1,44100);if(void 0===e.copyToChannel)return!0;const n=new Float32Array(2);try{e.copyFromChannel(n,0,0)}catch{return!1}return!0})(Bi),(t=>()=>{if(null===t)return!1;if(void 0!==t.prototype&&void 0!==t.prototype.close)return!0;const e=new t,n=void 0!==e.close;try{e.close()}catch{}return n})(Hi),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);return new Promise((t=>{let n=!0;const s=s=>{n&&(n=!1,e.startRendering(),t(s instanceof TypeError))};let i;try{i=e.decodeAudioData(null,(()=>{}),s)}catch(t){s(t)}void 0!==i&&i.catch(s)}))})(Bi),(t=>()=>{if(null===t)return!1;let e;try{e=new t({latencyHint:"balanced"})}catch{return!1}return e.close(),!0})(Hi),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createGain(),n=e.connect(e)===e;return e.disconnect(e),n})(Bi),((t,e)=>async()=>{if(null===t)return!0;if(null===e)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,i=new e(1,128,44100),r=URL.createObjectURL(n);let o=!1;try{await i.audioWorklet.addModule(r);const e=new t(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise((t=>{e.port.onmessage=()=>t(),e.port.postMessage(s.port2,[s.port2])})),e.port.onmessage=()=>o=!0,n.connect(e),n.start(0),await i.startRendering(),o=await new Promise((t=>{s.port1.onmessage=({data:e})=>t(1===e),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(r)}return o})(ro,Bi),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createChannelMerger();if("max"===e.channelCountMode)return!0;try{e.channelCount=2}catch{return!0}return!1})(Bi),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100);return void 0===e.createConstantSource||e.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Bi),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100),n=e.createConvolver();n.buffer=e.createBuffer(1,1,e.sampleRate);try{n.buffer=e.createBuffer(1,1,e.sampleRate)}catch{return!1}return!0})(Bi),(t=>()=>{if(null===t)return!1;const e=new t(1,1,44100).createConvolver();try{e.channelCount=1}catch{return!1}return!0})(Bi),ki,(t=>()=>null!==t&&t.hasOwnProperty("isSecureContext"))(Ni),(t=>()=>{if(null===t)return!1;const e=new t;try{return e.createMediaStreamSource(new MediaStream),!1}catch(t){return!0}})(Hi),(t=>()=>{if(null===t)return Promise.resolve(!1);const e=new t(1,1,44100);if(void 0===e.createStereoPanner)return Promise.resolve(!0);if(void 0===e.createConstantSource)return Promise.resolve(!0);const n=e.createConstantSource(),s=e.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(e.destination),e.startRendering().then((t=>1!==t.getChannelData(0)[0]))})(Bi),Si);var qo;function Fo(t,e){if(!t)throw new Error(e)}function jo(t,e,n=1/0){if(!(e<=t&&t<=n))throw new RangeError(`Value must be within [${e}, ${n}], got: ${t}`)}function Vo(t){t.isOffline||"running"===t.state||Uo('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Lo=console;function zo(t){Lo=t}function Bo(...t){Lo.log(...t)}function Uo(...t){Lo.warn(...t)}function Wo(t){return void 0===t}function $o(t){return!Wo(t)}function Ho(t){return"function"==typeof t}function Qo(t){return"number"==typeof t}function Go(t){return"[object Object]"===Object.prototype.toString.call(t)&&t.constructor===Object}function Xo(t){return"boolean"==typeof t}function Yo(t){return Array.isArray(t)}function Zo(t){return"string"==typeof t}function Ko(t){return Zo(t)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(t)}const Jo="object"==typeof self?self:null,ta=Jo&&(Jo.hasOwnProperty("AudioContext")||Jo.hasOwnProperty("webkitAudioContext"));function ea(t,e,n,s){var i,r=arguments.length,o=r<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,n,s);else for(var a=t.length-1;a>=0;a--)(i=t[a])&&(o=(r<3?i(o):r>3?i(e,n,o):i(e,n))||o);return r>3&&o&&Object.defineProperty(e,n,o),o}function na(t,e,n,s){return new(n||(n=Promise))((function(i,r){function o(t){try{l(s.next(t))}catch(t){r(t)}}function a(t){try{l(s.throw(t))}catch(t){r(t)}}function l(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,a)}l((s=s.apply(t,e||[])).next())}))}Object.create,Object.create;class sa{constructor(t,e,n){this._callback=t,this._type=e,this._updateInterval=n,this._createClock()}_createWorker(){const t=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),e=URL.createObjectURL(t),n=new Worker(e);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(t){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(t){this._updateInterval=Math.max(t,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*t,1))}get type(){return this._type}set type(t){this._disposeClock(),this._type=t,this._createClock()}dispose(){this._disposeClock()}}function ia(t){return Po(t)}function ra(t){return Ro(t)}function oa(t){return Io(t)}function aa(t){return Mo(t)}function la(t){return t instanceof AudioBuffer}function ua(t,e){return"value"===t||ia(e)||ra(e)||la(e)}function ca(t,...e){if(!e.length)return t;const n=e.shift();if(Go(t)&&Go(n))for(const e in n)ua(e,n[e])?t[e]=n[e]:Go(n[e])?(t[e]||Object.assign(t,{[e]:{}}),ca(t[e],n[e])):Object.assign(t,{[e]:n[e]});return ca(t,...e)}function ha(t,e,n=[],s){const i={},r=Array.from(e);if(Go(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some((e=>Reflect.has(t,e)))||(ca(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())),1===r.length&&Go(r[0]))ca(i,r[0]);else for(let t=0;t<n.length;t++)$o(r[t])&&(i[n[t]]=r[t]);return ca(t,i)}function da(t,e){return Wo(t)?e:t}function pa(t,e){return e.forEach((e=>{Reflect.has(t,e)&&delete t[e]})),t}class fa{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...t){(this.debug||Jo&&this.toString()===Jo.TONE_DEBUG_CLASS)&&Bo(this,...t)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}fa.version=_n;const ma=1e-6;function ga(t,e){return t>e+ma}function ya(t,e){return ga(t,e)||_a(t,e)}function va(t,e){return t+ma<e}function _a(t,e){return Math.abs(t-e)<ma}function ba(t,e,n){return Math.max(Math.min(t,n),e)}class wa extends fa{constructor(){super(),this.name="Timeline",this._timeline=[];const t=ha(wa.getDefaults(),arguments,["memory"]);this.memory=t.memory,this.increasing=t.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(t){if(Fo(Reflect.has(t,"time"),"Timeline: events must have a time attribute"),t.time=t.time.valueOf(),this.increasing&&this.length){const e=this._timeline[this.length-1];Fo(ya(t.time,e.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(t)}else{const e=this._search(t.time);this._timeline.splice(e+1,0,t)}if(this.length>this.memory){const t=this.length-this.memory;this._timeline.splice(0,t)}return this}remove(t){const e=this._timeline.indexOf(t);return-1!==e&&this._timeline.splice(e,1),this}get(t,e="time"){const n=this._search(t,e);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(t,e="time"){const n=this._search(t,e);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(t){const e=this._timeline.length;if(e>0&&this._timeline[e-1].time<t)return this._timeline[e-1];const n=this._search(t);return n-1>=0?this._timeline[n-1]:null}cancel(t){if(this._timeline.length>1){let e=this._search(t);if(e>=0)if(_a(this._timeline[e].time,t)){for(let n=e;n>=0&&_a(this._timeline[n].time,t);n--)e=n;this._timeline=this._timeline.slice(0,e)}else this._timeline=this._timeline.slice(0,e+1);else this._timeline=[]}else 1===this._timeline.length&&ya(this._timeline[0].time,t)&&(this._timeline=[]);return this}cancelBefore(t){const e=this._search(t);return e>=0&&(this._timeline=this._timeline.slice(e+1)),this}previousEvent(t){const e=this._timeline.indexOf(t);return e>0?this._timeline[e-1]:null}_search(t,e="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][e]<=t)return s-1;for(;n<i;){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],o=this._timeline[s+1];if(_a(r[e],t)){for(let n=s;n<this._timeline.length&&_a(this._timeline[n][e],t);n++)s=n;return s}if(va(r[e],t)&&ga(o[e],t))return s;ga(r[e],t)?i=s:n=s+1}return-1}_iterate(t,e=0,n=this._timeline.length-1){this._timeline.slice(e,n+1).forEach(t)}forEach(t){return this._iterate(t),this}forEachBefore(t,e){const n=this._search(t);return-1!==n&&this._iterate(e,0,n),this}forEachAfter(t,e){const n=this._search(t);return this._iterate(e,n+1),this}forEachBetween(t,e,n){let s=this._search(t),i=this._search(e);return-1!==s&&-1!==i?(this._timeline[s].time!==t&&(s+=1),this._timeline[i].time===e&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(t,e){let n=this._search(t);for(;n>=0&&this._timeline[n].time>=t;)n--;return this._iterate(e,n+1),this}forEachAtTime(t,e){const n=this._search(t);if(-1!==n&&_a(this._timeline[n].time,t)){let s=n;for(let e=n;e>=0&&_a(this._timeline[e].time,t);e--)s=e;this._iterate((t=>{e(t)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const xa=[];function ka(t){xa.push(t)}const Sa=[];function Ta(t){Sa.push(t)}class Ca extends fa{constructor(){super(...arguments),this.name="Emitter"}on(t,e){return t.split(/\W+/).forEach((t=>{Wo(this._events)&&(this._events={}),this._events.hasOwnProperty(t)||(this._events[t]=[]),this._events[t].push(e)})),this}once(t,e){const n=(...s)=>{e(...s),this.off(t,n)};return this.on(t,n),this}off(t,e){return t.split(/\W+/).forEach((n=>{if(Wo(this._events)&&(this._events={}),this._events.hasOwnProperty(t))if(Wo(e))this._events[t]=[];else{const n=this._events[t];for(let t=n.length-1;t>=0;t--)n[t]===e&&n.splice(t,1)}})),this}emit(t,...e){if(this._events&&this._events.hasOwnProperty(t)){const n=this._events[t].slice(0);for(let t=0,s=n.length;t<s;t++)n[t].apply(this,e)}return this}static mixin(t){["on","once","off","emit"].forEach((e=>{const n=Object.getOwnPropertyDescriptor(Ca.prototype,e);Object.defineProperty(t.prototype,e,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class Oa extends Ca{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class Ea extends Oa{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new wa,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const t=ha(Ea.getDefaults(),arguments,["context"]);t.context?this._context=t.context:this._context=function(t){return new fo(t)}({latencyHint:t.latencyHint}),this._ticker=new sa(this.emit.bind(this,"tick"),t.clockSource,t.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(t.latencyHint),this.lookAhead=t.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var t;return this._initialized||(t=this,xa.forEach((e=>e(t))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(t,e,n){return this._context.createBuffer(t,e,n)}createChannelMerger(t){return this._context.createChannelMerger(t)}createChannelSplitter(t){return this._context.createChannelSplitter(t)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(t){return this._context.createDelay(t)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(t,e){return this._context.createIIRFilter(t,e)}createPanner(){return this._context.createPanner()}createPeriodicWave(t,e,n){return this._context.createPeriodicWave(t,e,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(t){return Fo(aa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(t)}createMediaElementSource(t){return Fo(aa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(t)}createMediaStreamDestination(){return Fo(aa(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(t){return this._context.decodeAudioData(t)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(t){Fo(!this._initialized,"The listener cannot be set after initialization."),this._listener=t}get transport(){return this.initialize(),this._transport}set transport(t){Fo(!this._initialized,"The transport cannot be set after initialization."),this._transport=t}get draw(){return this.initialize(),this._draw}set draw(t){Fo(!this._initialized,"Draw cannot be set after initialization."),this._draw=t}get destination(){return this.initialize(),this._destination}set destination(t){Fo(!this._initialized,"The destination cannot be set after initialization."),this._destination=t}createAudioWorkletNode(t,e){return function(t,e,n){return Fo($o(Oo),"This node only works in a secure context (https or localhost)"),new Oo(t,e,n)}(this.rawContext,t,e)}addAudioWorkletModule(t,e){return na(this,void 0,void 0,(function*(){Fo($o(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(e)||this._workletModules.set(e,this.rawContext.audioWorklet.addModule(t)),yield this._workletModules.get(e)}))}workletsAreReady(){return na(this,void 0,void 0,(function*(){const t=[];this._workletModules.forEach((e=>t.push(e))),yield Promise.all(t)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(t){this._ticker.updateInterval=t}get clockSource(){return this._ticker.type}set clockSource(t){this._ticker.type=t}get latencyHint(){return this._latencyHint}_setLatencyHint(t){let e=0;if(this._latencyHint=t,Zo(t))switch(t){case"interactive":e=.1;break;case"playback":e=.5;break;case"balanced":e=.25}this.lookAhead=e,this.updateInterval=e/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return aa(this._context)?this._context.resume():Promise.resolve()}close(){return na(this,void 0,void 0,(function*(){var t;aa(this._context)&&(yield this._context.close()),this._initialized&&(t=this,Sa.forEach((e=>e(t))))}))}getConstant(t){if(this._constants.has(t))return this._constants.get(t);{const e=this._context.createBuffer(1,128,this._context.sampleRate),n=e.getChannelData(0);for(let e=0;e<n.length;e++)n[e]=t;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=e,s.loop=!0,s.start(0),this._constants.set(t,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((t=>this._constants[t].disconnect())),this}_timeoutLoop(){const t=this.now();let e=this._timeouts.peek();for(;this._timeouts.length&&e&&e.time<=t;)e.callback(),this._timeouts.shift(),e=this._timeouts.peek()}setTimeout(t,e){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:t,id:this._timeoutIds,time:n+e}),this._timeoutIds}clearTimeout(t){return this._timeouts.forEach((e=>{e.id===t&&this._timeouts.remove(e)})),this}clearInterval(t){return this.clearTimeout(t)}setInterval(t,e){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{t(),s()},id:n,time:i+e})};return s(),n}}function Aa(t,e){Yo(e)?e.forEach((e=>Aa(t,e))):Object.defineProperty(t,e,{enumerable:!0,writable:!1})}function Da(t,e){Yo(e)?e.forEach((e=>Da(t,e))):Object.defineProperty(t,e,{writable:!0})}const Ma=()=>{};class Ra extends fa{constructor(){super(),this.name="ToneAudioBuffer",this.onload=Ma;const t=ha(Ra.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=t.reverse,this.onload=t.onload,t.url&&la(t.url)||t.url instanceof Ra?this.set(t.url):Zo(t.url)&&this.load(t.url).catch(t.onerror)}static getDefaults(){return{onerror:Ma,onload:Ma,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:qa().sampleRate}set(t){return t instanceof Ra?t.loaded?this._buffer=t.get():t.onload=()=>{this.set(t),this.onload(this)}:this._buffer=t,this._reversed&&this._reverse(),this}get(){return this._buffer}load(t){return na(this,void 0,void 0,(function*(){const e=Ra.load(t).then((t=>{this.set(t),this.onload(this)}));Ra.downloads.push(e);try{yield e}finally{const t=Ra.downloads.indexOf(e);Ra.downloads.splice(t,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(t){const e=Yo(t)&&t[0].length>0,n=e?t.length:1,s=e?t[0].length:t.length,i=qa(),r=i.createBuffer(n,s,i.sampleRate),o=e||1!==n?t:[t];for(let t=0;t<n;t++)r.copyToChannel(o[t],t);return this._buffer=r,this}toMono(t){if(Qo(t))this.fromArray(this.toArray(t));else{let t=new Float32Array(this.length);const e=this.numberOfChannels;for(let n=0;n<e;n++){const e=this.toArray(n);for(let n=0;n<e.length;n++)t[n]+=e[n]}t=t.map((t=>t/e)),this.fromArray(t)}return this}toArray(t){if(Qo(t))return this.getChannelData(t);if(1===this.numberOfChannels)return this.toArray(0);{const t=[];for(let e=0;e<this.numberOfChannels;e++)t[e]=this.getChannelData(e);return t}}getChannelData(t){return this._buffer?this._buffer.getChannelData(t):new Float32Array(0)}slice(t,e=this.duration){const n=Math.floor(t*this.sampleRate),s=Math.floor(e*this.sampleRate);Fo(n<s,"The start time must be less than the end time");const i=s-n,r=qa().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let t=0;t<this.numberOfChannels;t++)r.copyToChannel(this.getChannelData(t).subarray(n,s),t);return new Ra(r)}_reverse(){if(this.loaded)for(let t=0;t<this.numberOfChannels;t++)this.getChannelData(t).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(t){this._reversed!==t&&(this._reversed=t,this._reverse())}static fromArray(t){return(new Ra).fromArray(t)}static fromUrl(t){return na(this,void 0,void 0,(function*(){const e=new Ra;return yield e.load(t)}))}static load(t){return na(this,void 0,void 0,(function*(){const e=t.match(/\[([^\]\[]+\|.+)\]$/);if(e){const n=e[1].split("|");let s=n[0];for(const t of n)if(Ra.supportsType(t)){s=t;break}t=t.replace(e[0],s)}const n=""===Ra.baseUrl||Ra.baseUrl.endsWith("/")?Ra.baseUrl:Ra.baseUrl+"/",s=yield fetch(n+t);if(!s.ok)throw new Error(`could not load url: ${t}`);const i=yield s.arrayBuffer();return yield qa().decodeAudioData(i)}))}static supportsType(t){const e=t.split("."),n=e[e.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return na(this,void 0,void 0,(function*(){for(yield Promise.resolve();Ra.downloads.length;)yield Ra.downloads[0]}))}}Ra.baseUrl="",Ra.downloads=[];class Pa extends Ea{constructor(){var t,e,n;super({clockSource:"offline",context:oa(arguments[0])?arguments[0]:(t=arguments[0],e=arguments[1]*arguments[2],n=arguments[2],new Do(t,e,n)),lookAhead:0,updateInterval:oa(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=oa(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(t){return na(this,void 0,void 0,(function*(){let e=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,e++;const n=Math.floor(this.sampleRate/128);t&&e%n==0&&(yield new Promise((t=>setTimeout(t,1))))}}))}render(t=!0){return na(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(t);const e=yield this._context.startRendering();return new Ra(e)}))}close(){return Promise.resolve()}}const Ia=new class extends Oa{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(t,e,n){return{}}createChannelMerger(t){return{}}createChannelSplitter(t){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(t){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(t,e){return{}}createPanner(){return{}}createPeriodicWave(t,e,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(t){return{}}createMediaElementSource(t){return{}}createMediaStreamDestination(){return{}}decodeAudioData(t){return Promise.resolve({})}createAudioWorkletNode(t,e){return{}}get rawContext(){return{}}addAudioWorkletModule(t,e){return na(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(t,e){return 0}clearTimeout(t){return this}setInterval(t,e){return 0}clearInterval(t){return this}getConstant(t){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(t){}get destination(){return{}}set destination(t){}now(){return 0}immediate(){return 0}};let Na=Ia;function qa(){return Na===Ia&&ta&&Fa(new Ea),Na}function Fa(t){Na=aa(t)?new Ea(t):oa(t)?new Pa(t):t}function ja(){return Na.resume()}if(Jo&&!Jo.TONE_SILENCE_LOGGING){let t="v";"dev"===_n&&(t="");const e=` * Tone.js ${t}${_n} * `;console.log(`%c${e}`,"background: #000; color: #fff")}function Va(t){return Math.pow(10,t/20)}function La(t){return Math.log(t)/Math.LN10*20}function za(t){return Math.pow(2,t/12)}let Ba=440;function Ua(t){return Math.round(Wa(t))}function Wa(t){return 69+12*Math.log2(t/Ba)}function $a(t){return Ba*Math.pow(2,(t-69)/12)}class Ha extends fa{constructor(t,e,n){super(),this.defaultUnits="s",this._val=e,this._units=n,this.context=t,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:t=>this._frequencyToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:t=>this._ticksToUnits(parseInt(t,10)),regexp:/^(\d+)i$/i},m:{method:t=>this._beatsToUnits(parseInt(t,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(t,e)=>{const n=parseInt(t,10),s="."===e?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:t=>this._expressions[this.defaultUnits].method.call(this,t),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:t=>this._secondsToUnits(parseFloat(t)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:t=>parseInt(t,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:t=>{const e=parseInt(t,10);return this._beatsToUnits(8/(3*Math.floor(e)))},regexp:/^(\d+)t$/i},tr:{method:(t,e,n)=>{let s=0;return t&&"0"!==t&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s+=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Ha&&this.fromType(this._val),Wo(this._val))return this._noArg();if(Zo(this._val)&&Wo(this._units)){for(const t in this._expressions)if(this._expressions[t].regexp.test(this._val.trim())){this._units=t;break}}else if(Go(this._val)){let t=0;for(const e in this._val)if($o(this._val[e])){const n=this._val[e];t+=new this.constructor(this.context,e).valueOf()*n}return t}if($o(this._units)){const t=this._expressions[this._units],e=this._val.toString().trim().match(t.regexp);return e?t.method.apply(this,e.slice(1)):t.method.call(this,this._val)}return Zo(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(t){return 1/t}_beatsToUnits(t){return 60/this._getBpm()*t}_secondsToUnits(t){return t}_ticksToUnits(t){return t*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(t){switch(this._units=void 0,this.defaultUnits){case"s":this._val=t.toSeconds();break;case"i":this._val=t.toTicks();break;case"hz":this._val=t.toFrequency();break;case"midi":this._val=t.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Qa extends Ha{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:t=>this._now()+new this.constructor(this.context,t).valueOf(),regexp:/^\+(.+)/},quantize:{method:t=>{const e=new Qa(this.context,t).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(e))},regexp:/^@(.+)/}})}quantize(t,e=1){const n=new this.constructor(this.context,t).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*e}toNotation(){const t=this.toSeconds(),e=["1m"];for(let t=1;t<9;t++){const n=Math.pow(2,t);e.push(n+"n."),e.push(n+"n"),e.push(n+"t")}e.push("0");let n=e[0],s=new Qa(this.context,e[0]).toSeconds();return e.forEach((e=>{const i=new Qa(this.context,e).toSeconds();Math.abs(i-t)<Math.abs(s-t)&&(n=e,s=i)})),n}toBarsBeatsSixteenths(){const t=this._beatsToUnits(1);let e=this.valueOf()/t;e=parseFloat(e.toFixed(4));const n=Math.floor(e/this._getTimeSignature());let s=e%1*4;e=Math.floor(e)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[n,e,s].join(":")}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.round(e*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ua(this.toFrequency())}_now(){return this.context.now()}}function Ga(t,e){return new Qa(qa(),t,e)}class Xa extends Qa{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Ba}static set A4(t){!function(t){Ba=t}(t)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(t){return"midi"===this.defaultUnits?t:Xa.mtof(t)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(t,e){const n=Ya[t.toLowerCase()]+12*(parseInt(e,10)+1);return"midi"===this.defaultUnits?n:Xa.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(t,e,n){let s=1;return t&&"0"!==t&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(t))),e&&"0"!==e&&(s*=this._beatsToUnits(parseFloat(e))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(t){return new Xa(this.context,this.valueOf()*za(t))}harmonize(t){return t.map((t=>this.transpose(t)))}toMidi(){return Ua(this.valueOf())}toNote(){const t=this.toFrequency(),e=Math.log2(t/Xa.A4);let n=Math.round(12*e)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),Za[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const t=this._beatsToUnits(1),e=this.valueOf()/t;return Math.floor(e*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(t){return t}_ticksToUnits(t){return 1/(60*t/(this._getBpm()*this._getPPQ()))}_beatsToUnits(t){return 1/super._beatsToUnits(t)}_secondsToUnits(t){return 1/t}static mtof(t){return $a(t)}static ftom(t){return Ua(t)}}const Ya={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},Za=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Ka(t,e){return new Xa(qa(),t,e)}class Ja extends Qa{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function tl(t,e){return new Ja(qa(),t,e)}class el extends fa{constructor(){super();const t=ha(el.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=t.context}static getDefaults(){return{context:qa()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(t){return new Qa(this.context,t).toSeconds()}toFrequency(t){return new Xa(this.context,t).toFrequency()}toTicks(t){return new Ja(this.context,t).toTicks()}_getPartialProperties(t){const e=this.get();return Object.keys(e).forEach((n=>{Wo(t[n])&&delete e[n]})),e}get(){const t=this.constructor.getDefaults();return Object.keys(t).forEach((e=>{if(Reflect.has(this,e)){const n=this[e];$o(n)&&$o(n.value)&&$o(n.setValueAtTime)?t[e]=n.value:n instanceof el?t[e]=n._getPartialProperties(t[e]):Yo(n)||Qo(n)||Zo(n)||Xo(n)?t[e]=n:delete t[e]}})),t}set(t){return Object.keys(t).forEach((e=>{Reflect.has(this,e)&&$o(this[e])&&(this[e]&&$o(this[e].value)&&$o(this[e].setValueAtTime)?this[e].value!==t[e]&&(this[e].value=t[e]):this[e]instanceof el?this[e].set(t[e]):this[e]=t[e])})),this}}class nl extends wa{constructor(t="stopped"){super(),this.name="StateTimeline",this._initial=t,this.setStateAtTime(this._initial,0)}getValueAtTime(t){const e=this.get(t);return null!==e?e.state:this._initial}setStateAtTime(t,e,n){return jo(e,0),this.add(Object.assign({},n,{state:t,time:e})),this}getLastState(t,e){for(let n=this._search(e);n>=0;n--){const e=this._timeline[n];if(e.state===t)return e}}getNextState(t,e){const n=this._search(e);if(-1!==n)for(let e=n;e<this._timeline.length;e++){const n=this._timeline[e];if(n.state===t)return n}}}class sl extends el{constructor(){super(ha(sl.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const t=ha(sl.getDefaults(),arguments,["param","units","convert"]);for(Fo($o(t.param)&&(ia(t.param)||t.param instanceof sl),"param must be an AudioParam");!ia(t.param);)t.param=t.param._param;this._swappable=!!$o(t.swappable)&&t.swappable,this._swappable?(this.input=this.context.createGain(),this._param=t.param,this.input.connect(this._param)):this._param=this.input=t.param,this._events=new wa(1e3),this._initialValue=this._param.defaultValue,this.units=t.units,this.convert=t.convert,this._minValue=t.minValue,this._maxValue=t.maxValue,$o(t.value)&&t.value!==this._toType(this._initialValue)&&this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(el.getDefaults(),{convert:!0,units:"number"})}get value(){const t=this.now();return this.getValueAtTime(t)}set value(t){this.cancelScheduledValues(this.now()),this.setValueAtTime(t,this.now())}get minValue(){return $o(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return $o(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(t,e){return this.units===e}_assertRange(t){return $o(this.maxValue)&&$o(this.minValue)&&jo(t,this._fromType(this.minValue),this._fromType(this.maxValue)),t}_fromType(t){return this.convert&&!this.overridden?this._is(t,"time")?this.toSeconds(t):this._is(t,"decibels")?Va(t):this._is(t,"frequency")?this.toFrequency(t):t:this.overridden?0:t}_toType(t){return this.convert&&"decibels"===this.units?La(t):t}setValueAtTime(t,e){const n=this.toSeconds(e),s=this._fromType(t);return Fo(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",t,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(t){const e=Math.max(this.toSeconds(t),0),n=this._events.getAfter(e),s=this._events.get(e);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let t=s.value;if("setTargetAtTime"===s.type){const e=this._events.getBefore(s.time);t=null===e?this._initialValue:e.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,t,n.time,n.value,e):this._exponentialInterpolate(s.time,t,n.time,n.value,e)}else i=s.value;else{const t=this._events.getBefore(s.time);let n;n=null===t?this._initialValue:t.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,e))}return this._toType(i)}setRampPoint(t){t=this.toSeconds(t);let e=this.getValueAtTime(t);return this.cancelAndHoldAtTime(t),0===this._fromType(e)&&(e=this._toType(this._minOutput)),this.setValueAtTime(e,t),this}linearRampToValueAtTime(t,e){const n=this._fromType(t),s=this.toSeconds(e);return Fo(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",t,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(t,e){let n=this._fromType(t);n=_a(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(e);return Fo(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",t,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(t,n+this.toSeconds(e)),this}linearRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(t,n+this.toSeconds(e)),this}targetRampTo(t,e,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(t,n,e),this}exponentialApproachValueAtTime(t,e,n){e=this.toSeconds(e),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(t,e,s),this.cancelAndHoldAtTime(e+.9*n),this.linearRampToValueAtTime(t,e+n),this}setTargetAtTime(t,e,n){const s=this._fromType(t);Fo(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(e);return this._assertRange(s),Fo(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(t)}, ${JSON.stringify(e)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",t,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(t,e,n,s=1){n=this.toSeconds(n),e=this.toSeconds(e);const i=this._fromType(t[0])*s;this.setValueAtTime(this._toType(i),e);const r=n/(t.length-1);for(let n=1;n<t.length;n++){const i=this._fromType(t[n])*s;this.linearRampToValueAtTime(this._toType(i),e+n*r)}return this}cancelScheduledValues(t){const e=this.toSeconds(t);return Fo(isFinite(e),`Invalid argument to cancelScheduledValues: ${JSON.stringify(t)}`),this._events.cancel(e),this._param.cancelScheduledValues(e),this.log(this.units,"cancelScheduledValues",e),this}cancelAndHoldAtTime(t){const e=this.toSeconds(t),n=this._fromType(this.getValueAtTime(e));Fo(isFinite(e),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(t)}`),this.log(this.units,"cancelAndHoldAtTime",e,"value="+n);const s=this._events.get(e),i=this._events.getAfter(e);return s&&_a(s.time,e)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(e),this._events.cancel(e+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),e):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),e)),this._events.add({time:e,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,e),this}rampTo(t,e=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(t,e,n):this.linearRampTo(t,e,n),this}apply(t){const e=this.context.currentTime;t.setValueAtTime(this.getValueAtTime(e),e);const n=this._events.get(e);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:e+2,r=(i-e)/10;for(let n=e;n<i;n+=r)t.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(e=>{"cancelScheduledValues"===e.type?t.cancelScheduledValues(e.time):"setTargetAtTime"===e.type?t.setTargetAtTime(e.value,e.time,e.constant):t[e.type](e.value,e.time)})),this}setParam(t){Fo(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const e=this.input;return e.disconnect(this._param),this.apply(t),this._param=t,e.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(t,e,n,s,i){return n+(e-n)*Math.exp(-(i-t)/s)}_linearInterpolate(t,e,n,s,i){return e+(i-t)/(n-t)*(s-e)}_exponentialInterpolate(t,e,n,s,i){return e*Math.pow(s/e,(i-t)/(n-t))}}class il extends el{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return $o(this.input)?ia(this.input)||this.input instanceof sl?1:this.input.numberOfInputs:0}get numberOfOutputs(){return $o(this.output)?this.output.numberOfOutputs:0}_isAudioNode(t){return $o(t)&&(t instanceof il||ra(t))}_getInternalNodes(){const t=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&t.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&t.push(this.output),t}_setChannelProperties(t){this._getInternalNodes().forEach((e=>{e.channelCount=t.channelCount,e.channelCountMode=t.channelCountMode,e.channelInterpretation=t.channelInterpretation}))}_getChannelProperties(){const t=this._getInternalNodes();Fo(t.length>0,"ToneAudioNode does not have any internal nodes");const e=t[0];return{channelCount:e.channelCount,channelCountMode:e.channelCountMode,channelInterpretation:e.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCount:t}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelCountMode:t}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(t){const e=this._getChannelProperties();this._setChannelProperties(Object.assign(e,{channelInterpretation:t}))}connect(t,e=0,n=0){return ol(this,t,e,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Uo("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(t,e=0,n=0){return al(this,t,e,n),this}chain(...t){return rl(this,...t),this}fan(...t){return t.forEach((t=>this.connect(t))),this}dispose(){return super.dispose(),$o(this.input)&&(this.input instanceof il?this.input.dispose():ra(this.input)&&this.input.disconnect()),$o(this.output)&&(this.output instanceof il?this.output.dispose():ra(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function rl(...t){const e=t.shift();t.reduce(((t,e)=>(t instanceof il?t.connect(e):ra(t)&&ol(t,e),e)),e)}function ol(t,e,n=0,s=0){for(Fo($o(t),"Cannot connect from undefined node"),Fo($o(e),"Cannot connect to undefined node"),(e instanceof il||ra(e))&&Fo(e.numberOfInputs>0,"Cannot connect to node with no inputs"),Fo(t.numberOfOutputs>0,"Cannot connect from node with no outputs");e instanceof il||e instanceof sl;)$o(e.input)&&(e=e.input);for(;t instanceof il;)$o(t.output)&&(t=t.output);ia(e)?t.connect(e,n):t.connect(e,n,s)}function al(t,e,n=0,s=0){if($o(e))for(;e instanceof il;)e=e.input;for(;!ra(t);)$o(t.output)&&(t=t.output);ia(e)?t.disconnect(e,n):ra(e)?t.disconnect(e,n,s):t.disconnect()}class ll extends il{constructor(){super(ha(ll.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const t=ha(ll.getDefaults(),arguments,["gain","units"]);this.gain=new sl({context:this.context,convert:t.convert,param:this._gainNode.gain,units:t.units,value:t.gain,minValue:t.minValue,maxValue:t.maxValue}),Aa(this,"gain")}static getDefaults(){return Object.assign(il.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class ul extends il{constructor(t){super(t),this.onended=Ma,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new ll({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(t){const e=this.toSeconds(t);return-1!==this._startTime&&e>=this._startTime&&(-1===this._stopTime||e<=this._stopTime)?"started":"stopped"},this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut,this._curve=t.curve,this.onended=t.onended}static getDefaults(){return Object.assign(il.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:Ma})}_startGain(t,e=1){Fo(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=t+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,t),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(e,t+n):this._gainNode.gain.exponentialApproachValueAtTime(e,t,n)):this._gainNode.gain.setValueAtTime(e,t),this}stop(t){return this.log("stop",t),this._stopGain(this.toSeconds(t)),this}_stopGain(t){Fo(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const e=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(t)+e,this._stopTime=Math.max(this._stopTime,this.context.currentTime),e>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,e,t):this._gainNode.gain.targetRampTo(0,e,t):(this._gainNode.gain.cancelAndHoldAtTime(t),this._gainNode.gain.setValueAtTime(0,t)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const t="exponential"===this._curve?2*e:0;this._stopSource(this.now()+t),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==Ma&&(this.onended(this),this.onended=Ma,!this.context.isOffline)){const t=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(t):setTimeout(t,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),Fo(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class cl extends ul{constructor(){super(ha(cl.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const t=ha(cl.getDefaults(),arguments,["offset"]);ol(this._source,this._gainNode),this.offset=new sl({context:this.context,convert:t.convert,param:this._source.offset,units:t.units,value:t.offset,minValue:t.minValue,maxValue:t.maxValue})}static getDefaults(){return Object.assign(ul.getDefaults(),{convert:!0,offset:1,units:"number"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._source.start(e),this}_stopSource(t){this._source.stop(t)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class hl extends il{constructor(){super(ha(hl.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const t=ha(hl.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new cl({context:this.context,convert:t.convert,offset:t.value,units:t.units,minValue:t.minValue,maxValue:t.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(il.getDefaults(),{convert:!0,units:"number",value:0})}connect(t,e=0,n=0){return dl(this,t,e,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(t,e){return this._param.setValueAtTime(t,e),this}getValueAtTime(t){return this._param.getValueAtTime(t)}setRampPoint(t){return this._param.setRampPoint(t),this}linearRampToValueAtTime(t,e){return this._param.linearRampToValueAtTime(t,e),this}exponentialRampToValueAtTime(t,e){return this._param.exponentialRampToValueAtTime(t,e),this}exponentialRampTo(t,e,n){return this._param.exponentialRampTo(t,e,n),this}linearRampTo(t,e,n){return this._param.linearRampTo(t,e,n),this}targetRampTo(t,e,n){return this._param.targetRampTo(t,e,n),this}exponentialApproachValueAtTime(t,e,n){return this._param.exponentialApproachValueAtTime(t,e,n),this}setTargetAtTime(t,e,n){return this._param.setTargetAtTime(t,e,n),this}setValueCurveAtTime(t,e,n,s){return this._param.setValueCurveAtTime(t,e,n,s),this}cancelScheduledValues(t){return this._param.cancelScheduledValues(t),this}cancelAndHoldAtTime(t){return this._param.cancelAndHoldAtTime(t),this}rampTo(t,e,n){return this._param.rampTo(t,e,n),this}get value(){return this._param.value}set value(t){this._param.value=t}get convert(){return this._param.convert}set convert(t){this._param.convert=t}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(t){this._param.overridden=t}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(t){return this._param.apply(t),this}}function dl(t,e,n,s){(e instanceof sl||ia(e)||e instanceof hl&&e.override)&&(e.cancelScheduledValues(0),e.setValueAtTime(0,0),e instanceof hl&&(e.overridden=!0)),ol(t,e,n,s)}class pl extends sl{constructor(){super(ha(pl.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new wa(1/0),this._multiplier=1;const t=ha(pl.getDefaults(),arguments,["value"]);this._multiplier=t.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(t.value)}),this.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(sl.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(t,e,n){e=this.toSeconds(e),this.setRampPoint(e);const s=this._fromType(t),i=this._events.get(e),r=Math.round(Math.max(1/n,1));for(let t=0;t<=r;t++){const r=n*t+e,o=this._exponentialApproach(i.time,i.value,s,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}setValueAtTime(t,e){const n=this.toSeconds(e);super.setValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(t,e){const n=this.toSeconds(e);super.linearRampToValueAtTime(t,e);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(t,e){e=this.toSeconds(e);const n=this._fromType(t),s=this._events.get(e),i=Math.round(Math.max(10*(e-s.time),1)),r=(e-s.time)/i;for(let t=0;t<=i;t++){const i=r*t+s.time,o=this._exponentialInterpolate(s.time,s.value,e,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(t,e){if(null===t)t={ticks:0,time:0,type:"setValueAtTime",value:0};else if(Wo(t.ticks)){const e=this._events.previousEvent(t);t.ticks=this._getTicksUntilEvent(e,t.time)}const n=this._fromType(this.getValueAtTime(t.time));let s=this._fromType(this.getValueAtTime(e));const i=this._events.get(e);return i&&i.time===e&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(e-this.sampleTime))),.5*(e-t.time)*(n+s)+t.ticks}getTicksAtTime(t){const e=this.toSeconds(t),n=this._events.get(e);return Math.max(this._getTicksUntilEvent(n,e),0)}getDurationOfTicks(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(e);return this.getTimeOfTick(s+t)-n}getTimeOfTick(t){const e=this._events.get(t,"ticks"),n=this._events.getAfter(t,"ticks");if(e&&e.ticks===t)return e.time;if(e&&n&&"linearRampToValueAtTime"===n.type&&e.value!==n.value){const s=this._fromType(this.getValueAtTime(e.time)),i=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-e.time),r=Math.sqrt(Math.pow(s,2)-2*i*(e.ticks-t)),o=(-s+r)/i,a=(-s-r)/i;return(o>0?o:a)+e.time}return e?0===e.value?1/0:e.time+(t-e.ticks)/e.value:t/this._initialValue}ticksToTime(t,e){return this.getDurationOfTicks(t,e)}timeToTicks(t,e){const n=this.toSeconds(e),s=this.toSeconds(t),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-i}_fromType(t){return"bpm"===this.units&&this.multiplier?1/(60/t/this.multiplier):super._fromType(t)}_toType(t){return"bpm"===this.units&&this.multiplier?t/this.multiplier*60:super._toType(t)}get multiplier(){return this._multiplier}set multiplier(t){const e=this.value;this._multiplier=t,this.cancelScheduledValues(0),this.setValueAtTime(e,0)}}class fl extends hl{constructor(){super(ha(fl.getDefaults(),arguments,["value"])),this.name="TickSignal";const t=ha(fl.getDefaults(),arguments,["value"]);this.input=this._param=new pl({context:this.context,convert:t.convert,multiplier:t.multiplier,param:this._constantSource.offset,units:t.units,value:t.value})}static getDefaults(){return Object.assign(hl.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(t,e){return this._param.ticksToTime(t,e)}timeToTicks(t,e){return this._param.timeToTicks(t,e)}getTimeOfTick(t){return this._param.getTimeOfTick(t)}getDurationOfTicks(t,e){return this._param.getDurationOfTicks(t,e)}getTicksAtTime(t){return this._param.getTicksAtTime(t)}get multiplier(){return this._param.multiplier}set multiplier(t){this._param.multiplier=t}dispose(){return super.dispose(),this._param.dispose(),this}}class ml extends el{constructor(){super(ha(ml.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new nl,this._tickOffset=new wa;const t=ha(ml.getDefaults(),arguments,["frequency"]);this.frequency=new fl({context:this.context,units:t.units,value:t.frequency}),Aa(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},el.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(t,e){const n=this.toSeconds(t);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),$o(e)&&this.setTicksAtTime(e,n)),this}stop(t){const e=this.toSeconds(t);if("stopped"===this._state.getValueAtTime(e)){const t=this._state.get(e);t&&t.time>0&&(this._tickOffset.cancel(t.time),this._state.cancel(t.time))}return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this.setTicksAtTime(0,e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&this._state.setStateAtTime("paused",e),this}cancel(t){return t=this.toSeconds(t),this._state.cancel(t),this._tickOffset.cancel(t),this}getTicksAtTime(t){const e=this.toSeconds(t),n=this._state.getLastState("stopped",e),s={state:"paused",time:e};this._state.add(s);let i=n,r=0;return this._state.forEachBetween(n.time,e+this.sampleTime,(t=>{let e=i.time;const n=this._tickOffset.get(t.time);n&&n.time>=i.time&&(r=n.ticks,e=n.time),"started"===i.state&&"started"!==t.state&&(r+=this.frequency.getTicksAtTime(t.time)-this.frequency.getTicksAtTime(e)),i=t})),this._state.remove(s),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(t){this.setTicksAtTime(t,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(t){const e=this.now(),n=this.frequency.timeToTicks(t,e);this.setTicksAtTime(n,e)}getSecondsAtTime(t){t=this.toSeconds(t);const e=this._state.getLastState("stopped",t),n={state:"paused",time:t};this._state.add(n);let s=e,i=0;return this._state.forEachBetween(e.time,t+this.sampleTime,(t=>{let e=s.time;const n=this._tickOffset.get(t.time);n&&n.time>=s.time&&(i=n.seconds,e=n.time),"started"===s.state&&"started"!==t.state&&(i+=t.time-e),s=t})),this._state.remove(n),i}setTicksAtTime(t,e){return e=this.toSeconds(e),this._tickOffset.cancel(e),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(t,e),ticks:t,time:e}),this}getStateAtTime(t){return t=this.toSeconds(t),this._state.getValueAtTime(t)}getTimeOfTick(t,e=this.now()){const n=this._tickOffset.get(e),s=this._state.get(e),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+t-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(t,e,n){let s=this._state.get(t);this._state.forEachBetween(t,e,(e=>{s&&"started"===s.state&&"started"!==e.state&&this.forEachTickBetween(Math.max(s.time,t),e.time-this.sampleTime,n),s=e}));let i=null;if(s&&"started"===s.state){const r=Math.max(s.time,t),o=this.frequency.getTicksAtTime(r),a=o-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(a)-a;l=_a(l,1)?0:l;let u=this.frequency.getTimeOfTick(o+l);for(;u<e;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(t){i=t;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class gl extends el{constructor(){super(ha(gl.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=Ma,this._lastUpdate=0,this._state=new nl("stopped"),this._boundLoop=this._loop.bind(this);const t=ha(gl.getDefaults(),arguments,["callback","frequency"]);this.callback=t.callback,this._tickSource=new ml({context:this.context,frequency:t.frequency,units:t.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,Aa(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(el.getDefaults(),{callback:Ma,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(t,e){Vo(this.context);const n=this.toSeconds(t);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,e),n<this._lastUpdate&&this.emit("start",n,e)),this}stop(t){const e=this.toSeconds(t);return this.log("stop",e),this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._tickSource.stop(e),e<this._lastUpdate&&this.emit("stop",e),this}pause(t){const e=this.toSeconds(t);return"started"===this._state.getValueAtTime(e)&&(this._state.setStateAtTime("paused",e),this._tickSource.pause(e),e<this._lastUpdate&&this.emit("pause",e)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(t){this._tickSource.ticks=t}get seconds(){return this._tickSource.seconds}set seconds(t){this._tickSource.seconds=t}getSecondsAtTime(t){return this._tickSource.getSecondsAtTime(t)}setTicksAtTime(t,e){return this._tickSource.setTicksAtTime(t,e),this}getTimeOfTick(t,e=this.now()){return this._tickSource.getTimeOfTick(t,e)}getTicksAtTime(t){return this._tickSource.getTicksAtTime(t)}nextTickTime(t,e){const n=this.toSeconds(e),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+t,n)}_loop(){const t=this._lastUpdate,e=this.now();this._lastUpdate=e,this.log("loop",t,e),t!==e&&(this._state.forEachBetween(t,e,(t=>{switch(t.state){case"started":const e=this._tickSource.getTicksAtTime(t.time);this.emit("start",t.time,e);break;case"stopped":0!==t.time&&this.emit("stop",t.time);break;case"paused":this.emit("pause",t.time)}})),this._tickSource.forEachTickBetween(t,e,((t,e)=>{this.callback(t,e)})))}getStateAtTime(t){const e=this.toSeconds(t);return this._state.getValueAtTime(e)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}Ca.mixin(gl);class yl extends il{constructor(){super(ha(yl.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const t=ha(yl.getDefaults(),arguments,["delayTime","maxDelay"]),e=this.toSeconds(t.maxDelay);this._maxDelay=Math.max(e,this.toSeconds(t.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(e),this.delayTime=new sl({context:this.context,param:this._delayNode.delayTime,units:"time",value:t.delayTime,minValue:0,maxValue:this.maxDelay}),Aa(this,"delayTime")}static getDefaults(){return Object.assign(il.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function vl(t,e,n=2,s=qa().sampleRate){return na(this,void 0,void 0,(function*(){const i=qa(),r=new Pa(n,e,s);Fa(r),yield t(r);const o=r.render();Fa(i);const a=yield o;return new Ra(a)}))}class _l extends fa{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const t=ha(_l.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=t.baseUrl,Object.keys(t.urls).forEach((e=>{this._loadingCount++;const n=t.urls[e];this.add(e,n,this._bufferLoaded.bind(this,t.onload),t.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:Ma,onload:Ma,urls:{}}}has(t){return this._buffers.has(t.toString())}get(t){return Fo(this.has(t),`ToneAudioBuffers has no buffer named: ${t}`),this._buffers.get(t.toString())}_bufferLoaded(t){this._loadingCount--,0===this._loadingCount&&t&&t()}get loaded(){return Array.from(this._buffers).every((([t,e])=>e.loaded))}add(t,e,n=Ma,s=Ma){return Zo(e)?this._buffers.set(t.toString(),new Ra(this.baseUrl+e,n,s)):this._buffers.set(t.toString(),new Ra(e,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((t=>t.dispose())),this._buffers.clear(),this}}class bl extends Xa{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(t){return Ua(super._frequencyToUnits(t))}_ticksToUnits(t){return Ua(super._ticksToUnits(t))}_beatsToUnits(t){return Ua(super._beatsToUnits(t))}_secondsToUnits(t){return Ua(super._secondsToUnits(t))}toMidi(){return this.valueOf()}toFrequency(){return $a(this.toMidi())}transpose(t){return new bl(this.context,this.toMidi()+t)}}function wl(t,e){return new bl(qa(),t,e)}class xl extends Ja{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(t){return this._getPPQ()*t}_secondsToUnits(t){return Math.floor(t/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(t){return t}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function kl(t,e){return new xl(qa(),t,e)}class Sl extends el{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new wa,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(t,e){return this._events.add({callback:t,time:this.toSeconds(e)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(t){return this._events.cancel(this.toSeconds(t)),this}_drawLoop(){const t=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=t;){const e=this._events.shift();e&&t-e.time<=this.expiration&&e.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}ka((t=>{t.draw=new Sl({context:t})})),Ta((t=>{t.draw.dispose()}));class Tl extends fa{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(t){Fo($o(t.time),"Events must have a time property"),Fo($o(t.duration),"Events must have a duration parameter"),t.time=t.time.valueOf();let e=new Cl(t.time,t.time+t.duration,t);for(null===this._root?this._root=e:this._root.insert(e),this._length++;null!==e;)e.updateHeight(),e.updateMax(),this._rebalance(e),e=e.parent;return this}remove(t){if(null!==this._root){const e=[];this._root.search(t.time,e);for(const n of e)if(n.event===t){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(t){return this.forEachFrom(t,(t=>this.remove(t))),this}_setRoot(t){this._root=t,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(t,e){null!==t.parent?(t.isLeftChild()?t.parent.left=e:t.parent.right=e,this._rebalance(t.parent)):this._setRoot(e)}_removeNode(t){if(null===t.left&&null===t.right)this._replaceNodeInParent(t,null);else if(null===t.right)this._replaceNodeInParent(t,t.left);else if(null===t.left)this._replaceNodeInParent(t,t.right);else{let e,n=null;if(t.getBalance()>0)if(null===t.left.right)e=t.left,e.right=t.right,n=e;else{for(e=t.left.right;null!==e.right;)e=e.right;e.parent&&(e.parent.right=e.left,n=e.parent,e.left=t.left,e.right=t.right)}else if(null===t.right.left)e=t.right,e.left=t.left,n=e;else{for(e=t.right.left;null!==e.left;)e=e.left;e.parent&&(e.parent.left=e.right,n=e.parent,e.left=t.left,e.right=t.right)}null!==t.parent?t.isLeftChild()?t.parent.left=e:t.parent.right=e:this._setRoot(e),n&&this._rebalance(n)}t.dispose()}_rotateLeft(t){const e=t.parent,n=t.isLeftChild(),s=t.right;s&&(t.right=s.left,s.left=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rotateRight(t){const e=t.parent,n=t.isLeftChild(),s=t.left;s&&(t.left=s.right,s.right=t),null!==e?n?e.left=s:e.right=s:this._setRoot(s)}_rebalance(t){const e=t.getBalance();e>1&&t.left?t.left.getBalance()<0?this._rotateLeft(t.left):this._rotateRight(t):e<-1&&t.right&&(t.right.getBalance()>0?this._rotateRight(t.right):this._rotateLeft(t))}get(t){if(null!==this._root){const e=[];if(this._root.search(t,e),e.length>0){let t=e[0];for(let n=1;n<e.length;n++)e[n].low>t.low&&(t=e[n]);return t.event}}return null}forEach(t){if(null!==this._root){const e=[];this._root.traverse((t=>e.push(t))),e.forEach((e=>{e.event&&t(e.event)}))}return this}forEachAtTime(t,e){if(null!==this._root){const n=[];this._root.search(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}forEachFrom(t,e){if(null!==this._root){const n=[];this._root.searchAfter(t,n),n.forEach((t=>{t.event&&e(t.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((t=>t.dispose())),this._root=null,this}}class Cl{constructor(t,e,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=t,this.high=e,this.max=this.high}insert(t){t.low<=this.low?null===this.left?this.left=t:this.left.insert(t):null===this.right?this.right=t:this.right.insert(t)}search(t,e){t>this.max||(null!==this.left&&this.left.search(t,e),this.low<=t&&this.high>t&&e.push(this),this.low>t||null!==this.right&&this.right.search(t,e))}searchAfter(t,e){this.low>=t&&(e.push(this),null!==this.left&&this.left.searchAfter(t,e)),null!==this.right&&this.right.searchAfter(t,e)}traverse(t){t(this),null!==this.left&&this.left.traverse(t),null!==this.right&&this.right.traverse(t)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let t=0;return null!==this.left&&null!==this.right?t=this.left.height-this.right.height:null!==this.left?t=this.left.height+1:null!==this.right&&(t=-(this.right.height+1)),t}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(t){this._left=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(t){this._right=t,null!==t&&(t.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class Ol extends il{constructor(){super(ha(Ol.getDefaults(),arguments,["volume"])),this.name="Volume";const t=ha(Ol.getDefaults(),arguments,["volume"]);this.input=this.output=new ll({context:this.context,gain:t.volume,units:"decibels"}),this.volume=this.output.gain,Aa(this,"volume"),this._unmutedVolume=t.volume,this.mute=t.mute}static getDefaults(){return Object.assign(il.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(t){!this.mute&&t?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!t&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class El extends il{constructor(){super(ha(El.getDefaults(),arguments)),this.name="Destination",this.input=new Ol({context:this.context}),this.output=new ll({context:this.context}),this.volume=this.input.volume;const t=ha(El.getDefaults(),arguments);rl(this.input,this.output,this.context.rawContext.destination),this.mute=t.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(il.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(t){this.input.mute=t}chain(...t){return this.input.disconnect(),t.unshift(this.input),t.push(this.output),rl(...t),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}ka((t=>{t.destination=new El({context:t})})),Ta((t=>{t.destination.dispose()}));class Al extends fa{constructor(t){super(),this.name="TimelineValue",this._timeline=new wa({memory:10}),this._initialValue=t}set(t,e){return this._timeline.add({value:t,time:e}),this}get(t){const e=this._timeline.get(t);return e?e.value:this._initialValue}}class Dl{constructor(t,e){this.id=Dl._eventId++;const n=Object.assign(Dl.getDefaults(),e);this.transport=t,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:Ma,once:!1,time:0}}invoke(t){this.callback&&(this.callback(t),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}Dl._eventId=0;class Ml extends Dl{constructor(t,e){super(t,e),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(Ml.getDefaults(),e);this.duration=new xl(t.context,n.duration).valueOf(),this._interval=new xl(t.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},Dl.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(t){this._createEvents(t),super.invoke(t)}_createEvents(t){const e=this.transport.getTicksAtTime(t);e>=this.time&&e>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xl(this.context,this._nextTick).toSeconds()))}_restart(t){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const e=this.transport.getTicksAtTime(t);e>this.time&&(this._nextTick=this.time+Math.ceil((e-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new xl(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new xl(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class Rl extends el{constructor(){super(ha(Rl.getDefaults(),arguments)),this.name="Transport",this._loop=new Al(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new wa,this._repeatedEvents=new Tl,this._syncedSignals=[],this._swingAmount=0;const t=ha(Rl.getDefaults(),arguments);this._ppq=t.ppq,this._clock=new gl({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=t.ppq,this.bpm.setValueAtTime(t.bpm,0),Aa(this,"bpm"),this._timeSignature=t.timeSignature,this._swingTicks=t.ppq/2}static getDefaults(){return Object.assign(el.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(t,e){if(this._loop.get(t)&&e>=this._loopEnd&&(this.emit("loopEnd",t),this._clock.setTicksAtTime(this._loopStart,t),e=this._loopStart,this.emit("loopStart",t,this._clock.getSecondsAtTime(t)),this.emit("loop",t)),this._swingAmount>0&&e%this._ppq!=0&&e%(2*this._swingTicks)!=0){const n=e%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;t+=new xl(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(e,(e=>e.invoke(t)))}schedule(t,e){const n=new Dl(this,{callback:t,time:new Ja(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(t,e,n,s=1/0){const i=new Ml(this,{callback:t,duration:new Qa(this.context,s).toTicks(),interval:new Qa(this.context,e).toTicks(),time:new Ja(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(t,e){const n=new Dl(this,{callback:t,once:!0,time:new Ja(this.context,e).toTicks()});return this._addEvent(n,this._timeline)}clear(t){if(this._scheduledEvents.hasOwnProperty(t)){const e=this._scheduledEvents[t.toString()];e.timeline.remove(e.event),e.event.dispose(),delete this._scheduledEvents[t.toString()]}return this}_addEvent(t,e){return this._scheduledEvents[t.id.toString()]={event:t,timeline:e},e.add(t),t.id}cancel(t=0){const e=this.toTicks(t);return this._timeline.forEachFrom(e,(t=>this.clear(t.id))),this._repeatedEvents.forEachFrom(e,(t=>this.clear(t.id))),this}_bindClockEvents(){this._clock.on("start",((t,e)=>{e=new xl(this.context,e).toSeconds(),this.emit("start",t,e)})),this._clock.on("stop",(t=>{this.emit("stop",t)})),this._clock.on("pause",(t=>{this.emit("pause",t)}))}get state(){return this._clock.getStateAtTime(this.now())}start(t,e){let n;return $o(e)&&(n=this.toTicks(e)),this._clock.start(t,n),this}stop(t){return this._clock.stop(t),this}pause(t){return this._clock.pause(t),this}toggle(t){return t=this.toSeconds(t),"started"!==this._clock.getStateAtTime(t)?this.start(t):this.stop(t),this}get timeSignature(){return this._timeSignature}set timeSignature(t){Yo(t)&&(t=t[0]/t[1]*4),this._timeSignature=t}get loopStart(){return new Qa(this.context,this._loopStart,"i").toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t)}get loopEnd(){return new Qa(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t)}get loop(){return this._loop.get(this.now())}set loop(t){this._loop.set(t,this.now())}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get swing(){return this._swingAmount}set swing(t){this._swingAmount=t}get swingSubdivision(){return new xl(this.context,this._swingTicks).toNotation()}set swingSubdivision(t){this._swingTicks=this.toTicks(t)}get position(){const t=this.now(),e=this._clock.getTicksAtTime(t);return new xl(this.context,e).toBarsBeatsSixteenths()}set position(t){const e=this.toTicks(t);this.ticks=e}get seconds(){return this._clock.seconds}set seconds(t){const e=this.now(),n=this._clock.frequency.timeToTicks(t,e);this.ticks=n}get progress(){if(this.loop){const t=this.now();return(this._clock.getTicksAtTime(t)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(t){if(this._clock.ticks!==t){const e=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(e),s=e+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,e);this.emit("stop",s),this._clock.setTicksAtTime(t,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(t,e)}}getTicksAtTime(t){return Math.round(this._clock.getTicksAtTime(t))}getSecondsAtTime(t){return this._clock.getSecondsAtTime(t)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(t){this._clock.frequency.multiplier=t}nextSubdivision(t){if(t=this.toTicks(t),"started"!==this.state)return 0;{const e=this.now(),n=t-this.getTicksAtTime(e)%t;return this._clock.nextTickTime(n,e)}}syncSignal(t,e){if(!e){const n=this.now();if(0!==t.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);e=t.getValueAtTime(n)/s}else e=0}const n=new ll(e);return this.bpm.connect(n),n.connect(t._param),this._syncedSignals.push({initial:t.value,ratio:n,signal:t}),t.value=0,this}unsyncSignal(t){for(let e=this._syncedSignals.length-1;e>=0;e--){const n=this._syncedSignals[e];n.signal===t&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(e,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),Da(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}Ca.mixin(Rl),ka((t=>{t.transport=new Rl({context:t})})),Ta((t=>{t.transport.dispose()}));class Pl extends il{constructor(t){super(t),this.input=void 0,this._state=new nl("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=Ma,this._syncedStop=Ma,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new Ol({context:this.context,mute:t.mute,volume:t.volume}),this.volume=this._volume.volume,Aa(this,"volume"),this.onstop=t.onstop}static getDefaults(){return Object.assign(il.getDefaults(),{mute:!1,onstop:Ma,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}_clampToCurrentTime(t){return this._synced?t:Math.max(t,this.context.currentTime)}start(t,e,n){let s=Wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const t=this._state.get(s);t&&(t.offset=this.toSeconds(da(e,0)),t.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((t=>{this._start(t,e,n)}),s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else Vo(this.context),this._start(s,e,n);else Fo(ga(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,e,n);return this}stop(t){let e=Wo(t)&&this._synced?this.context.transport.seconds:this.toSeconds(t);if(e=this._clampToCurrentTime(e),"started"===this._state.getValueAtTime(e)||$o(this._state.getNextState("started",e))){if(this.log("stop",e),this._synced){const t=this.context.transport.schedule(this._stop.bind(this),e);this._scheduled.push(t)}else this._stop(e);this._state.cancel(e),this._state.setStateAtTime("stopped",e)}return this}restart(t,e,n){return t=this.toSeconds(t),"started"===this._state.getValueAtTime(t)&&(this._state.cancel(t),this._restart(t,e,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(t,e)=>{if(e>0){const n=this._state.get(e);if(n&&"started"===n.state&&n.time!==e){const s=e-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(t,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=t=>{const e=this.context.transport.getSecondsAtTime(Math.max(t-this.sampleTime,0));"started"===this._state.getValueAtTime(e)&&this._stop(t)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((t=>this.context.transport.clear(t))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=Ma,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class Il extends ul{constructor(){super(ha(Il.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const t=ha(Il.getDefaults(),arguments,["url","onload"]);ol(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new sl({context:this.context,param:this._source.playbackRate,units:"positive",value:t.playbackRate}),this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this._buffer=new Ra(t.url,t.onload,t.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(ul.getDefaults(),{url:new Ra,loop:!1,loopEnd:0,loopStart:0,onload:Ma,onerror:Ma,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t}get curve(){return this._curve}set curve(t){this._curve=t}start(t,e,n,s=1){Fo(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(t);this._startGain(i,s),e=this.loop?da(e,this.loopStart):da(e,0);let r=Math.max(this.toSeconds(e),0);if(this.loop){const t=this.toSeconds(this.loopEnd)||this.buffer.duration,e=this.toSeconds(this.loopStart),n=t-e;ya(r,t)&&(r=(r-e)%n+e),_a(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,va(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),$o(n)){let t=this.toSeconds(n);t=Math.max(t,0),this.stop(i+t)}return this}_stopSource(t){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(t)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(t){this._source.loopStart=this.toSeconds(t)}get loopEnd(){return this._source.loopEnd}set loopEnd(t){this._source.loopEnd=this.toSeconds(t)}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._source.loop}set loop(t){this._source.loop=t,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class Nl extends Pl{constructor(){super(ha(Nl.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const t=ha(Nl.getDefaults(),arguments,["type"]);this._playbackRate=t.playbackRate,this.type=t.type,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Pl.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(t){if(Fo(t in jl,"Noise: invalid type: "+t),this._type!==t&&(this._type=t,"started"===this.state)){const t=this.now();this._stop(t),this._start(t)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._source&&(this._source.playbackRate.value=t)}_start(t){const e=jl[this._type];this._source=new Il({url:e,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(t),Math.random()*(e.duration-.001))}_stop(t){this._source&&(this._source.stop(this.toSeconds(t)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(t){this._stop(t),this._start(t)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const ql=220500,Fl={brown:null,pink:null,white:null},jl={get brown(){if(!Fl.brown){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(ql);t[e]=n;let s=0;for(let t=0;t<ql;t++){const e=2*Math.random()-1;n[t]=(s+.02*e)/1.02,s=n[t],n[t]*=3.5}}Fl.brown=(new Ra).fromArray(t)}return Fl.brown},get pink(){if(!Fl.pink){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(ql);let s,i,r,o,a,l,u;t[e]=n,s=i=r=o=a=l=u=0;for(let t=0;t<ql;t++){const e=2*Math.random()-1;s=.99886*s+.0555179*e,i=.99332*i+.0750759*e,r=.969*r+.153852*e,o=.8665*o+.3104856*e,a=.55*a+.5329522*e,l=-.7616*l-.016898*e,n[t]=s+i+r+o+a+l+u+.5362*e,n[t]*=.11,u=.115926*e}}Fl.pink=(new Ra).fromArray(t)}return Fl.pink},get white(){if(!Fl.white){const t=[];for(let e=0;e<2;e++){const n=new Float32Array(ql);t[e]=n;for(let t=0;t<ql;t++)n[t]=2*Math.random()-1}Fl.white=(new Ra).fromArray(t)}return Fl.white}};class Vl extends il{constructor(){super(ha(Vl.getDefaults(),arguments,["volume"])),this.name="UserMedia";const t=ha(Vl.getDefaults(),arguments,["volume"]);this._volume=this.output=new Ol({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Aa(this,"volume"),this.mute=t.mute}static getDefaults(){return Object.assign(il.getDefaults(),{mute:!1,volume:0})}open(t){return na(this,void 0,void 0,(function*(){Fo(Vl.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const e=yield Vl.enumerateDevices();Qo(t)?this._device=e[t]:(this._device=e.find((e=>e.label===t||e.deviceId===t)),!this._device&&e.length>0&&(this._device=e[0]),Fo($o(this._device),`No matching device ${t}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const t=this.context.createMediaStreamSource(s);ol(t,this.output),this._mediaStream=t}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((t=>{t.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return na(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((t=>"audioinput"===t.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return $o(navigator.mediaDevices)&&$o(navigator.mediaDevices.getUserMedia)}}function Ll(t,e){return na(this,void 0,void 0,(function*(){const n=e/t.context.sampleRate,s=new Pa(1,n,t.context.sampleRate);return new t.constructor(Object.assign(t.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)}))}class zl extends ul{constructor(){super(ha(zl.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const t=ha(zl.getDefaults(),arguments,["frequency","type"]);ol(this._oscillator,this._gainNode),this.type=t.type,this.frequency=new sl({context:this.context,param:this._oscillator.frequency,units:"frequency",value:t.frequency}),this.detune=new sl({context:this.context,param:this._oscillator.detune,units:"cents",value:t.detune}),Aa(this,["frequency","detune"])}static getDefaults(){return Object.assign(ul.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(t){const e=this.toSeconds(t);return this.log("start",e),this._startGain(e),this._oscillator.start(e),this}_stopSource(t){this._oscillator.stop(t)}setPeriodicWave(t){return this._oscillator.setPeriodicWave(t),this}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Bl extends Pl{constructor(){super(ha(Bl.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const t=ha(Bl.getDefaults(),arguments,["frequency","type"]);this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency}),Aa(this,"frequency"),this.detune=new hl({context:this.context,units:"cents",value:t.detune}),Aa(this,"detune"),this._partials=t.partials,this._partialCount=t.partialCount,this._type=t.type,t.partialCount&&"custom"!==t.type&&(this._type=this.baseType+t.partialCount.toString()),this.phase=t.phase}static getDefaults(){return Object.assign(Pl.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(t){const e=this.toSeconds(t),n=new zl({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(e)}_stop(t){const e=this.toSeconds(t);this._oscillator&&this._oscillator.stop(e)}_restart(t){const e=this.toSeconds(t);return this.log("restart",e),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(e),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Bl._periodicWaveCache.find((t=>{return t.phase===this._phase&&(e=t.partials,n=this._partials,e.length===n.length&&e.every(((t,e)=>n[e]===t)));var e,n}));{const t=Bl._periodicWaveCache.find((t=>t.type===this._type&&t.phase===this._phase));return this._partialCount=t?t.partialCount:this._partialCount,t}}get type(){return this._type}set type(t){this._type=t;const e=-1!==["sine","square","sawtooth","triangle"].indexOf(t);if(0===this._phase&&e)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=t);else{const e=this._getCachedPeriodicWave();if($o(e)){const{partials:t,wave:n}=e;this._wave=n,this._partials=t,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[e,n]=this._getRealImaginary(t,this._phase),s=this.context.createPeriodicWave(e,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Bl._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:e,type:this._type,wave:this._wave}),Bl._periodicWaveCache.length>100&&Bl._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(t){this.partialCount&&"custom"!==this._type&&"custom"!==t?this.type=t+this.partialCount:this.type=t}get partialCount(){return this._partialCount}set partialCount(t){jo(t,0);let e=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(e=n[1]),"custom"!==this._type)this.type=0===t?e:e+t.toString();else{const e=new Float32Array(t);this._partials.forEach(((t,n)=>e[n]=t)),this._partials=Array.from(e),this.type=this._type}}_getRealImaginary(t,e){let n=2048;const s=new Float32Array(n),i=new Float32Array(n);let r=1;if("custom"===t){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[s,i]}else{const e=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(t);e?(r=parseInt(e[2],10)+1,this._partialCount=parseInt(e[2],10),t=e[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(t){case"sine":a=o<=r?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+t)}0!==a?(s[o]=-a*Math.sin(e*o),i[o]=a*Math.cos(e*o)):(s[o]=0,i[o]=0)}return[s,i]}_inverseFFT(t,e,n){let s=0;const i=t.length;for(let r=0;r<i;r++)s+=t[r]*Math.cos(r*n)+e[r]*Math.sin(r*n);return s}getInitialValue(){const[t,e]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(t,e,i/32*s),n);return ba(-this._inverseFFT(t,e,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(t){this._phase=t*Math.PI/180,this.type=this._type}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Bl._periodicWaveCache=[];class Ul extends il{constructor(){super(Object.assign(ha(Ul.getDefaults(),arguments,["context"])))}connect(t,e=0,n=0){return dl(this,t,e,n),this}}class Wl extends Ul{constructor(){super(Object.assign(ha(Wl.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const t=ha(Wl.getDefaults(),arguments,["mapping","length"]);Yo(t.mapping)||t.mapping instanceof Float32Array?this.curve=Float32Array.from(t.mapping):Ho(t.mapping)&&this.setMap(t.mapping,t.length)}static getDefaults(){return Object.assign(hl.getDefaults(),{length:1024})}setMap(t,e=1024){const n=new Float32Array(e);for(let s=0,i=e;s<i;s++){const e=s/(i-1)*2-1;n[s]=t(e,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(t){this._shaper.curve=t}get oversample(){return this._shaper.oversample}set oversample(t){Fo(["none","2x","4x"].some((e=>e.includes(t))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class $l extends Ul{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Wl({context:this.context,mapping:t=>(t+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Hl extends hl{constructor(){super(Object.assign(ha(Hl.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const t=ha(Hl.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new ll({context:this.context,minValue:t.minValue,maxValue:t.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(t.value,0)}static getDefaults(){return Object.assign(hl.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Ql extends Pl{constructor(){super(ha(Ql.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new $l({context:this.context}),this._modulationNode=new ll({context:this.context});const t=ha(Ql.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Bl({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Hl({context:this.context,units:"positive",value:t.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),Aa(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bl.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){this._modulator.restart(t),this._carrier.restart(t)}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Gl extends Pl{constructor(){super(ha(Gl.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new ll({context:this.context,gain:0});const t=ha(Gl.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Bl({context:this.context,detune:t.detune,frequency:0,onstop:()=>this.onstop(this),phase:t.phase,type:t.type}),this.detune=this._carrier.detune,this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency}),this._modulator=new Bl({context:this.context,phase:t.phase,type:t.modulationType}),this.harmonicity=new Hl({context:this.context,units:"positive",value:t.harmonicity}),this.modulationIndex=new Hl({context:this.context,units:"positive",value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),Aa(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Bl.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(t){this._modulator.start(t),this._carrier.start(t)}_stop(t){this._modulator.stop(t),this._carrier.stop(t)}_restart(t){return this._modulator.restart(t),this._carrier.restart(t),this}get type(){return this._carrier.type}set type(t){this._carrier.type=t}get baseType(){return this._carrier.baseType}set baseType(t){this._carrier.baseType=t}get partialCount(){return this._carrier.partialCount}set partialCount(t){this._carrier.partialCount=t}get modulationType(){return this._modulator.type}set modulationType(t){this._modulator.type=t}get phase(){return this._carrier.phase}set phase(t){this._carrier.phase=t,this._modulator.phase=t}get partials(){return this._carrier.partials}set partials(t){this._carrier.partials=t}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Xl extends Pl{constructor(){super(ha(Xl.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new ll({context:this.context,gain:0}),this._thresh=new Wl({context:this.context,mapping:t=>t<=0?-1:1});const t=ha(Xl.getDefaults(),arguments,["frequency","width"]);this.width=new hl({context:this.context,units:"audioRange",value:t.width}),this._triangle=new Bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),Aa(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(Pl.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(t){t=this.toSeconds(t),this._triangle.start(t),this._widthGate.gain.setValueAtTime(1,t)}_stop(t){t=this.toSeconds(t),this._triangle.stop(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(0,t)}_restart(t){this._triangle.restart(t),this._widthGate.gain.cancelScheduledValues(t),this._widthGate.gain.setValueAtTime(1,t)}get phase(){return this._triangle.phase}set phase(t){this._triangle.phase=t}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(t){this._triangle.type=t}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Yl extends Pl{constructor(){super(ha(Yl.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const t=ha(Yl.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency}),this.detune=new hl({context:this.context,units:"cents",value:t.detune}),this._spread=t.spread,this._type=t.type,this._phase=t.phase,this._partials=t.partials,this._partialCount=t.partialCount,this.count=t.count,Aa(this,["frequency","detune"])}static getDefaults(){return Object.assign(Bl.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(t){t=this.toSeconds(t),this._forEach((e=>e.start(t)))}_stop(t){t=this.toSeconds(t),this._forEach((e=>e.stop(t)))}_restart(t){this._forEach((e=>e.restart(t)))}_forEach(t){for(let e=0;e<this._oscillators.length;e++)t(this._oscillators[e],e)}get type(){return this._type}set type(t){this._type=t,this._forEach((e=>e.type=t))}get spread(){return this._spread}set spread(t){if(this._spread=t,this._oscillators.length>1){const e=-t/2,n=t/(this._oscillators.length-1);this._forEach(((t,s)=>t.detune.value=e+n*s))}}get count(){return this._oscillators.length}set count(t){if(jo(t,1),this._oscillators.length!==t){this._forEach((t=>t.dispose())),this._oscillators=[];for(let e=0;e<t;e++){const n=new Bl({context:this.context,volume:-6-1.1*t,type:this._type,phase:this._phase+e/t*360,partialCount:this._partialCount,onstop:0===e?()=>this.onstop(this):Ma});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[e]=n}this.spread=this._spread,"started"===this.state&&this._forEach((t=>t.start()))}}get phase(){return this._phase}set phase(t){this._phase=t,this._forEach(((t,e)=>t.phase=this._phase+e/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(t){this._forEach((e=>e.baseType=t)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(t){this._partials=t,this._partialCount=this._partials.length,t.length&&(this._type="custom",this._forEach((e=>e.partials=t)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(t){this._partialCount=t,this._forEach((e=>e.partialCount=t)),this._type=this._oscillators[0].type}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((t=>t.dispose())),this}}class Zl extends Pl{constructor(){super(ha(Zl.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Hl({context:this.context,value:2});const t=ha(Zl.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Xl({context:this.context,frequency:t.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Bl({context:this.context,detune:t.detune,frequency:t.frequency,onstop:()=>this.onstop(this),phase:t.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),Aa(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(Pl.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(t){t=this.toSeconds(t),this._modulator.start(t),this._pulse.start(t)}_stop(t){t=this.toSeconds(t),this._modulator.stop(t),this._pulse.stop(t)}_restart(t){this._modulator.restart(t),this._pulse.restart(t)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(t){this._modulator.phase=t}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Kl={am:Ql,fat:Yl,fm:Gl,oscillator:Bl,pulse:Xl,pwm:Zl};class Jl extends Pl{constructor(){super(ha(Jl.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const t=ha(Jl.getDefaults(),arguments,["frequency","type"]);this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency}),this.detune=new hl({context:this.context,units:"cents",value:t.detune}),Aa(this,["frequency","detune"]),this.set(t)}static getDefaults(){return Object.assign(Bl.getDefaults(),Gl.getDefaults(),Ql.getDefaults(),Yl.getDefaults(),Xl.getDefaults(),Zl.getDefaults())}_start(t){this._oscillator.start(t)}_stop(t){this._oscillator.stop(t)}_restart(t){return this._oscillator.restart(t),this}get type(){let t="";return["am","fm","fat"].some((t=>this._sourceType===t))&&(t=this._sourceType),t+this._oscillator.type}set type(t){"fm"===t.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"am"===t.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(2)):"fat"===t.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=t.substr(3)):"pwm"===t?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===t?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=t)}get partials(){return this._oscillator.partials}set partials(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=t)}get partialCount(){return this._oscillator.partialCount}set partialCount(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=t)}set(t){return Reflect.has(t,"type")&&t.type&&(this.type=t.type),super.set(t),this}_createNewOscillator(t){if(t!==this._sourceType){this._sourceType=t;const e=Kl[t],n=this.now();if(this._oscillator){const t=this._oscillator;t.stop(n),this.context.setTimeout((()=>t.dispose()),this.blockTime)}this._oscillator=new e({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t}get sourceType(){return this._sourceType}set sourceType(t){let e="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(e=this._oscillator.type),"fm"===t?this.type="fm"+e:"am"===t?this.type="am"+e:"fat"===t?this.type="fat"+e:"oscillator"===t?this.type=e:"pulse"===t?this.type="pulse":"pwm"===t&&(this.type="pwm")}_getOscType(t,e){return t instanceof Kl[e]}get baseType(){return this._oscillator.baseType}set baseType(t){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===t||"pwm"===t||(this._oscillator.baseType=t)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(t){this._getOscType(this._oscillator,"fat")&&Qo(t)&&(this._oscillator.count=t)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(t){this._getOscType(this._oscillator,"fat")&&Qo(t)&&(this._oscillator.spread=t)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(t){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&Zo(t)&&(this._oscillator.modulationType=t)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(t=1024){return na(this,void 0,void 0,(function*(){return Ll(this,t)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class tu extends hl{constructor(){super(Object.assign(ha(tu.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new ll({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,rl(this._constantSource,this._sum)}static getDefaults(){return Object.assign(hl.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class eu extends Ul{constructor(){super(Object.assign(ha(eu.getDefaults(),arguments,["min","max"]))),this.name="Scale";const t=ha(eu.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Hl({context:this.context,value:t.max-t.min}),this._add=this.output=new tu({context:this.context,value:t.min}),this._min=t.min,this._max=t.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Ul.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(t){this._min=t,this._setRange()}get max(){return this._max}set max(t){this._max=t,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class nu extends Ul{constructor(){super(Object.assign(ha(nu.getDefaults(),arguments))),this.name="Zero",this._gain=new ll({context:this.context}),this.output=this._gain,this.input=void 0,ol(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),al(this.context.getConstant(0),this._gain),this}}class su extends il{constructor(){super(ha(su.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=sl.prototype._fromType,this._toType=sl.prototype._toType,this._is=sl.prototype._is,this._clampValue=sl.prototype._clampValue;const t=ha(su.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Bl(t),this.frequency=this._oscillator.frequency,this._amplitudeGain=new ll({context:this.context,gain:t.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new hl({context:this.context,units:"audioRange",value:0}),this._zeros=new nu({context:this.context}),this._a2g=new $l({context:this.context}),this._scaler=this.output=new eu({context:this.context,max:t.max,min:t.min}),this.units=t.units,this.min=t.min,this.max=t.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),Aa(this,["amplitude","frequency"]),this.phase=t.phase}static getDefaults(){return Object.assign(Bl.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(0,t),this._oscillator.start(t),this}stop(t){return t=this.toSeconds(t),this._stoppedSignal.setValueAtTime(this._stoppedValue,t),this._oscillator.stop(t),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(t){t=this._fromType(t),this._scaler.min=t}get max(){return this._toType(this._scaler.max)}set max(t){t=this._fromType(t),this._scaler.max=t}get type(){return this._oscillator.type}set type(t){this._oscillator.type=t,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(t){this._oscillator.partials=t,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(t){this._oscillator.phase=t,this._setStoppedValue()}get units(){return this._units}set units(t){const e=this.min,n=this.max;this._units=t,this.min=e,this.max=n}get state(){return this._oscillator.state}connect(t,e,n){return(t instanceof sl||t instanceof hl)&&(this.convert=t.convert,this.units=t.units),dl(this,t,e,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function iu(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){jo(s,t,e),n.set(this,s)}})}}function ru(t,e=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){jo(this.toSeconds(s),t,e),n.set(this,s)}})}}class ou extends Pl{constructor(){super(ha(ou.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const t=ha(ou.getDefaults(),arguments,["url","onload"]);this._buffer=new Ra({onload:this._onload.bind(this,t.onload),onerror:t.onerror,reverse:t.reverse,url:t.url}),this.autostart=t.autostart,this._loop=t.loop,this._loopStart=t.loopStart,this._loopEnd=t.loopEnd,this._playbackRate=t.playbackRate,this.fadeIn=t.fadeIn,this.fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Pl.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:Ma,onerror:Ma,playbackRate:1,reverse:!1})}load(t){return na(this,void 0,void 0,(function*(){return yield this._buffer.load(t),this._onload(),this}))}_onload(t=Ma){t(),this.autostart&&this.start()}_onSourceEnd(t){this.onstop(this),this._activeSources.delete(t),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(t,e,n){return super.start(t,e,n),this}_start(t,e,n){e=this._loop?da(e,this._loopStart):da(e,0);const s=this.toSeconds(e),i=n;n=da(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,t=this.toSeconds(t);const o=new Il({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(t+r),this._state.setStateAtTime("stopped",t+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&Wo(i)?o.start(t,s):o.start(t,s,r-this.toSeconds(this.fadeOut))}_stop(t){const e=this.toSeconds(t);this._activeSources.forEach((t=>t.stop(e)))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}seek(t,e){const n=this.toSeconds(e);if("started"===this._state.getValueAtTime(n)){const e=this.toSeconds(t);this._stop(n),this._start(n,e)}return this}setLoopPoints(t,e){return this.loopStart=t,this.loopEnd=e,this}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this.buffer.loaded&&jo(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopStart=t}))}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this.buffer.loaded&&jo(this.toSeconds(t),0,this.buffer.duration),this._activeSources.forEach((e=>{e.loopEnd=t}))}get buffer(){return this._buffer}set buffer(t){this._buffer.set(t)}get loop(){return this._loop}set loop(t){if(this._loop!==t&&(this._loop=t,this._activeSources.forEach((e=>{e.loop=t})),t)){const t=this._state.getNextState("stopped",this.now());t&&this._state.cancel(t.time)}}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t;const e=this.now(),n=this._state.getNextState("stopped",e);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((t=>t.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(t,e)}))}get reverse(){return this._buffer.reverse}set reverse(t){this._buffer.reverse=t}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((t=>t.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}ea([ru(0)],ou.prototype,"fadeIn",void 0),ea([ru(0)],ou.prototype,"fadeOut",void 0);class au extends il{constructor(){super(ha(au.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const t=ha(au.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new Ol({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Aa(this,"volume"),this._buffers=new _l({urls:t.urls,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.mute=t.mute,this._fadeIn=t.fadeIn,this._fadeOut=t.fadeOut}static getDefaults(){return Object.assign(Pl.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:Ma,onerror:Ma,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}get fadeIn(){return this._fadeIn}set fadeIn(t){this._fadeIn=t,this._players.forEach((e=>{e.fadeIn=t}))}get fadeOut(){return this._fadeOut}set fadeOut(t){this._fadeOut=t,this._players.forEach((e=>{e.fadeOut=t}))}get state(){return Array.from(this._players).some((([t,e])=>"started"===e.state))?"started":"stopped"}has(t){return this._buffers.has(t)}player(t){if(Fo(this.has(t),`No Player with the name ${t} exists on this object`),!this._players.has(t)){const e=new ou({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(t)}).connect(this.output);this._players.set(t,e)}return this._players.get(t)}get loaded(){return this._buffers.loaded}add(t,e,n){return Fo(!this._buffers.has(t),"A buffer with that name already exists on this object"),this._buffers.add(t,e,n),this}stopAll(t){return this._players.forEach((e=>e.stop(t))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((t=>t.dispose())),this._buffers.dispose(),this}}class lu extends Pl{constructor(){super(ha(lu.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const t=ha(lu.getDefaults(),arguments,["url","onload"]);this.buffer=new Ra({onload:t.onload,onerror:t.onerror,reverse:t.reverse,url:t.url}),this._clock=new gl({context:this.context,callback:this._tick.bind(this),frequency:1/t.grainSize}),this._playbackRate=t.playbackRate,this._grainSize=t.grainSize,this._overlap=t.overlap,this.detune=t.detune,this.overlap=t.overlap,this.loop=t.loop,this.playbackRate=t.playbackRate,this.grainSize=t.grainSize,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.reverse=t.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(Pl.getDefaults(),{onload:Ma,onerror:Ma,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(t,e,n){e=da(e,0),e=this.toSeconds(e),t=this.toSeconds(t);const s=1/this._clock.frequency.getValueAtTime(t);this._clock.start(t,e/s),n&&this.stop(t+this.toSeconds(n))}restart(t,e,n){return super.restart(t,e,n),this}_restart(t,e,n){this._stop(t),this._start(t,e,n)}_stop(t){this._clock.stop(t)}_onstop(t){this._activeSources.forEach((e=>{e.fadeOut=0,e.stop(t)})),this.onstop(this)}_tick(t){const e=this._clock.getTicksAtTime(t),n=e*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(t);const s=n<this._overlap?0:this._overlap,i=new Il({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:za(this.detune/100)}).connect(this.output);i.start(t,this._grainSize*e),i.stop(t+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const t=this._activeSources.indexOf(i);-1!==t&&this._activeSources.splice(t,1)}}get playbackRate(){return this._playbackRate}set playbackRate(t){jo(t,.001),this._playbackRate=t,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(t){this.buffer.loaded&&jo(this.toSeconds(t),0,this.buffer.duration),this._loopStart=this.toSeconds(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this.buffer.loaded&&jo(this.toSeconds(t),0,this.buffer.duration),this._loopEnd=this.toSeconds(t)}get reverse(){return this.buffer.reverse}set reverse(t){this.buffer.reverse=t}get grainSize(){return this._grainSize}set grainSize(t){this._grainSize=this.toSeconds(t),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(t){const e=this.toSeconds(t);jo(e,0),this._overlap=e}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((t=>t.dispose())),this}}class uu extends Ul{constructor(){super(...arguments),this.name="Abs",this._abs=new Wl({context:this.context,mapping:t=>Math.abs(t)<.001?0:Math.abs(t)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class cu extends Ul{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Wl({context:this.context,mapping:t=>2*Math.abs(t)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class hu extends Ul{constructor(){super(...arguments),this.name="Negate",this._multiply=new Hl({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class du extends hl{constructor(){super(Object.assign(ha(du.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new ll({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new hu({context:this.context}),this.subtrahend=this._param,rl(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(hl.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class pu extends Ul{constructor(){super(Object.assign(ha(pu.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Wl({context:this.context,length:127,mapping:t=>t<=0?0:1}),this._scale=this.input=new Hl({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class fu extends hl{constructor(){super(Object.assign(ha(fu.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const t=ha(fu.getDefaults(),arguments,["value"]);this._subtract=this.input=new du({context:this.context,value:t.value}),this._gtz=this.output=new pu({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,Aa(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(hl.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class mu extends Ul{constructor(){super(Object.assign(ha(mu.getDefaults(),arguments,["value"]))),this.name="Pow";const t=ha(mu.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Wl({context:this.context,mapping:this._expFunc(t.value),length:8192}),this._exponent=t.value}static getDefaults(){return Object.assign(Ul.getDefaults(),{value:1})}_expFunc(t){return e=>Math.pow(Math.abs(e),t)}get value(){return this._exponent}set value(t){this._exponent=t,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class gu extends eu{constructor(){super(Object.assign(ha(gu.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const t=ha(gu.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new mu({context:this.context,value:t.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(eu.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(t){this._exp.value=t}dispose(){return super.dispose(),this._exp.dispose(),this}}class yu extends hl{constructor(){super(ha(hl.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const t=ha(hl.getDefaults(),arguments,["value","units"]);this._lastVal=t.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new cl({context:this.context,offset:t.value,units:t.units}).start(0),this.setValueAtTime(t.value,0)}_onTick(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==e&&(this._lastVal=e,this._constantSource.offset.setValueAtTime(e,t))}_anchorValue(t){const e=super.getValueAtTime(this.context.transport.seconds);this._lastVal=e,this._constantSource.offset.cancelAndHoldAtTime(t),this._constantSource.offset.setValueAtTime(e,t)}getValueAtTime(t){const e=new Ja(this.context,t).toSeconds();return super.getValueAtTime(e)}setValueAtTime(t,e){const n=new Ja(this.context,e).toSeconds();return super.setValueAtTime(t,n),this}linearRampToValueAtTime(t,e){const n=new Ja(this.context,e).toSeconds();return super.linearRampToValueAtTime(t,n),this}exponentialRampToValueAtTime(t,e){const n=new Ja(this.context,e).toSeconds();return super.exponentialRampToValueAtTime(t,n),this}setTargetAtTime(t,e,n){const s=new Ja(this.context,e).toSeconds();return super.setTargetAtTime(t,s,n),this}cancelScheduledValues(t){const e=new Ja(this.context,t).toSeconds();return super.cancelScheduledValues(e),this}setValueCurveAtTime(t,e,n,s){const i=new Ja(this.context,e).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(t,i,n,s),this}cancelAndHoldAtTime(t){const e=new Ja(this.context,t).toSeconds();return super.cancelAndHoldAtTime(e),this}setRampPoint(t){const e=new Ja(this.context,t).toSeconds();return super.setRampPoint(e),this}exponentialRampTo(t,e,n){const s=new Ja(this.context,n).toSeconds();return super.exponentialRampTo(t,e,s),this}linearRampTo(t,e,n){const s=new Ja(this.context,n).toSeconds();return super.linearRampTo(t,e,s),this}targetRampTo(t,e,n){const s=new Ja(this.context,n).toSeconds();return super.targetRampTo(t,e,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class vu extends il{constructor(){super(ha(vu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new hl({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const t=ha(vu.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=t.attack,this.decay=t.decay,this.sustain=t.sustain,this.release=t.release,this.attackCurve=t.attackCurve,this.releaseCurve=t.releaseCurve,this.decayCurve=t.decayCurve}static getDefaults(){return Object.assign(il.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(t,e){if(Zo(t))return t;{let n;for(n in _u)if(_u[n][e]===t)return n;return t}}_setCurve(t,e,n){if(Zo(n)&&Reflect.has(_u,n)){const s=_u[n];Go(s)?"_decayCurve"!==t&&(this[t]=s[e]):this[t]=s}else{if(!Yo(n)||"_decayCurve"===t)throw new Error("Envelope: invalid curve: "+n);this[t]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(t){this._setCurve("_attackCurve","In",t)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(t){this._setCurve("_releaseCurve","Out",t)}get decayCurve(){return this._decayCurve}set decayCurve(t){Fo(["linear","exponential"].some((e=>e===t)),`Invalid envelope curve: ${t}`),this._decayCurve=t}triggerAttack(t,e=1){this.log("triggerAttack",t,e),t=this.toSeconds(t);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(t);if(i>0&&(n=(1-i)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(t),this._sig.setValueAtTime(e,t);else if("linear"===this._attackCurve)this._sig.linearRampTo(e,n,t);else if("exponential"===this._attackCurve)this._sig.targetRampTo(e,n,t);else{this._sig.cancelAndHoldAtTime(t);let s=this._attackCurve;for(let t=1;t<s.length;t++)if(s[t-1]<=i&&i<=s[t]){s=this._attackCurve.slice(t),s[0]=i;break}this._sig.setValueCurveAtTime(s,t,n,e)}if(s&&this.sustain<1){const i=e*this.sustain,r=t+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,s+r):this._sig.exponentialApproachValueAtTime(i,r,s)}return this}triggerRelease(t){this.log("triggerRelease",t),t=this.toSeconds(t);const e=this.getValueAtTime(t);if(e>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,t):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,t):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,t):(Fo(Yo(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(t),this._sig.setValueCurveAtTime(this._releaseCurve,t,n,e))}return this}getValueAtTime(t){return this._sig.getValueAtTime(t)}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),this.triggerAttack(e,n),this.triggerRelease(e+this.toSeconds(t)),this}cancel(t){return this._sig.cancelScheduledValues(this.toSeconds(t)),this}connect(t,e=0,n=0){return dl(this,t,e,n),this}asArray(t=1024){return na(this,void 0,void 0,(function*(){const e=t/this.context.sampleRate,n=new Pa(1,e,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,o=i+r,a=new this.constructor(Object.assign(this.get(),{attack:e*this.toSeconds(this.attack)/o,decay:e*this.toSeconds(this.decay)/o,release:e*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(e*(s+r)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}ea([ru(0)],vu.prototype,"attack",void 0),ea([ru(0)],vu.prototype,"decay",void 0),ea([iu(0,1)],vu.prototype,"sustain",void 0),ea([ru(0)],vu.prototype,"release",void 0);const _u=(()=>{const t=128;let e,n;const s=[];for(e=0;e<t;e++)s[e]=Math.sin(e/127*(Math.PI/2));const i=[];for(e=0;e<127;e++){n=e/127;const t=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[e]=t/10+.83*n}i[127]=1;const r=[];for(e=0;e<t;e++)r[e]=Math.ceil(e/127*5)/5;const o=[];for(e=0;e<t;e++)n=e/127,o[e]=.5*(1-Math.cos(Math.PI*n));const a=[];for(e=0;e<t;e++){n=e/127;const t=4*Math.pow(n,3)+.2,s=Math.cos(t*Math.PI*2*n);a[e]=Math.abs(s*(1-n))}function l(t){const e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=1-t[n];return e}return{bounce:{In:l(a),Out:a},cosine:{In:s,Out:(u=s,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:r,Out:l(r)}};var u})();class bu extends il{constructor(){super(ha(bu.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const t=ha(bu.getDefaults(),arguments);this._volume=this.output=new Ol({context:this.context,volume:t.volume}),this.volume=this._volume.volume,Aa(this,"volume")}static getDefaults(){return Object.assign(il.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let t=!1;return this._synced||(this._synced=!0,t=!0),t}_syncMethod(t,e){const n=this["_original_"+t]=this[t];this[t]=(...t)=>{const s=t[e],i=this.context.transport.schedule((s=>{t[e]=s,n.apply(this,t)}),s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((t=>this.context.transport.clear(t))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n),r=this.toSeconds(e);return this.triggerAttack(t,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class wu extends bu{constructor(){super(ha(wu.getDefaults(),arguments));const t=ha(wu.getDefaults(),arguments);this.portamento=t.portamento,this.onsilence=t.onsilence}static getDefaults(){return Object.assign(bu.getDefaults(),{detune:0,onsilence:Ma,portamento:0})}triggerAttack(t,e,n=1){this.log("triggerAttack",t,e,n);const s=this.toSeconds(e);return this._triggerEnvelopeAttack(s,n),this.setNote(t,s),this}triggerRelease(t){this.log("triggerRelease",t);const e=this.toSeconds(t);return this._triggerEnvelopeRelease(e),this}setNote(t,e){const n=this.toSeconds(e),s=t instanceof Xa?t.toFrequency():t;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const t=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,t,n)}else this.frequency.setValueAtTime(s,n);return this}}ea([ru(0)],wu.prototype,"portamento",void 0);class xu extends vu{constructor(){super(ha(xu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new ll({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class ku extends wu{constructor(){super(ha(ku.getDefaults(),arguments)),this.name="Synth";const t=ha(ku.getDefaults(),arguments);this.oscillator=new Jl(Object.assign({context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)},t.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new xu(Object.assign({context:this.context},t.envelope)),this.oscillator.chain(this.envelope,this.output),Aa(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(wu.getDefaults(),{envelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(pa(Jl.getDefaults(),[...Object.keys(Pl.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(t,e){if(this.envelope.triggerAttack(t,e),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class Su extends wu{constructor(){super(ha(Su.getDefaults(),arguments)),this.name="ModulationSynth";const t=ha(Su.getDefaults(),arguments);this._carrier=new ku({context:this.context,oscillator:t.oscillator,envelope:t.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new ku({context:this.context,oscillator:t.modulation,envelope:t.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new hl({context:this.context,units:"frequency"}),this.detune=new hl({context:this.context,value:t.detune,units:"cents"}),this.harmonicity=new Hl({context:this.context,value:t.harmonicity,minValue:0}),this._modulationNode=new ll({context:this.context,gain:0}),Aa(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(wu.getDefaults(),{harmonicity:3,oscillator:Object.assign(pa(Jl.getDefaults(),[...Object.keys(Pl.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(pa(Jl.getDefaults(),[...Object.keys(Pl.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(t,e){this._carrier._triggerEnvelopeAttack(t,e),this._modulator._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this._carrier._triggerEnvelopeRelease(t),this._modulator._triggerEnvelopeRelease(t),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class Tu extends Su{constructor(){super(ha(Tu.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new $l({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class Cu extends il{constructor(){super(ha(Cu.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const t=ha(Cu.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new sl({context:this.context,units:"number",value:t.Q,param:this._filter.Q}),this.frequency=new sl({context:this.context,units:"frequency",value:t.frequency,param:this._filter.frequency}),this.detune=new sl({context:this.context,units:"cents",value:t.detune,param:this._filter.detune}),this.gain=new sl({context:this.context,units:"decibels",convert:!1,value:t.gain,param:this._filter.gain}),this.type=t.type}static getDefaults(){return Object.assign(il.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(t){Fo(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._filter.type=t}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class Ou extends il{constructor(){super(ha(Ou.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this._filters=[];const t=ha(Ou.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new hl({context:this.context,units:"positive",value:t.Q}),this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency}),this.detune=new hl({context:this.context,units:"cents",value:t.detune}),this.gain=new hl({context:this.context,units:"decibels",convert:!1,value:t.gain}),this._type=t.type,this.rolloff=t.rolloff,Aa(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(il.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(t){Fo(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(t),`Invalid filter type: ${t}`),this._type=t,this._filters.forEach((e=>e.type=t))}get rolloff(){return this._rolloff}set rolloff(t){const e=Qo(t)?t:parseInt(t,10),n=[-12,-24,-48,-96];let s=n.indexOf(e);Fo(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=e,this.input.disconnect(),this._filters.forEach((t=>t.disconnect())),this._filters=new Array(s);for(let t=0;t<s;t++){const e=new Cu({context:this.context});e.type=this._type,this.frequency.connect(e.frequency),this.detune.connect(e.detune),this.Q.connect(e.Q),this.gain.connect(e.gain),this._filters[t]=e}this._internalChannels=this._filters,rl(this.input,...this._internalChannels,this.output)}getFrequencyResponse(t=128){const e=new Cu({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(t).map((()=>1));return this._filters.forEach((()=>{e.getFrequencyResponse(t).forEach(((t,e)=>n[e]*=t))})),e.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((t=>{t.dispose()})),Da(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class Eu extends vu{constructor(){super(ha(Eu.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const t=ha(Eu.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=t.octaves,this._baseFrequency=this.toFrequency(t.baseFrequency),this._exponent=this.input=new mu({context:this.context,value:t.exponent}),this._scale=this.output=new eu({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(vu.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){const e=this.toFrequency(t);jo(e,0),this._baseFrequency=e,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._scale.max=this._baseFrequency*Math.pow(2,t)}get exponent(){return this._exponent.value}set exponent(t){this._exponent.value=t}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class Au extends wu{constructor(){super(ha(Au.getDefaults(),arguments)),this.name="MonoSynth";const t=ha(Au.getDefaults(),arguments);this.oscillator=new Jl(Object.assign(t.oscillator,{context:this.context,detune:t.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new Ou(Object.assign(t.filter,{context:this.context})),this.filterEnvelope=new Eu(Object.assign(t.filterEnvelope,{context:this.context})),this.envelope=new xu(Object.assign(t.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),Aa(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(wu.getDefaults(),{envelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(pa(Ou.getDefaults(),Object.keys(il.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(pa(Eu.getDefaults(),Object.keys(il.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(pa(Jl.getDefaults(),Object.keys(Pl.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(t,e=1){if(this.envelope.triggerAttack(t,e),this.filterEnvelope.triggerAttack(t),this.oscillator.start(t),0===this.envelope.sustain){const e=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(t+e+n)}}_triggerEnvelopeRelease(t){this.envelope.triggerRelease(t),this.filterEnvelope.triggerRelease(t),this.oscillator.stop(t+this.toSeconds(this.envelope.release))}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class Du extends wu{constructor(){super(ha(Du.getDefaults(),arguments)),this.name="DuoSynth";const t=ha(Du.getDefaults(),arguments);this.voice0=new Au(Object.assign(t.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new Au(Object.assign(t.voice1,{context:this.context})),this.harmonicity=new Hl({context:this.context,units:"positive",value:t.harmonicity}),this._vibrato=new su({frequency:t.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new ll({context:this.context,units:"normalRange",gain:t.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new hl({context:this.context,units:"frequency",value:440}),this.detune=new hl({context:this.context,units:"cents",value:t.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),Aa(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(t){return t=this.toSeconds(t),this.voice0.envelope.getValueAtTime(t)+this.voice1.envelope.getValueAtTime(t)}static getDefaults(){return ca(wu.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:ca(pa(Au.getDefaults(),Object.keys(wu.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:ca(pa(Au.getDefaults(),Object.keys(wu.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(t,e){this.voice0._triggerEnvelopeAttack(t,e),this.voice1._triggerEnvelopeAttack(t,e)}_triggerEnvelopeRelease(t){return this.voice0._triggerEnvelopeRelease(t),this.voice1._triggerEnvelopeRelease(t),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class Mu extends Su{constructor(){super(ha(Mu.getDefaults(),arguments)),this.name="FMSynth";const t=ha(Mu.getDefaults(),arguments);this.modulationIndex=new Hl({context:this.context,value:t.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(Su.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const Ru=[1,1.483,1.932,2.546,2.63,3.897];class Pu extends wu{constructor(){super(ha(Pu.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const t=ha(Pu.getDefaults(),arguments);this.detune=new hl({context:this.context,units:"cents",value:t.detune}),this.frequency=new hl({context:this.context,units:"frequency"}),this._amplitude=new ll({context:this.context,gain:0}).connect(this.output),this._highpass=new Ou({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let e=0;e<Ru.length;e++){const n=new Gl({context:this.context,harmonicity:t.harmonicity,modulationIndex:t.modulationIndex,modulationType:"square",onstop:0===e?()=>this.onsilence(this):Ma,type:"square"});n.connect(this._highpass),this._oscillators[e]=n;const s=new Hl({context:this.context,value:Ru[e]});this._freqMultipliers[e]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new eu({context:this.context,max:7e3,min:this.toFrequency(t.resonance)}),this.envelope=new vu({attack:t.envelope.attack,attackCurve:"linear",context:this.context,decay:t.envelope.decay,release:t.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=t.octaves,this.octaves=t.octaves}static getDefaults(){return ca(wu.getDefaults(),{envelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(t,e=1){return this.envelope.triggerAttack(t,e),this._oscillators.forEach((e=>e.start(t))),0===this.envelope.sustain&&this._oscillators.forEach((e=>{e.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(t){return this.envelope.triggerRelease(t),this._oscillators.forEach((e=>e.stop(t+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(t){return t=this.toSeconds(t),this.envelope.getValueAtTime(t)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(t){this._oscillators.forEach((e=>e.modulationIndex.value=t))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(t){this._oscillators.forEach((e=>e.harmonicity.value=t))}get resonance(){return this._filterFreqScaler.min}set resonance(t){this._filterFreqScaler.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,t)}dispose(){return super.dispose(),this._oscillators.forEach((t=>t.dispose())),this._freqMultipliers.forEach((t=>t.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class Iu extends ku{constructor(){super(ha(Iu.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const t=ha(Iu.getDefaults(),arguments);this.pitchDecay=t.pitchDecay,this.octaves=t.octaves,Aa(this,["oscillator","envelope"])}static getDefaults(){return ca(wu.getDefaults(),ku.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(t,e){const n=this.toSeconds(e),s=this.toFrequency(t instanceof Xa?t.toFrequency():t),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}ea([iu(0)],Iu.prototype,"octaves",void 0),ea([ru(0)],Iu.prototype,"pitchDecay",void 0);class Nu extends bu{constructor(){super(ha(Nu.getDefaults(),arguments)),this.name="NoiseSynth";const t=ha(Nu.getDefaults(),arguments);this.noise=new Nl(Object.assign({context:this.context},t.noise)),this.envelope=new xu(Object.assign({context:this.context},t.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(bu.getDefaults(),{envelope:Object.assign(pa(vu.getDefaults(),Object.keys(il.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(pa(Nl.getDefaults(),Object.keys(Pl.getDefaults())),{type:"white"})})}triggerAttack(t,e=1){return t=this.toSeconds(t),this.envelope.triggerAttack(t,e),this.noise.start(t),0===this.envelope.sustain&&this.noise.stop(t+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(t){return t=this.toSeconds(t),this.envelope.triggerRelease(t),this.noise.stop(t+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(t,e,n=1){return e=this.toSeconds(e),t=this.toSeconds(t),this.triggerAttack(e,n),this.triggerRelease(e+t),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const qu=new Set;function Fu(t){qu.add(t)}function ju(t,e){const n=`registerProcessor("${t}", ${e})`;qu.add(n)}class Vu extends il{constructor(t){super(t),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=Ma;const e=URL.createObjectURL(new Blob([Array.from(qu).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(e,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}Fu('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),Fu("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),Fu("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const Lu="feedback-comb-filter";ju(Lu,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class zu extends Vu{constructor(){super(ha(zu.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const t=ha(zu.getDefaults(),arguments,["delayTime","resonance"]);this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this.delayTime=new sl({context:this.context,value:t.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new sl({context:this.context,value:t.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),Aa(this,["resonance","delayTime"])}_audioWorkletName(){return Lu}static getDefaults(){return Object.assign(il.getDefaults(),{delayTime:.1,resonance:.5})}onReady(t){rl(this.input,t,this.output);const e=t.parameters.get("delayTime");this.delayTime.setParam(e);const n=t.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Bu extends il{constructor(){super(ha(Bu.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const t=ha(Bu.getDefaults(),arguments,["frequency","type"]);this._frequency=t.frequency,this._type=t.type,this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(il.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const t=this._filter,e=this.toFrequency(this._frequency),n=1/(2*Math.PI*e);if("lowpass"===this._type){const t=1/(n*this.context.sampleRate),e=t-1;this._filter=this.context.createIIRFilter([t,0],[1,e])}else{const t=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,t])}this.input.chain(this._filter,this.output),t&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(t),t.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(t){this._frequency=t,this._createFilter()}get type(){return this._type}set type(t){this._type=t,this._createFilter()}getFrequencyResponse(t=128){const e=new Float32Array(t);for(let n=0;n<t;n++){const s=19980*Math.pow(n/t,2)+20;e[n]=s}const n=new Float32Array(t),s=new Float32Array(t);return this._filter.getFrequencyResponse(e,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Uu extends il{constructor(){super(ha(Uu.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const t=ha(Uu.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new zu({context:this.context,delayTime:t.delayTime,resonance:t.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Bu({context:this.context,frequency:t.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(il.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(t){this._lowpass.frequency=t}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Wu extends bu{constructor(){super(ha(Wu.getDefaults(),arguments)),this.name="PluckSynth";const t=ha(Wu.getDefaults(),arguments);this._noise=new Nl({context:this.context,type:"pink"}),this.attackNoise=t.attackNoise,this._lfcf=new Uu({context:this.context,dampening:t.dampening,resonance:t.resonance}),this.resonance=t.resonance,this.release=t.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return ca(bu.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(t){this._lfcf.dampening=t}triggerAttack(t,e){const n=this.toFrequency(t);e=this.toSeconds(e);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,e),this._noise.start(e),this._noise.stop(e+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(e),this._lfcf.resonance.setValueAtTime(this.resonance,e),this}triggerRelease(t){return this._lfcf.resonance.linearRampTo(0,this.release,t),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class $u extends bu{constructor(){super(ha($u.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const t=ha($u.getDefaults(),arguments,["voice","options"]);Fo(!Qo(t.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const e=t.voice.getDefaults();this.options=Object.assign(e,t.options),this.voice=t.voice,this.maxPolyphony=t.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(bu.getDefaults(),{maxPolyphony:32,options:{},voice:ku})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(t){this._availableVoices.push(t);const e=this._activeVoices.findIndex((e=>e.voice===t));this._activeVoices.splice(e,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const t=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return t.connect(this.output),this._voices.push(t),t}Uo("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const t=this._availableVoices.shift(),e=this._voices.indexOf(t);this._voices.splice(e,1),this.context.isOffline||t.dispose()}}_triggerAttack(t,e,n){t.forEach((t=>{const s=new bl(this.context,t).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(t,e,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",t,e))}))}_triggerRelease(t,e){t.forEach((t=>{const n=new bl(this.context,t).toMidi(),s=this._activeVoices.find((({midi:t,released:e})=>t===n&&!e));s&&(s.voice.triggerRelease(e),s.released=!0,this.log("triggerRelease",t,e))}))}_scheduleEvent(t,e,n,s){Fo(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===t?this._triggerAttack(e,n,s):this._triggerRelease(e,n):this.context.setTimeout((()=>{this._scheduleEvent(t,e,n,s)}),n-this.now())}triggerAttack(t,e,n){Array.isArray(t)||(t=[t]);const s=this.toSeconds(e);return this._scheduleEvent("attack",t,s,n),this}triggerRelease(t,e){Array.isArray(t)||(t=[t]);const n=this.toSeconds(e);return this._scheduleEvent("release",t,n),this}triggerAttackRelease(t,e,n,s){const i=this.toSeconds(n);if(this.triggerAttack(t,i,s),Yo(e)){Fo(Yo(t),"If the duration is an array, the notes must also be an array"),t=t;for(let n=0;n<t.length;n++){const s=e[Math.min(n,e.length-1)],r=this.toSeconds(s);Fo(r>0,"The duration must be greater than 0"),this.triggerRelease(t[n],i+r)}}else{const n=this.toSeconds(e);Fo(n>0,"The duration must be greater than 0"),this.triggerRelease(t,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(t){const e=pa(t,["onsilence","context"]);return this.options=ca(this.options,e),this._voices.forEach((t=>t.set(e))),this._dummyVoice.set(e),this}get(){return this._dummyVoice.get()}releaseAll(t){const e=this.toSeconds(t);return this._activeVoices.forEach((({voice:t})=>{t.triggerRelease(e)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((t=>t.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Hu extends bu{constructor(){super(ha(Hu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const t=ha(Hu.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),e={};Object.keys(t.urls).forEach((n=>{const s=parseInt(n,10);if(Fo(Ko(n)||Qo(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),Ko(n)){const s=new Xa(this.context,n).toMidi();e[s]=t.urls[n]}else Qo(s)&&isFinite(s)&&(e[s]=t.urls[s])})),this._buffers=new _l({urls:e,onload:t.onload,baseUrl:t.baseUrl,onerror:t.onerror}),this.attack=t.attack,this.release=t.release,this.curve=t.curve,this._buffers.loaded&&Promise.resolve().then(t.onload)}static getDefaults(){return Object.assign(bu.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:Ma,onerror:Ma,release:.1,urls:{}})}_findClosest(t){let e=0;for(;e<96;){if(this._buffers.has(t+e))return-e;if(this._buffers.has(t-e))return e;e++}throw new Error(`No available buffers for note: ${t}`)}triggerAttack(t,e,n=1){return this.log("triggerAttack",t,e,n),Array.isArray(t)||(t=[t]),t.forEach((t=>{const s=Wa(new Xa(this.context,t).toFrequency()),i=Math.round(s),r=s-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),u=za(o+r),c=new Il({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(e,0,l.duration/u,n),Yo(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const t=this._activeSources.get(i),e=t.indexOf(c);-1!==e&&t.splice(e,1)}}})),this}triggerRelease(t,e){return this.log("triggerRelease",t,e),Array.isArray(t)||(t=[t]),t.forEach((t=>{const n=new Xa(this.context,t).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const t=this._activeSources.get(n);e=this.toSeconds(e),t.forEach((t=>{t.stop(e)})),this._activeSources.set(n,[])}})),this}releaseAll(t){const e=this.toSeconds(t);return this._activeSources.forEach((t=>{for(;t.length;)t.shift().stop(e)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(t,e,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(t,i,s),Yo(e)?(Fo(Yo(t),"notes must be an array when duration is array"),t.forEach(((t,n)=>{const s=e[Math.min(n,e.length-1)];this.triggerRelease(t,i+this.toSeconds(s))}))):this.triggerRelease(t,i+this.toSeconds(e)),this}add(t,e,n){if(Fo(Ko(t)||isFinite(t),`note must be a pitch or midi: ${t}`),Ko(t)){const s=new Xa(this.context,t).toMidi();this._buffers.add(s,e,n)}else this._buffers.add(t,e,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((t=>{t.forEach((t=>t.dispose()))})),this._activeSources.clear(),this}}ea([ru(0)],Hu.prototype,"attack",void 0),ea([ru(0)],Hu.prototype,"release",void 0);class Qu extends el{constructor(){super(ha(Qu.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new nl("stopped"),this._startOffset=0;const t=ha(Qu.getDefaults(),arguments,["callback","value"]);this._loop=t.loop,this.callback=t.callback,this.value=t.value,this._loopStart=this.toTicks(t.loopStart),this._loopEnd=this.toTicks(t.loopEnd),this._playbackRate=t.playbackRate,this._probability=t.probability,this._humanize=t.humanize,this.mute=t.mute,this._playbackRate=t.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(el.getDefaults(),{callback:Ma,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(t=-1){this._state.forEachFrom(t,(t=>{let e;if("started"===t.state){-1!==t.id&&this.context.transport.clear(t.id);const n=t.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Qo(this._loop)&&this._loop>1){e=1/0,Qo(this._loop)&&(e=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(e=Math.min(e,s.time-n)),e!==1/0&&(this._state.setStateAtTime("stopped",n+e+1,{id:-1}),e=new xl(this.context,e));const i=new xl(this.context,this._getLoopDuration());t.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new xl(this.context,n),e)}else t.id=this.context.transport.schedule(this._tick.bind(this),new xl(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t}get probability(){return this._probability}set probability(t){this._probability=t}get humanize(){return this._humanize}set humanize(t){this._humanize=t}start(t){const e=this.toTicks(t);return"stopped"===this._state.getValueAtTime(e)&&(this._state.add({id:-1,state:"started",time:e}),this._rescheduleEvents(e)),this}stop(t){this.cancel(t);const e=this.toTicks(t);if("started"===this._state.getValueAtTime(e)){this._state.setStateAtTime("stopped",e,{id:-1});const t=this._state.getBefore(e);let n=e;null!==t&&(n=t.time),this._rescheduleEvents(n)}return this}cancel(t){t=da(t,-1/0);const e=this.toTicks(t);return this._state.forEachFrom(e,(t=>{this.context.transport.clear(t.id)})),this._state.cancel(e),this}_tick(t){const e=this.context.transport.getTicksAtTime(t);if(!this.mute&&"started"===this._state.getValueAtTime(e)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let e=.02;Xo(this.humanize)||(e=this.toSeconds(this.humanize)),t+=(2*Math.random()-1)*e}this.callback(t,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(t){this._loop=t,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._rescheduleEvents()}get loopEnd(){return new xl(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._rescheduleEvents()}get loopStart(){return new xl(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const t=this.context.transport.ticks,e=this._state.get(t);if(null!==e&&"started"===e.state){const n=this._getLoopDuration();return(t-e.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Gu extends el{constructor(){super(ha(Gu.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const t=ha(Gu.getDefaults(),arguments,["callback","interval"]);this._event=new Qu({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:t.interval,playbackRate:t.playbackRate,probability:t.probability}),this.callback=t.callback,this.iterations=t.iterations}static getDefaults(){return Object.assign(el.getDefaults(),{interval:"4n",callback:Ma,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(t){return this._event.start(t),this}stop(t){return this._event.stop(t),this}cancel(t){return this._event.cancel(t),this}_tick(t){this.callback(t)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(t){this._event.loopEnd=t}get playbackRate(){return this._event.playbackRate}set playbackRate(t){this._event.playbackRate=t}get humanize(){return this._event.humanize}set humanize(t){this._event.humanize=t}get probability(){return this._event.probability}set probability(t){this._event.probability=t}get mute(){return this._event.mute}set mute(t){this._event.mute=t}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(t){this._event.loop=t===1/0||t}dispose(){return super.dispose(),this._event.dispose(),this}}class Xu extends Qu{constructor(){super(ha(Xu.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new nl("stopped"),this._events=new Set;const t=ha(Xu.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,t.events.forEach((t=>{Yo(t)?this.add(t[0],t[1]):this.add(t)}))}static getDefaults(){return Object.assign(Qu.getDefaults(),{events:[]})}start(t,e){const n=this.toTicks(t);if("started"!==this._state.getValueAtTime(n)){e=da(e,this._loop?this._loopStart:0),e=this._loop?da(e,this._loopStart):da(e,0);const t=this.toTicks(e);this._state.add({id:-1,offset:t,state:"started",time:n}),this._forEach((e=>{this._startNote(e,n,t)}))}return this}_startNote(t,e,n){e-=n,this._loop?t.startOffset>=this._loopStart&&t.startOffset<this._loopEnd?(t.startOffset<n&&(e+=this._getLoopDuration()),t.start(new xl(this.context,e))):t.startOffset<this._loopStart&&t.startOffset>=n&&(t.loop=!1,t.start(new xl(this.context,e))):t.startOffset>=n&&t.start(new xl(this.context,e))}get startOffset(){return this._startOffset}set startOffset(t){this._startOffset=t,this._forEach((t=>{t.startOffset+=this._startOffset}))}stop(t){const e=this.toTicks(t);return this._state.cancel(e),this._state.setStateAtTime("stopped",e),this._forEach((e=>{e.stop(t)})),this}at(t,e){const n=new Ja(this.context,t).toTicks(),s=new xl(this.context,1).toSeconds(),i=this._events.values();let r=i.next();for(;!r.done;){const t=r.value;if(Math.abs(n-t.startOffset)<s)return $o(e)&&(t.value=e),t;r=i.next()}return $o(e)?(this.add(t,e),this.at(t)):null}add(t,e){t instanceof Object&&Reflect.has(t,"time")&&(t=(e=t).time);const n=this.toTicks(t);let s;return e instanceof Qu?(s=e,s.callback=this._tick.bind(this)):s=new Qu({callback:this._tick.bind(this),context:this.context,value:e}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(t){this._state.forEach((e=>{"started"===e.state?this._startNote(t,e.time,e.offset):t.stop(new xl(this.context,e.time))}))}remove(t,e){return Go(t)&&t.hasOwnProperty("time")&&(t=(e=t).time),t=this.toTicks(t),this._events.forEach((n=>{n.startOffset===t&&(Wo(e)||$o(e)&&n.value===e)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((t=>t.dispose())),this._events.clear(),this}cancel(t){return this._forEach((e=>e.cancel(t))),this._state.cancel(this.toTicks(t)),this}_forEach(t){return this._events&&this._events.forEach((e=>{e instanceof Xu?e._forEach(t):t(e)})),this}_setAll(t,e){this._forEach((n=>{n[t]=e}))}_tick(t,e){this.mute||this.callback(t,e)}_testLoopBoundries(t){this._loop&&(t.startOffset<this._loopStart||t.startOffset>=this._loopEnd)?t.cancel(0):"stopped"===t.state&&this._restartEvent(t)}get probability(){return this._probability}set probability(t){this._probability=t,this._setAll("probability",t)}get humanize(){return this._humanize}set humanize(t){this._humanize=t,this._setAll("humanize",t)}get loop(){return this._loop}set loop(t){this._loop=t,this._forEach((e=>{e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.loop=t,this._testLoopBoundries(e)}))}get loopEnd(){return new xl(this.context,this._loopEnd).toSeconds()}set loopEnd(t){this._loopEnd=this.toTicks(t),this._loop&&this._forEach((e=>{e.loopEnd=t,this._testLoopBoundries(e)}))}get loopStart(){return new xl(this.context,this._loopStart).toSeconds()}set loopStart(t){this._loopStart=this.toTicks(t),this._loop&&this._forEach((t=>{t.loopStart=this.loopStart,this._testLoopBoundries(t)}))}get playbackRate(){return this._playbackRate}set playbackRate(t){this._playbackRate=t,this._setAll("playbackRate",t)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*Yu(t){let e=0;for(;e<t.length;)e=Ju(e,t),yield t[e],e++}function*Zu(t){let e=t.length-1;for(;e>=0;)e=Ju(e,t),yield t[e],e--}function*Ku(t,e){for(;;)yield*e(t)}function Ju(t,e){return ba(t,0,e.length-1)}function*tc(t,e){let n=e?0:t.length-1;for(;;)n=Ju(n,t),yield t[n],e?(n++,n>=t.length-1&&(e=!1)):(n--,n<=0&&(e=!0))}function*ec(t){let e=0,n=0;for(;e<t.length;)e=Ju(e,t),yield t[e],n++,e+=n%2?2:-1}function*nc(t){let e=t.length-1,n=0;for(;e>=0;)e=Ju(e,t),yield t[e],n++,e+=n%2?-2:1}function*sc(t){const e=[];for(let n=0;n<t.length;n++)e.push(n);for(;e.length>0;){const n=Ju(e.splice(Math.floor(e.length*Math.random()),1)[0],t);yield t[n]}}function*ic(t,e="up",n=0){switch(Fo(t.length>0,"The array must have more than one value in it"),e){case"up":yield*Ku(t,Yu);case"down":yield*Ku(t,Zu);case"upDown":yield*tc(t,!0);case"downUp":yield*tc(t,!1);case"alternateUp":yield*Ku(t,ec);case"alternateDown":yield*Ku(t,nc);case"random":yield*function*(t){for(;;){const e=Math.floor(Math.random()*t.length);yield t[e]}}(t);case"randomOnce":yield*Ku(t,sc);case"randomWalk":yield*function*(t){let e=Math.floor(Math.random()*t.length);for(;;)0===e?e++:e===t.length-1||Math.random()<.5?e--:e++,yield t[e]}(t)}}class rc extends Gu{constructor(){super(ha(rc.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const t=ha(rc.getDefaults(),arguments,["callback","values","pattern"]);this.callback=t.callback,this._values=t.values,this._pattern=ic(t.values,t.pattern),this._type=t.pattern}static getDefaults(){return Object.assign(Gu.getDefaults(),{pattern:"up",values:[],callback:Ma})}_tick(t){const e=this._pattern.next();this._value=e.value,this.callback(t,this._value)}get values(){return this._values}set values(t){this._values=t,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(t){this._type=t,this._pattern=ic(this._values,this._type)}}class oc extends Qu{constructor(){super(ha(oc.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new Xu({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const t=ha(oc.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(t.subdivision),this.events=t.events,this.loop=t.loop,this.loopStart=t.loopStart,this.loopEnd=t.loopEnd,this.playbackRate=t.playbackRate,this.probability=t.probability,this.humanize=t.humanize,this.mute=t.mute,this.playbackRate=t.playbackRate}static getDefaults(){return Object.assign(pa(Qu.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(t,e){null!==e&&this.callback(t,e)}get events(){return this._events}set events(t){this.clear(),this._eventsArray=t,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(t,e){return this._part.start(t,e?this._indexTime(e):e),this}stop(t){return this._part.stop(t),this}get subdivision(){return new xl(this.context,this._subdivision).toSeconds()}_createSequence(t){return new Proxy(t,{get:(t,e)=>t[e],set:(t,e,n)=>(Zo(e)&&isFinite(parseInt(e,10))&&Yo(n)?t[e]=this._createSequence(n):t[e]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(t,e,n){t.forEach(((t,s)=>{const i=s*e+n;if(Yo(t))this._rescheduleSequence(t,e/t.length,i);else{const e=new xl(this.context,i,"i").toSeconds();this._part.add(e,t)}}))}_indexTime(t){return new xl(this.context,t*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(t){this._part.loop=t}get loopStart(){return this._loopStart}set loopStart(t){this._loopStart=t,this._part.loopStart=this._indexTime(t)}get loopEnd(){return this._loopEnd}set loopEnd(t){this._loopEnd=t,this._part.loopEnd=0===t?this._indexTime(this._eventsArray.length):this._indexTime(t)}get startOffset(){return this._part.startOffset}set startOffset(t){this._part.startOffset=t}get playbackRate(){return this._part.playbackRate}set playbackRate(t){this._part.playbackRate=t}get probability(){return this._part.probability}set probability(t){this._part.probability=t}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(t){this._part.humanize=t}get length(){return this._part.length}}class ac extends il{constructor(){super(Object.assign(ha(ac.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new cu({context:this.context}),this.a=new ll({context:this.context,gain:0}),this.b=new ll({context:this.context,gain:0}),this.output=new ll({context:this.context}),this._internalChannels=[this.a,this.b];const t=ha(ac.getDefaults(),arguments,["fade"]);this.fade=new hl({context:this.context,units:"normalRange",value:t.fade}),Aa(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",ol(this._split,this.a.gain,0),ol(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(il.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class lc extends il{constructor(t){super(t),this.name="Effect",this._dryWet=new ac({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new ll({context:this.context}),this.effectReturn=new ll({context:this.context}),this.input=new ll({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(t.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],Aa(this,"wet")}static getDefaults(){return Object.assign(il.getDefaults(),{wet:1})}connectEffect(t){return this._internalChannels.push(t),this.effectSend.chain(t,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class uc extends lc{constructor(t){super(t),this.name="LFOEffect",this._lfo=new su({context:this.context,frequency:t.frequency,amplitude:t.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=t.type,Aa(this,["frequency","depth"])}static getDefaults(){return Object.assign(lc.getDefaults(),{frequency:1,type:"sine",depth:1})}start(t){return this._lfo.start(t),this}stop(t){return this._lfo.stop(t),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class cc extends uc{constructor(){super(ha(cc.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const t=ha(cc.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new Ou(Object.assign(t.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=t.octaves,this.baseFrequency=t.baseFrequency}static getDefaults(){return Object.assign(uc.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(t){this._lfo.min=this.toFrequency(t),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._lfo.max=this._lfo.min*Math.pow(2,t)}dispose(){return super.dispose(),this.filter.dispose(),this}}class hc extends il{constructor(){super(Object.assign(ha(hc.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const t=ha(hc.getDefaults(),arguments,["pan"]);this.pan=new sl({context:this.context,param:this._panner.pan,value:t.pan,minValue:-1,maxValue:1}),this._panner.channelCount=t.channelCount,this._panner.channelCountMode="explicit",Aa(this,"pan")}static getDefaults(){return Object.assign(il.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class dc extends uc{constructor(){super(ha(dc.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const t=ha(dc.getDefaults(),arguments,["frequency"]);this._panner=new hc({context:this.context,channelCount:t.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(uc.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class pc extends il{constructor(){super(ha(pc.getDefaults(),arguments,["smoothing"])),this.name="Follower";const t=ha(pc.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new uu({context:this.context}),this._lowpass=this.output=new Bu({context:this.context,frequency:1/this.toSeconds(t.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=t.smoothing}static getDefaults(){return Object.assign(il.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(t){this._smoothing=t,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class fc extends lc{constructor(){super(ha(fc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const t=ha(fc.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new pc({context:this.context,smoothing:t.follower}),this._sweepRange=new gu({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this._inputBoost=new ll({context:this.context}),this._bandpass=new Ou({context:this.context,rolloff:-48,frequency:0,Q:t.Q}),this._peaking=new Ou({context:this.context,type:"peaking"}),this._peaking.gain.value=t.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=t.sensitivity,Aa(this,["gain","Q"])}static getDefaults(){return Object.assign(lc.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(t){this._octaves=t,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(t){this._follower.smoothing=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._setSweepRange()}get sensitivity(){return La(1/this._inputBoost.gain.value)}set sensitivity(t){this._inputBoost.gain.value=1/Va(t)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const mc="bit-crusher";ju(mc,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class gc extends lc{constructor(){super(ha(gc.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const t=ha(gc.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new yc({context:this.context,bits:t.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(lc.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class yc extends Vu{constructor(){super(ha(yc.getDefaults(),arguments)),this.name="BitCrusherWorklet";const t=ha(yc.getDefaults(),arguments);this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this.bits=new sl({context:this.context,value:t.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(Vu.getDefaults(),{bits:12})}_audioWorkletName(){return mc}onReady(t){rl(this.input,t,this.output);const e=t.parameters.get("bits");this.bits.setParam(e)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class vc extends lc{constructor(){super(ha(vc.getDefaults(),arguments,["order"])),this.name="Chebyshev";const t=ha(vc.getDefaults(),arguments,["order"]);this._shaper=new Wl({context:this.context,length:4096}),this._order=t.order,this.connectEffect(this._shaper),this.order=t.order,this.oversample=t.oversample}static getDefaults(){return Object.assign(lc.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(t,e,n){return n.has(e)||(0===e?n.set(e,0):1===e?n.set(e,t):n.set(e,2*t*this._getCoefficient(t,e-1,n)-this._getCoefficient(t,e-2,n))),n.get(e)}get order(){return this._order}set order(t){this._order=t,this._shaper.setMap((e=>this._getCoefficient(e,t,new Map)))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class _c extends il{constructor(){super(ha(_c.getDefaults(),arguments,["channels"])),this.name="Split";const t=ha(_c.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(t.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(il.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class bc extends il{constructor(){super(ha(bc.getDefaults(),arguments,["channels"])),this.name="Merge";const t=ha(bc.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(t.channels)}static getDefaults(){return Object.assign(il.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class wc extends il{constructor(t){super(t),this.name="StereoEffect",this.input=new ll({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new ac({context:this.context,fade:t.wet}),this.wet=this._dryWet.fade,this._split=new _c({context:this.context,channels:2}),this._merge=new bc({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),Aa(this,["wet"])}connectEffectLeft(...t){this._split.connect(t[0],0,0),rl(...t),ol(t[t.length-1],this._merge,0,0)}connectEffectRight(...t){this._split.connect(t[0],1,0),rl(...t),ol(t[t.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(il.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class xc extends wc{constructor(t){super(t),this.feedback=new hl({context:this.context,value:t.feedback,units:"normalRange"}),this._feedbackL=new ll({context:this.context}),this._feedbackR=new ll({context:this.context}),this._feedbackSplit=new _c({context:this.context,channels:2}),this._feedbackMerge=new bc({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),Aa(this,["feedback"])}static getDefaults(){return Object.assign(wc.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class kc extends xc{constructor(){super(ha(kc.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const t=ha(kc.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=t.depth,this._delayTime=t.delayTime/1e3,this._lfoL=new su({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new su({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._delayNodeL=new yl({context:this.context}),this._delayNodeR=new yl({context:this.context}),this.frequency=this._lfoL.frequency,Aa(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=t.type,this.spread=t.spread}static getDefaults(){return Object.assign(xc.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(t){this._depth=t;const e=this._delayTime*t;this._lfoL.min=Math.max(this._delayTime-e,0),this._lfoL.max=this._delayTime+e,this._lfoR.min=Math.max(this._delayTime-e,0),this._lfoR.max=this._delayTime+e}get delayTime(){return 1e3*this._delayTime}set delayTime(t){this._delayTime=t/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class Sc extends lc{constructor(){super(ha(Sc.getDefaults(),arguments,["distortion"])),this.name="Distortion";const t=ha(Sc.getDefaults(),arguments,["distortion"]);this._shaper=new Wl({context:this.context,length:4096}),this._distortion=t.distortion,this.connectEffect(this._shaper),this.distortion=t.distortion,this.oversample=t.oversample}static getDefaults(){return Object.assign(lc.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(t){this._distortion=t;const e=100*t,n=Math.PI/180;this._shaper.setMap((t=>Math.abs(t)<.001?0:(3+e)*t*20*n/(Math.PI+e*Math.abs(t))))}get oversample(){return this._shaper.oversample}set oversample(t){this._shaper.oversample=t}dispose(){return super.dispose(),this._shaper.dispose(),this}}class Tc extends lc{constructor(t){super(t),this.name="FeedbackEffect",this._feedbackGain=new ll({context:this.context,gain:t.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,Aa(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(lc.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class Cc extends Tc{constructor(){super(ha(Cc.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const t=ha(Cc.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new yl({context:this.context,delayTime:t.delayTime,maxDelay:t.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),Aa(this,"delayTime")}static getDefaults(){return Object.assign(Tc.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class Oc extends il{constructor(t){super(t),this.name="PhaseShiftAllpass",this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this.offset90=new ll({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),rl(this.input,...this._bank0,this._oneSampleDelay,this.output),rl(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(t){return t.map((t=>{const e=[[t*t,0,-1],[1,0,-t*t]];return this.context.createIIRFilter(e[0],e[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((t=>t.disconnect())),this._bank1.forEach((t=>t.disconnect())),this._oneSampleDelay.disconnect(),this}}class Ec extends lc{constructor(){super(ha(Ec.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const t=ha(Ec.getDefaults(),arguments,["frequency"]);this.frequency=new hl({context:this.context,units:"frequency",value:t.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new zl({context:this.context,type:"sine"}),this._cosine=new Bl({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Hl({context:this.context}),this._cosineMultiply=new Hl({context:this.context}),this._negate=new hu({context:this.context}),this._add=new tu({context:this.context}),this._phaseShifter=new Oc({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const e=this.immediate();this._sine.start(e),this._cosine.start(e)}static getDefaults(){return Object.assign(lc.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const Ac=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],Dc=[225,556,441,341];class Mc extends wc{constructor(){super(ha(Mc.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const t=ha(Mc.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new hl({context:this.context,value:t.roomSize,units:"normalRange"}),this._allpassFiltersL=Dc.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._allpassFiltersR=Dc.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._combFilters=Ac.map(((e,n)=>{const s=new Uu({context:this.context,dampening:t.dampening,delayTime:e});return n<Ac.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),Aa(this,["roomSize"])}static getDefaults(){return Object.assign(wc.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(t){this._combFilters.forEach((e=>e.dampening=t))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((t=>t.disconnect())),this._allpassFiltersR.forEach((t=>t.disconnect())),this._combFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this}}const Rc=[.06748,.06404,.08212,.09004],Pc=[.773,.802,.753,.733],Ic=[347,113,37];class Nc extends wc{constructor(){super(ha(Nc.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const t=ha(Nc.getDefaults(),arguments,["roomSize"]);this.roomSize=new hl({context:this.context,value:t.roomSize,units:"normalRange"}),this._scaleRoomSize=new eu({context:this.context,min:-.733,max:.197}),this._allpassFilters=Ic.map((t=>{const e=this.context.createBiquadFilter();return e.type="allpass",e.frequency.value=t,e})),this._feedbackCombFilters=Rc.map(((t,e)=>{const n=new zu({context:this.context,delayTime:t});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=Pc[e],e<Rc.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),Aa(this,["roomSize"])}static getDefaults(){return Object.assign(wc.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((t=>t.disconnect())),this._feedbackCombFilters.forEach((t=>t.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class qc extends xc{constructor(t){super(t),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),Aa(this,["feedback"])}}class Fc extends qc{constructor(){super(ha(Fc.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const t=ha(Fc.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new yl({context:this.context,maxDelay:t.maxDelay}),this._rightDelay=new yl({context:this.context,maxDelay:t.maxDelay}),this._rightPreDelay=new yl({context:this.context,maxDelay:t.maxDelay}),this.delayTime=new hl({context:this.context,units:"time",value:t.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),Aa(this,["delayTime"])}static getDefaults(){return Object.assign(qc.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class jc extends Tc{constructor(){super(ha(jc.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const t=ha(jc.getDefaults(),arguments,["pitch"]);this._frequency=new hl({context:this.context}),this._delayA=new yl({maxDelay:1,context:this.context}),this._lfoA=new su({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new yl({maxDelay:1,context:this.context}),this._lfoB=new su({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new ac({context:this.context}),this._crossFadeLFO=new su({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new yl({delayTime:t.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,Aa(this,"delayTime"),this._pitch=t.pitch,this._windowSize=t.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const e=this.now();this._lfoA.start(e),this._lfoB.start(e),this._crossFadeLFO.start(e),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(Tc.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(t){this._pitch=t;let e=0;t<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,e=za(t-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,e=za(t)-1),this._frequency.value=e*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(t){this._windowSize=this.toSeconds(t),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Vc extends wc{constructor(){super(ha(Vc.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const t=ha(Vc.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new su({context:this.context,frequency:t.frequency,min:0,max:1}),this._lfoR=new su({context:this.context,frequency:t.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(t.baseFrequency),this._octaves=t.octaves,this.Q=new hl({context:this.context,value:t.Q,units:"positive"}),this._filtersL=this._makeFilters(t.stages,this._lfoL),this._filtersR=this._makeFilters(t.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=t.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=t.baseFrequency,this.octaves=t.octaves,this._lfoL.start(),this._lfoR.start(),Aa(this,["frequency","Q"])}static getDefaults(){return Object.assign(wc.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(t,e){const n=[];for(let s=0;s<t;s++){const t=this.context.createBiquadFilter();t.type="allpass",this.Q.connect(t.Q),e.connect(t.frequency),n.push(t)}return n}get octaves(){return this._octaves}set octaves(t){this._octaves=t;const e=this._baseFrequency*Math.pow(2,t);this._lfoL.max=e,this._lfoR.max=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(t){this._baseFrequency=this.toFrequency(t),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((t=>t.disconnect())),this._filtersR.forEach((t=>t.disconnect())),this.frequency.dispose(),this}}class Lc extends lc{constructor(){super(ha(Lc.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const t=ha(Lc.getDefaults(),arguments,["decay"]);this._decay=t.decay,this._preDelay=t.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(lc.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(t){jo(t=this.toSeconds(t),.001),this._decay=t,this.generate()}get preDelay(){return this._preDelay}set preDelay(t){jo(t=this.toSeconds(t),0),this._preDelay=t,this.generate()}generate(){return na(this,void 0,void 0,(function*(){const t=this.ready,e=new Pa(2,this._decay+this._preDelay,this.context.sampleRate),n=new Nl({context:e}),s=new Nl({context:e}),i=new bc({context:e});n.connect(i,0,0),s.connect(i,0,1);const r=new ll({context:e}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=e.render();return this.ready=o.then(Ma),yield t,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class zc extends il{constructor(){super(ha(zc.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new _c({channels:2,context:this.context}),this._midAdd=new tu({context:this.context}),this.mid=new Hl({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new du({context:this.context}),this.side=new Hl({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Bc extends il{constructor(){super(ha(Bc.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new ll({context:this.context}),this.side=new ll({context:this.context}),this._left=new tu({context:this.context}),this._leftMult=new Hl({context:this.context,value:Math.SQRT1_2}),this._right=new du({context:this.context}),this._rightMult=new Hl({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new bc({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Uc extends lc{constructor(t){super(t),this.name="MidSideEffect",this._midSideMerge=new Bc({context:this.context}),this._midSideSplit=new zc({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...t){this._midSend.chain(...t,this._midReturn)}connectEffectSide(...t){this._sideSend.chain(...t,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Wc extends Uc{constructor(){super(ha(Wc.getDefaults(),arguments,["width"])),this.name="StereoWidener";const t=ha(Wc.getDefaults(),arguments,["width"]);this.width=new hl({context:this.context,value:t.width,units:"normalRange"}),Aa(this,["width"]),this._twoTimesWidthMid=new Hl({context:this.context,value:2}),this._twoTimesWidthSide=new Hl({context:this.context,value:2}),this._midMult=new Hl({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new du({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),ol(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Hl({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Uc.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class $c extends wc{constructor(){super(ha($c.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const t=ha($c.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new su({context:this.context,type:t.type,min:1,max:0}),this._lfoR=new su({context:this.context,type:t.type,min:1,max:0}),this._amplitudeL=new ll({context:this.context}),this._amplitudeR=new ll({context:this.context}),this.frequency=new hl({context:this.context,value:t.frequency,units:"frequency"}),this.depth=new hl({context:this.context,value:t.depth,units:"normalRange"}),Aa(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=t.spread}static getDefaults(){return Object.assign(wc.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(t){return this._lfoL.start(t),this._lfoR.start(t),this}stop(t){return this._lfoL.stop(t),this._lfoR.stop(t),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(t){this._lfoL.type=t,this._lfoR.type=t}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(t){this._lfoL.phase=90-t/2,this._lfoR.phase=t/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Hc extends lc{constructor(){super(ha(Hc.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const t=ha(Hc.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new yl({context:this.context,delayTime:0,maxDelay:t.maxDelay}),this._lfo=new su({context:this.context,type:t.type,min:0,max:t.maxDelay,frequency:t.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=t.depth,Aa(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(lc.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(t){this._lfo.type=t}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Qc extends il{constructor(){super(ha(Qc.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const t=ha(Qc.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new ll({context:this.context}),this._split=new _c({context:this.context,channels:t.channels}),this.input.connect(this._split),jo(t.channels,1);for(let e=0;e<t.channels;e++)this._analysers[e]=this.context.createAnalyser(),this._split.connect(this._analysers[e],e,0);this.size=t.size,this.type=t.type}static getDefaults(){return Object.assign(il.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((t,e)=>{const n=this._buffers[e];"fft"===this._type?t.getFloatFrequencyData(n):"waveform"===this._type&&t.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(t){this._analysers.forEach(((e,n)=>{e.fftSize=2*t,this._buffers[n]=new Float32Array(t)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(t){Fo("waveform"===t||"fft"===t,`Analyser: invalid type: ${t}`),this._type=t}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(t){this._analysers.forEach((e=>e.smoothingTimeConstant=t))}dispose(){return super.dispose(),this._analysers.forEach((t=>t.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class Gc extends il{constructor(){super(ha(Gc.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Qc({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Xc extends Gc{constructor(){super(ha(Xc.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const t=ha(Xc.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Qc({context:this.context,size:256,type:"waveform",channels:t.channels}),this.smoothing=t.smoothing,this.normalRange=t.normalRange}static getDefaults(){return Object.assign(Gc.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Uo("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const t=this._analyser.getValue(),e=(1===this.channels?[t]:t).map((t=>{const e=t.reduce(((t,e)=>t+e*e),0),n=Math.sqrt(e/t.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:La(this._rms)}));return 1===this.channels?e[0]:e}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Yc extends Gc{constructor(){super(ha(Yc.getDefaults(),arguments,["size"])),this.name="FFT";const t=ha(Yc.getDefaults(),arguments,["size"]);this.normalRange=t.normalRange,this._analyser.type="fft",this.size=t.size}static getDefaults(){return Object.assign(il.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((t=>this.normalRange?Va(t):t))}get size(){return this._analyser.size}set size(t){this._analyser.size=t}get smoothing(){return this._analyser.smoothing}set smoothing(t){this._analyser.smoothing=t}getFrequencyOfIndex(t){return Fo(0<=t&&t<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),t*this.context.sampleRate/(2*this.size)}}class Zc extends Gc{constructor(){super(ha(Zc.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class Kc extends Gc{constructor(){super(ha(Kc.getDefaults(),arguments,["size"])),this.name="Waveform";const t=ha(Kc.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=t.size}static getDefaults(){return Object.assign(Gc.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(t){this._analyser.size=t}}class Jc extends il{constructor(){super(ha(Jc.getDefaults(),arguments,["solo"])),this.name="Solo";const t=ha(Jc.getDefaults(),arguments,["solo"]);this.input=this.output=new ll({context:this.context}),Jc._allSolos.has(this.context)||Jc._allSolos.set(this.context,new Set),Jc._allSolos.get(this.context).add(this),this.solo=t.solo}static getDefaults(){return Object.assign(il.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(t){t?this._addSolo():this._removeSolo(),Jc._allSolos.get(this.context).forEach((t=>t._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Jc._soloed.has(this.context)||Jc._soloed.set(this.context,new Set),Jc._soloed.get(this.context).add(this)}_removeSolo(){Jc._soloed.has(this.context)&&Jc._soloed.get(this.context).delete(this)}_isSoloed(){return Jc._soloed.has(this.context)&&Jc._soloed.get(this.context).has(this)}_noSolos(){return!Jc._soloed.has(this.context)||Jc._soloed.has(this.context)&&0===Jc._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Jc._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Jc._allSolos=new Map,Jc._soloed=new Map;class th extends il{constructor(){super(ha(th.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const t=ha(th.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new hc({context:this.context,pan:t.pan,channelCount:t.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new Ol({context:this.context,volume:t.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=t.mute,Aa(this,["pan","volume"])}static getDefaults(){return Object.assign(il.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(t){this._volume.mute=t}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class eh extends il{constructor(){super(ha(eh.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const t=ha(eh.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Jc({solo:t.solo,context:this.context}),this._panVol=this.output=new th({context:this.context,pan:t.pan,volume:t.volume,mute:t.mute,channelCount:t.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),Aa(this,["pan","volume"])}static getDefaults(){return Object.assign(il.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(t){this._solo.solo=t}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(t){this._panVol.mute=t}_getBus(t){return eh.buses.has(t)||eh.buses.set(t,new ll({context:this.context})),eh.buses.get(t)}send(t,e=0){const n=this._getBus(t),s=new ll({context:this.context,units:"decibels",gain:e});return this.connect(s),s.connect(n),s}receive(t){return this._getBus(t).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}eh.buses=new Map;class nh extends il{constructor(){super(ha(nh.getDefaults(),arguments)),this.name="Mono",this.input=new ll({context:this.context}),this._merge=this.output=new bc({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class sh extends il{constructor(){super(ha(sh.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new ll({context:this.context}),this.output=void 0,this.low=new Ou({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new Ou({context:this.context,frequency:0,type:"highpass"}),this.mid=new Ou({context:this.context,frequency:0,type:"lowpass"}),this.high=new Ou({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const t=ha(sh.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new hl({context:this.context,units:"frequency",value:t.lowFrequency}),this.highFrequency=new hl({context:this.context,units:"frequency",value:t.highFrequency}),this.Q=new hl({context:this.context,units:"positive",value:t.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),Aa(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(il.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),Da(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class ih extends il{constructor(){super(...arguments),this.name="Listener",this.positionX=new sl({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new sl({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new sl({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new sl({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new sl({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new sl({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new sl({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new sl({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new sl({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(il.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}ka((t=>{t.listener=new ih({context:t})})),Ta((t=>{t.listener.dispose()}));class rh extends il{constructor(){super(ha(rh.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const t=ha(rh.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=t.panningModel,this.maxDistance=t.maxDistance,this.distanceModel=t.distanceModel,this.coneOuterGain=t.coneOuterGain,this.coneOuterAngle=t.coneOuterAngle,this.coneInnerAngle=t.coneInnerAngle,this.refDistance=t.refDistance,this.rolloffFactor=t.rolloffFactor,this.positionX=new sl({context:this.context,param:this._panner.positionX,value:t.positionX}),this.positionY=new sl({context:this.context,param:this._panner.positionY,value:t.positionY}),this.positionZ=new sl({context:this.context,param:this._panner.positionZ,value:t.positionZ}),this.orientationX=new sl({context:this.context,param:this._panner.orientationX,value:t.orientationX}),this.orientationY=new sl({context:this.context,param:this._panner.orientationY,value:t.orientationY}),this.orientationZ=new sl({context:this.context,param:this._panner.orientationZ,value:t.orientationZ})}static getDefaults(){return Object.assign(il.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(t,e,n){return this.positionX.value=t,this.positionY.value=e,this.positionZ.value=n,this}setOrientation(t,e,n){return this.orientationX.value=t,this.orientationY.value=e,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(t){this._panner.panningModel=t}get refDistance(){return this._panner.refDistance}set refDistance(t){this._panner.refDistance=t}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(t){this._panner.rolloffFactor=t}get distanceModel(){return this._panner.distanceModel}set distanceModel(t){this._panner.distanceModel=t}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(t){this._panner.coneInnerAngle=t}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(t){this._panner.coneOuterAngle=t}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(t){this._panner.coneOuterGain=t}get maxDistance(){return this._panner.maxDistance}set maxDistance(t){this._panner.maxDistance=t}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class oh extends il{constructor(){super(ha(oh.getDefaults(),arguments)),this.name="Recorder";const t=ha(oh.getDefaults(),arguments);this.input=new ll({context:this.context}),Fo(oh.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:t.mimeType})}static getDefaults(){return il.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==Jo&&Reflect.has(Jo,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return na(this,void 0,void 0,(function*(){Fo("started"!==this.state,"Recorder is already started");const t=new Promise((t=>{const e=()=>{this._recorder.removeEventListener("start",e,!1),t()};this._recorder.addEventListener("start",e,!1)}));return this._recorder.start(),yield t}))}stop(){return na(this,void 0,void 0,(function*(){Fo("stopped"!==this.state,"Recorder is not started");const t=new Promise((t=>{const e=n=>{this._recorder.removeEventListener("dataavailable",e,!1),t(n.data)};this._recorder.addEventListener("dataavailable",e,!1)}));return this._recorder.stop(),yield t}))}pause(){return Fo("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class ah extends il{constructor(){super(ha(ah.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const t=ha(ah.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new sl({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:t.threshold}),this.attack=new sl({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:t.attack}),this.release=new sl({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:t.release}),this.knee=new sl({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:t.knee}),this.ratio=new sl({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:t.ratio}),Aa(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(il.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class lh extends il{constructor(){super(Object.assign(ha(lh.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const t=ha(lh.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new pc({context:this.context,smoothing:t.smoothing}),this._gt=new fu({context:this.context,value:Va(t.threshold)}),this.input=new ll({context:this.context}),this._gate=this.output=new ll({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(il.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return La(this._gt.value)}set threshold(t){this._gt.value=Va(t)}get smoothing(){return this._follower.smoothing}set smoothing(t){this._follower.smoothing=t}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class uh extends il{constructor(){super(Object.assign(ha(uh.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const t=ha(uh.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new ah({context:this.context,ratio:20,attack:.003,release:.01,threshold:t.threshold}),this.threshold=this._compressor.threshold,Aa(this,"threshold")}static getDefaults(){return Object.assign(il.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class ch extends il{constructor(){super(Object.assign(ha(ch.getDefaults(),arguments))),this.name="MidSideCompressor";const t=ha(ch.getDefaults(),arguments);this._midSideSplit=this.input=new zc({context:this.context}),this._midSideMerge=this.output=new Bc({context:this.context}),this.mid=new ah(Object.assign(t.mid,{context:this.context})),this.side=new ah(Object.assign(t.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),Aa(this,["mid","side"])}static getDefaults(){return Object.assign(il.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class hh extends il{constructor(){super(Object.assign(ha(hh.getDefaults(),arguments))),this.name="MultibandCompressor";const t=ha(hh.getDefaults(),arguments);this._splitter=this.input=new sh({context:this.context,lowFrequency:t.lowFrequency,highFrequency:t.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new ll({context:this.context}),this.low=new ah(Object.assign(t.low,{context:this.context})),this.mid=new ah(Object.assign(t.mid,{context:this.context})),this.high=new ah(Object.assign(t.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),Aa(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(il.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class dh extends il{constructor(){super(ha(dh.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new ll({context:this.context}),this._internalChannels=[];const t=ha(dh.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new sh({context:this.context,highFrequency:t.highFrequency,lowFrequency:t.lowFrequency}),this._lowGain=new ll({context:this.context,gain:t.low,units:"decibels"}),this._midGain=new ll({context:this.context,gain:t.mid,units:"decibels"}),this._highGain=new ll({context:this.context,gain:t.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),Aa(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(il.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),Da(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class ph extends il{constructor(){super(ha(ph.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const t=ha(ph.getDefaults(),arguments,["url","onload"]);this._buffer=new Ra(t.url,(e=>{this.buffer=e,t.onload()})),this.input=new ll({context:this.context}),this.output=new ll({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=t.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(il.getDefaults(),{normalize:!0,onload:Ma})}load(t){return na(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(t)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(t){t&&this._buffer.set(t),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const e=this._buffer.get();this._convolver.buffer=e||null}get normalize(){return this._convolver.normalize}set normalize(t){this._convolver.normalize=t}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function fh(){return qa().now()}function mh(){return qa().immediate()}const gh=qa().transport;function yh(){return qa().transport}const vh=qa().destination,_h=qa().destination;function bh(){return qa().destination}const wh=qa().listener;function xh(){return qa().listener}const kh=qa().draw;function Sh(){return qa().draw}const Th=qa();function Ch(){return Ra.loaded()}const Oh=Ra,Eh=_l,Ah=Il;let Dh,Mh={};const Rh=async function(){await ja(),gh.bpm.value=99,gh.setLoopPoints(0,"2m"),gh.loop=!0},Ph=function(){return s},Ih=function(t){Mh[t.getUuid()]=t},Nh=function(t){const e=Mh[t];return delete Mh[t],e},qh=function(t){return Mh[t]},Fh=function(t,e,n,s,i){Dh=new Array(t).fill(new Array(e).fill(new Array(n).fill(void 0)));for(let r=0;r<t;r++)for(let t=0;t<e;t++)for(let e=0;e<n;e++)Dh[r][t][e]=gh.schedule((n=>{const o=[r,t,e];s(o).forEach((t=>Mh[t].schedule(n))),kh.schedule((()=>{i(o)}),n)}),`${r}:${t}:${e}`)},jh=function(t){gh.setLoopPoints(0,`${t}m`)},Vh=function(t){Mh[t].schedule("+0.05")},Lh=function(){gh.start("+0.05")},zh=function(){gh.stop("+0.05")},Bh=function(t){gh.bpm.value=t};function Uh(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class Wh{constructor(t,e){Uh(this,"name",void 0),Uh(this,"value",void 0),Uh(this,"update",void 0),this.name=t.name,this.value=t.value,this.update=e}getName(){return this.name}setName(t){this.name=t}getValue(){return this.value}setValue(t){this.value=t,this.update(t)}}class $h extends Wh{constructor(t,e){super(t,(t=>e(t))),Uh(this,"kind",void 0),Uh(this,"min",void 0),Uh(this,"max",void 0),Uh(this,"step",void 0),this.kind="slider",this.name=t.name,this.min=t.min,this.max=t.max,this.value=t.value,this.step=t.step}toConfigObject(){return{kind:this.kind,name:this.name,value:this.value,min:this.min,max:this.max,step:this.step}}}class Hh extends Wh{constructor(t,e){super(t,(t=>e(t))),Uh(this,"kind",void 0),this.kind="switch"}toConfigObject(){return{kind:this.kind,name:this.name,value:this.value}}}var Qh,Gh=new Uint8Array(16);function Xh(){if(!Qh&&!(Qh="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Qh(Gh)}const Yh=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,Zh=function(t){return"string"==typeof t&&Yh.test(t)};for(var Kh=[],Jh=0;Jh<256;++Jh)Kh.push((Jh+256).toString(16).substr(1));const td=function(t,e,n){var s=(t=t||{}).random||(t.rng||Xh)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=s[i];return e}return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(Kh[t[e+0]]+Kh[t[e+1]]+Kh[t[e+2]]+Kh[t[e+3]]+"-"+Kh[t[e+4]]+Kh[t[e+5]]+"-"+Kh[t[e+6]]+Kh[t[e+7]]+"-"+Kh[t[e+8]]+Kh[t[e+9]]+"-"+Kh[t[e+10]]+Kh[t[e+11]]+Kh[t[e+12]]+Kh[t[e+13]]+Kh[t[e+14]]+Kh[t[e+15]]).toLowerCase();if(!Zh(n))throw TypeError("Stringified UUID is invalid");return n}(s)};function ed(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class sd extends class{constructor(t,e={}){ed(this,"kind",void 0),ed(this,"uuid",void 0),ed(this,"name",void 0),ed(this,"params",void 0),this.uuid=e.uuid?e.uuid:td(),this.name=e.name?e.name:this.uuid,this.params={byId:{},allIds:t.map((t=>t.getName()))};for(let e of t)this.params.byId[e.getName()]=e}getKind(){return this.kind}getUuid(){return this.uuid}getName(){return this.name}getAllParameterNames(){return this.params.allIds}getParameter(t){return this.params.byId[t]}getParameterConfig(t){return this.params.byId[t].toConfigObject()}getParameterValue(t){return this.params.byId[t].getValue()}setParameterValue(t,e){this.params.byId[t].setValue(e)}getAllParameterConfigs(){return this.params.allIds.map((t=>this.params.byId[t].toConfigObject()))}}{constructor(t,e={}){e.name||(e.name="string"==typeof t?t:"buffer"),super([new $h({kind:"slider",name:"lowpassHz",min:40,max:22e3,value:15e3,step:10},(t=>this.lowpass.set({frequency:t}))),new $h({kind:"slider",name:"distortion",min:0,max:1,value:0,step:.1},(t=>this.distortion.set({distortion:t}))),new $h({kind:"slider",name:"playbackRate",min:.1,max:3,value:1,step:.1},(t=>{this.player.playbackRate=t})),new Hh({kind:"switch",name:"reverse",value:!1},(t=>{this.player.reverse=t}))],e),nd(this,"kind",void 0),nd(this,"player",void 0),nd(this,"distortion",void 0),nd(this,"lowpass",void 0),this.kind="TonePlayer",this.lowpass=new Ou(15e3,"lowpass").toDestination(),this.distortion=new Sc(0).connect(this.lowpass),this.player=new ou(t).connect(this.distortion)}schedule(t){this.player.start(t)}toDBObject(){const t=this.player.buffer.get();if(!t)throw console.error("audioBuffer undefined"),Error("audioBuffer undefined");const e=this.player.buffer.toArray().buffer;return{kind:this.kind,uuid:this.getUuid(),name:this.getName(),screenName:"TODO",parameters:this.getAllParameterConfigs(),buf:e,nChannels:t.numberOfChannels,length:t.length,sampleRate:t.sampleRate}}static async from(t){const e=new Float32Array(t.buf),n=Th.createBuffer(t.nChannels,t.length,t.sampleRate);for(let s=0;s<t.nChannels;s++)n.copyToChannel(e,s);return new sd(n,{uuid:t.uuid,name:t.name})}static fromFile(t){return new sd(URL.createObjectURL(t),{name:t.name})}}function id(t){return{id:t.uuid,screenName:t.name,params:Ge(t.parameters.map((t=>[t.name,t])))}}const rd=He("instruments/fetchLocalInstruments",(async()=>{const t=await yn(),e=await Promise.all(t.map((async t=>await sd.from(t))));return await Ph().loaded(),e.forEach((t=>{Ih(t)})),t.map(id)})),od=He("instruments/putLocalInstrument",(async t=>{Ih(t),await Ph().loaded();const e=t.toDBObject();return await gn(e),id(e)})),ad=Le({name:"instruments",initialState:{instruments:{byId:{},allIds:[]},availableInstruments:{byId:{},allIds:[]},dbFetchStatus:"notStarted"},reducers:{instrumentAdded:{reducer(t,e){const{id:n,screenName:s,params:i}=e.payload;t.instruments.allIds.push(n),t.instruments.byId[n]={id:n,screenName:s,params:i}},prepare:(t,e)=>({payload:{id:e.getUuid(),screenName:t,params:Ge(e.getAllParameterNames().map((t=>[t,e.getParameterConfig(t)])))}})},instrumentRemoved:(t,e)=>{const n=e.payload;delete t.instruments.byId[n],t.instruments.allIds.splice(t.instruments.allIds.indexOf(n),1)},instrumentParameterUpdated:{reducer(t,e){const{instrumentId:n,parameterName:s,value:i}=e.payload;t.instruments.byId[n].params.byId[s].value=i},prepare:(t,e,n)=>({payload:{instrumentId:t,parameterName:e,value:n}})},renameInstrument:{reducer(t,e){const{instrumentId:n,newScreenName:s}=e.payload;t.instruments.byId[n].screenName=s},prepare:(t,e)=>({payload:{instrumentId:t,newScreenName:e}})}},extraReducers:t=>{t.addCase(rd.rejected,((t,e)=>{t.dbFetchStatus="rejected"})).addCase(rd.pending,((t,e)=>{t.dbFetchStatus="pending"})).addCase(rd.fulfilled,((t,e)=>{t.dbFetchStatus="fulfilled",t.availableInstruments.allIds=e.payload.map((t=>t.id)),e.payload.forEach((e=>{t.availableInstruments.byId[e.id]=e}))})).addCase(od.fulfilled,((t,e)=>{t.availableInstruments.allIds.push(e.payload.id),t.availableInstruments.byId[e.payload.id]=e.payload}))}});function ld(t,e){console.log("addInstrumentToSequencer");const n=qh(e);return function(e,s){e(ad.actions.instrumentAdded(t,n))}}function ud(t,e,n){return function(s,i){qh(t).setParameterValue(e,n),s(ad.actions.instrumentParameterUpdated(t,e,n))}}const cd=He("instruments/playInstrument",(async t=>{Vh(t)}));const hd=t=>t.instruments.instruments.allIds,dd=(ft([hd,t=>t.instruments.instruments.byId],((t,e)=>t.map((t=>e[t])))),(t,e)=>t.instruments.instruments.byId[e].screenName),pd=(t,e,n)=>t.instruments.instruments.byId[e].params.byId[n],fd=t=>t.instruments.availableInstruments.allIds.map((e=>[t.instruments.availableInstruments.byId[e].id,t.instruments.availableInstruments.byId[e].screenName])),md=t=>t.instruments.instruments.allIds.map((e=>[t.instruments.instruments.byId[e].id,t.instruments.instruments.byId[e].screenName])),gd=t=>t.instruments.dbFetchStatus,{instrumentAdded:yd,instrumentRemoved:vd,renameInstrument:_d}=ad.actions,bd=ad.reducer,wd=Le({name:"sequencer",initialState:{isPlaying:!1,nBars:2,beatsPerBar:4,padsPerBeat:4,tempo:99,currentNote:[0,0,0],pads:new Array(2).fill(new Array(4).fill(new Array(4).fill({})))},reducers:{play:t=>{t.isPlaying=!0},pause:t=>{t.isPlaying=!1},setTempo:(t,e)=>{t.tempo=e.payload},setNBars:(t,e)=>{t.nBars=e.payload},setCurrentNote:(t,e)=>{t.currentNote=e.payload},padClick:{reducer(t,e){const{instrumentName:n,note:s}=e.payload,[i,r,o]=s;t.pads[i][r][o][n]=!t.pads[i][r][o][n]},prepare:(t,e)=>({payload:{instrumentName:t,note:e}})},clearAllPads:t=>{const{nBars:e,beatsPerBar:n,padsPerBeat:s}=t;for(let i=0;i<e;i++)for(let e=0;e<n;e++)for(let n=0;n<s;n++)Object.keys(t.pads[i][e][n]).forEach((s=>{t.pads[i][e][n][s]=!1}))}},extraReducers:t=>{t.addCase(yd,((t,e)=>{const{nBars:n,beatsPerBar:s,padsPerBeat:i}=t,{id:r}=e.payload;for(let e=0;e<n;e++)for(let n=0;n<s;n++)for(let s=0;s<i;s++)t.pads[e][n][s][r]=!1})).addCase(vd,((t,e)=>{const{nBars:n,beatsPerBar:s,padsPerBeat:i}=t,r=e.payload;for(let e=0;e<n;e++)for(let n=0;n<s;n++)for(let s=0;s<i;s++)delete t.pads[e][n][s][r]}))}});function xd(t,e){t(wd.actions.play()),Lh()}function kd(t,e){t(wd.actions.pause()),zh()}const Sd=t=>t.sequencer.nBars,Td=t=>t.sequencer.beatsPerBar,Cd=t=>t.sequencer.padsPerBeat,Od=t=>t.sequencer.currentNote,Ed=(t,e,[n,s,i])=>t.sequencer.pads[n][s][i][e],{setCurrentNote:Ad,padClick:Dd,clearAllPads:Md}=wd.actions,Rd=function(t){var e,n=function(t){return function(t){void 0===t&&(t={});var e=t.thunk,n=void 0===e||e,s=(t.immutableCheck,t.serializableCheck,new Fe);return n&&(function(t){return"boolean"==typeof t}(n)?s.push(Et):s.push(Et.withExtraArgument(n.extraArgument))),s}(t)},s=t||{},i=s.reducer,r=void 0===i?void 0:i,o=s.middleware,a=void 0===o?n():o,l=s.devTools,u=void 0===l||l,c=s.preloadedState,h=void 0===c?void 0:c,d=s.enhancers,p=void 0===d?void 0:d;if("function"==typeof r)e=r;else{if(!function(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}(r))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');e=function(t){for(var e=Object.keys(t),n={},s=0;s<e.length;s++){var i=e[s];"function"==typeof t[i]&&(n[i]=t[i])}var r,o=Object.keys(n);try{!function(t){Object.keys(t).forEach((function(e){var n=t[e];if(void 0===n(void 0,{type:wt.INIT}))throw new Error(vt(12));if(void 0===n(void 0,{type:wt.PROBE_UNKNOWN_ACTION()}))throw new Error(vt(13))}))}(n)}catch(t){r=t}return function(t,e){if(void 0===t&&(t={}),r)throw r;for(var s=!1,i={},a=0;a<o.length;a++){var l=o[a],u=n[l],c=t[l],h=u(c,e);if(void 0===h)throw e&&e.type,new Error(vt(14));i[l]=h,s=s||h!==c}return(s=s||o.length!==Object.keys(t).length)?i:t}}(r)}var f=a;"function"==typeof f&&(f=f(n));var m=Tt.apply(void 0,f),g=St;u&&(g=qe(Ne({trace:!1},"object"==typeof u&&u)));var y=[m];return Array.isArray(p)?y=Ae([m],p):"function"==typeof p&&(y=p(y)),kt(e,h,g.apply(void 0,y))}({reducer:{sequencer:wd.reducer,instruments:bd}}),Pd=()=>y();function Id(t){const[e,n]=i.useState(0);function s(){n((t=>(t+1)%3))}return i.useEffect((()=>{const t=window.setInterval(s,500);return()=>window.clearTimeout(t)}),[]),i.createElement("div",{className:"loading"},i.createElement("p",null,`Loading${".".repeat(e+1)}`),i.createElement("p",null,t.status?`Status=${t.status}`:""))}var Nd=n(184),qd=n.n(Nd);let Fd;function jd(t,e){switch(e.type){case"keyDown":t[e.payload]=!0;break;case"keyUp":t[e.payload]=!1}return t}(Fd||(Fd={})).actions={KEYDOWN:t=>({type:"keyDown",payload:t}),KEYUP:t=>({type:"keyUp",payload:t})};const Vd=(t,e)=>{const n=t.reduce(((t,e)=>(t[e]=!1,t)),{}),[s,r]=i.useReducer(jd,n),o=i.useCallback((e=>{const{key:n,target:i,repeat:o}=e;o||t.includes(n)&&(s[n]||r(Fd.actions.KEYDOWN(n)))}),[t,s]),a=i.useCallback((n=>{const{key:i,target:o}=n;t.includes(i)&&s[i]&&(r(Fd.actions.KEYUP(i)),e())}),[t,s]);i.useEffect((()=>(window.addEventListener("keydown",o,!0),()=>window.removeEventListener("keydown",o,!0))),[o]),i.useEffect((()=>(window.addEventListener("keyup",a,!0),()=>window.removeEventListener("keyup",a,!0))),[a])};function Ld(t){const{isPlaying:e,onClick:n}=t,s=qd()("playButton");return i.createElement("button",{className:s,onClick:n},i.createElement("span",null,e?"Pause":"Play"))}var zd=n(936);function Bd(){const t=w(Sd),e=2===t,n=Pd();return i.createElement("label",{className:qd()("switch","nBars")},i.createElement("span",null,"nBars=",t),i.createElement(zd.default,{checked:e,onChange:t=>n(function(t){return function(e,n){e(wd.actions.setNBars(t)),jh(t)}}(t?2:1))}))}function Ud(){return(Ud=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t}).apply(this,arguments)}function Wd(t){const{name:e,min:n=0,max:s=1,value:r=.5,step:o=.1,onInput:a,classNames:l=[]}=t,u=qd()("slider",e,...l);return i.createElement("div",{className:u},i.createElement("label",{htmlFor:e},e," (",r,")"),i.createElement("input",{name:e,id:e,type:"range",min:n,max:s,value:r,step:o,onInput:t=>a(parseFloat(t.target.value))}))}function $d(t){return i.createElement(Wd,Ud({classNames:["instrumentParameter"],onInput:t.onInput},w(t.selector)))}function Hd(){const t=w(Sd),e=w(Td),n=w(Cd),s=w((t=>t.sequencer.tempo)),r=Pd();return i.useEffect((()=>{Fh(t,e,n,(t=>((t,e)=>(t=>Object.keys(t.sequencer.pads[0][0][0]))(t).filter((n=>Ed(t,n,e))))(Rd.getState(),t)),(t=>r(Ad(t))))}),[]),i.createElement(i.Fragment,null,i.createElement(Wd,{classNames:["bpm"],name:"bpm",min:10,max:200,value:s,step:1,onInput:t=>r(function(t){return function(e,n){e(wd.actions.setTempo(t)),Bh(t)}}(t))}),i.createElement(Bd,null))}function Qd(){const t=w((t=>t.sequencer.isPlaying)),e=Pd(),n=()=>e(t?kd:xd);return Vd([" "],n),i.createElement("section",{className:"sequencerControls"},i.createElement(Hd,null),i.createElement(Ld,{isPlaying:t,onClick:n}),i.createElement("button",{className:qd()("clearAll"),onClick:()=>e(Md())},"Clear All"))}function Gd(t){const{instrumentId:e,editable:n=!0}=t,[s,r]=i.useState(!1),o=w((t=>dd(t,e))),a=Pd(),[l,u]=i.useState(o),c=i.useRef(null);return Vd(["Enter"],(()=>{s&&c.current.blur()})),s?i.createElement("input",{className:qd()("instrumentLabel","edit"),type:"text",autoFocus:!0,ref:c,onFocus:t=>t.target.select(),onChange:t=>u(t.target.value),onBlur:t=>{a(_d(e,l)),r(!1)},value:l}):i.createElement("span",{className:qd()("instrumentLabel"),onDoubleClick:()=>{n&&r(!0)}},o)}function Xd(t){const{instrumentId:e,keyboardShortcut:n="s"}=t,s=Pd(),r=qd()("instrumentPlayButton");return Vd([n],(()=>{"keyboardShortcut"in t&&s(cd(e))})),i.createElement("button",{className:r,onClick:()=>s(cd(e))},"sample")}function Yd(t){const{instrumentId:e,onEdit:n}=t,s=w((t=>dd(t,e))),r=qd()("quickControls");return i.createElement("section",{className:r},i.createElement("button",{className:qd()("quickControlButton","solo"),onClick:()=>console.log(`${s} solo`)},"solo"),i.createElement("button",{className:qd()("quickControlButton","mute"),onClick:()=>console.log(`${s} mute`)},"mute"),i.createElement("button",{className:qd()("quickControlButton","edit"),onClick:n},"edit"))}function Zd(t){const{instrumentId:e,parameterName:n}=t,s=w((t=>pd(t,e,n))),r=Pd();return i.createElement("div",{className:qd()("switch",n)},i.createElement("label",{htmlFor:n},n),i.createElement(zd.default,{name:n,checked:s.value,onChange:t=>r(ud(e,n,t))}))}function Kd(t){const{instrumentId:e,parameterName:n}=t,s=w((t=>pd(t,e,n))),r=Pd();switch(s.kind){case"slider":return i.createElement($d,{selector:t=>pd(t,e,n),onInput:t=>r(ud(e,n,t))});case"switch":return i.createElement(Zd,{instrumentId:e,parameterName:s.name});default:throw new Error("unexpected param kind")}}function Jd(t){const{instrumentId:e}=t,n=w((t=>((t,e)=>t.instruments.instruments.byId[e].params.allIds)(t,e)));return i.createElement("section",{className:qd()("instrumentParameters")},n.map((t=>i.createElement(Kd,{key:t,instrumentId:e,parameterName:t}))))}function tp(t){const{instrumentId:e,closePanel:n}=t,s=qd()("fullControlPanel"),r=i.useRef(null);return function(t,e){function n(n){t.current&&!t.current.contains(n.target)&&e(n)}i.useEffect((()=>(document.addEventListener("mousedown",n),()=>document.removeEventListener("mousedown",n))),[t])}(r,n),i.createElement("section",{ref:r,className:s},i.createElement("span",null,i.createElement(Gd,{instrumentId:e,editable:!0}),i.createElement(Xd,{instrumentId:e,keyboardShortcut:"s"})),i.createElement(Jd,{instrumentId:e}))}function ep(t){const e=document.querySelector("#stepsequencer_container");return r.createPortal(t.children,e)}function np(t){const{instrumentId:e}=t,[n,s]=i.useState(!1),r=Pd(),o=qd()("track","quickControlPanel");return i.createElement("section",{className:o},i.createElement("button",{className:qd()("removeInstrumentButton"),onClick:t=>{return r((n=e,function(t,e){return Nh(n),t(ad.actions.instrumentRemoved(n))}));var n}},"x"),i.createElement(Gd,{instrumentId:e,editable:!1}),i.createElement(Xd,{instrumentId:e}),i.createElement(Yd,{instrumentId:e,onEdit:()=>s(!0)}),n?i.createElement(ep,null,i.createElement(tp,{instrumentId:e,closePanel:()=>s(!1)})):null)}function sp(t){return[...ip(0,t)]}function*ip(t,e,n=1){for(let s=t;s<e;s+=n)yield s}function rp(t){const{instrumentId:e,note:n}=t,s=w((t=>dd(t,e))),r=w((t=>Ed(t,e,n))),o=w(Od),a=o[0]===n[0]&&o[1]===n[1]&&o[2]===n[2],l=Pd(),u=qd()("pad",r?"on":"off",a?"active":"inactive");return i.createElement("button",{"aria-label":`${s} pad${n.join("")}`,className:u,onClick:()=>l(Dd(e,n))})}function op(t){const{instrumentId:e}=t,n=w(Sd),s=w(Td),r=w(Cd),o=qd()("track","pads");return i.createElement("section",{className:o,style:{gridTemplateColumns:`repeat(${n}, 1fr)`}},sp(n).map((t=>i.createElement("span",{key:`bar${t}`,className:qd()("bar"),style:{gridTemplateColumns:`repeat(${s}, 1fr)`}},sp(s).map((n=>i.createElement("span",{key:`beat${n}`,className:qd()("beat"),style:{gridTemplateColumns:`repeat(${r}, 1fr)`}},sp(r).map((s=>i.createElement(rp,{key:`${s}`,instrumentId:e,note:[t,n,s]}))))))))))}function ap(t){const{instrumentId:e}=t,n=qd()("track");return i.createElement("section",{className:n},i.createElement(np,{instrumentId:e}),i.createElement(op,{instrumentId:e}))}function lp(){const t=w(hd),e=qd()("tracks");return i.createElement("section",{className:e},t.map((t=>i.createElement(ap,{key:t,instrumentId:t}))))}const up=function(){const[t,e]=i.useState(!0),n=Pd();return i.useEffect((()=>{let t=!0;return n((async function(t,e){await Rh(),(await vn()).length>0?console.log("found instruments in db. exiting for now"):(console.log("initializing default instruments"),[new sd("/assets/audio/hat.wav"),new sd("/assets/audio/lazertom.wav"),new sd("/assets/audio/electrotom.wav"),new sd("/assets/audio/snare.wav")].forEach((e=>{t(od(e)),t(ld(e.getName(),e.getUuid()))})),await Ph().loaded())})),(async()=>{await Ph().loaded(),t&&e(!1)})(),()=>{t=!1}}),[]),t?i.createElement(Id,null):i.createElement("section",{className:"stepSequencer"},i.createElement(Qd,null),i.createElement(lp,null))};var cp=n(310),hp=n.n(cp),dp=n(60),pp={styleTagTransform:function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}},setAttributes:function(t){var e=n.nc;e&&t.setAttribute("nonce",e)},insert:function(t){var e=it()("head");if(!e)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");e.appendChild(t)}};function fp(){const t=w(gd),e=w(fd).map(mp),n=w(md).map(mp),[s,r]=i.useState(n),o=Pd();return i.useEffect((()=>{o(rd())}),[]),"fulfilled"!==t?i.createElement(Id,{status:t}):i.createElement("section",{className:qd()("instrumentSelect")},i.createElement(hp(),{options:e,selected:s,onChange:t=>{r(t)},simpleValue:!1,preserveSelectOrder:!0}),i.createElement("button",{onClick:()=>{const t=n.map((t=>t.value));s.filter((e=>!t.includes(e.value))).forEach((t=>o(ld(t.label,t.value))))}},"Add to Sequencer"))}function mp(t){return{label:t[1],value:t[0]}}function gp(){const[t,e]=i.useState([]),n=Pd();return i.createElement("section",null,i.createElement("label",null,"File(s)"),i.createElement("input",{type:"file",multiple:!0,onChange:async t=>{e(Array.from(t.target.files))}}),i.createElement("button",{disabled:0===t.length,onClick:()=>{t.forEach((t=>{n(od(sd.fromFile(t)))})),e([])}},"Upload"))}function yp(){return i.createElement("section",{className:qd()()},i.createElement(fp,null),i.createElement(gp,null))}pp.domAPI=nt(),pp.insertStyleElement=ot(),tt()(dp.Z,pp),dp.Z&&dp.Z.locals&&dp.Z.locals;const vp=function(){return i.createElement(B,null,i.createElement($,null,i.createElement(X,null,"Sequencer"),i.createElement(X,null,"Instrument Builder")),i.createElement(K,null,i.createElement(up,null)),i.createElement(K,null,i.createElement(yp,null)))},_p=document.querySelector("#stepsequencer_container");r.render(i.createElement(d,{store:Rd},i.createElement(vp,null)),_p)})()})();