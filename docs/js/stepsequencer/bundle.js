/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var e={228:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s},e.exports.default=e.exports,e.exports.__esModule=!0},858:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.default=e.exports,e.exports.__esModule=!0},575:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.default=e.exports,e.exports.__esModule=!0},913:e=>{function t(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}e.exports=function(e,n,s){return n&&t(e.prototype,n),s&&t(e,s),e},e.exports.default=e.exports,e.exports.__esModule=!0},884:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var s,i,r=[],o=!0,a=!1;try{for(n=n.call(e);!(o=(s=n.next()).done)&&(r.push(s.value),!t||r.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==n.return||n.return()}finally{if(a)throw i}}return r}},e.exports.default=e.exports,e.exports.__esModule=!0},521:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.default=e.exports,e.exports.__esModule=!0},38:(e,t,n)=>{var s=n(858),i=n(884),r=n(323),o=n(521);e.exports=function(e,t){return s(e)||i(e,t)||r(e,t)||o()},e.exports.default=e.exports,e.exports.__esModule=!0},323:(e,t,n)=>{var s=n(228);e.exports=function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}},e.exports.default=e.exports,e.exports.__esModule=!0},355:(e,t,n)=>{"use strict";function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}n.r(t),n.d(t,{MiddlewareArray:()=>Ne,__DO_NOT_USE__ActionTypes:()=>u,applyMiddleware:()=>g,bindActionCreators:()=>f,combineReducers:()=>d,compose:()=>m,configureStore:()=>Be,createAction:()=>We,createAsyncThunk:()=>ot,createDraftSafeSelector:()=>Pe,createEntityAdapter:()=>et,createImmutableStateInvariantMiddleware:()=>Fe,createNextState:()=>me,createReducer:()=>Ge,createSelector:()=>ye,createSerializableStateInvariantMiddleware:()=>Le,createSlice:()=>He,createStore:()=>h,current:()=>Y,findNonSerializableValue:()=>Ve,freeze:()=>D,getDefaultMiddleware:()=>ze,getType:()=>$e,isAllOf:()=>ct,isAnyOf:()=>ut,isAsyncThunkAction:()=>_t,isDraft:()=>v,isFulfilled:()=>gt,isImmutableDefault:()=>qe,isPending:()=>pt,isPlain:()=>je,isPlainObject:()=>Ie,isRejected:()=>ft,isRejectedWithValue:()=>mt,miniSerializeError:()=>rt,nanoid:()=>tt,original:()=>b,unwrapResult:()=>at});var a="function"==typeof Symbol&&Symbol.observable||"@@observable",l=function(){return Math.random().toString(36).substring(7).split("").join(".")},u={INIT:"@@redux/INIT"+l(),REPLACE:"@@redux/REPLACE"+l(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+l()}};function c(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function h(e,t,n){var s;if("function"==typeof t&&"function"==typeof n||"function"==typeof n&&"function"==typeof arguments[3])throw new Error(o(0));if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error(o(1));return n(h)(e,t)}if("function"!=typeof e)throw new Error(o(2));var i=e,r=t,l=[],d=l,p=!1;function f(){d===l&&(d=l.slice())}function m(){if(p)throw new Error(o(3));return r}function g(e){if("function"!=typeof e)throw new Error(o(4));if(p)throw new Error(o(5));var t=!0;return f(),d.push(e),function(){if(t){if(p)throw new Error(o(6));t=!1,f();var n=d.indexOf(e);d.splice(n,1),l=null}}}function _(e){if(!c(e))throw new Error(o(7));if(void 0===e.type)throw new Error(o(8));if(p)throw new Error(o(9));try{p=!0,r=i(r,e)}finally{p=!1}for(var t=l=d,n=0;n<t.length;n++)(0,t[n])();return e}function v(e){if("function"!=typeof e)throw new Error(o(10));i=e,_({type:u.REPLACE})}function y(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e||null===e)throw new Error(o(11));function n(){e.next&&e.next(m())}return n(),{unsubscribe:t(n)}}})[a]=function(){return this},e}return _({type:u.INIT}),(s={dispatch:_,subscribe:g,getState:m,replaceReducer:v})[a]=y,s}function d(e){for(var t=Object.keys(e),n={},s=0;s<t.length;s++){var i=t[s];"function"==typeof e[i]&&(n[i]=e[i])}var r,a=Object.keys(n);try{!function(e){Object.keys(e).forEach((function(t){var n=e[t];if(void 0===n(void 0,{type:u.INIT}))throw new Error(o(12));if(void 0===n(void 0,{type:u.PROBE_UNKNOWN_ACTION()}))throw new Error(o(13))}))}(n)}catch(e){r=e}return function(e,t){if(void 0===e&&(e={}),r)throw r;for(var s=!1,i={},l=0;l<a.length;l++){var u=a[l],c=n[u],h=e[u],d=c(h,t);if(void 0===d)throw t&&t.type,new Error(o(14));i[u]=d,s=s||d!==h}return(s=s||a.length!==Object.keys(e).length)?i:e}}function p(e,t){return function(){return t(e.apply(this,arguments))}}function f(e,t){if("function"==typeof e)return p(e,t);if("object"!=typeof e||null===e)throw new Error(o(16));var n={};for(var s in e){var i=e[s];"function"==typeof i&&(n[s]=p(i,t))}return n}function m(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function g(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(){var n=e.apply(void 0,arguments),s=function(){throw new Error(o(15))},i={getState:n.getState,dispatch:function(){return s.apply(void 0,arguments)}},a=t.map((function(e){return e(i)}));return s=m.apply(void 0,a)(n.dispatch),r(r({},n),{},{dispatch:s})}}}function _(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function v(e){return!!e&&!!e[oe]}function y(e){return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===ae}(e)||Array.isArray(e)||!!e[re]||!!e.constructor[re]||C(e)||O(e))}function b(e){return v(e)||_(23,e),e[oe].t}function w(e,t,n){void 0===n&&(n=!1),0===x(e)?(n?Object.keys:le)(e).forEach((function(s){n&&"symbol"==typeof s||t(s,e[s],e)})):e.forEach((function(n,s){return t(s,n,e)}))}function x(e){var t=e[oe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:C(e)?2:O(e)?3:0}function S(e,t){return 2===x(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function k(e,t,n){var s=x(e);2===s?e.set(t,n):3===s?(e.delete(t),e.add(n)):e[t]=n}function T(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function C(e){return te&&e instanceof Map}function O(e){return ne&&e instanceof Set}function E(e){return e.o||e.t}function A(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=ue(e);delete t[oe];for(var n=le(t),s=0;s<n.length;s++){var i=n[s],r=t[i];!1===r.writable&&(r.writable=!0,r.configurable=!0),(r.get||r.set)&&(t[i]={configurable:!0,writable:!0,enumerable:r.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function D(e,t){return void 0===t&&(t=!1),P(e)||v(e)||!y(e)||(x(e)>1&&(e.set=e.add=e.clear=e.delete=M),Object.freeze(e),t&&w(e,(function(e,t){return D(t,!0)}),!0)),e}function M(){_(2)}function P(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function R(e){var t=ce[e];return t||_(18,e),t}function I(){return J}function N(e,t){t&&(R("Patches"),e.u=[],e.s=[],e.v=t)}function q(e){F(e),e.p.forEach(V),e.p=null}function F(e){e===J&&(J=e.l)}function j(e){return J={p:[],l:J,h:e,m:!0,_:0}}function V(e){var t=e[oe];0===t.i||1===t.i?t.j():t.O=!0}function L(e,t){t._=t.p.length;var n=t.p[0],s=void 0!==e&&e!==n;return t.h.g||R("ES5").S(t,e,s),s?(n[oe].P&&(q(t),_(4)),y(e)&&(e=z(t,e),t.l||W(t,e)),t.u&&R("Patches").M(n[oe],e,t.u,t.s)):e=z(t,n,[]),q(t),t.u&&t.v(t.u,t.s),e!==ie?e:void 0}function z(e,t,n){if(P(t))return t;var s=t[oe];if(!s)return w(t,(function(i,r){return B(e,s,t,i,r,n)}),!0),t;if(s.A!==e)return t;if(!s.P)return W(e,s.t,!0),s.t;if(!s.I){s.I=!0,s.A._--;var i=4===s.i||5===s.i?s.o=A(s.k):s.o;w(3===s.i?new Set(i):i,(function(t,r){return B(e,s,i,t,r,n)})),W(e,i,!1),n&&e.u&&R("Patches").R(s,n,e.u,e.s)}return s.o}function B(e,t,n,s,i,r){if(v(i)){var o=z(e,i,r&&t&&3!==t.i&&!S(t.D,s)?r.concat(s):void 0);if(k(n,s,o),!v(o))return;e.m=!1}if(y(i)&&!P(i)){if(!e.h.F&&e._<1)return;z(e,i),t&&t.A.l||W(e,i)}}function W(e,t,n){void 0===n&&(n=!1),e.h.F&&e.m&&D(t,n)}function U(e,t){var n=e[oe];return(n?E(n):e)[t]}function $(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var s=Object.getOwnPropertyDescriptor(n,t);if(s)return s;n=Object.getPrototypeOf(n)}}function Q(e){e.P||(e.P=!0,e.l&&Q(e.l))}function G(e){e.o||(e.o=A(e.t))}function H(e,t,n){var s=C(t)?R("MapSet").N(t,n):O(t)?R("MapSet").T(t,n):e.g?function(e,t){var n=Array.isArray(e),s={i:n?1:0,A:t?t.A:I(),P:!1,I:!1,D:{},l:t,t:e,k:null,o:null,j:null,C:!1},i=s,r=he;n&&(i=[s],r=de);var o=Proxy.revocable(i,r),a=o.revoke,l=o.proxy;return s.k=l,s.j=a,l}(t,n):R("ES5").J(t,n);return(n?n.A:I()).p.push(s),s}function Y(e){return v(e)||_(22,e),function e(t){if(!y(t))return t;var n,s=t[oe],i=x(t);if(s){if(!s.P&&(s.i<4||!R("ES5").K(s)))return s.t;s.I=!0,n=X(t,i),s.I=!1}else n=X(t,i);return w(n,(function(t,i){s&&function(e,t){return 2===x(e)?e.get(t):e[t]}(s.t,t)===i||k(n,t,e(i))})),3===i?new Set(n):n}(e)}function X(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return A(e)}function Z(){function e(e,t){var n=i[e];return n?n.enumerable=t:i[e]=n={configurable:!0,enumerable:t,get:function(){var t=this[oe];return he.get(t,e)},set:function(t){var n=this[oe];he.set(n,e,t)}},n}function t(e){for(var t=e.length-1;t>=0;t--){var i=e[t][oe];if(!i.P)switch(i.i){case 5:s(i)&&Q(i);break;case 4:n(i)&&Q(i)}}}function n(e){for(var t=e.t,n=e.k,s=le(n),i=s.length-1;i>=0;i--){var r=s[i];if(r!==oe){var o=t[r];if(void 0===o&&!S(t,r))return!0;var a=n[r],l=a&&a[oe];if(l?l.t!==o:!T(a,o))return!0}}var u=!!t[oe];return s.length!==le(t).length+(u?0:1)}function s(e){var t=e.k;if(t.length!==e.t.length)return!0;var n=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!n||n.get)}var i={};!function(e,t){ce[e]||(ce[e]=t)}("ES5",{J:function(t,n){var s=Array.isArray(t),i=function(t,n){if(t){for(var s=Array(n.length),i=0;i<n.length;i++)Object.defineProperty(s,""+i,e(i,!0));return s}var r=ue(n);delete r[oe];for(var o=le(r),a=0;a<o.length;a++){var l=o[a];r[l]=e(l,t||!!r[l].enumerable)}return Object.create(Object.getPrototypeOf(n),r)}(s,t),r={i:s?5:4,A:n?n.A:I(),P:!1,I:!1,D:{},l:n,t,k:i,o:null,O:!1,C:!1};return Object.defineProperty(i,oe,{value:r,writable:!0}),i},S:function(e,n,i){i?v(n)&&n[oe].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var n=t[oe];if(n){var i=n.t,r=n.k,o=n.D,a=n.i;if(4===a)w(r,(function(t){t!==oe&&(void 0!==i[t]||S(i,t)?o[t]||e(r[t]):(o[t]=!0,Q(n)))})),w(i,(function(e){void 0!==r[e]||S(r,e)||(o[e]=!1,Q(n))}));else if(5===a){if(s(n)&&(Q(n),o.length=!0),r.length<i.length)for(var l=r.length;l<i.length;l++)o[l]=!1;else for(var u=i.length;u<r.length;u++)o[u]=!0;for(var c=Math.min(r.length,i.length),h=0;h<c;h++)void 0===o[h]&&e(r[h])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?n(e):s(e)}})}var K,J,ee="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),te="undefined"!=typeof Map,ne="undefined"!=typeof Set,se="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ie=ee?Symbol.for("immer-nothing"):((K={})["immer-nothing"]=!0,K),re=ee?Symbol.for("immer-draftable"):"__$immer_draftable",oe=ee?Symbol.for("immer-state"):"__$immer_state",ae=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),le="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ue=Object.getOwnPropertyDescriptors||function(e){var t={};return le(e).forEach((function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)})),t},ce={},he={get:function(e,t){if(t===oe)return e;var n=E(e);if(!S(n,t))return function(e,t,n){var s,i=$(t,n);return i?"value"in i?i.value:null===(s=i.get)||void 0===s?void 0:s.call(e.k):void 0}(e,n,t);var s=n[t];return e.I||!y(s)?s:s===U(e.t,t)?(G(e),e.o[t]=H(e.A.h,s,e)):s},has:function(e,t){return t in E(e)},ownKeys:function(e){return Reflect.ownKeys(E(e))},set:function(e,t,n){var s=$(E(e),t);if(null==s?void 0:s.set)return s.set.call(e.k,n),!0;if(!e.P){var i=U(E(e),t),r=null==i?void 0:i[oe];if(r&&r.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(T(n,i)&&(void 0!==n||S(e.t,t)))return!0;G(e),Q(e)}return e.o[t]===n&&"number"!=typeof n||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return void 0!==U(e.t,t)||t in e.t?(e.D[t]=!1,G(e),Q(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=E(e),s=Reflect.getOwnPropertyDescriptor(n,t);return s?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:s.enumerable,value:n[t]}:s},defineProperty:function(){_(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){_(12)}},de={};w(he,(function(e,t){de[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),de.deleteProperty=function(e,t){return he.deleteProperty.call(this,e[0],t)},de.set=function(e,t,n){return he.set.call(this,e[0],t,n,e[0])};var pe=new(function(){function e(e){var t=this;this.g=se,this.F=!0,this.produce=function(e,n,s){if("function"==typeof e&&"function"!=typeof n){var i=n;n=e;var r=t;return function(e){var t=this;void 0===e&&(e=i);for(var s=arguments.length,o=Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];return r.produce(e,(function(e){var s;return(s=n).call.apply(s,[t,e].concat(o))}))}}var o;if("function"!=typeof n&&_(6),void 0!==s&&"function"!=typeof s&&_(7),y(e)){var a=j(t),l=H(t,e,void 0),u=!0;try{o=n(l),u=!1}finally{u?q(a):F(a)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return N(a,s),L(e,a)}),(function(e){throw q(a),e})):(N(a,s),L(o,a))}if(!e||"object"!=typeof e){if((o=n(e))===ie)return;return void 0===o&&(o=e),t.F&&D(o,!0),o}_(21,e)},this.produceWithPatches=function(e,n){return"function"==typeof e?function(n){for(var s=arguments.length,i=Array(s>1?s-1:0),r=1;r<s;r++)i[r-1]=arguments[r];return t.produceWithPatches(n,(function(t){return e.apply(void 0,[t].concat(i))}))}:[t.produce(e,n,(function(e,t){s=e,i=t})),s,i];var s,i},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){y(e)||_(8),v(e)&&(e=Y(e));var t=j(this),n=H(this,e,void 0);return n[oe].C=!0,F(t),n},t.finishDraft=function(e,t){var n=(e&&e[oe]).A;return N(n,t),L(void 0,n)},t.setAutoFreeze=function(e){this.F=e},t.setUseProxies=function(e){e&&!se&&_(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var s=t[n];if(0===s.path.length&&"replace"===s.op){e=s.value;break}}var i=R("Patches").$;return v(e)?i(e,t):this.produce(e,(function(e){return i(e,t.slice(n+1))}))},e}()),fe=pe.produce;pe.produceWithPatches.bind(pe),pe.setAutoFreeze.bind(pe),pe.setUseProxies.bind(pe),pe.applyPatches.bind(pe),pe.createDraft.bind(pe),pe.finishDraft.bind(pe);const me=fe;function ge(e,t){return e===t}function _e(e,t,n){if(null===t||null===n||t.length!==n.length)return!1;for(var s=t.length,i=0;i<s;i++)if(!e(t[i],n[i]))return!1;return!0}function ve(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every((function(e){return"function"==typeof e}))){var n=t.map((function(e){return typeof e})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}var ye=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return function(){for(var t=arguments.length,s=Array(t),i=0;i<t;i++)s[i]=arguments[i];var r=0,o=s.pop(),a=ve(s),l=e.apply(void 0,[function(){return r++,o.apply(null,arguments)}].concat(n)),u=e((function(){for(var e=[],t=a.length,n=0;n<t;n++)e.push(a[n].apply(null,arguments));return l.apply(null,e)}));return u.resultFunc=o,u.dependencies=a,u.recomputations=function(){return r},u.resetRecomputations=function(){return r=0},u}}((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ge,n=null,s=null;return function(){return _e(t,n,arguments)||(s=e.apply(null,arguments)),n=arguments,s}}));function be(e){return function(t){var n=t.dispatch,s=t.getState;return function(t){return function(i){return"function"==typeof i?i(n,s,e):t(i)}}}}var we=be();we.withExtraArgument=be;const xe=we;var Se,ke=(Se=function(e,t){return(Se=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Se(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),Te=function(e,t){for(var n=0,s=t.length,i=e.length;n<s;n++,i++)e[i]=t[n];return e},Ce=Object.defineProperty,Oe=Object.prototype.hasOwnProperty,Ee=Object.getOwnPropertySymbols,Ae=Object.prototype.propertyIsEnumerable,De=function(e,t,n){return t in e?Ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n},Me=function(e,t){for(var n in t||(t={}))Oe.call(t,n)&&De(e,n,t[n]);if(Ee)for(var s=0,i=Ee(t);s<i.length;s++)n=i[s],Ae.call(t,n)&&De(e,n,t[n]);return e},Pe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=ye.apply(void 0,e),s=function(e){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];return n.apply(void 0,Te([v(e)?Y(e):e],t))};return s},Re="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"==typeof arguments[0]?m:m.apply(null,arguments)};function Ie(e){if("object"!=typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}"undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;var Ne=function(e){function t(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];var i=e.apply(this,n)||this;return Object.setPrototypeOf(i,t.prototype),i}return ke(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,Te([void 0],e[0].concat(this)))):new(t.bind.apply(t,Te([void 0],e.concat(this))))},t}(Array);function qe(e){return"object"!=typeof e||null==e||Object.isFrozen(e)}function Fe(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function je(e){var t=typeof e;return"undefined"===t||null===e||"string"===t||"boolean"===t||"number"===t||Array.isArray(e)||Ie(e)}function Ve(e,t,n,s,i){var r;if(void 0===t&&(t=""),void 0===n&&(n=je),void 0===i&&(i=[]),!n(e))return{keyPath:t||"<root>",value:e};if("object"!=typeof e||null===e)return!1;for(var o=null!=s?s(e):Object.entries(e),a=i.length>0,l=0,u=o;l<u.length;l++){var c=u[l],h=c[0],d=c[1],p=t?t+"."+h:h;if(!(a&&i.indexOf(p)>=0)){if(!n(d))return{keyPath:p,value:d};if("object"==typeof d&&(r=Ve(d,p,n,s,i)))return r}}return!1}function Le(e){return void 0===e&&(e={}),function(){return function(e){return function(t){return e(t)}}}}function ze(e){void 0===e&&(e={});var t=e.thunk,n=void 0===t||t,s=(e.immutableCheck,e.serializableCheck,new Ne);return n&&(function(e){return"boolean"==typeof e}(n)?s.push(xe):s.push(xe.withExtraArgument(n.extraArgument))),s}function Be(e){var t,n=function(e){return ze(e)},s=e||{},i=s.reducer,r=void 0===i?void 0:i,o=s.middleware,a=void 0===o?n():o,l=s.devTools,u=void 0===l||l,c=s.preloadedState,p=void 0===c?void 0:c,f=s.enhancers,_=void 0===f?void 0:f;if("function"==typeof r)t=r;else{if(!Ie(r))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=d(r)}var v=a;"function"==typeof v&&(v=v(n));var y=g.apply(void 0,v),b=m;u&&(b=Re(Me({trace:!1},"object"==typeof u&&u)));var w=[y];return Array.isArray(_)?w=Te([y],_):"function"==typeof _&&(w=_(w)),h(t,p,b.apply(void 0,w))}function We(e,t){function n(){for(var n=[],s=0;s<arguments.length;s++)n[s]=arguments[s];if(t){var i=t.apply(void 0,n);if(!i)throw new Error("prepareAction did not return an object");return Me(Me({type:e,payload:i.payload},"meta"in i&&{meta:i.meta}),"error"in i&&{error:i.error})}return{type:e,payload:n[0]}}return n.toString=function(){return""+e},n.type=e,n.match=function(t){return t.type===e},n}function Ue(e){return["type","payload","error","meta"].indexOf(e)>-1}function $e(e){return""+e}function Qe(e){var t,n={},s=[],i={addCase:function(e,t){var s="string"==typeof e?e:e.type;if(s in n)throw new Error("addCase cannot be called with two reducers for the same action type");return n[s]=t,i},addMatcher:function(e,t){return s.push({matcher:e,reducer:t}),i},addDefaultCase:function(e){return t=e,i}};return e(i),[n,s,t]}function Ge(e,t,n,s){void 0===n&&(n=[]),Z();var i="function"==typeof t?Qe(t):[t,n,s],r=i[0],o=i[1],a=i[2],l=me(e,(function(){}));return function(e,t){void 0===e&&(e=l);var n=Te([r[t.type]],o.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===n.filter((function(e){return!!e})).length&&(n=[a]),n.reduce((function(e,n){if(n){var s;if(v(e))return void 0===(s=n(e,t))?e:s;if(y(e))return me(e,(function(e){return n(e,t)}));if(void 0===(s=n(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return s}return e}),e)}}function He(e){var t=e.name,n=e.initialState;if(!t)throw new Error("`name` is a required option for createSlice");var s=e.reducers||{},i="function"==typeof e.extraReducers?Qe(e.extraReducers):[e.extraReducers],r=i[0],o=void 0===r?{}:r,a=i[1],l=void 0===a?[]:a,u=i[2],c=void 0===u?void 0:u,h=Object.keys(s),d={},p={},f={};h.forEach((function(e){var n,i,r=s[e],o=t+"/"+e;"reducer"in r?(n=r.reducer,i=r.prepare):n=r,d[e]=n,p[o]=n,f[e]=i?We(o,i):We(o)}));var m=Ge(n,Me(Me({},o),p),l,c);return{name:t,reducer:m,actions:f,caseReducers:d}}function Ye(e){return function(t,n){var s=function(t){var s;Ie(s=n)&&"string"==typeof s.type&&Object.keys(s).every(Ue)?e(n.payload,t):e(n,t)};return v(t)?(s(t),t):me(t,s)}}function Xe(e,t){return t(e)}function Ze(e){return Array.isArray(e)||(e=Object.values(e)),e}function Ke(e,t,n){for(var s=[],i=[],r=0,o=e=Ze(e);r<o.length;r++){var a=o[r],l=Xe(a,t);l in n.entities?i.push({id:l,changes:a}):s.push(a)}return[s,i]}function Je(e){function t(t,n){var s=Xe(t,e);s in n.entities||(n.ids.push(s),n.entities[s]=t)}function n(e,n){for(var s=0,i=e=Ze(e);s<i.length;s++)t(i[s],n)}function s(t,n){var s=Xe(t,e);s in n.entities||n.ids.push(s),n.entities[s]=t}function i(e,t){var n=!1;e.forEach((function(e){e in t.entities&&(delete t.entities[e],n=!0)})),n&&(t.ids=t.ids.filter((function(e){return e in t.entities})))}function r(t,n){var s={},i={};t.forEach((function(e){e.id in n.entities&&(i[e.id]={id:e.id,changes:Me(Me({},i[e.id]?i[e.id].changes:null),e.changes)})})),(t=Object.values(i)).length>0&&t.filter((function(t){return function(t,n,s){var i=s.entities[n.id],r=Object.assign({},i,n.changes),o=Xe(r,e),a=o!==n.id;return a&&(t[n.id]=o,delete s.entities[n.id]),s.entities[o]=r,a}(s,t,n)})).length>0&&(n.ids=n.ids.map((function(e){return s[e]||e})))}function o(t,s){var i=Ke(t,e,s),o=i[0];r(i[1],s),n(o,s)}return{removeAll:(a=function(e){Object.assign(e,{ids:[],entities:{}})},l=Ye((function(e,t){return a(t)})),function(e){return l(e,void 0)}),addOne:Ye(t),addMany:Ye(n),setOne:Ye(s),setMany:Ye((function(e,t){for(var n=0,i=e=Ze(e);n<i.length;n++)s(i[n],t)})),setAll:Ye((function(e,t){e=Ze(e),t.ids=[],t.entities={},n(e,t)})),updateOne:Ye((function(e,t){return r([e],t)})),updateMany:Ye(r),upsertOne:Ye((function(e,t){return o([e],t)})),upsertMany:Ye(o),removeOne:Ye((function(e,t){return i([e],t)})),removeMany:Ye(i)};var a,l}function et(e){void 0===e&&(e={});var t=Me({sortComparer:!1,selectId:function(e){return e.id}},e),n=t.selectId,s=t.sortComparer,i={getInitialState:function(e){return void 0===e&&(e={}),Object.assign({ids:[],entities:{}},e)}},r={getSelectors:function(e){var t=function(e){return e.ids},n=function(e){return e.entities},s=Pe(t,n,(function(e,t){return e.map((function(e){return t[e]}))})),i=function(e,t){return t},r=function(e,t){return e[t]},o=Pe(t,(function(e){return e.length}));if(!e)return{selectIds:t,selectEntities:n,selectAll:s,selectTotal:o,selectById:Pe(n,i,r)};var a=Pe(e,n);return{selectIds:Pe(e,t),selectEntities:a,selectAll:Pe(e,s),selectTotal:Pe(e,o),selectById:Pe(a,i,r)}}},o=s?function(e,t){var n=Je(e);function s(t,n){var s=(t=Ze(t)).filter((function(t){return!(Xe(t,e)in n.entities)}));0!==s.length&&a(s,n)}function i(e,t){0!==(e=Ze(e)).length&&a(e,t)}function r(t,n){var s=[];t.forEach((function(t){return function(t,n,s){if(!(n.id in s.entities))return!1;var i=s.entities[n.id],r=Object.assign({},i,n.changes),o=Xe(r,e);return delete s.entities[n.id],t.push(r),o!==n.id}(s,t,n)})),0!==s.length&&a(s,n)}function o(t,n){var i=Ke(t,e,n),o=i[0];r(i[1],n),s(o,n)}function a(n,s){n.forEach((function(t){s.entities[e(t)]=t}));var i=Object.values(s.entities);i.sort(t);var r=i.map(e);(function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(e[n]!==t[n])return!1;return!0})(s.ids,r)||(s.ids=r)}return{removeOne:n.removeOne,removeMany:n.removeMany,removeAll:n.removeAll,addOne:Ye((function(e,t){return s([e],t)})),updateOne:Ye((function(e,t){return r([e],t)})),upsertOne:Ye((function(e,t){return o([e],t)})),setOne:Ye((function(e,t){return i([e],t)})),setMany:Ye(i),setAll:Ye((function(e,t){e=Ze(e),t.entities={},t.ids=[],s(e,t)})),addMany:Ye(s),updateMany:Ye(r),upsertMany:Ye(o)}}(n,s):Je(n);return Me(Me(Me({selectId:n,sortComparer:s},i),r),o)}var tt=function(e){void 0===e&&(e=21);for(var t="",n=e;n--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},nt=["name","message","stack","code"],st=function(e,t){this.payload=e,this.meta=t},it=function(e,t){this.payload=e,this.meta=t},rt=function(e){if("object"==typeof e&&null!==e){for(var t={},n=0,s=nt;n<s.length;n++){var i=s[n];"string"==typeof e[i]&&(t[i]=e[i])}return t}return{message:String(e)}};function ot(e,t,n){var s=We(e+"/fulfilled",(function(e,t,n,s){return{payload:e,meta:Me(Me({},s||{}),{arg:n,requestId:t,requestStatus:"fulfilled"})}})),i=We(e+"/pending",(function(e,t,n){return{payload:void 0,meta:Me(Me({},n||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),r=We(e+"/rejected",(function(e,t,s,i,r){return{payload:i,error:(n&&n.serializeError||rt)(e||"Rejected"),meta:Me(Me({},r||{}),{arg:s,requestId:t,rejectedWithValue:!!i,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!=typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){}}}return e.prototype.abort=function(){},e}();return Object.assign((function(e){return function(a,l,u){var c,h,d=(null!=(c=null==n?void 0:n.idGenerator)?c:tt)(),p=new o,f=new Promise((function(e,t){return p.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:h||"Aborted"})}))})),m=!1,g=function(){return o=this,null,c=function(){var o,c,h;return function(e,t){var n,s,i,r,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(r){return function(a){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,s&&(i=2&r[0]?s.return:r[0]?s.throw||((i=s.return)&&i.call(s),0):s.next)&&!(i=i.call(s,r[1])).done)return i;switch(s=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return o.label++,{value:r[1],done:!1};case 5:o.label++,s=r[1],r=[0];continue;case 7:r=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){o=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){o.label=r[1];break}if(6===r[0]&&o.label<i[1]){o.label=i[1],i=r;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(r);break}i[2]&&o.ops.pop(),o.trys.pop();continue}r=t.call(e,o)}catch(e){r=[6,e],s=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,a])}}}(this,(function(g){switch(g.label){case 0:if(g.trys.push([0,2,,3]),n&&n.condition&&!1===n.condition(e,{getState:l,extra:u}))throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return m=!0,a(i(d,e,null==(o=null==n?void 0:n.getPendingMeta)?void 0:o.call(n,{requestId:d,arg:e},{getState:l,extra:u}))),[4,Promise.race([f,Promise.resolve(t(e,{dispatch:a,getState:l,extra:u,requestId:d,signal:p.signal,rejectWithValue:function(e,t){return new st(e,t)},fulfillWithValue:function(e,t){return new it(e,t)}})).then((function(t){if(t instanceof st)throw t;return t instanceof it?s(t.payload,d,e,t.meta):s(t,d,e)}))])];case 1:return c=g.sent(),[3,3];case 2:return h=g.sent(),c=h instanceof st?r(null,d,e,h.payload,h.meta):r(h,d,e),[3,3];case 3:return n&&!n.dispatchConditionRejection&&r.match(c)&&c.meta.condition||a(c),[2,c]}}))},new Promise((function(e,t){var n=function(e){try{i(c.next(e))}catch(e){t(e)}},s=function(e){try{i(c.throw(e))}catch(e){t(e)}},i=function(t){return t.done?e(t.value):Promise.resolve(t.value).then(n,s)};i((c=c.apply(o,null)).next())}));var o,c}();return Object.assign(g,{abort:function(e){m&&(h=e,p.abort())},requestId:d,arg:e,unwrap:function(){return g.then(at)}})}}),{pending:i,rejected:r,fulfilled:s,typePrefix:e})}function at(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}var lt=function(e,t){return function(e){return e&&"function"==typeof e.match}(e)?e.match(t):e(t)};function ut(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.some((function(e){return lt(e,t)}))}}function ct(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return function(t){return e.every((function(e){return lt(e,t)}))}}function ht(e,t){if(!e||!e.meta)return!1;var n="string"==typeof e.meta.requestId,s=t.indexOf(e.meta.requestStatus)>-1;return n&&s}function dt(e){return"function"==typeof e[0]&&"pending"in e[0]&&"fulfilled"in e[0]&&"rejected"in e[0]}function pt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ht(e,["pending"])}:dt(e)?function(t){var n=e.map((function(e){return e.pending}));return ut.apply(void 0,n)(t)}:pt()(e[0])}function ft(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ht(e,["rejected"])}:dt(e)?function(t){var n=e.map((function(e){return e.rejected}));return ut.apply(void 0,n)(t)}:ft()(e[0])}function mt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=function(e){return e&&e.meta&&e.meta.rejectedWithValue};return 0===e.length||dt(e)?function(t){return ct(ft.apply(void 0,e),n)(t)}:mt()(e[0])}function gt(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ht(e,["fulfilled"])}:dt(e)?function(t){var n=e.map((function(e){return e.fulfilled}));return ut.apply(void 0,n)(t)}:gt()(e[0])}function _t(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return 0===e.length?function(e){return ht(e,["pending","fulfilled","rejected"])}:dt(e)?function(t){for(var n=[],s=0,i=e;s<i.length;s++){var r=i[s];n.push(r.pending,r.rejected,r.fulfilled)}return ut.apply(void 0,n)(t)}:_t()(e[0])}},382:function(e,t,n){!function(e,t,n,s){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var r=i(t),o=i(n),a=i(s),l=function(e,t,n){return{endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}},u=function(e,t,n){return{endTime:t,insertTime:n,type:"linearRampToValue",value:e}},c=function(e,t){return{startTime:t,type:"setValue",value:e}},h=function(e,t,n){return{duration:n,startTime:t,type:"setValueCurve",values:e}},d=function(e,t,n){var s=n.startTime,i=n.target,r=n.timeConstant;return i+(t-i)*Math.exp((s-e)/r)},p=function(e){return"exponentialRampToValue"===e.type},f=function(e){return"linearRampToValue"===e.type},m=function(e){return p(e)||f(e)},g=function(e){return"setValue"===e.type},_=function(e){return"setValueCurve"===e.type},v=function e(t,n,s,i){var r=t[n];return void 0===r?i:m(r)||g(r)?r.value:_(r)?r.values[r.values.length-1]:d(s,e(t,n-1,r.startTime,i),r)},y=function(e,t,n,s,i){return void 0===n?[s.insertTime,i]:m(n)?[n.endTime,n.value]:g(n)?[n.startTime,n.value]:_(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,v(e,t-1,n.startTime,i)]},b=function(e){return"cancelAndHold"===e.type},w=function(e){return"cancelScheduledValues"===e.type},x=function(e){return b(e)||w(e)?e.cancelTime:p(e)||f(e)?e.endTime:e.startTime},S=function(e,t,n,s){var i=s.endTime,r=s.value;return n===r?r:0<n&&0<r||n<0&&r<0?n*Math.pow(r/n,(e-t)/(i-t)):0},k=function(e,t,n,s){return n+(e-t)/(s.endTime-t)*(s.value-n)},T=function(e,t){var n=t.duration,s=t.startTime,i=t.values;return function(e,t){var n=Math.floor(t),s=Math.ceil(t);return n===s?e[n]:(1-(t-n))*e[n]+(1-(s-t))*e[s]}(i,(e-s)/n*(i.length-1))},C=function(e){return"setTarget"===e.type},O=function(){function e(t){o.default(this,e),this._automationEvents=[],this._currenTime=0,this._defaultValue=t}return a.default(e,[{key:Symbol.iterator,value:function(){return this._automationEvents[Symbol.iterator]()}},{key:"add",value:function(e){var t=x(e);if(b(e)||w(e)){var n=this._automationEvents.findIndex((function(n){return w(e)&&_(n)?n.startTime+n.duration>=t:x(n)>=t})),s=this._automationEvents[n];if(-1!==n&&(this._automationEvents=this._automationEvents.slice(0,n)),b(e)){var i=this._automationEvents[this._automationEvents.length-1];if(void 0!==s&&m(s)){if(C(i))throw new Error("The internal list is malformed.");var r=_(i)?i.startTime+i.duration:x(i),o=_(i)?i.values[i.values.length-1]:i.value,a=p(s)?S(t,r,o,s):k(t,r,o,s),d=p(s)?l(a,t,this._currenTime):u(a,t,this._currenTime);this._automationEvents.push(d)}void 0!==i&&C(i)&&this._automationEvents.push(c(this.getValue(t),t)),void 0!==i&&_(i)&&i.startTime+i.duration>t&&(this._automationEvents[this._automationEvents.length-1]=h(new Float32Array([6,7]),i.startTime,t-i.startTime))}}else{var g=this._automationEvents.findIndex((function(e){return x(e)>t})),v=-1===g?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[g-1];if(void 0!==v&&_(v)&&x(v)+v.duration>t)return!1;var y=p(e)?l(e.value,e.endTime,this._currenTime):f(e)?u(e.value,t,this._currenTime):e;if(-1===g)this._automationEvents.push(y);else{if(_(e)&&t+e.duration>x(this._automationEvents[g]))return!1;this._automationEvents.splice(g,0,y)}}return!0}},{key:"flush",value:function(e){var t=this._automationEvents.findIndex((function(t){return x(t)>e}));if(t>1){var n=this._automationEvents.slice(t-1),s=n[0];C(s)&&n.unshift(c(v(this._automationEvents,t-2,s.startTime,this._defaultValue),s.startTime)),this._automationEvents=n}}},{key:"getValue",value:function(e){if(0===this._automationEvents.length)return this._defaultValue;var t=this._automationEvents.findIndex((function(t){return x(t)>e})),n=this._automationEvents[t],s=(-1===t?this._automationEvents.length:t)-1,i=this._automationEvents[s];if(void 0!==i&&C(i)&&(void 0===n||!m(n)||n.insertTime>e))return d(e,v(this._automationEvents,s-1,i.startTime,this._defaultValue),i);if(void 0!==i&&g(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==i&&_(i)&&(void 0===n||!m(n)||i.startTime+i.duration>e))return e<i.startTime+i.duration?T(e,i):i.values[i.values.length-1];if(void 0!==i&&m(i)&&(void 0===n||!m(n)))return i.value;if(void 0!==n&&p(n)){var o=y(this._automationEvents,s,i,n,this._defaultValue),a=r.default(o,2),l=a[0],u=a[1];return S(e,l,u,n)}if(void 0!==n&&f(n)){var c=y(this._automationEvents,s,i,n,this._defaultValue),h=r.default(c,2),b=h[0],w=h[1];return k(e,b,w,n)}return this._defaultValue}}]),e}();e.AutomationEventList=O,e.createCancelAndHoldAutomationEvent=function(e){return{cancelTime:e,type:"cancelAndHold"}},e.createCancelScheduledValuesAutomationEvent=function(e){return{cancelTime:e,type:"cancelScheduledValues"}},e.createExponentialRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"exponentialRampToValue",value:e}},e.createLinearRampToValueAutomationEvent=function(e,t){return{endTime:t,type:"linearRampToValue",value:e}},e.createSetTargetAutomationEvent=function(e,t,n){return{startTime:t,target:e,timeConstant:n,type:"setTarget"}},e.createSetValueAutomationEvent=c,e.createSetValueCurveAutomationEvent=h,Object.defineProperty(e,"__esModule",{value:!0})}(t,n(38),n(575),n(913))},564:(e,t,n)=>{"use strict";n.r(t),n.d(t,{getAudioContext:()=>r,addInstrumentToScheduler:()=>a,getInstrument:()=>l,scheduleInstrument:()=>u});var s=n(264);let i;async function r(){return i=i||await async function(){return await s.start(),i=s.context,i}(),i}let o={};function a(e,t){o[e]=t,console.log(`instrument added: ${e}`)}function l(e){return o[e]}function u(e,t){console.log(`scheduling instrument ${e} at time ${t}`),o[e].schedule(t)}},120:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});const s={real:Float32Array.from([0,-1e-6,-.085114,.113655,-.053293,.034018,-.024299,.01707,-.015971,.01553,-.012639,.011335,-.011541,.01043,-.009167,.008078,-.007356,.007138,-.006327,.005447,-.00315,.002063,-.001783,.00164,-.001605,.001391,-.001283,.001259,-.001237,.001178,-.001159,.00114,-.001193,.001249,-.001231,.00133,-.001312,.001419,-.001489,.00147,-.001641,.001723,-.002245,.002587,-.003811,.004531,-.005556,.007028,-.009168,.010259,-.011842,.013671,-.013539,.01383,-.012496,.012382,-.010525,.008948,-.007155,.00476,-.004305,.003046,-.003021,.002571,-.002399,.002042,-.002026,.002011,-.001766,.0017,-.001688,.001676,-.001664,.001653,-.001641,.001681,-.00167,.002057,-.002044,.002031,-.002213,.0022,-.002186,.002311,-.002297,.002283,-.002647,.002631,-.002617,.002602,-.002751,.002736,-.002721,.002878,-.002863,.002936,-.002664,.00257,-.002804,.002877,-.002862,.002848,-.003204,.003189,-.003174,.003158,-.003144,.003129,-.003114,.0031,-.003086,.003072,-.003058,.00314,-.003126,.003112,-.003099,.003086,-.003073,.00306,-.003047,.003034,-.002756,.002745,-.002734,.002723,-.002712,.002701,-.002691,.00268,-.00267,.00266,-.00265,.00264,-.00263,.00262,-.00261,.002601,-.002591,.002582,-.002573,.002486,-.002477,.002469,-.00246,.002452,-.002443,.002435,-.002081,.002074,-.002067,.002061,-.002054,.002047,-.001861,.001855,-.001849,.001843,-.001837,.001831,-.001826,.001711,-.001706,.001701,-.001696,.001691,-.001685,.00168,-.001576,.001571,-.001566,.001562,-.001557,.001553,-.001456,.001452,-.001447,.001443,-.001439,.001435,-.001388,.001384,-.00138,.001376,-.001041,.001038,-.001036,.001033,-.00103,.001027,-.001025,.001022,-874e-6,872e-6,-87e-5,867e-6,-865e-6,837e-6,-835e-6,833e-6,-757e-6,755e-6,-754e-6,752e-6,-663e-6,662e-6,-66e-5,658e-6,-.001141,.001138,-.001136,.001133,-.00113,.001128,-755e-6,753e-6,-751e-6,773e-6,-771e-6,769e-6,-767e-6,766e-6,-764e-6,762e-6,-76e-5,759e-6,-757e-6,755e-6,-753e-6,752e-6,-798e-6,796e-6,-794e-6,792e-6,-791e-6,789e-6,-787e-6,786e-6,-784e-6,782e-6,-78e-5,779e-6,-777e-6,775e-6,-774e-6,772e-6,-771e-6,769e-6,-767e-6,766e-6,-764e-6,836e-6,-835e-6,833e-6,-831e-6,829e-6,-854e-6,852e-6,-85e-5,848e-6,-847e-6,845e-6,-843e-6,842e-6,-84e-5,838e-6,-837e-6,835e-6,-833e-6,832e-6,-83e-5,829e-6,-827e-6,825e-6,-824e-6,822e-6,-821e-6,819e-6,-818e-6,816e-6,-815e-6,813e-6,-812e-6,81e-5,-809e-6,783e-6,-781e-6,78e-5,-778e-6,777e-6,-775e-6,751e-6,-749e-6,748e-6,-747e-6,745e-6,-744e-6,743e-6,-741e-6,74e-5,-739e-6,737e-6,-736e-6,735e-6,-733e-6,732e-6,-731e-6,729e-6,-728e-6,727e-6,-726e-6,724e-6,-723e-6,722e-6,-721e-6,719e-6,-718e-6,717e-6,-716e-6,714e-6,-713e-6,712e-6,-711e-6,71e-5,-708e-6,707e-6,-706e-6,705e-6,-704e-6,702e-6,-701e-6,7e-4,-699e-6,698e-6,-697e-6,696e-6,-694e-6,693e-6,-692e-6,691e-6,-69e-5,689e-6,-688e-6,686e-6,-685e-6,684e-6,-704e-6,703e-6,-702e-6,701e-6,-7e-4,699e-6,-698e-6,696e-6,-695e-6,694e-6,-693e-6,692e-6,-691e-6,69e-5,-689e-6,688e-6,-686e-6,685e-6,-684e-6,683e-6,-682e-6,681e-6,-68e-5,679e-6,-678e-6,677e-6,-676e-6,675e-6,-674e-6,672e-6,-671e-6,67e-5,-669e-6,668e-6,-667e-6,666e-6,-665e-6,664e-6,-663e-6,662e-6,-661e-6,66e-5,-659e-6,658e-6,-657e-6,656e-6,-655e-6,654e-6,-653e-6,652e-6,-651e-6,65e-5,-649e-6,648e-6,-647e-6,646e-6,-645e-6,644e-6,-643e-6,642e-6,-641e-6,64e-5,-639e-6,638e-6,-637e-6,636e-6,-635e-6,634e-6,-614e-6,613e-6,-612e-6,611e-6,-61e-5,609e-6,-608e-6,607e-6,-607e-6,606e-6,-605e-6,604e-6,-603e-6,602e-6,-601e-6,6e-4,-599e-6,598e-6,-597e-6,596e-6,-596e-6,595e-6,-594e-6,593e-6,-592e-6,591e-6,-59e-5,589e-6,-588e-6,587e-6,-587e-6,586e-6,-585e-6,584e-6,-583e-6,582e-6,-581e-6,58e-5,-579e-6,579e-6,-578e-6,577e-6,-576e-6,575e-6,-574e-6,573e-6,-572e-6,571e-6,-571e-6,57e-5,-569e-6,568e-6,-567e-6,566e-6,-565e-6,564e-6,-564e-6,563e-6,-562e-6,561e-6,-56e-5,559e-6,-558e-6,558e-6,-557e-6,556e-6,-555e-6,554e-6,-553e-6,552e-6,-473e-6,472e-6,-472e-6,471e-6,-47e-5,469e-6,-469e-6,468e-6,-467e-6,466e-6,-466e-6,465e-6,-464e-6,463e-6,-463e-6,462e-6,-461e-6,461e-6,-46e-5,459e-6,-458e-6,458e-6,-457e-6,456e-6,-455e-6,455e-6,-454e-6,453e-6,-452e-6,452e-6,-451e-6,45e-5,-45e-5,449e-6,-448e-6,447e-6,-447e-6,446e-6,-445e-6,445e-6,-444e-6,443e-6,-442e-6,442e-6,-441e-6,44e-5,-439e-6,439e-6,-438e-6,437e-6,-437e-6,436e-6,-435e-6,434e-6,-434e-6,433e-6,-432e-6,431e-6,-431e-6,43e-5,-429e-6,429e-6,-428e-6,427e-6,-426e-6,426e-6,-425e-6,424e-6,-423e-6,423e-6,-422e-6,421e-6,-421e-6,42e-5,-419e-6,418e-6,-418e-6,417e-6,-416e-6,415e-6,-415e-6,414e-6,-413e-6,413e-6,-412e-6,411e-6,-41e-5,41e-5,-409e-6,408e-6,-407e-6,407e-6,-406e-6,405e-6,-405e-6,404e-6,-403e-6,402e-6,-402e-6,401e-6,-4e-4,399e-6,-399e-6,398e-6,-397e-6,396e-6,-396e-6,349e-6,-349e-6,348e-6,-347e-6,347e-6,-346e-6,345e-6,-345e-6,344e-6,-343e-6,343e-6,-342e-6,341e-6,-341e-6,34e-5,-34e-5,339e-6,-338e-6,338e-6,-337e-6,336e-6,-336e-6,335e-6,-334e-6,334e-6,-333e-6,332e-6,-332e-6,331e-6,-33e-5,33e-5,-329e-6,328e-6,-328e-6,327e-6,-326e-6,326e-6,-325e-6,324e-6,-324e-6,323e-6,-322e-6,322e-6,-321e-6,32e-5,-32e-5,319e-6,-318e-6,318e-6,-317e-6,316e-6,-316e-6,315e-6,-314e-6,314e-6,-313e-6,312e-6,-311e-6,311e-6,-31e-5,309e-6,-309e-6,308e-6,-307e-6,307e-6,-306e-6,305e-6,-305e-6,304e-6,-303e-6,303e-6,-302e-6,301e-6,-301e-6,3e-4,-299e-6,298e-6,-298e-6,297e-6,-296e-6,296e-6,-295e-6,294e-6,-294e-6,293e-6,-292e-6,291e-6,-291e-6,29e-5,-289e-6,271e-6,-271e-6,27e-5,-27e-5,269e-6,-268e-6,268e-6,-267e-6,266e-6,-266e-6,265e-6,-264e-6,264e-6,-263e-6,262e-6,-262e-6,261e-6,-26e-5,259e-6,-259e-6,258e-6,-257e-6,257e-6,-256e-6,255e-6,-255e-6,254e-6,-253e-6,253e-6,-252e-6,251e-6,-251e-6,25e-5,-249e-6,249e-6,-248e-6,247e-6,-247e-6,246e-6,-245e-6,245e-6,-244e-6,243e-6,-242e-6,242e-6,-241e-6,24e-5,-24e-5,239e-6,-238e-6,238e-6,-237e-6,236e-6,-235e-6,235e-6,-234e-6,233e-6,-233e-6,232e-6,-231e-6,231e-6,-23e-5,229e-6,-228e-6,228e-6,-227e-6,226e-6,-226e-6,225e-6,-224e-6,223e-6,-223e-6,222e-6,-221e-6,221e-6,-22e-5,219e-6,-218e-6,218e-6,-217e-6,216e-6,-216e-6,215e-6,-214e-6,213e-6,-213e-6,212e-6,-211e-6,21e-5,-21e-5,209e-6,-208e-6,208e-6,-207e-6,206e-6,-205e-6,205e-6,-204e-6,203e-6,-202e-6,178e-6,-178e-6,177e-6,-176e-6,176e-6,-175e-6,174e-6,-174e-6,173e-6,-172e-6,172e-6,-171e-6,17e-5,-17e-5,169e-6,-168e-6,168e-6,-167e-6,166e-6,-166e-6,165e-6,-164e-6,164e-6,-163e-6,162e-6,-162e-6,161e-6,-16e-5,16e-5,-159e-6,158e-6,-158e-6,157e-6,-156e-6,156e-6,-155e-6,154e-6,-154e-6,153e-6,-152e-6,152e-6,-151e-6,15e-5,-149e-6,149e-6,-148e-6,147e-6,-147e-6,146e-6,-145e-6,145e-6,-144e-6,143e-6,-143e-6,142e-6,-141e-6,141e-6,-14e-5,139e-6,-138e-6,138e-6,-137e-6,136e-6,-136e-6,135e-6,-134e-6,134e-6,-133e-6,132e-6,-131e-6,131e-6,-13e-5,129e-6,-129e-6,128e-6,-127e-6,126e-6,-126e-6,125e-6,-124e-6,124e-6,-123e-6,122e-6,-121e-6,121e-6,-12e-5,119e-6,-118e-6,118e-6,-117e-6,116e-6,-116e-6,115e-6,-114e-6,113e-6,-113e-6,112e-6,-111e-6,111e-6,-11e-5,109e-6,-108e-6,108e-6,-107e-6,106e-6,-105e-6,105e-6,-104e-6,103e-6,-103e-6,102e-6,-101e-6,1e-4,-1e-4,99e-6,-98e-6,97e-6,-97e-6,96e-6,-95e-6,94e-6,-94e-6,93e-6,-92e-6,91e-6,-91e-6,9e-5,-89e-6,88e-6,-88e-6,87e-6,-86e-6,85e-6,-85e-6,84e-6,-83e-6,83e-6,-82e-6,81e-6,-8e-5,79e-6,-79e-6,78e-6,-77e-6,76e-6,-76e-6,75e-6,-74e-6,73e-6,-73e-6,72e-6,-71e-6,7e-5,-7e-5,69e-6,-68e-6,67e-6,-67e-6,66e-6,-65e-6,64e-6,-64e-6,63e-6,-62e-6,61e-6,-6e-5,6e-5,-59e-6,58e-6,-57e-6,57e-6,-56e-6,55e-6,-54e-6,52e-6,-51e-6,51e-6,-5e-5,49e-6,-48e-6,48e-6,-47e-6,46e-6,-45e-6,45e-6,-44e-6,43e-6,-42e-6,42e-6,-41e-6,4e-5,-39e-6,39e-6,-38e-6,37e-6,-36e-6,36e-6,-35e-6,34e-6,-33e-6,33e-6,-32e-6,31e-6,-3e-5,29e-6,-29e-6,28e-6,-27e-6,26e-6,-26e-6,25e-6,-24e-6,23e-6,-23e-6,22e-6,-21e-6,2e-5,-2e-5,19e-6,-18e-6,17e-6,-17e-6,16e-6,-15e-6,14e-6,-14e-6,13e-6,-12e-6,11e-6,-11e-6,1e-5,-9e-6,8e-6,-8e-6,7e-6,-6e-6,5e-6,-5e-6,4e-6,-3e-6,2e-6,-2e-6,1e-6,-0,-1e-6,2e-6,-2e-6,3e-6,-4e-6,5e-6,-5e-6,6e-6,-7e-6,8e-6,-8e-6,9e-6,-1e-5,11e-6,-11e-6,12e-6,-13e-6,14e-6,-14e-6,15e-6,-16e-6,17e-6,-17e-6,18e-6,-19e-6,2e-5,-2e-5,21e-6,-22e-6,23e-6,-24e-6,24e-6,-25e-6,26e-6,-27e-6,27e-6,-28e-6,29e-6,-3e-5,3e-5,-31e-6,32e-6,-33e-6,33e-6,-34e-6,35e-6,-36e-6,36e-6,-37e-6,38e-6,-39e-6,39e-6,-4e-5,41e-6,-41e-6,42e-6,-43e-6,44e-6,-44e-6,45e-6,-46e-6,47e-6,-47e-6,48e-6,-49e-6,5e-5,-5e-5,51e-6,-52e-6,53e-6,-53e-6,54e-6,-55e-6,56e-6,-56e-6,57e-6,-58e-6,59e-6,-59e-6,6e-5,-61e-6,62e-6,-62e-6,63e-6,-64e-6,65e-6,-65e-6,66e-6,-67e-6,67e-6,-68e-6,69e-6,-7e-5,7e-5,-71e-6,72e-6,-73e-6,73e-6,-74e-6,75e-6,-75e-6,76e-6,-77e-6,78e-6,-78e-6,79e-6,-8e-5,8e-5,-81e-6,82e-6,-83e-6,83e-6,-84e-6,85e-6,-85e-6,86e-6,-87e-6,87e-6,-88e-6,89e-6,-9e-5,9e-5,-91e-6,92e-6,-92e-6,93e-6,-94e-6,95e-6,-95e-6,96e-6,-97e-6,97e-6,-98e-6,99e-6,-99e-6,1e-4,-101e-6,101e-6,-102e-6,103e-6,-104e-6,104e-6,-105e-6,106e-6,-106e-6,107e-6,-108e-6,108e-6,-109e-6,109e-6,-11e-5,111e-6,-112e-6,112e-6,-113e-6,114e-6,-114e-6,115e-6,-116e-6,116e-6,-117e-6,118e-6,-118e-6,119e-6,-119e-6,12e-5,-121e-6,121e-6,-122e-6,123e-6,-123e-6,124e-6,-125e-6,125e-6,-126e-6,126e-6,-127e-6,128e-6,-128e-6,129e-6,-13e-5,13e-5,-131e-6,131e-6,-132e-6,133e-6,-133e-6,134e-6,-135e-6,135e-6,-136e-6,136e-6,-137e-6,138e-6,-138e-6,139e-6,-139e-6,14e-5,-14e-5,141e-6,-142e-6,142e-6,-143e-6,144e-6,-144e-6,145e-6,-145e-6,146e-6,-146e-6,147e-6,-148e-6,148e-6,-149e-6,149e-6,-15e-5,15e-5,-151e-6,152e-6,-152e-6,153e-6,-153e-6,154e-6,-154e-6,155e-6,-155e-6,156e-6,-156e-6,157e-6,-157e-6,158e-6,-159e-6,159e-6,-16e-5,16e-5,-161e-6,161e-6,-162e-6,162e-6,-163e-6,163e-6,-164e-6,164e-6,-165e-6,165e-6,-166e-6,166e-6,-167e-6,178e-6,-178e-6,179e-6,-179e-6,18e-5,-18e-5,181e-6,-181e-6,182e-6,-182e-6,183e-6,-183e-6,184e-6,-184e-6,185e-6,-185e-6,186e-6,-186e-6,187e-6,-187e-6,188e-6,-188e-6,189e-6,-189e-6,19e-5,-19e-5,191e-6,-191e-6,191e-6,-192e-6,192e-6,-193e-6,193e-6,-194e-6,194e-6,-194e-6,195e-6,-195e-6,196e-6,-196e-6,197e-6,-197e-6,197e-6,-198e-6,198e-6,-199e-6,199e-6,-199e-6,2e-4,-2e-4,201e-6,-201e-6,201e-6,-202e-6,202e-6,-202e-6,203e-6,-203e-6,204e-6,-204e-6,204e-6,-205e-6,205e-6,-205e-6,206e-6,-206e-6,206e-6,-207e-6,207e-6,-207e-6,208e-6,-208e-6,208e-6,-209e-6,209e-6,-209e-6,209e-6,-21e-5,21e-5,-21e-5,211e-6,-211e-6,211e-6,-211e-6,212e-6,-212e-6,212e-6,-213e-6,213e-6,-213e-6,213e-6,-214e-6,214e-6,-214e-6,214e-6,-215e-6,215e-6,-215e-6,215e-6,-215e-6,216e-6,-216e-6,216e-6,-216e-6,217e-6,-217e-6,217e-6,-217e-6,217e-6,-217e-6,218e-6,-218e-6,218e-6,-218e-6,218e-6,-219e-6,219e-6,-219e-6,219e-6,-219e-6,219e-6,-219e-6,22e-5,-22e-5,22e-5,-22e-5,22e-5,-22e-5,22e-5,-22e-5,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,222e-6,-222e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-221e-6,221e-6,-22e-5,22e-5,-22e-5,22e-5,-22e-5,22e-5,-22e-5,22e-5,-219e-6,219e-6,-219e-6,219e-6,-219e-6,219e-6,-218e-6,218e-6,-218e-6,218e-6,-218e-6,218e-6,-217e-6,217e-6,-217e-6,217e-6,-217e-6,216e-6,-216e-6,216e-6,-216e-6,215e-6,-215e-6,215e-6,-215e-6,215e-6,-214e-6,214e-6,-214e-6,213e-6,-213e-6,213e-6,-213e-6,212e-6,-212e-6,212e-6,-211e-6,211e-6,-211e-6,211e-6,-21e-5,21e-5,-21e-5,209e-6,-209e-6,209e-6,-208e-6,208e-6,-208e-6,207e-6,-207e-6,207e-6,-206e-6,206e-6,-205e-6,205e-6,-205e-6,204e-6,-204e-6,204e-6,-203e-6,203e-6,-202e-6,202e-6,-202e-6,201e-6,-201e-6,2e-4,-2e-4,199e-6,-199e-6,199e-6,-198e-6,198e-6,-197e-6,197e-6,-196e-6,196e-6,-195e-6,195e-6,-194e-6,194e-6,-193e-6,193e-6,-192e-6,192e-6,-191e-6,191e-6,-19e-5,19e-5,-189e-6,189e-6,-188e-6,188e-6,-187e-6,187e-6,-186e-6,186e-6,-185e-6,185e-6,-184e-6,183e-6,-183e-6,182e-6,-182e-6,181e-6,-181e-6,18e-5,-179e-6,179e-6,-178e-6,178e-6,-177e-6,176e-6,-176e-6,175e-6,-175e-6,174e-6,-173e-6,173e-6,-172e-6,171e-6,-171e-6,17e-5,-169e-6,169e-6,-168e-6,167e-6,-167e-6,166e-6,-165e-6,165e-6,-164e-6,163e-6,-163e-6,162e-6,-161e-6,161e-6,-16e-5,159e-6,-158e-6,158e-6,-157e-6,156e-6,-156e-6,155e-6,-154e-6,153e-6,-153e-6,152e-6,-151e-6,15e-5,-15e-5,149e-6,-148e-6,147e-6,-147e-6,146e-6,-145e-6,144e-6,-143e-6,143e-6,-142e-6,141e-6,-14e-5,139e-6,-139e-6,138e-6,-137e-6,136e-6,-135e-6,135e-6,-134e-6,133e-6,-132e-6,131e-6,-13e-5,13e-5,-129e-6,128e-6,-127e-6,126e-6,-125e-6,125e-6,-124e-6,123e-6,-122e-6,121e-6,-12e-5,119e-6,-118e-6,118e-6,-117e-6,116e-6,-115e-6,114e-6,-113e-6,112e-6,-111e-6,11e-5,-11e-5,109e-6,-108e-6,107e-6,-106e-6,105e-6,-104e-6,103e-6,-102e-6,101e-6,-1e-4,99e-6,-99e-6,98e-6,-97e-6,96e-6,-95e-6,94e-6,-93e-6,92e-6,-91e-6,9e-5,-89e-6,88e-6,-87e-6,86e-6,-85e-6,84e-6,-83e-6,82e-6,-81e-6,8e-5,-79e-6,78e-6,-77e-6,76e-6,-75e-6,74e-6,-73e-6,72e-6,-71e-6,7e-5,-69e-6,68e-6,-67e-6,66e-6,-65e-6,64e-6,-63e-6,62e-6,-61e-6,6e-5,-59e-6,58e-6,-57e-6,56e-6,-55e-6,54e-6,-53e-6,52e-6,-51e-6,5e-5,-49e-6,48e-6,-47e-6,46e-6,-45e-6,44e-6,-43e-6,42e-6,-41e-6,4e-5,-39e-6,38e-6,-37e-6,36e-6,-35e-6,33e-6,-32e-6,31e-6,-3e-5,29e-6,-28e-6,27e-6,-26e-6,25e-6,-24e-6,23e-6,-22e-6,21e-6,-2e-5,19e-6,-18e-6,17e-6,-16e-6,14e-6,-13e-6,12e-6,-11e-6,1e-5,-9e-6,8e-6,-7e-6,6e-6,-5e-6,4e-6,-3e-6,2e-6,-1e-6,-0,1e-6,-3e-6,4e-6,-5e-6,6e-6,-7e-6,8e-6,-9e-6,1e-5,-11e-6,12e-6,-13e-6,14e-6,-15e-6,16e-6,-17e-6,18e-6,-2e-5,21e-6,-22e-6,23e-6,-24e-6,25e-6,-26e-6,27e-6,-28e-6,29e-6,-3e-5,31e-6,-32e-6,33e-6,-34e-6,35e-6,-36e-6,37e-6,-38e-6,39e-6,-41e-6,41e-6,-43e-6,44e-6,-45e-6,46e-6,-47e-6,48e-6,-49e-6,5e-5,-51e-6,52e-6,-53e-6,54e-6,-55e-6,56e-6,-57e-6,58e-6,-59e-6,6e-5,-61e-6,62e-6,-63e-6,64e-6,-65e-6,66e-6,-67e-6,68e-6,-69e-6,7e-5,-71e-6,72e-6,-73e-6,74e-6,-75e-6,76e-6,-77e-6,78e-6,-79e-6,8e-5,-81e-6,82e-6,-83e-6,84e-6,-85e-6,86e-6,-87e-6,88e-6,-89e-6,9e-5,-9e-5,91e-6,-92e-6,93e-6,-94e-6,95e-6,-96e-6,97e-6,-98e-6,99e-6,-1e-4,101e-6,-101e-6,102e-6,-103e-6,104e-6,-105e-6,106e-6,-107e-6,108e-6,-109e-6,109e-6,-11e-5,111e-6,-112e-6,113e-6,-114e-6,115e-6,-116e-6,116e-6,-117e-6,118e-6,-119e-6,12e-5,-121e-6,121e-6,-122e-6,123e-6,-124e-6,125e-6,-125e-6,126e-6,-127e-6,128e-6,-129e-6,129e-6,-13e-5,131e-6,-132e-6,133e-6,-133e-6,134e-6,-135e-6,136e-6,-149e-6,15e-5,-151e-6,152e-6,-153e-6,153e-6,-154e-6,155e-6,-156e-6,157e-6,-157e-6,158e-6,-159e-6,16e-5,-16e-5,161e-6,-162e-6,163e-6,-163e-6,164e-6,-165e-6,165e-6,-166e-6,167e-6,-168e-6,168e-6,-169e-6,17e-5,-17e-5,171e-6,-172e-6,172e-6,-173e-6,174e-6,-174e-6,175e-6,-175e-6,176e-6,-177e-6,177e-6,-178e-6,178e-6,-179e-6,18e-5,-18e-5,181e-6,-181e-6,182e-6,-182e-6,183e-6,-184e-6,184e-6,-185e-6,185e-6,-186e-6,186e-6,-187e-6,187e-6,-188e-6,188e-6,-189e-6,189e-6,-19e-5,19e-5,-19e-5,191e-6,-191e-6,192e-6,-192e-6,193e-6,-193e-6,193e-6,-194e-6,194e-6,-195e-6,195e-6,-195e-6,196e-6,-196e-6,196e-6,-197e-6,197e-6,-197e-6,198e-6,-198e-6,198e-6,-199e-6,199e-6,-199e-6,199e-6,-2e-4,2e-4,-2e-4,2e-4,-201e-6,201e-6,-201e-6,201e-6,-201e-6,202e-6,-202e-6,202e-6,-202e-6,202e-6,-203e-6,203e-6,-203e-6,203e-6,-203e-6,203e-6,-203e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6,-204e-6,204e-6]),imag:Float32Array.from([0,.292864,0,2e-6,-1e-6,1e-6,-1e-6,1e-6,-2e-6,2e-6,-2e-6,2e-6,-2e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-3e-6,3e-6,-2e-6,0,-0,0,-0,0,-0,0,-0,0,-0,0,-0,3e-6,-3e-6,4e-6,-4e-6,2e-6,-3e-6,3e-6,-4e-6,5e-6,-6e-6,7e-6,-11e-6,13e-6,-18e-6,23e-6,-32e-6,37e-6,-44e-6,53e-6,-55e-6,58e-6,-55e-6,56e-6,-49e-6,43e-6,-36e-6,25e-6,-24e-6,17e-6,-18e-6,15e-6,-15e-6,13e-6,-13e-6,13e-6,-12e-6,12e-6,-12e-6,13e-6,-13e-6,13e-6,-13e-6,14e-6,-14e-6,18e-6,-19e-6,19e-6,-21e-6,21e-6,-22e-6,24e-6,-24e-6,25e-6,-29e-6,29e-6,-31e-6,31e-6,-33e-6,35e-6,-35e-6,37e-6,-39e-6,4e-5,-36e-6,35e-6,-41e-6,42e-6,-44e-6,44e-6,-5e-5,52e-6,-52e-6,52e-6,-54e-6,54e-6,-54e-6,56e-6,-56e-6,56e-6,-58e-6,6e-5,-6e-5,62e-6,-62e-6,62e-6,-64e-6,64e-6,-67e-6,67e-6,-61e-6,63e-6,-63e-6,63e-6,-65e-6,65e-6,-67e-6,67e-6,-67e-6,69e-6,-69e-6,71e-6,-71e-6,71e-6,-73e-6,73e-6,-73e-6,74e-6,-76e-6,73e-6,-75e-6,75e-6,-77e-6,77e-6,-79e-6,79e-6,-68e-6,69e-6,-69e-6,71e-6,-71e-6,72e-6,-66e-6,67e-6,-67e-6,69e-6,-69e-6,69e-6,-7e-5,66e-6,-67e-6,67e-6,-69e-6,69e-6,-7e-5,7e-5,-67e-6,67e-6,-68e-6,68e-6,-69e-6,69e-6,-66e-6,66e-6,-68e-6,68e-6,-69e-6,69e-6,-68e-6,68e-6,-69e-6,69e-6,-53e-6,53e-6,-54e-6,54e-6,-55e-6,55e-6,-56e-6,56e-6,-49e-6,49e-6,-49e-6,49e-6,-5e-5,49e-6,-49e-6,49e-6,-46e-6,46e-6,-46e-6,46e-6,-41e-6,41e-6,-42e-6,43e-6,-74e-6,75e-6,-75e-6,76e-6,-76e-6,77e-6,-52e-6,52e-6,-53e-6,55e-6,-55e-6,55e-6,-56e-6,56e-6,-57e-6,57e-6,-57e-6,58e-6,-58e-6,58e-6,-59e-6,59e-6,-63e-6,64e-6,-64e-6,65e-6,-65e-6,65e-6,-66e-6,66e-6,-67e-6,67e-6,-67e-6,68e-6,-68e-6,69e-6,-69e-6,7e-5,-7e-5,7e-5,-71e-6,71e-6,-72e-6,79e-6,-8e-5,8e-5,-81e-6,81e-6,-84e-6,85e-6,-85e-6,86e-6,-86e-6,87e-6,-87e-6,88e-6,-88e-6,88e-6,-89e-6,9e-5,-9e-5,91e-6,-91e-6,92e-6,-92e-6,92e-6,-93e-6,94e-6,-94e-6,95e-6,-95e-6,96e-6,-96e-6,97e-6,-97e-6,98e-6,-98e-6,96e-6,-96e-6,97e-6,-97e-6,98e-6,-98e-6,96e-6,-96e-6,97e-6,-97e-6,98e-6,-98e-6,99e-6,-99e-6,1e-4,-1e-4,101e-6,-101e-6,102e-6,-102e-6,103e-6,-103e-6,104e-6,-104e-6,105e-6,-105e-6,106e-6,-106e-6,107e-6,-107e-6,108e-6,-108e-6,109e-6,-109e-6,11e-5,-11e-5,111e-6,-111e-6,112e-6,-112e-6,113e-6,-113e-6,114e-6,-114e-6,115e-6,-115e-6,116e-6,-116e-6,117e-6,-118e-6,118e-6,-119e-6,119e-6,-12e-5,12e-5,-121e-6,121e-6,-122e-6,122e-6,-123e-6,123e-6,-128e-6,128e-6,-129e-6,129e-6,-13e-5,13e-5,-131e-6,131e-6,-132e-6,133e-6,-133e-6,134e-6,-134e-6,135e-6,-135e-6,136e-6,-136e-6,137e-6,-138e-6,138e-6,-139e-6,139e-6,-14e-5,14e-5,-141e-6,142e-6,-142e-6,143e-6,-143e-6,144e-6,-144e-6,145e-6,-145e-6,146e-6,-147e-6,147e-6,-148e-6,148e-6,-149e-6,149e-6,-15e-5,151e-6,-151e-6,152e-6,-152e-6,153e-6,-153e-6,154e-6,-155e-6,155e-6,-156e-6,156e-6,-157e-6,158e-6,-158e-6,159e-6,-159e-6,16e-5,-16e-5,161e-6,-162e-6,162e-6,-163e-6,163e-6,-164e-6,164e-6,-165e-6,166e-6,-161e-6,162e-6,-162e-6,163e-6,-163e-6,164e-6,-165e-6,165e-6,-166e-6,166e-6,-167e-6,168e-6,-168e-6,169e-6,-169e-6,17e-5,-17e-5,171e-6,-171e-6,172e-6,-173e-6,173e-6,-174e-6,174e-6,-175e-6,176e-6,-176e-6,177e-6,-177e-6,178e-6,-179e-6,179e-6,-18e-5,18e-5,-181e-6,181e-6,-182e-6,182e-6,-183e-6,184e-6,-184e-6,185e-6,-185e-6,186e-6,-187e-6,187e-6,-188e-6,188e-6,-189e-6,19e-5,-19e-5,191e-6,-191e-6,192e-6,-192e-6,193e-6,-194e-6,194e-6,-195e-6,195e-6,-196e-6,197e-6,-197e-6,198e-6,-198e-6,199e-6,-2e-4,2e-4,-201e-6,201e-6,-173e-6,174e-6,-174e-6,175e-6,-175e-6,176e-6,-176e-6,177e-6,-177e-6,178e-6,-178e-6,179e-6,-179e-6,18e-5,-18e-5,181e-6,-181e-6,182e-6,-182e-6,183e-6,-183e-6,184e-6,-184e-6,185e-6,-185e-6,186e-6,-186e-6,187e-6,-187e-6,188e-6,-188e-6,189e-6,-19e-5,19e-5,-191e-6,191e-6,-192e-6,192e-6,-193e-6,193e-6,-194e-6,194e-6,-195e-6,195e-6,-196e-6,196e-6,-197e-6,197e-6,-198e-6,198e-6,-199e-6,199e-6,-2e-4,2e-4,-201e-6,201e-6,-202e-6,202e-6,-203e-6,203e-6,-204e-6,204e-6,-205e-6,205e-6,-206e-6,206e-6,-207e-6,207e-6,-208e-6,208e-6,-209e-6,209e-6,-21e-5,21e-5,-211e-6,211e-6,-212e-6,213e-6,-213e-6,213e-6,-214e-6,215e-6,-215e-6,216e-6,-216e-6,217e-6,-217e-6,218e-6,-218e-6,219e-6,-219e-6,22e-5,-22e-5,221e-6,-221e-6,222e-6,-222e-6,223e-6,-223e-6,224e-6,-224e-6,225e-6,-225e-6,226e-6,-226e-6,227e-6,-227e-6,201e-6,-202e-6,202e-6,-203e-6,203e-6,-204e-6,204e-6,-205e-6,205e-6,-205e-6,206e-6,-206e-6,207e-6,-207e-6,208e-6,-208e-6,209e-6,-209e-6,21e-5,-21e-5,21e-5,-211e-6,211e-6,-212e-6,212e-6,-213e-6,213e-6,-214e-6,214e-6,-214e-6,215e-6,-215e-6,216e-6,-216e-6,217e-6,-217e-6,218e-6,-218e-6,218e-6,-219e-6,219e-6,-22e-5,22e-5,-221e-6,221e-6,-221e-6,222e-6,-222e-6,223e-6,-223e-6,224e-6,-224e-6,224e-6,-225e-6,225e-6,-226e-6,226e-6,-227e-6,227e-6,-227e-6,228e-6,-228e-6,229e-6,-229e-6,23e-5,-23e-5,23e-5,-231e-6,231e-6,-232e-6,232e-6,-233e-6,233e-6,-234e-6,234e-6,-234e-6,235e-6,-235e-6,236e-6,-236e-6,236e-6,-237e-6,237e-6,-238e-6,238e-6,-238e-6,239e-6,-239e-6,24e-5,-24e-5,226e-6,-227e-6,227e-6,-227e-6,228e-6,-228e-6,229e-6,-229e-6,229e-6,-23e-5,23e-5,-23e-5,231e-6,-231e-6,232e-6,-232e-6,232e-6,-233e-6,233e-6,-234e-6,234e-6,-234e-6,235e-6,-235e-6,235e-6,-236e-6,236e-6,-237e-6,237e-6,-237e-6,238e-6,-238e-6,238e-6,-239e-6,239e-6,-239e-6,24e-5,-24e-5,241e-6,-241e-6,241e-6,-242e-6,242e-6,-242e-6,243e-6,-243e-6,243e-6,-244e-6,244e-6,-244e-6,245e-6,-245e-6,246e-6,-246e-6,246e-6,-247e-6,247e-6,-247e-6,248e-6,-248e-6,248e-6,-249e-6,249e-6,-249e-6,25e-5,-25e-5,25e-5,-251e-6,251e-6,-251e-6,252e-6,-252e-6,252e-6,-253e-6,253e-6,-253e-6,254e-6,-254e-6,254e-6,-255e-6,255e-6,-255e-6,256e-6,-256e-6,256e-6,-257e-6,257e-6,-257e-6,258e-6,-258e-6,258e-6,-259e-6,259e-6,-259e-6,26e-5,-26e-5,26e-5,-26e-5,261e-6,-261e-6,231e-6,-231e-6,232e-6,-232e-6,232e-6,-232e-6,233e-6,-233e-6,233e-6,-234e-6,234e-6,-234e-6,234e-6,-235e-6,235e-6,-235e-6,235e-6,-236e-6,236e-6,-236e-6,236e-6,-237e-6,237e-6,-237e-6,237e-6,-238e-6,238e-6,-238e-6,238e-6,-239e-6,239e-6,-239e-6,239e-6,-239e-6,24e-5,-24e-5,24e-5,-24e-5,241e-6,-241e-6,241e-6,-241e-6,242e-6,-242e-6,242e-6,-242e-6,242e-6,-243e-6,243e-6,-243e-6,243e-6,-244e-6,244e-6,-244e-6,244e-6,-244e-6,245e-6,-245e-6,245e-6,-245e-6,245e-6,-246e-6,246e-6,-246e-6,246e-6,-246e-6,247e-6,-247e-6,247e-6,-247e-6,247e-6,-248e-6,248e-6,-248e-6,248e-6,-248e-6,248e-6,-249e-6,249e-6,-249e-6,249e-6,-249e-6,249e-6,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-252e-6,252e-6,-252e-6,252e-6,-252e-6,252e-6,-252e-6,253e-6,-253e-6,253e-6,-253e-6,253e-6,-253e-6,253e-6,-254e-6,254e-6,-254e-6,254e-6,-254e-6,254e-6,-254e-6,254e-6,-255e-6,255e-6,-255e-6,255e-6,-255e-6,255e-6,-255e-6,255e-6,-255e-6,256e-6,-256e-6,256e-6,-256e-6,256e-6,-256e-6,256e-6,-256e-6,256e-6,-256e-6,257e-6,-257e-6,257e-6,-257e-6,257e-6,-257e-6,257e-6,-257e-6,257e-6,-257e-6,257e-6,-257e-6,257e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,258e-6,-258e-6,259e-6,-259e-6,259e-6,-259e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-251e-6,251e-6,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-25e-5,25e-5,-249e-6,249e-6,-249e-6,249e-6,-249e-6,249e-6,-249e-6,249e-6,-249e-6,249e-6,-249e-6,249e-6,-248e-6,248e-6,-248e-6,248e-6,-248e-6,248e-6,-248e-6,248e-6,-248e-6,247e-6,-247e-6,247e-6,-247e-6,247e-6,-247e-6,247e-6,-247e-6,246e-6,-246e-6,246e-6,-246e-6,246e-6,-246e-6,246e-6,-245e-6,245e-6,-245e-6,245e-6,-245e-6,245e-6,-245e-6,244e-6,-244e-6,244e-6,-244e-6,244e-6,-243e-6,243e-6,-243e-6,243e-6,-243e-6,243e-6,-242e-6,242e-6,-242e-6,242e-6,-242e-6,241e-6,-241e-6,241e-6,-241e-6,241e-6,-24e-5,24e-5,-24e-5,24e-5,-239e-6,239e-6,-239e-6,239e-6,-239e-6,238e-6,-238e-6,238e-6,-238e-6,237e-6,-237e-6,237e-6,-237e-6,236e-6,-236e-6,236e-6,-236e-6,235e-6,-235e-6,235e-6,-235e-6,234e-6,-234e-6,234e-6,-233e-6,233e-6,-233e-6,233e-6,-232e-6,232e-6,-232e-6,231e-6,-231e-6,231e-6,-231e-6,23e-5,-23e-5,23e-5,-229e-6,229e-6,-229e-6,228e-6,-228e-6,228e-6,-227e-6,227e-6,-227e-6,226e-6,-226e-6,226e-6,-225e-6,225e-6,-225e-6,224e-6,-224e-6,224e-6,-223e-6,223e-6,-223e-6,222e-6,-222e-6,222e-6,-221e-6,221e-6,-22e-5,22e-5,-22e-5,219e-6,-219e-6,218e-6,-218e-6,218e-6,-217e-6,217e-6,-217e-6,216e-6,-216e-6,215e-6,-215e-6,214e-6,-214e-6,214e-6,-213e-6,213e-6,-212e-6,212e-6,-212e-6,211e-6,-211e-6,21e-5,-21e-5,209e-6,-209e-6,209e-6,-208e-6,208e-6,-207e-6,207e-6,-206e-6,206e-6,-205e-6,205e-6,-204e-6,204e-6,-203e-6,203e-6,-203e-6,202e-6,-202e-6,201e-6,-201e-6,2e-4,-2e-4,199e-6,-199e-6,198e-6,-198e-6,197e-6,-197e-6,196e-6,-196e-6,195e-6,-195e-6,194e-6,-194e-6,193e-6,-193e-6,192e-6,-191e-6,191e-6,-19e-5,19e-5,-189e-6,189e-6,-188e-6,188e-6,-187e-6,187e-6,-186e-6,185e-6,-185e-6,184e-6,-184e-6,183e-6,-183e-6,182e-6,-182e-6,181e-6,-18e-5,18e-5,-179e-6,179e-6,-178e-6,177e-6,-177e-6,176e-6,-176e-6,175e-6,-175e-6,174e-6,-173e-6,173e-6,-172e-6,172e-6,-171e-6,17e-5,-17e-5,169e-6,-168e-6,168e-6,-167e-6,167e-6,-166e-6,165e-6,-165e-6,164e-6,-163e-6,163e-6,-162e-6,161e-6,-161e-6,16e-5,-16e-5,159e-6,-158e-6,158e-6,-157e-6,156e-6,-156e-6,155e-6,-154e-6,154e-6,-153e-6,152e-6,-152e-6,151e-6,-15e-5,149e-6,-149e-6,148e-6,-147e-6,147e-6,-155e-6,155e-6,-154e-6,153e-6,-152e-6,152e-6,-151e-6,15e-5,-149e-6,149e-6,-148e-6,147e-6,-146e-6,145e-6,-145e-6,144e-6,-143e-6,142e-6,-142e-6,141e-6,-14e-5,139e-6,-139e-6,138e-6,-137e-6,136e-6,-135e-6,135e-6,-134e-6,133e-6,-132e-6,131e-6,-131e-6,13e-5,-129e-6,128e-6,-127e-6,127e-6,-126e-6,125e-6,-124e-6,123e-6,-122e-6,122e-6,-121e-6,12e-5,-119e-6,118e-6,-117e-6,117e-6,-116e-6,115e-6,-114e-6,113e-6,-112e-6,111e-6,-111e-6,11e-5,-109e-6,108e-6,-107e-6,107e-6,-106e-6,105e-6,-104e-6,103e-6,-102e-6,101e-6,-1e-4,1e-4,-99e-6,98e-6,-97e-6,96e-6,-95e-6,94e-6,-93e-6,93e-6,-92e-6,91e-6,-9e-5,89e-6,-88e-6,87e-6,-86e-6,85e-6,-85e-6,84e-6,-83e-6,82e-6,-81e-6,8e-5,-79e-6,78e-6,-77e-6,77e-6,-76e-6,75e-6,-74e-6,73e-6,-72e-6,71e-6,-7e-5,69e-6,-68e-6,67e-6,-66e-6,65e-6,-65e-6,64e-6,-63e-6,62e-6,-61e-6,6e-5,-59e-6,58e-6,-57e-6,56e-6,-55e-6,54e-6,-53e-6,52e-6,-52e-6,51e-6,-5e-5,49e-6,-48e-6,47e-6,-46e-6,45e-6,-44e-6,43e-6,-42e-6,41e-6,-4e-5,39e-6,-38e-6,37e-6,-36e-6,35e-6,-35e-6,34e-6,-33e-6,32e-6,-31e-6,3e-5,-29e-6,28e-6,-27e-6,26e-6,-25e-6,24e-6,-23e-6,22e-6,-21e-6,2e-5,-19e-6,18e-6,-17e-6,16e-6,-15e-6,15e-6,-14e-6,13e-6,-12e-6,11e-6,-1e-5,9e-6,-8e-6,7e-6,-6e-6,5e-6,-4e-6,3e-6,-2e-6,1e-6,-0,-1e-6,2e-6,-3e-6,4e-6,-5e-6,6e-6,-7e-6,8e-6,-8e-6,9e-6,-1e-5,11e-6,-12e-6,13e-6,-14e-6,15e-6,-16e-6,17e-6,-18e-6,19e-6,-2e-5,21e-6,-22e-6,23e-6,-24e-6,25e-6,-26e-6,27e-6,-28e-6,29e-6,-3e-5,31e-6,-31e-6,32e-6,-33e-6,34e-6,-35e-6,36e-6,-37e-6,38e-6,-39e-6,4e-5,-41e-6,42e-6,-43e-6,44e-6,-45e-6,46e-6,-47e-6,47e-6,-48e-6,49e-6,-5e-5,51e-6,-52e-6,53e-6,-54e-6,55e-6,-56e-6,57e-6,-58e-6,59e-6,-6e-5,61e-6,-61e-6,62e-6,-63e-6,64e-6,-65e-6,66e-6,-67e-6,68e-6,-69e-6,7e-5,-71e-6,72e-6,-72e-6,73e-6,-74e-6,75e-6,-76e-6,77e-6,-78e-6,79e-6,-8e-5,8e-5,-81e-6,82e-6,-83e-6,84e-6,-85e-6,86e-6,-87e-6,88e-6,-88e-6,89e-6,-9e-5,91e-6,-92e-6,93e-6,-94e-6,94e-6,-95e-6,96e-6,-97e-6,98e-6,-99e-6,1e-4,-1e-4,101e-6,-102e-6,103e-6,-104e-6,105e-6,-105e-6,106e-6,-107e-6,108e-6,-109e-6,11e-5,-11e-5,111e-6,-112e-6,113e-6,-114e-6,115e-6,-115e-6,116e-6,-117e-6,118e-6,-119e-6,119e-6,-12e-5,121e-6,-122e-6,122e-6,-123e-6,124e-6,-125e-6,126e-6,-126e-6,127e-6,-128e-6,129e-6,-129e-6,13e-5,-131e-6,132e-6,-132e-6,133e-6,-134e-6,135e-6,-135e-6,136e-6,-137e-6,138e-6,-138e-6,139e-6,-14e-5,14e-5,-141e-6,142e-6,-142e-6,143e-6,-144e-6,145e-6,-145e-6,146e-6,-147e-6,147e-6,-148e-6,149e-6,-149e-6,15e-5,-151e-6,151e-6,-152e-6,153e-6,-153e-6,154e-6,-155e-6,155e-6,-156e-6,156e-6,-157e-6,158e-6,-158e-6,159e-6,-16e-5,16e-5,-161e-6,161e-6,-162e-6,162e-6,-163e-6,164e-6,-164e-6,165e-6,-165e-6,166e-6,-167e-6,167e-6,-168e-6,168e-6,-169e-6,169e-6,-17e-5,17e-5,-171e-6,171e-6,-172e-6,172e-6,-173e-6,173e-6,-174e-6,174e-6,-175e-6,175e-6,-176e-6,176e-6,-177e-6,177e-6,-178e-6,178e-6,-179e-6,179e-6,-18e-5,18e-5,-181e-6,181e-6,-181e-6,182e-6,-182e-6,183e-6,-183e-6,184e-6,-184e-6,184e-6,-185e-6,185e-6,-186e-6,186e-6,-186e-6,187e-6,-187e-6,187e-6,-188e-6,188e-6,-188e-6,189e-6,-189e-6,19e-5,-19e-5,19e-5,-19e-5,191e-6,-191e-6,191e-6,-192e-6,192e-6,-192e-6,193e-6,-193e-6,193e-6,-193e-6,194e-6,-194e-6,194e-6,-194e-6,195e-6,-195e-6,195e-6,-195e-6,196e-6,-196e-6,196e-6,-196e-6,196e-6,-197e-6,197e-6,-197e-6,197e-6,-197e-6,198e-6,-198e-6,198e-6,-198e-6,198e-6,-198e-6,199e-6,-199e-6,199e-6,-199e-6,199e-6,-199e-6,199e-6,-199e-6,199e-6,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-2e-4,2e-4,-199e-6,199e-6,-199e-6,199e-6,-199e-6,199e-6,-199e-6,199e-6,-199e-6,198e-6,-198e-6,198e-6,-198e-6,198e-6,-198e-6,197e-6,-197e-6,197e-6,-197e-6,197e-6,-196e-6,196e-6,-196e-6,196e-6,-196e-6,195e-6,-195e-6,195e-6,-195e-6,194e-6,-194e-6,194e-6,-193e-6,193e-6,-193e-6,193e-6,-192e-6,192e-6,-192e-6,191e-6,-191e-6,191e-6,-19e-5,19e-5,-19e-5,189e-6,-189e-6,189e-6,-188e-6,188e-6,-188e-6,187e-6,-187e-6,186e-6,-186e-6,186e-6,-185e-6,185e-6,-184e-6,184e-6,-183e-6,183e-6,-183e-6,182e-6,-182e-6,181e-6,-181e-6,18e-5,-18e-5,179e-6,-179e-6,178e-6,-178e-6,177e-6,-177e-6,176e-6,-176e-6,175e-6,-175e-6,174e-6,-174e-6,173e-6,-173e-6,172e-6,-171e-6,171e-6,-17e-5,17e-5,-169e-6,168e-6,-168e-6,167e-6,-167e-6,166e-6,-165e-6,165e-6,-164e-6,164e-6,-163e-6,162e-6,-162e-6,161e-6,-16e-5,16e-5,-159e-6,158e-6,-158e-6,157e-6,-156e-6,156e-6,-155e-6,154e-6,-153e-6,153e-6,-152e-6,151e-6,-151e-6,15e-5,-149e-6,148e-6,-148e-6,147e-6,-146e-6,145e-6,-145e-6,144e-6,-143e-6,142e-6,-142e-6,141e-6,-14e-5,139e-6,-138e-6,138e-6,-137e-6,149e-6,-148e-6,147e-6,-146e-6,145e-6,-144e-6,144e-6,-143e-6,142e-6,-141e-6,14e-5,-139e-6,138e-6,-137e-6,136e-6,-135e-6,134e-6,-133e-6,132e-6,-131e-6,13e-5,-129e-6,128e-6,-127e-6,126e-6,-125e-6,124e-6,-123e-6,122e-6,-121e-6,12e-5,-119e-6,118e-6,-117e-6,116e-6,-115e-6,114e-6,-113e-6,112e-6,-111e-6,11e-5,-108e-6,107e-6,-106e-6,105e-6,-104e-6,103e-6,-102e-6,101e-6,-1e-4,99e-6,-98e-6,96e-6,-95e-6,94e-6,-93e-6,92e-6,-91e-6,9e-5,-89e-6,87e-6,-86e-6,85e-6,-84e-6,83e-6,-82e-6,8e-5,-79e-6,78e-6,-77e-6,76e-6,-75e-6,74e-6,-72e-6,71e-6,-7e-5,69e-6,-68e-6,66e-6,-65e-6,64e-6,-63e-6,62e-6,-61e-6,59e-6,-58e-6,57e-6,-56e-6,54e-6,-53e-6,52e-6,-51e-6,5e-5,-48e-6,47e-6,-46e-6,45e-6,-43e-6,42e-6,-41e-6,4e-5,-39e-6,37e-6,-36e-6,35e-6,-34e-6,32e-6,-31e-6,3e-5,-29e-6,27e-6,-26e-6,25e-6,-24e-6,23e-6,-21e-6,2e-5,-19e-6,18e-6,-16e-6,15e-6,-14e-6,13e-6,-11e-6,1e-5,-9e-6,8e-6,-6e-6,5e-6,-4e-6,3e-6,-1e-6])}},184:(e,t)=>{var n;!function(){"use strict";var s={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var r=typeof n;if("string"===r||"number"===r)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===r)if(n.toString===Object.prototype.toString)for(var a in n)s.call(n,a)&&n[a]&&e.push(a);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},763:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var s=n(645),i=n.n(s)()((function(e){return e[1]}));i.push([e.id,".stepSequencer {\n  display: block;\n  border-radius: 10px;\n  background-color: #006aaa;\n  padding: 40px;\n  border: 4px black;\n}\n\n.sequencerControls {\n  display: block;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 10px;\n}\n\n.tracks {\n  display: block;\n  border: 1px solid black;\n  border-radius: 10px;\n}\n\n.track {\n  display: block;\n  border: 1px solid black;\n  border-radius: 10px;\n  padding: 5px;\n}\n\n.pad {\n  display: inline-block;\n  border-radius: 4px;\n  padding: 10px 10px;\n  cursor: pointer;\n  border: 1px solid gray;\n}\n\n.pad.on {\n  background-color: #e5f523;\n}\n\n.pad.off {\n  background-color: #829bb1;\n}\n",""]);const r=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,s){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(s)for(var r=0;r<this.length;r++){var o=this[r][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);s&&i[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},679:(e,t,n)=>{"use strict";var s=n(864),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return s.isMemo(e)?o:a[e.$$typeof]||i}a[s.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[s.Memo]=o;var u=Object.defineProperty,c=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,s){if("string"!=typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,s)}var o=c(n);h&&(o=o.concat(h(n)));for(var a=l(t),m=l(n),g=0;g<o.length;++g){var _=o[g];if(!(r[_]||s&&s[_]||m&&m[_]||a&&a[_])){var v=d(n,_);try{u(t,_,v)}catch(e){}}}}return t}},418:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable;function i(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach((function(e){s[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join("")}catch(e){return!1}}()?Object.assign:function(e,r){for(var o,a,l=i(e),u=1;u<arguments.length;u++){for(var c in o=Object(arguments[u]))n.call(o,c)&&(l[c]=o[c]);if(t){a=t(o);for(var h=0;h<a.length;h++)s.call(o,a[h])&&(l[a[h]]=o[a[h]])}}return l}},703:(e,t,n)=>{"use strict";var s=n(414);function i(){}function r(){}r.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,r,o){if(o!==s){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:r,resetWarningCache:i};return n.PropTypes=n,n}},697:(e,t,n)=>{e.exports=n(703)()},414:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},448:(e,t,n)=>{"use strict";var s=n(294),i=n(418),r=n(840);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!s)throw Error(o(227));var a=new Set,l={};function u(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var h=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p=Object.prototype.hasOwnProperty,f={},m={};function g(e,t,n,s,i,r,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=r,this.removeEmptyString=o}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){_[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];_[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){_[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){_[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){_[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){_[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){_[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){_[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){_[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,s){var i=_.hasOwnProperty(t)?_[t]:null;(null!==i?0===i.type:!s&&2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1]))||(function(e,t,n,s){if(null==t||function(e,t,n,s){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!s&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,s))return!0;if(s)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,s)&&(n=null),s||null===i?function(e){return!!p.call(m,e)||!p.call(f,e)&&(d.test(e)?m[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,s=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);_[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),_.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){_[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,S=60106,k=60107,T=60108,C=60114,O=60109,E=60110,A=60112,D=60113,M=60120,P=60115,R=60116,I=60121,N=60128,q=60129,F=60130,j=60131;if("function"==typeof Symbol&&Symbol.for){var V=Symbol.for;x=V("react.element"),S=V("react.portal"),k=V("react.fragment"),T=V("react.strict_mode"),C=V("react.profiler"),O=V("react.provider"),E=V("react.context"),A=V("react.forward_ref"),D=V("react.suspense"),M=V("react.suspense_list"),P=V("react.memo"),R=V("react.lazy"),I=V("react.block"),V("react.scope"),N=V("react.opaque.id"),q=V("react.debug_trace_mode"),F=V("react.offscreen"),j=V("react.legacy_hidden")}var L,z="function"==typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=z&&e[z]||e["@@iterator"])?e:null}function W(e){if(void 0===L)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function $(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var s=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){s=e}e.call(t.prototype)}else{try{throw Error()}catch(e){s=e}e()}}catch(e){if(e&&s&&"string"==typeof e.stack){for(var i=e.stack.split("\n"),r=s.stack.split("\n"),o=i.length-1,a=r.length-1;1<=o&&0<=a&&i[o]!==r[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==r[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==r[a])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=a);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?W(e):""}function Q(e){switch(e.tag){case 5:return W(e.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return $(e.type,!1);case 11:return $(e.type.render,!1);case 22:return $(e.type._render,!1);case 1:return $(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case k:return"Fragment";case S:return"Portal";case C:return"Profiler";case T:return"StrictMode";case D:return"Suspense";case M:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case O:return(e._context.displayName||"Context")+".Provider";case A:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case P:return G(e.type);case I:return G(e._render);case R:t=e._payload,e=e._init;try{return G(e(t))}catch(e){}}return null}function H(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function Y(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function X(e){e._valueTracker||(e._valueTracker=function(e){var t=Y(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,r=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){s=""+e,r.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(e){s=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=Y(e)?e.checked?"true":"false":e.value),(e=s)!==n&&(t.setValue(e),!0)}function K(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,s=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=H(t.value),s=t.type;if(null!=n)"number"===s?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===s||"reset"===s)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function se(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!("submit"!==s&&"reset"!==s||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function re(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return s.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(s&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function le(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function ue(e,t){var n=H(t.value),s=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=s&&(e.defaultValue=""+s)}function ce(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var he="http://www.w3.org/1999/xhtml";function de(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?de(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var fe,me,ge=(me=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((fe=fe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,s){MSApp.execUnsafeLocalFunction((function(){return me(e,t)}))}:me);function _e(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ve={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ye=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||ve.hasOwnProperty(e)&&ve[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var s=0===n.indexOf("--"),i=be(n,t[n],s);"float"===n&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}Object.keys(ve).forEach((function(e){ye.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ve[t]=ve[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Se(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(o(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Te(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Oe=null,Ee=null;function Ae(e){if(e=Js(e)){if("function"!=typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ti(t),Ce(e.stateNode,e.type,t))}}function De(e){Oe?Ee?Ee.push(e):Ee=[e]:Oe=e}function Me(){if(Oe){var e=Oe,t=Ee;if(Ee=Oe=null,Ae(e),t)for(e=0;e<t.length;e++)Ae(t[e])}}function Pe(e,t){return e(t)}function Re(e,t,n,s,i){return e(t,n,s,i)}function Ie(){}var Ne=Pe,qe=!1,Fe=!1;function je(){null===Oe&&null===Ee||(Ie(),Me())}function Ve(e,t){var n=e.stateNode;if(null===n)return null;var s=ti(n);if(null===s)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(s=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!s;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(o(231,t,typeof n));return n}var Le=!1;if(h)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Le=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(me){Le=!1}function Be(e,t,n,s,i,r,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var We=!1,Ue=null,$e=!1,Qe=null,Ge={onError:function(e){We=!0,Ue=e}};function He(e,t,n,s,i,r,o,a,l){We=!1,Ue=null,Be.apply(Ge,arguments)}function Ye(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!=(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Xe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&null!==(e=e.alternate)&&(t=e.memoizedState),null!==t)return t.dehydrated}return null}function Ze(e){if(Ye(e)!==e)throw Error(o(188))}function Ke(e){if(!(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ye(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(null===i)break;var r=i.alternate;if(null===r){if(null!==(s=i.return)){n=s;continue}break}if(i.child===r.child){for(r=i.child;r;){if(r===n)return Ze(i),e;if(r===s)return Ze(i),t;r=r.sibling}throw Error(o(188))}if(n.return!==s.return)n=i,s=r;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,s=r;break}if(l===s){a=!0,s=i,n=r;break}l=l.sibling}if(!a){for(l=r.child;l;){if(l===n){a=!0,n=r,s=i;break}if(l===s){a=!0,s=r,n=i;break}l=l.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==s)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Je(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,st,it=!1,rt=[],ot=null,at=null,lt=null,ut=new Map,ct=new Map,ht=[],dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pt(e,t,n,s,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[s]}}function ft(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":at=null;break;case"mouseover":case"mouseout":lt=null;break;case"pointerover":case"pointerout":ut.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ct.delete(t.pointerId)}}function mt(e,t,n,s,i,r){return null===e||e.nativeEvent!==r?(e=pt(t,n,s,i,r),null!==t&&null!==(t=Js(t))&&tt(t),e):(e.eventSystemFlags|=s,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function gt(e){var t=Ks(e.target);if(null!==t){var n=Ye(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Xe(n)))return e.blockedOn=t,void st(e.lanePriority,(function(){r.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function _t(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Js(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function vt(e,t,n){_t(e)&&n.delete(t)}function yt(){for(it=!1;0<rt.length;){var e=rt[0];if(null!==e.blockedOn){null!==(e=Js(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&rt.shift()}null!==ot&&_t(ot)&&(ot=null),null!==at&&_t(at)&&(at=null),null!==lt&&_t(lt)&&(lt=null),ut.forEach(vt),ct.forEach(vt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,yt)))}function wt(e){function t(t){return bt(t,e)}if(0<rt.length){bt(rt[0],e);for(var n=1;n<rt.length;n++){var s=rt[n];s.blockedOn===e&&(s.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==at&&bt(at,e),null!==lt&&bt(lt,e),ut.forEach(t),ct.forEach(t),n=0;n<ht.length;n++)(s=ht[n]).blockedOn===e&&(s.blockedOn=null);for(;0<ht.length&&null===(n=ht[0]).blockedOn;)gt(n),null===n.blockedOn&&ht.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var St={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},kt={},Tt={};function Ct(e){if(kt[e])return kt[e];if(!St[e])return e;var t,n=St[e];for(t in n)if(n.hasOwnProperty(t)&&t in Tt)return kt[e]=n[t];return e}h&&(Tt=document.createElement("div").style,"AnimationEvent"in window||(delete St.animationend.animation,delete St.animationiteration.animation,delete St.animationstart.animation),"TransitionEvent"in window||delete St.transitionend.transition);var Ot=Ct("animationend"),Et=Ct("animationiteration"),At=Ct("animationstart"),Dt=Ct("transitionend"),Mt=new Map,Pt=new Map,Rt=["abort","abort",Ot,"animationEnd",Et,"animationIteration",At,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Dt,"transitionEnd","waiting","waiting"];function It(e,t){for(var n=0;n<e.length;n+=2){var s=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Pt.set(s,t),Mt.set(s,i),u(i,[s])}}(0,r.unstable_now)();var Nt=8;function qt(e){if(0!=(1&e))return Nt=15,1;if(0!=(2&e))return Nt=14,2;if(0!=(4&e))return Nt=13,4;var t=24&e;return 0!==t?(Nt=12,t):0!=(32&e)?(Nt=11,32):0!=(t=192&e)?(Nt=10,t):0!=(256&e)?(Nt=9,256):0!=(t=3584&e)?(Nt=8,t):0!=(4096&e)?(Nt=7,4096):0!=(t=4186112&e)?(Nt=6,t):0!=(t=62914560&e)?(Nt=5,t):67108864&e?(Nt=4,67108864):0!=(134217728&e)?(Nt=3,134217728):0!=(t=805306368&e)?(Nt=2,t):0!=(1073741824&e)?(Nt=1,1073741824):(Nt=8,e)}function Ft(e,t){var n=e.pendingLanes;if(0===n)return Nt=0;var s=0,i=0,r=e.expiredLanes,o=e.suspendedLanes,a=e.pingedLanes;if(0!==r)s=r,i=Nt=15;else if(0!=(r=134217727&n)){var l=r&~o;0!==l?(s=qt(l),i=Nt):0!=(a&=r)&&(s=qt(a),i=Nt)}else 0!=(r=n&~o)?(s=qt(r),i=Nt):0!==a&&(s=qt(a),i=Nt);if(0===s)return 0;if(s=n&((0>(s=31-Wt(s))?0:1<<s)<<1)-1,0!==t&&t!==s&&0==(t&o)){if(qt(t),i<=Nt)return t;Nt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=s;0<t;)i=1<<(n=31-Wt(t)),s|=e[n],t&=~i;return s}function jt(e){return 0!=(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Vt(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Lt(24&~t))?Vt(10,t):e;case 10:return 0===(e=Lt(192&~t))?Vt(8,t):e;case 8:return 0===(e=Lt(3584&~t))&&0===(e=Lt(4186112&~t))&&(e=512),e;case 2:return 0===(t=Lt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Lt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var s=t-1;e.suspendedLanes&=s,e.pingedLanes&=s,(e=e.eventTimes)[t=31-Wt(t)]=n}var Wt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ut(e)/$t|0)|0},Ut=Math.log,$t=Math.LN2,Qt=r.unstable_UserBlockingPriority,Gt=r.unstable_runWithPriority,Ht=!0;function Yt(e,t,n,s){qe||Ie();var i=Zt,r=qe;qe=!0;try{Re(i,e,t,n,s)}finally{(qe=r)||je()}}function Xt(e,t,n,s){Gt(Qt,Zt.bind(null,e,t,n,s))}function Zt(e,t,n,s){var i;if(Ht)if((i=0==(4&t))&&0<rt.length&&-1<dt.indexOf(e))e=pt(null,e,t,n,s),rt.push(e);else{var r=Kt(e,t,n,s);if(null===r)i&&ft(e,s);else{if(i){if(-1<dt.indexOf(e))return e=pt(r,e,t,n,s),void rt.push(e);if(function(e,t,n,s,i){switch(t){case"focusin":return ot=mt(ot,e,t,n,s,i),!0;case"dragenter":return at=mt(at,e,t,n,s,i),!0;case"mouseover":return lt=mt(lt,e,t,n,s,i),!0;case"pointerover":var r=i.pointerId;return ut.set(r,mt(ut.get(r)||null,e,t,n,s,i)),!0;case"gotpointercapture":return r=i.pointerId,ct.set(r,mt(ct.get(r)||null,e,t,n,s,i)),!0}return!1}(r,e,t,n,s))return;ft(e,s)}Ms(e,t,s,null,n)}}}function Kt(e,t,n,s){var i=Te(s);if(null!==(i=Ks(i))){var r=Ye(i);if(null===r)i=null;else{var o=r.tag;if(13===o){if(null!==(i=Xe(r)))return i;i=null}else if(3===o){if(r.stateNode.hydrate)return 3===r.tag?r.stateNode.containerInfo:null;i=null}else r!==i&&(i=null)}}return Ms(e,t,s,i,n),null}var Jt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,s=n.length,i="value"in Jt?Jt.value:Jt.textContent,r=i.length;for(e=0;e<s&&n[e]===i[e];e++);var o=s-e;for(t=1;t<=o&&n[s-t]===i[r-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function sn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rn(){return!0}function on(){return!1}function an(e){function t(t,n,s,i,r){for(var o in this._reactName=t,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=r,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rn:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rn)},persist:function(){},isPersistent:rn}),t}var ln,un,cn,hn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=an(hn),pn=i({},hn,{view:0,detail:0}),fn=an(pn),mn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==cn&&(cn&&"mousemove"===e.type?(ln=e.screenX-cn.screenX,un=e.screenY-cn.screenY):un=ln=0,cn=e),ln)},movementY:function(e){return"movementY"in e?e.movementY:un}}),gn=an(mn),_n=an(i({},mn,{dataTransfer:0})),vn=an(i({},pn,{relatedTarget:0})),yn=an(i({},hn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=an(i({},hn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),wn=an(i({},hn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function Cn(){return Tn}var On=an(i({},pn,{key:function(e){if(e.key){var t=xn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=sn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cn,charCode:function(e){return"keypress"===e.type?sn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?sn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),En=an(i({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=an(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cn})),Dn=an(i({},hn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=an(i({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=[9,13,27,32],Rn=h&&"CompositionEvent"in window,In=null;h&&"documentMode"in document&&(In=document.documentMode);var Nn=h&&"TextEvent"in window&&!In,qn=h&&(!Rn||In&&8<In&&11>=In),Fn=String.fromCharCode(32),jn=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ln(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1,Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function Un(e,t,n,s){De(s),0<(t=Rs(t,"onChange")).length&&(n=new dn("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var $n=null,Qn=null;function Gn(e){Ts(e,0)}function Hn(e){if(Z(ei(e)))return e}function Yn(e,t){if("change"===e)return t}var Xn=!1;if(h){var Zn;if(h){var Kn="oninput"in document;if(!Kn){var Jn=document.createElement("div");Jn.setAttribute("oninput","return;"),Kn="function"==typeof Jn.oninput}Zn=Kn}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function es(){$n&&($n.detachEvent("onpropertychange",ts),Qn=$n=null)}function ts(e){if("value"===e.propertyName&&Hn(Qn)){var t=[];if(Un(t,Qn,e,Te(e)),e=Gn,qe)e(t);else{qe=!0;try{Pe(e,t)}finally{qe=!1,je()}}}}function ns(e,t,n){"focusin"===e?(es(),Qn=n,($n=t).attachEvent("onpropertychange",ts)):"focusout"===e&&es()}function ss(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Hn(Qn)}function is(e,t){if("click"===e)return Hn(t)}function rs(e,t){if("input"===e||"change"===e)return Hn(t)}var os="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},as=Object.prototype.hasOwnProperty;function ls(e,t){if(os(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++)if(!as.call(t,n[s])||!os(e[n[s]],t[n[s]]))return!1;return!0}function us(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cs(e,t){var n,s=us(e);for(e=0;s;){if(3===s.nodeType){if(n=e+s.textContent.length,e<=t&&n>=t)return{node:s,offset:t-e};e=n}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=us(s)}}function hs(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hs(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ds(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch(e){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function ps(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var fs=h&&"documentMode"in document&&11>=document.documentMode,ms=null,gs=null,_s=null,vs=!1;function ys(e,t,n){var s=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;vs||null==ms||ms!==K(s)||(s="selectionStart"in(s=ms)&&ps(s)?{start:s.selectionStart,end:s.selectionEnd}:{anchorNode:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset},_s&&ls(_s,s)||(_s=s,0<(s=Rs(gs,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ms)))}It("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),It("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),It(Rt,2);for(var bs="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),ws=0;ws<bs.length;ws++)Pt.set(bs[ws],0);c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ss=new Set("cancel close invalid load scroll toggle".split(" ").concat(xs));function ks(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,s,i,r,a,l,u){if(He.apply(this,arguments),We){if(!We)throw Error(o(198));var c=Ue;We=!1,Ue=null,$e||($e=!0,Qe=c)}}(s,t,void 0,e),e.currentTarget=null}function Ts(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var r=void 0;if(t)for(var o=s.length-1;0<=o;o--){var a=s[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==r&&i.isPropagationStopped())break e;ks(i,a,u),r=l}else for(o=0;o<s.length;o++){if(l=(a=s[o]).instance,u=a.currentTarget,a=a.listener,l!==r&&i.isPropagationStopped())break e;ks(i,a,u),r=l}}}if($e)throw e=Qe,$e=!1,Qe=null,e}function Cs(e,t){var n=ni(t),s=e+"__bubble";n.has(s)||(Ds(t,e,2,!1),n.add(s))}var Os="_reactListening"+Math.random().toString(36).slice(2);function Es(e){e[Os]||(e[Os]=!0,a.forEach((function(t){Ss.has(t)||As(t,!1,e,null),As(t,!0,e,null)})))}function As(e,t,n,s){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,r=n;if("selectionchange"===e&&9!==n.nodeType&&(r=n.ownerDocument),null!==s&&!t&&Ss.has(e)){if("scroll"!==e)return;i|=2,r=s}var o=ni(r),a=e+"__"+(t?"capture":"bubble");o.has(a)||(t&&(i|=4),Ds(r,e,i,t),o.add(a))}function Ds(e,t,n,s){var i=Pt.get(t);switch(void 0===i?2:i){case 0:i=Yt;break;case 1:i=Xt;break;default:i=Zt}n=i.bind(null,t,n,e),i=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),s?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Ms(e,t,n,s,i){var r=s;if(0==(1&t)&&0==(2&t)&&null!==s)e:for(;;){if(null===s)return;var o=s.tag;if(3===o||4===o){var a=s.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=s.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ks(a)))return;if(5===(l=o.tag)||6===l){s=r=o;continue e}a=a.parentNode}}s=s.return}!function(e,t,n){if(Fe)return e();Fe=!0;try{Ne(e,t,n)}finally{Fe=!1,je()}}((function(){var s=r,i=Te(n),o=[];e:{var a=Mt.get(e);if(void 0!==a){var l=dn,u=e;switch(e){case"keypress":if(0===sn(n))break e;case"keydown":case"keyup":l=On;break;case"focusin":u="focus",l=vn;break;case"focusout":u="blur",l=vn;break;case"beforeblur":case"afterblur":l=vn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=_n;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case Ot:case Et:case At:l=yn;break;case Dt:l=Dn;break;case"scroll":l=fn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=En}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var p,f=s;null!==f;){var m=(p=f).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==d&&null!=(m=Ve(f,d))&&c.push(Ps(f,m,p))),h)break;f=f.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(0==(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||0!=(16&t)||!(u=n.relatedTarget||n.fromElement)||!Ks(u)&&!u[Xs])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=s,null!==(u=(u=n.relatedTarget||n.toElement)?Ks(u):null)&&(u!==(h=Ye(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=s),l!==u)){if(c=gn,m="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(c=En,m="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?a:ei(l),p=null==u?a:ei(u),(a=new c(m,f+"leave",l,n,i)).target=h,a.relatedTarget=p,m=null,Ks(i)===s&&((c=new c(d,f+"enter",u,n,i)).target=p,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,f=0,p=c=l;p;p=Is(p))f++;for(p=0,m=d;m;m=Is(m))p++;for(;0<f-p;)c=Is(c),f--;for(;0<p-f;)d=Is(d),p--;for(;f--;){if(c===d||null!==d&&c===d.alternate)break e;c=Is(c),d=Is(d)}c=null}else c=null;null!==l&&Ns(o,a,l,c,!1),null!==u&&null!==h&&Ns(o,h,u,c,!0)}if("select"===(l=(a=s?ei(s):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Wn(a))if(Xn)g=rs;else{g=ss;var _=ns}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=is);switch(g&&(g=g(e,s))?Un(o,g,n,i):(_&&_(e,a,s),"focusout"===e&&(_=a._wrapperState)&&_.controlled&&"number"===a.type&&ie(a,"number",a.value)),_=s?ei(s):window,e){case"focusin":(Wn(_)||"true"===_.contentEditable)&&(ms=_,gs=s,_s=null);break;case"focusout":_s=gs=ms=null;break;case"mousedown":vs=!0;break;case"contextmenu":case"mouseup":case"dragend":vs=!1,ys(o,n,i);break;case"selectionchange":if(fs)break;case"keydown":case"keyup":ys(o,n,i)}var v;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else zn?Vn(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(qn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==y?"onCompositionEnd"===y&&zn&&(v=nn()):(en="value"in(Jt=i)?Jt.value:Jt.textContent,zn=!0)),0<(_=Rs(s,y)).length&&(y=new wn(y,e,null,n,i),o.push({event:y,listeners:_}),(v||null!==(v=Ln(n)))&&(y.data=v))),(v=Nn?function(e,t){switch(e){case"compositionend":return Ln(t);case"keypress":return 32!==t.which?null:(jn=!0,Fn);case"textInput":return(e=t.data)===Fn&&jn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!Rn&&Vn(e,t)?(e=nn(),tn=en=Jt=null,zn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qn&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))&&0<(s=Rs(s,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:s}),i.data=v)}Ts(o,t)}))}function Ps(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rs(e,t){for(var n=t+"Capture",s=[];null!==e;){var i=e,r=i.stateNode;5===i.tag&&null!==r&&(i=r,null!=(r=Ve(e,n))&&s.unshift(Ps(e,r,i)),null!=(r=Ve(e,t))&&s.push(Ps(e,r,i))),e=e.return}return s}function Is(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ns(e,t,n,s,i){for(var r=t._reactName,o=[];null!==n&&n!==s;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===s)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Ve(n,r))&&o.unshift(Ps(n,l,a)):i||null!=(l=Ve(n,r))&&o.push(Ps(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function qs(){}var Fs=null,js=null;function Vs(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function Ls(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var zs="function"==typeof setTimeout?setTimeout:void 0,Bs="function"==typeof clearTimeout?clearTimeout:void 0;function Ws(e){(1===e.nodeType||9===e.nodeType&&null!=(e=e.body))&&(e.textContent="")}function Us(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function $s(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var Qs=0,Gs=Math.random().toString(36).slice(2),Hs="__reactFiber$"+Gs,Ys="__reactProps$"+Gs,Xs="__reactContainer$"+Gs,Zs="__reactEvents$"+Gs;function Ks(e){var t=e[Hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Xs]||n[Hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=$s(e);null!==e;){if(n=e[Hs])return n;e=$s(e)}return t}n=(e=n).parentNode}return null}function Js(e){return!(e=e[Hs]||e[Xs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ei(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ti(e){return e[Ys]||null}function ni(e){var t=e[Zs];return void 0===t&&(t=e[Zs]=new Set),t}var si=[],ii=-1;function ri(e){return{current:e}}function oi(e){0>ii||(e.current=si[ii],si[ii]=null,ii--)}function ai(e,t){ii++,si[ii]=e.current,e.current=t}var li={},ui=ri(li),ci=ri(!1),hi=li;function di(e,t){var n=e.type.contextTypes;if(!n)return li;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i,r={};for(i in n)r[i]=t[i];return s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=r),r}function pi(e){return null!=e.childContextTypes}function fi(){oi(ci),oi(ui)}function mi(e,t,n){if(ui.current!==li)throw Error(o(168));ai(ui,t),ai(ci,n)}function gi(e,t,n){var s=e.stateNode;if(e=t.childContextTypes,"function"!=typeof s.getChildContext)return n;for(var r in s=s.getChildContext())if(!(r in e))throw Error(o(108,G(t)||"Unknown",r));return i({},n,s)}function _i(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||li,hi=ui.current,ai(ui,e),ai(ci,ci.current),!0}function vi(e,t,n){var s=e.stateNode;if(!s)throw Error(o(169));n?(e=gi(e,t,hi),s.__reactInternalMemoizedMergedChildContext=e,oi(ci),oi(ui),ai(ui,e)):oi(ci),ai(ci,n)}var yi=null,bi=null,wi=r.unstable_runWithPriority,xi=r.unstable_scheduleCallback,Si=r.unstable_cancelCallback,ki=r.unstable_shouldYield,Ti=r.unstable_requestPaint,Ci=r.unstable_now,Oi=r.unstable_getCurrentPriorityLevel,Ei=r.unstable_ImmediatePriority,Ai=r.unstable_UserBlockingPriority,Di=r.unstable_NormalPriority,Mi=r.unstable_LowPriority,Pi=r.unstable_IdlePriority,Ri={},Ii=void 0!==Ti?Ti:function(){},Ni=null,qi=null,Fi=!1,ji=Ci(),Vi=1e4>ji?Ci:function(){return Ci()-ji};function Li(){switch(Oi()){case Ei:return 99;case Ai:return 98;case Di:return 97;case Mi:return 96;case Pi:return 95;default:throw Error(o(332))}}function zi(e){switch(e){case 99:return Ei;case 98:return Ai;case 97:return Di;case 96:return Mi;case 95:return Pi;default:throw Error(o(332))}}function Bi(e,t){return e=zi(e),wi(e,t)}function Wi(e,t,n){return e=zi(e),xi(e,t,n)}function Ui(){if(null!==qi){var e=qi;qi=null,Si(e)}$i()}function $i(){if(!Fi&&null!==Ni){Fi=!0;var e=0;try{var t=Ni;Bi(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Ni=null}catch(t){throw null!==Ni&&(Ni=Ni.slice(e+1)),xi(Ei,Ui),t}finally{Fi=!1}}}var Qi=w.ReactCurrentBatchConfig;function Gi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Hi=ri(null),Yi=null,Xi=null,Zi=null;function Ki(){Zi=Xi=Yi=null}function Ji(e){var t=Hi.current;oi(Hi),e.type._context._currentValue=t}function er(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function tr(e,t){Yi=e,Zi=Xi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!=(e.lanes&t)&&(Ro=!0),e.firstContext=null)}function nr(e,t){if(Zi!==e&&!1!==t&&0!==t)if("number"==typeof t&&1073741823!==t||(Zi=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Xi){if(null===Yi)throw Error(o(308));Xi=t,Yi.dependencies={lanes:0,firstContext:t,responders:null}}else Xi=Xi.next=t;return e._currentValue}var sr=!1;function ir(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function rr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function or(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ar(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function lr(e,t){var n=e.updateQueue,s=e.alternate;if(null!==s&&n===(s=s.updateQueue)){var i=null,r=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===r?i=r=o:r=r.next=o,n=n.next}while(null!==n);null===r?i=r=t:r=r.next=t}else i=r=t;return n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:r,shared:s.shared,effects:s.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ur(e,t,n,s){var r=e.updateQueue;sr=!1;var o=r.firstBaseUpdate,a=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var u=l,c=u.next;u.next=null,null===a?o=c:a.next=c,a=u;var h=e.alternate;if(null!==h){var d=(h=h.updateQueue).lastBaseUpdate;d!==a&&(null===d?h.firstBaseUpdate=c:d.next=c,h.lastBaseUpdate=u)}}if(null!==o){for(d=r.baseState,a=0,h=c=u=null;;){l=o.lane;var p=o.eventTime;if((s&l)===l){null!==h&&(h=h.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(l=t,p=n,m.tag){case 1:if("function"==typeof(f=m.payload)){d=f.call(p,d,l);break e}d=f;break e;case 3:f.flags=-4097&f.flags|64;case 0:if(null==(l="function"==typeof(f=m.payload)?f.call(p,d,l):f))break e;d=i({},d,l);break e;case 2:sr=!0}}null!==o.callback&&(e.flags|=32,null===(l=r.effects)?r.effects=[o]:l.push(o))}else p={eventTime:p,lane:l,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===h?(c=h=p,u=d):h=h.next=p,a|=l;if(null===(o=o.next)){if(null===(l=r.shared.pending))break;o=l.next,l.next=null,r.lastBaseUpdate=l,r.shared.pending=null}}null===h&&(u=d),r.baseState=u,r.firstBaseUpdate=c,r.lastBaseUpdate=h,Na|=a,e.lanes=a,e.memoizedState=d}}function cr(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(null!==i){if(s.callback=null,s=n,"function"!=typeof i)throw Error(o(191,i));i.call(s)}}}var hr=(new s.Component).refs;function dr(e,t,n,s){n=null==(n=n(s,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pr={isMounted:function(e){return!!(e=e._reactInternals)&&Ye(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=ol(),i=al(e),r=or(s,i);r.payload=t,null!=n&&(r.callback=n),ar(e,r),ll(e,i,s)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=ol(),i=al(e),r=or(s,i);r.tag=1,r.payload=t,null!=n&&(r.callback=n),ar(e,r),ll(e,i,s)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ol(),s=al(e),i=or(n,s);i.tag=2,null!=t&&(i.callback=t),ar(e,i),ll(e,s,n)}};function fr(e,t,n,s,i,r,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(s,r,o):!(t.prototype&&t.prototype.isPureReactComponent&&ls(n,s)&&ls(i,r))}function mr(e,t,n){var s=!1,i=li,r=t.contextType;return"object"==typeof r&&null!==r?r=nr(r):(i=pi(t)?hi:ui.current,r=(s=null!=(s=t.contextTypes))?di(e,i):li),t=new t(n,r),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=pr,e.stateNode=t,t._reactInternals=e,s&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=r),t}function gr(e,t,n,s){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,s),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&pr.enqueueReplaceState(t,t.state,null)}function _r(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=hr,ir(e);var r=t.contextType;"object"==typeof r&&null!==r?i.context=nr(r):(r=pi(t)?hi:ui.current,i.context=di(e,r)),ur(e,n,i,s),i.state=e.memoizedState,"function"==typeof(r=t.getDerivedStateFromProps)&&(dr(e,t,r,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&pr.enqueueReplaceState(i,i.state,null),ur(e,n,i,s),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4)}var vr=Array.isArray;function yr(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var s=n.stateNode}if(!s)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=s.refs;t===hr&&(t=s.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}if("string"!=typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function br(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function wr(e){function t(t,n){if(e){var s=t.lastEffect;null!==s?(s.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,s){if(!e)return null;for(;null!==s;)t(n,s),s=s.sibling;return null}function s(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ll(e,t)).index=0,e.sibling=null,e}function r(t,n,s){return t.index=s,e?null!==(s=t.alternate)?(s=s.index)<n?(t.flags=2,n):s:(t.flags=2,n):n}function a(t){return e&&null===t.alternate&&(t.flags=2),t}function l(e,t,n,s){return null===t||6!==t.tag?((t=Ul(n,e.mode,s)).return=e,t):((t=i(t,n)).return=e,t)}function u(e,t,n,s){return null!==t&&t.elementType===n.type?((s=i(t,n.props)).ref=yr(e,t,n),s.return=e,s):((s=zl(n.type,n.key,n.props,null,e.mode,s)).ref=yr(e,t,n),s.return=e,s)}function c(e,t,n,s){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=$l(n,e.mode,s)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,s,r){return null===t||7!==t.tag?((t=Bl(n,e.mode,s,r)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Ul(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case x:return(n=zl(t.type,t.key,t.props,null,e.mode,n)).ref=yr(e,null,t),n.return=e,n;case S:return(t=$l(t,e.mode,n)).return=e,t}if(vr(t)||B(t))return(t=Bl(t,e.mode,n,null)).return=e,t;br(e,t)}return null}function p(e,t,n,s){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,s);if("object"==typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===k?h(e,t,n.props.children,s,i):u(e,t,n,s):null;case S:return n.key===i?c(e,t,n,s):null}if(vr(n)||B(n))return null!==i?null:h(e,t,n,s,null);br(e,n)}return null}function f(e,t,n,s,i){if("string"==typeof s||"number"==typeof s)return l(t,e=e.get(n)||null,""+s,i);if("object"==typeof s&&null!==s){switch(s.$$typeof){case x:return e=e.get(null===s.key?n:s.key)||null,s.type===k?h(t,e,s.props.children,i,s.key):u(t,e,s,i);case S:return c(t,e=e.get(null===s.key?n:s.key)||null,s,i)}if(vr(s)||B(s))return h(t,e=e.get(n)||null,s,i,null);br(t,s)}return null}function m(i,o,a,l){for(var u=null,c=null,h=o,m=o=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var _=p(i,h,a[m],l);if(null===_){null===h&&(h=g);break}e&&h&&null===_.alternate&&t(i,h),o=r(_,o,m),null===c?u=_:c.sibling=_,c=_,h=g}if(m===a.length)return n(i,h),u;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(o=r(h,o,m),null===c?u=h:c.sibling=h,c=h);return u}for(h=s(i,h);m<a.length;m++)null!==(g=f(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),o=r(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&h.forEach((function(e){return t(i,e)})),u}function g(i,a,l,u){var c=B(l);if("function"!=typeof c)throw Error(o(150));if(null==(l=c.call(l)))throw Error(o(151));for(var h=c=null,m=a,g=a=0,_=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(_=m,m=null):_=m.sibling;var y=p(i,m,v.value,u);if(null===y){null===m&&(m=_);break}e&&m&&null===y.alternate&&t(i,m),a=r(y,a,g),null===h?c=y:h.sibling=y,h=y,m=_}if(v.done)return n(i,m),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=d(i,v.value,u))&&(a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return c}for(m=s(i,m);!v.done;g++,v=l.next())null!==(v=f(m,i,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=r(v,a,g),null===h?c=v:h.sibling=v,h=v);return e&&m.forEach((function(e){return t(i,e)})),c}return function(e,s,r,l){var u="object"==typeof r&&null!==r&&r.type===k&&null===r.key;u&&(r=r.props.children);var c="object"==typeof r&&null!==r;if(c)switch(r.$$typeof){case x:e:{for(c=r.key,u=s;null!==u;){if(u.key===c){switch(u.tag){case 7:if(r.type===k){n(e,u.sibling),(s=i(u,r.props.children)).return=e,e=s;break e}break;default:if(u.elementType===r.type){n(e,u.sibling),(s=i(u,r.props)).ref=yr(e,u,r),s.return=e,e=s;break e}}n(e,u);break}t(e,u),u=u.sibling}r.type===k?((s=Bl(r.props.children,e.mode,l,r.key)).return=e,e=s):((l=zl(r.type,r.key,r.props,null,e.mode,l)).ref=yr(e,s,r),l.return=e,e=l)}return a(e);case S:e:{for(u=r.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===r.containerInfo&&s.stateNode.implementation===r.implementation){n(e,s.sibling),(s=i(s,r.children||[])).return=e,e=s;break e}n(e,s);break}t(e,s),s=s.sibling}(s=$l(r,e.mode,l)).return=e,e=s}return a(e)}if("string"==typeof r||"number"==typeof r)return r=""+r,null!==s&&6===s.tag?(n(e,s.sibling),(s=i(s,r)).return=e,e=s):(n(e,s),(s=Ul(r,e.mode,l)).return=e,e=s),a(e);if(vr(r))return m(e,s,r,l);if(B(r))return g(e,s,r,l);if(c&&br(e,r),void 0===r&&!u)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,s)}}var xr=wr(!0),Sr=wr(!1),kr={},Tr=ri(kr),Cr=ri(kr),Or=ri(kr);function Er(e){if(e===kr)throw Error(o(174));return e}function Ar(e,t){switch(ai(Or,t),ai(Cr,e),ai(Tr,kr),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:pe(null,"");break;default:t=pe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}oi(Tr),ai(Tr,t)}function Dr(){oi(Tr),oi(Cr),oi(Or)}function Mr(e){Er(Or.current);var t=Er(Tr.current),n=pe(t,e.type);t!==n&&(ai(Cr,e),ai(Tr,n))}function Pr(e){Cr.current===e&&(oi(Tr),oi(Cr))}var Rr=ri(0);function Ir(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!=(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Nr=null,qr=null,Fr=!1;function jr(e,t){var n=jl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Vr(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function Lr(e){if(Fr){var t=qr;if(t){var n=t;if(!Vr(e,t)){if(!(t=Us(n.nextSibling))||!Vr(e,t))return e.flags=-1025&e.flags|2,Fr=!1,void(Nr=e);jr(Nr,n)}Nr=e,qr=Us(t.firstChild)}else e.flags=-1025&e.flags|2,Fr=!1,Nr=e}}function zr(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Nr=e}function Br(e){if(e!==Nr)return!1;if(!Fr)return zr(e),Fr=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!Ls(t,e.memoizedProps))for(t=qr;t;)jr(e,t),t=Us(t.nextSibling);if(zr(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){qr=Us(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}qr=null}}else qr=Nr?Us(e.stateNode.nextSibling):null;return!0}function Wr(){qr=Nr=null,Fr=!1}var Ur=[];function $r(){for(var e=0;e<Ur.length;e++)Ur[e]._workInProgressVersionPrimary=null;Ur.length=0}var Qr=w.ReactCurrentDispatcher,Gr=w.ReactCurrentBatchConfig,Hr=0,Yr=null,Xr=null,Zr=null,Kr=!1,Jr=!1;function eo(){throw Error(o(321))}function to(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!os(e[n],t[n]))return!1;return!0}function no(e,t,n,s,i,r){if(Hr=r,Yr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Qr.current=null===e||null===e.memoizedState?Ao:Do,e=n(s,i),Jr){r=0;do{if(Jr=!1,!(25>r))throw Error(o(301));r+=1,Zr=Xr=null,t.updateQueue=null,Qr.current=Mo,e=n(s,i)}while(Jr)}if(Qr.current=Eo,t=null!==Xr&&null!==Xr.next,Hr=0,Zr=Xr=Yr=null,Kr=!1,t)throw Error(o(300));return e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Zr?Yr.memoizedState=Zr=e:Zr=Zr.next=e,Zr}function io(){if(null===Xr){var e=Yr.alternate;e=null!==e?e.memoizedState:null}else e=Xr.next;var t=null===Zr?Yr.memoizedState:Zr.next;if(null!==t)Zr=t,Xr=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Xr=e).memoizedState,baseState:Xr.baseState,baseQueue:Xr.baseQueue,queue:Xr.queue,next:null},null===Zr?Yr.memoizedState=Zr=e:Zr=Zr.next=e}return Zr}function ro(e,t){return"function"==typeof t?t(e):t}function oo(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var s=Xr,i=s.baseQueue,r=n.pending;if(null!==r){if(null!==i){var a=i.next;i.next=r.next,r.next=a}s.baseQueue=i=r,n.pending=null}if(null!==i){i=i.next,s=s.baseState;var l=a=r=null,u=i;do{var c=u.lane;if((Hr&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),s=u.eagerReducer===e?u.eagerState:e(s,u.action);else{var h={lane:c,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(a=l=h,r=s):l=l.next=h,Yr.lanes|=c,Na|=c}u=u.next}while(null!==u&&u!==i);null===l?r=s:l.next=a,os(s,t.memoizedState)||(Ro=!0),t.memoizedState=s,t.baseState=r,t.baseQueue=l,n.lastRenderedState=s}return[t.memoizedState,n.dispatch]}function ao(e){var t=io(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,r=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{r=e(r,a.action),a=a.next}while(a!==i);os(r,t.memoizedState)||(Ro=!0),t.memoizedState=r,null===t.baseQueue&&(t.baseState=r),n.lastRenderedState=r}return[r,s]}function lo(e,t,n){var s=t._getVersion;s=s(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===s:(e=e.mutableReadLanes,(e=(Hr&e)===e)&&(t._workInProgressVersionPrimary=s,Ur.push(t))),e)return n(t._source);throw Ur.push(t),Error(o(350))}function uo(e,t,n,s){var i=Oa;if(null===i)throw Error(o(349));var r=t._getVersion,a=r(t._source),l=Qr.current,u=l.useState((function(){return lo(i,t,n)})),c=u[1],h=u[0];u=Zr;var d=e.memoizedState,p=d.refs,f=p.getSnapshot,m=d.source;d=d.subscribe;var g=Yr;return e.memoizedState={refs:p,source:t,subscribe:s},l.useEffect((function(){p.getSnapshot=n,p.setSnapshot=c;var e=r(t._source);if(!os(a,e)){e=n(t._source),os(h,e)||(c(e),e=al(g),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var s=i.entanglements,o=e;0<o;){var l=31-Wt(o),u=1<<l;s[l]|=e,o&=~u}}}),[n,t,s]),l.useEffect((function(){return s(t._source,(function(){var e=p.getSnapshot,n=p.setSnapshot;try{n(e(t._source));var s=al(g);i.mutableReadLanes|=s&i.pendingLanes}catch(e){n((function(){throw e}))}}))}),[t,s]),os(f,n)&&os(m,t)&&os(d,s)||((e={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:h}).dispatch=c=Oo.bind(null,Yr,e),u.queue=e,u.baseQueue=null,h=lo(i,t,n),u.memoizedState=u.baseState=h),h}function co(e,t,n){return uo(io(),e,t,n)}function ho(e){var t=so();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:ro,lastRenderedState:e}).dispatch=Oo.bind(null,Yr,e),[t.memoizedState,e]}function po(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},null===(t=Yr.updateQueue)?(t={lastEffect:null},Yr.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e),e}function fo(e){return e={current:e},so().memoizedState=e}function mo(){return io().memoizedState}function go(e,t,n,s){var i=so();Yr.flags|=e,i.memoizedState=po(1|t,n,void 0,void 0===s?null:s)}function _o(e,t,n,s){var i=io();s=void 0===s?null:s;var r=void 0;if(null!==Xr){var o=Xr.memoizedState;if(r=o.destroy,null!==s&&to(s,o.deps))return void po(t,n,r,s)}Yr.flags|=e,i.memoizedState=po(1|t,n,r,s)}function vo(e,t){return go(516,4,e,t)}function yo(e,t){return _o(516,4,e,t)}function bo(e,t){return _o(4,2,e,t)}function wo(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function xo(e,t,n){return n=null!=n?n.concat([e]):null,_o(4,2,wo.bind(null,t,e),n)}function So(){}function ko(e,t){var n=io();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&to(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=io();t=void 0===t?null:t;var s=n.memoizedState;return null!==s&&null!==t&&to(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function Co(e,t){var n=Li();Bi(98>n?98:n,(function(){e(!0)})),Bi(97<n?97:n,(function(){var n=Gr.transition;Gr.transition=1;try{e(!1),t()}finally{Gr.transition=n}}))}function Oo(e,t,n){var s=ol(),i=al(e),r={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?r.next=r:(r.next=o.next,o.next=r),t.pending=r,o=e.alternate,e===Yr||null!==o&&o===Yr)Jr=Kr=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,l=o(a,n);if(r.eagerReducer=o,r.eagerState=l,os(l,a))return}catch(e){}ll(e,i,s)}}var Eo={readContext:nr,useCallback:eo,useContext:eo,useEffect:eo,useImperativeHandle:eo,useLayoutEffect:eo,useMemo:eo,useReducer:eo,useRef:eo,useState:eo,useDebugValue:eo,useDeferredValue:eo,useTransition:eo,useMutableSource:eo,useOpaqueIdentifier:eo,unstable_isNewReconciler:!1},Ao={readContext:nr,useCallback:function(e,t){return so().memoizedState=[e,void 0===t?null:t],e},useContext:nr,useEffect:vo,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,go(4,2,wo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4,2,e,t)},useMemo:function(e,t){var n=so();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=so();return t=void 0!==n?n(t):t,s.memoizedState=s.baseState=t,e=(e=s.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Oo.bind(null,Yr,e),[s.memoizedState,e]},useRef:fo,useState:ho,useDebugValue:So,useDeferredValue:function(e){var t=ho(e),n=t[0],s=t[1];return vo((function(){var t=Gr.transition;Gr.transition=1;try{s(e)}finally{Gr.transition=t}}),[e]),n},useTransition:function(){var e=ho(!1),t=e[0];return fo(e=Co.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var s=so();return s.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},uo(s,e,t,n)},useOpaqueIdentifier:function(){if(Fr){var e=!1,t=function(e){return{$$typeof:N,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+(Qs++).toString(36))),Error(o(355))})),n=ho(t)[1];return 0==(2&Yr.mode)&&(Yr.flags|=516,po(5,(function(){n("r:"+(Qs++).toString(36))}),void 0,null)),t}return ho(t="r:"+(Qs++).toString(36)),t},unstable_isNewReconciler:!1},Do={readContext:nr,useCallback:ko,useContext:nr,useEffect:yo,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:To,useReducer:oo,useRef:mo,useState:function(){return oo(ro)},useDebugValue:So,useDeferredValue:function(e){var t=oo(ro),n=t[0],s=t[1];return yo((function(){var t=Gr.transition;Gr.transition=1;try{s(e)}finally{Gr.transition=t}}),[e]),n},useTransition:function(){var e=oo(ro)[0];return[mo().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return oo(ro)[0]},unstable_isNewReconciler:!1},Mo={readContext:nr,useCallback:ko,useContext:nr,useEffect:yo,useImperativeHandle:xo,useLayoutEffect:bo,useMemo:To,useReducer:ao,useRef:mo,useState:function(){return ao(ro)},useDebugValue:So,useDeferredValue:function(e){var t=ao(ro),n=t[0],s=t[1];return yo((function(){var t=Gr.transition;Gr.transition=1;try{s(e)}finally{Gr.transition=t}}),[e]),n},useTransition:function(){var e=ao(ro)[0];return[mo().current,e]},useMutableSource:co,useOpaqueIdentifier:function(){return ao(ro)[0]},unstable_isNewReconciler:!1},Po=w.ReactCurrentOwner,Ro=!1;function Io(e,t,n,s){t.child=null===e?Sr(t,null,n,s):xr(t,e.child,n,s)}function No(e,t,n,s,i){n=n.render;var r=t.ref;return tr(t,i),s=no(e,t,n,s,r,i),null===e||Ro?(t.flags|=1,Io(e,t,s,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Jo(e,t,i))}function qo(e,t,n,s,i,r){if(null===e){var o=n.type;return"function"!=typeof o||Vl(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=zl(n.type,null,s,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Fo(e,t,o,s,i,r))}return o=e.child,0==(i&r)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:ls)(i,s)&&e.ref===t.ref)?Jo(e,t,r):(t.flags|=1,(e=Ll(o,s)).ref=t.ref,e.return=t,t.child=e)}function Fo(e,t,n,s,i,r){if(null!==e&&ls(e.memoizedProps,s)&&e.ref===t.ref){if(Ro=!1,0==(r&i))return t.lanes=e.lanes,Jo(e,t,r);0!=(16384&e.flags)&&(Ro=!0)}return Lo(e,t,n,s,r)}function jo(e,t,n){var s=t.pendingProps,i=s.children,r=null!==e?e.memoizedState:null;if("hidden"===s.mode||"unstable-defer-without-hiding"===s.mode)if(0==(4&t.mode))t.memoizedState={baseLanes:0},gl(0,n);else{if(0==(1073741824&n))return e=null!==r?r.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},gl(0,e),null;t.memoizedState={baseLanes:0},gl(0,null!==r?r.baseLanes:n)}else null!==r?(s=r.baseLanes|n,t.memoizedState=null):s=n,gl(0,s);return Io(e,t,i,n),t.child}function Vo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function Lo(e,t,n,s,i){var r=pi(n)?hi:ui.current;return r=di(t,r),tr(t,i),n=no(e,t,n,s,r,i),null===e||Ro?(t.flags|=1,Io(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,Jo(e,t,i))}function zo(e,t,n,s,i){if(pi(n)){var r=!0;_i(t)}else r=!1;if(tr(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),mr(t,n,s),_r(t,n,s,i),s=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;u="object"==typeof u&&null!==u?nr(u):di(t,u=pi(n)?hi:ui.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==s||l!==u)&&gr(t,o,s,u),sr=!1;var d=t.memoizedState;o.state=d,ur(t,s,o,i),l=t.memoizedState,a!==s||d!==l||ci.current||sr?("function"==typeof c&&(dr(t,n,c,s),l=t.memoizedState),(a=sr||fr(t,n,a,s,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4)):("function"==typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=s,t.memoizedState=l),o.props=s,o.state=l,o.context=u,s=a):("function"==typeof o.componentDidMount&&(t.flags|=4),s=!1)}else{o=t.stateNode,rr(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Gi(t.type,a),o.props=u,h=t.pendingProps,d=o.context,l="object"==typeof(l=n.contextType)&&null!==l?nr(l):di(t,l=pi(n)?hi:ui.current);var p=n.getDerivedStateFromProps;(c="function"==typeof p||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&gr(t,o,s,l),sr=!1,d=t.memoizedState,o.state=d,ur(t,s,o,i);var f=t.memoizedState;a!==h||d!==f||ci.current||sr?("function"==typeof p&&(dr(t,n,p,s),f=t.memoizedState),(u=sr||fr(t,n,u,s,d,f,l))?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(s,f,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(s,f,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),t.memoizedProps=s,t.memoizedState=f),o.props=s,o.state=f,o.context=l,s=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=256),s=!1)}return Bo(e,t,n,s,r,i)}function Bo(e,t,n,s,i,r){Vo(e,t);var o=0!=(64&t.flags);if(!s&&!o)return i&&vi(t,n,!1),Jo(e,t,r);s=t.stateNode,Po.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:s.render();return t.flags|=1,null!==e&&o?(t.child=xr(t,e.child,null,r),t.child=xr(t,null,a,r)):Io(e,t,a,r),t.memoizedState=s.state,i&&vi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?mi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&mi(0,t.context,!1),Ar(e,t.containerInfo)}var Uo,$o,Qo,Go={dehydrated:null,retryLane:0};function Ho(e,t,n){var s,i=t.pendingProps,r=Rr.current,o=!1;return(s=0!=(64&t.flags))||(s=(null===e||null!==e.memoizedState)&&0!=(2&r)),s?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(r|=1),ai(Rr,1&r),null===e?(void 0!==i.fallback&&Lr(t),e=i.children,r=i.fallback,o?(e=Yo(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Go,e):"number"==typeof i.unstable_expectedLoadTime?(e=Yo(t,e,r,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Go,t.lanes=33554432,e):((n=Wl({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=function(e,t,n,s,i){var r=t.mode,o=e.child;e=o.sibling;var a={mode:"hidden",children:n};return 0==(2&r)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=a,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Ll(o,a),null!==e?s=Ll(e,s):(s=Bl(s,r,i,null)).flags|=2,s.return=t,n.return=t,n.sibling=s,t.child=n,s}(e,t,i.children,i.fallback,n),o=t.child,r=e.child.memoizedState,o.memoizedState=null===r?{baseLanes:n}:{baseLanes:r.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Go,i):(n=function(e,t,n,s){var i=e.child;return e=i.sibling,n=Ll(i,{mode:"visible",children:n}),0==(2&t.mode)&&(n.lanes=s),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}(e,t,i.children,n),t.memoizedState=null,n))}function Yo(e,t,n,s){var i=e.mode,r=e.child;return t={mode:"hidden",children:t},0==(2&i)&&null!==r?(r.childLanes=0,r.pendingProps=t):r=Wl(t,i,0,null),n=Bl(n,i,s,null),r.return=e,n.return=e,r.sibling=n,e.child=r,n}function Xo(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),er(e.return,t)}function Zo(e,t,n,s,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i,lastEffect:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i,o.lastEffect=r)}function Ko(e,t,n){var s=t.pendingProps,i=s.revealOrder,r=s.tail;if(Io(e,t,s.children,n),0!=(2&(s=Rr.current)))s=1&s|2,t.flags|=64;else{if(null!==e&&0!=(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xo(e,n);else if(19===e.tag)Xo(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(ai(Rr,s),0==(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ir(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Zo(t,!1,i,n,r,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ir(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Zo(t,!0,n,null,r,t.lastEffect);break;case"together":Zo(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function Jo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Na|=t.lanes,0!=(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Ll(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ll(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function ea(e,t){if(!Fr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;null!==n;)null!==n.alternate&&(s=n),n=n.sibling;null===s?t||null===e.tail?e.tail=null:e.tail.sibling=null:s.sibling=null}}function ta(e,t,n){var s=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(t.type)&&fi(),null;case 3:return Dr(),oi(ci),oi(ui),$r(),(s=t.stateNode).pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),null!==e&&null!==e.child||(Br(t)?t.flags|=4:s.hydrate||(t.flags|=256)),null;case 5:Pr(t);var r=Er(Or.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,s),e.ref!==t.ref&&(t.flags|=128);else{if(!s){if(null===t.stateNode)throw Error(o(166));return null}if(e=Er(Tr.current),Br(t)){s=t.stateNode,n=t.type;var a=t.memoizedProps;switch(s[Hs]=t,s[Ys]=a,n){case"dialog":Cs("cancel",s),Cs("close",s);break;case"iframe":case"object":case"embed":Cs("load",s);break;case"video":case"audio":for(e=0;e<xs.length;e++)Cs(xs[e],s);break;case"source":Cs("error",s);break;case"img":case"image":case"link":Cs("error",s),Cs("load",s);break;case"details":Cs("toggle",s);break;case"input":ee(s,a),Cs("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!a.multiple},Cs("invalid",s);break;case"textarea":le(s,a),Cs("invalid",s)}for(var u in Se(n,a),e=null,a)a.hasOwnProperty(u)&&(r=a[u],"children"===u?"string"==typeof r?s.textContent!==r&&(e=["children",r]):"number"==typeof r&&s.textContent!==""+r&&(e=["children",""+r]):l.hasOwnProperty(u)&&null!=r&&"onScroll"===u&&Cs("scroll",s));switch(n){case"input":X(s),se(s,a,!0);break;case"textarea":X(s),ce(s);break;case"select":case"option":break;default:"function"==typeof a.onClick&&(s.onclick=qs)}s=e,t.updateQueue=s,null!==s&&(t.flags|=4)}else{switch(u=9===r.nodeType?r:r.ownerDocument,e===he&&(e=de(n)),e===he?"script"===n?((e=u.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof s.is?e=u.createElement(n,{is:s.is}):(e=u.createElement(n),"select"===n&&(u=e,s.multiple?u.multiple=!0:s.size&&(u.size=s.size))):e=u.createElementNS(e,n),e[Hs]=t,e[Ys]=s,Uo(e,t),t.stateNode=e,u=ke(n,s),n){case"dialog":Cs("cancel",e),Cs("close",e),r=s;break;case"iframe":case"object":case"embed":Cs("load",e),r=s;break;case"video":case"audio":for(r=0;r<xs.length;r++)Cs(xs[r],e);r=s;break;case"source":Cs("error",e),r=s;break;case"img":case"image":case"link":Cs("error",e),Cs("load",e),r=s;break;case"details":Cs("toggle",e),r=s;break;case"input":ee(e,s),r=J(e,s),Cs("invalid",e);break;case"option":r=re(e,s);break;case"select":e._wrapperState={wasMultiple:!!s.multiple},r=i({},s,{value:void 0}),Cs("invalid",e);break;case"textarea":le(e,s),r=ae(e,s),Cs("invalid",e);break;default:r=s}Se(n,r);var c=r;for(a in c)if(c.hasOwnProperty(a)){var h=c[a];"style"===a?we(e,h):"dangerouslySetInnerHTML"===a?null!=(h=h?h.__html:void 0)&&ge(e,h):"children"===a?"string"==typeof h?("textarea"!==n||""!==h)&&_e(e,h):"number"==typeof h&&_e(e,""+h):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(l.hasOwnProperty(a)?null!=h&&"onScroll"===a&&Cs("scroll",e):null!=h&&b(e,a,h,u))}switch(n){case"input":X(e),se(e,s,!1);break;case"textarea":X(e),ce(e);break;case"option":null!=s.value&&e.setAttribute("value",""+H(s.value));break;case"select":e.multiple=!!s.multiple,null!=(a=s.value)?oe(e,!!s.multiple,a,!1):null!=s.defaultValue&&oe(e,!!s.multiple,s.defaultValue,!0);break;default:"function"==typeof r.onClick&&(e.onclick=qs)}Vs(n,s)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Qo(0,t,e.memoizedProps,s);else{if("string"!=typeof s&&null===t.stateNode)throw Error(o(166));n=Er(Or.current),Er(Tr.current),Br(t)?(s=t.stateNode,n=t.memoizedProps,s[Hs]=t,s.nodeValue!==n&&(t.flags|=4)):((s=(9===n.nodeType?n:n.ownerDocument).createTextNode(s))[Hs]=t,t.stateNode=s)}return null;case 13:return oi(Rr),s=t.memoizedState,0!=(64&t.flags)?(t.lanes=n,t):(s=null!==s,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Br(t):n=null!==e.memoizedState,s&&!n&&0!=(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!=(1&Rr.current)?0===Pa&&(Pa=3):(0!==Pa&&3!==Pa||(Pa=4),null===Oa||0==(134217727&Na)&&0==(134217727&qa)||dl(Oa,Aa))),(s||n)&&(t.flags|=4),null);case 4:return Dr(),null===e&&Es(t.stateNode.containerInfo),null;case 10:return Ji(t),null;case 17:return pi(t.type)&&fi(),null;case 19:if(oi(Rr),null===(s=t.memoizedState))return null;if(a=0!=(64&t.flags),null===(u=s.rendering))if(a)ea(s,!1);else{if(0!==Pa||null!==e&&0!=(64&e.flags))for(e=t.child;null!==e;){if(null!==(u=Ir(e))){for(t.flags|=64,ea(s,!1),null!==(a=u.updateQueue)&&(t.updateQueue=a,t.flags|=4),null===s.lastEffect&&(t.firstEffect=null),t.lastEffect=s.lastEffect,s=n,n=t.child;null!==n;)e=s,(a=n).flags&=2,a.nextEffect=null,a.firstEffect=null,a.lastEffect=null,null===(u=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ai(Rr,1&Rr.current|2),t.child}e=e.sibling}null!==s.tail&&Vi()>La&&(t.flags|=64,a=!0,ea(s,!1),t.lanes=33554432)}else{if(!a)if(null!==(e=Ir(u))){if(t.flags|=64,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ea(s,!0),null===s.tail&&"hidden"===s.tailMode&&!u.alternate&&!Fr)return null!==(t=t.lastEffect=s.lastEffect)&&(t.nextEffect=null),null}else 2*Vi()-s.renderingStartTime>La&&1073741824!==n&&(t.flags|=64,a=!0,ea(s,!1),t.lanes=33554432);s.isBackwards?(u.sibling=t.child,t.child=u):(null!==(n=s.last)?n.sibling=u:t.child=u,s.last=u)}return null!==s.tail?(n=s.tail,s.rendering=n,s.tail=n.sibling,s.lastEffect=t.lastEffect,s.renderingStartTime=Vi(),n.sibling=null,t=Rr.current,ai(Rr,a?1&t|2:1&t),n):null;case 23:case 24:return _l(),null!==e&&null!==e.memoizedState!=(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==s.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function na(e){switch(e.tag){case 1:pi(e.type)&&fi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Dr(),oi(ci),oi(ui),$r(),0!=(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return Pr(e),null;case 13:return oi(Rr),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return oi(Rr),null;case 4:return Dr(),null;case 10:return Ji(e),null;case 23:case 24:return _l(),null;default:return null}}function sa(e,t){try{var n="",s=t;do{n+=Q(s),s=s.return}while(s);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i}}function ia(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}Uo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},$o=function(e,t,n,s){var r=e.memoizedProps;if(r!==s){e=t.stateNode,Er(Tr.current);var o,a=null;switch(n){case"input":r=J(e,r),s=J(e,s),a=[];break;case"option":r=re(e,r),s=re(e,s),a=[];break;case"select":r=i({},r,{value:void 0}),s=i({},s,{value:void 0}),a=[];break;case"textarea":r=ae(e,r),s=ae(e,s),a=[];break;default:"function"!=typeof r.onClick&&"function"==typeof s.onClick&&(e.onclick=qs)}for(h in Se(n,s),n=null,r)if(!s.hasOwnProperty(h)&&r.hasOwnProperty(h)&&null!=r[h])if("style"===h){var u=r[h];for(o in u)u.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==h&&"children"!==h&&"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&"autoFocus"!==h&&(l.hasOwnProperty(h)?a||(a=[]):(a=a||[]).push(h,null));for(h in s){var c=s[h];if(u=null!=r?r[h]:void 0,s.hasOwnProperty(h)&&c!==u&&(null!=c||null!=u))if("style"===h)if(u){for(o in u)!u.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&u[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(a||(a=[]),a.push(h,n)),n=c;else"dangerouslySetInnerHTML"===h?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(a=a||[]).push(h,c)):"children"===h?"string"!=typeof c&&"number"!=typeof c||(a=a||[]).push(h,""+c):"suppressContentEditableWarning"!==h&&"suppressHydrationWarning"!==h&&(l.hasOwnProperty(h)?(null!=c&&"onScroll"===h&&Cs("scroll",e),a||u===c||(a=[])):"object"==typeof c&&null!==c&&c.$$typeof===N?c.toString():(a=a||[]).push(h,c))}n&&(a=a||[]).push("style",n);var h=a;(t.updateQueue=h)&&(t.flags|=4)}},Qo=function(e,t,n,s){n!==s&&(t.flags|=4)};var ra="function"==typeof WeakMap?WeakMap:Map;function oa(e,t,n){(n=or(-1,n)).tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){Ua||(Ua=!0,$a=s),ia(0,t)},n}function aa(e,t,n){(n=or(-1,n)).tag=3;var s=e.type.getDerivedStateFromError;if("function"==typeof s){var i=t.value;n.payload=function(){return ia(0,t),s(i)}}var r=e.stateNode;return null!==r&&"function"==typeof r.componentDidCatch&&(n.callback=function(){"function"!=typeof s&&(null===Qa?Qa=new Set([this]):Qa.add(this),ia(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var la="function"==typeof WeakSet?WeakSet:Set;function ua(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Il(e,t)}else t.current=null}function ca(e,t){switch(t.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,s=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Gi(t.type,n),s),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Ws(t.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(o(163))}function ha(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3==(3&e.tag)){var s=e.create;e.destroy=s()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;s=i.next,0!=(4&(i=i.tag))&&0!=(1&i)&&(Ml(n,e),Dl(n,e)),e=s}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(s=n.elementType===n.type?t.memoizedProps:Gi(n.type,t.memoizedProps),e.componentDidUpdate(s,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&cr(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:e=n.child.stateNode;break;case 1:e=n.child.stateNode}cr(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Vs(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(o(163))}function da(e,t){for(var n=e;;){if(5===n.tag){var s=n.stateNode;if(t)"function"==typeof(s=s.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{s=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,s.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function pa(e,t){if(bi&&"function"==typeof bi.onCommitFiberUnmount)try{bi.onCommitFiberUnmount(yi,t)}catch(e){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var s=n,i=s.destroy;if(s=s.tag,void 0!==i)if(0!=(4&s))Ml(t,n);else{s=t;try{i()}catch(e){Il(s,e)}}n=n.next}while(n!==e)}break;case 1:if(ua(t),"function"==typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Il(t,e)}break;case 5:ua(t);break;case 4:ya(e,t)}}function fa(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ma(e){return 5===e.tag||3===e.tag||4===e.tag}function ga(e){e:{for(var t=e.return;null!==t;){if(ma(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var s=!1;break;case 3:case 4:t=t.containerInfo,s=!0;break;default:throw Error(o(161))}16&n.flags&&(_e(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ma(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}s?_a(e,n,t):va(e,n,t)}function _a(e,t,n){var s=e.tag,i=5===s||6===s;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=qs));else if(4!==s&&null!==(e=e.child))for(_a(e,t,n),e=e.sibling;null!==e;)_a(e,t,n),e=e.sibling}function va(e,t,n){var s=e.tag,i=5===s||6===s;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==s&&null!==(e=e.child))for(va(e,t,n),e=e.sibling;null!==e;)va(e,t,n),e=e.sibling}function ya(e,t){for(var n,s,i=t,r=!1;;){if(!r){r=i.return;e:for(;;){if(null===r)throw Error(o(160));switch(n=r.stateNode,r.tag){case 5:s=!1;break e;case 3:case 4:n=n.containerInfo,s=!0;break e}r=r.return}r=!0}if(5===i.tag||6===i.tag){e:for(var a=e,l=i,u=l;;)if(pa(a,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break e;for(;null===u.sibling;){if(null===u.return||u.return===l)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s?(a=n,l=i.stateNode,8===a.nodeType?a.parentNode.removeChild(l):a.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,s=!0,i.child.return=i,i=i.child;continue}}else if(pa(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(r=!1)}i.sibling.return=i.return,i=i.sibling}}function ba(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var s=n=n.next;do{3==(3&s.tag)&&(e=s.destroy,s.destroy=void 0,void 0!==e&&e()),s=s.next}while(s!==n)}return;case 1:return;case 5:if(null!=(n=t.stateNode)){s=t.memoizedProps;var i=null!==e?e.memoizedProps:s;e=t.type;var r=t.updateQueue;if(t.updateQueue=null,null!==r){for(n[Ys]=s,"input"===e&&"radio"===s.type&&null!=s.name&&te(n,s),ke(e,i),t=ke(e,s),i=0;i<r.length;i+=2){var a=r[i],l=r[i+1];"style"===a?we(n,l):"dangerouslySetInnerHTML"===a?ge(n,l):"children"===a?_e(n,l):b(n,a,l,t)}switch(e){case"input":ne(n,s);break;case"textarea":ue(n,s);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!s.multiple,null!=(r=s.value)?oe(n,!!s.multiple,r,!1):e!==!!s.multiple&&(null!=s.defaultValue?oe(n,!!s.multiple,s.defaultValue,!0):oe(n,!!s.multiple,s.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 12:return;case 13:return null!==t.memoizedState&&(Va=Vi(),da(t.child,!0)),void wa(t);case 19:return void wa(t);case 17:return;case 23:case 24:return void da(t,null!==t.memoizedState)}throw Error(o(163))}function wa(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new la),t.forEach((function(t){var s=ql.bind(null,e,t);n.has(t)||(n.add(t),t.then(s,s))}))}}function xa(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&null!==(t=t.memoizedState)&&null===t.dehydrated}var Sa=Math.ceil,ka=w.ReactCurrentDispatcher,Ta=w.ReactCurrentOwner,Ca=0,Oa=null,Ea=null,Aa=0,Da=0,Ma=ri(0),Pa=0,Ra=null,Ia=0,Na=0,qa=0,Fa=0,ja=null,Va=0,La=1/0;function za(){La=Vi()+500}var Ba,Wa=null,Ua=!1,$a=null,Qa=null,Ga=!1,Ha=null,Ya=90,Xa=[],Za=[],Ka=null,Ja=0,el=null,tl=-1,nl=0,sl=0,il=null,rl=!1;function ol(){return 0!=(48&Ca)?Vi():-1!==tl?tl:tl=Vi()}function al(e){if(0==(2&(e=e.mode)))return 1;if(0==(4&e))return 99===Li()?1:2;if(0===nl&&(nl=Ia),0!==Qi.transition){0!==sl&&(sl=null!==ja?ja.pendingLanes:0),e=nl;var t=4186112&~sl;return 0==(t&=-t)&&0==(t=(e=4186112&~e)&-e)&&(t=8192),t}return e=Li(),e=Vt(0!=(4&Ca)&&98===e?12:e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),nl)}function ll(e,t,n){if(50<Ja)throw Ja=0,el=null,Error(o(185));if(null===(e=ul(e,t)))return null;Bt(e,t,n),e===Oa&&(qa|=t,4===Pa&&dl(e,Aa));var s=Li();1===t?0!=(8&Ca)&&0==(48&Ca)?pl(e):(cl(e,n),0===Ca&&(za(),Ui())):(0==(4&Ca)||98!==s&&99!==s||(null===Ka?Ka=new Set([e]):Ka.add(e)),cl(e,n)),ja=e}function ul(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function cl(e,t){for(var n=e.callbackNode,s=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Wt(a),u=1<<l,c=r[l];if(-1===c){if(0==(u&s)||0!=(u&i)){c=t,qt(u);var h=Nt;r[l]=10<=h?c+250:6<=h?c+5e3:-1}}else c<=t&&(e.expiredLanes|=u);a&=~u}if(s=Ft(e,e===Oa?Aa:0),t=Nt,0===s)null!==n&&(n!==Ri&&Si(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Ri&&Si(n)}15===t?(n=pl.bind(null,e),null===Ni?(Ni=[n],qi=xi(Ei,$i)):Ni.push(n),n=Ri):n=14===t?Wi(99,pl.bind(null,e)):Wi(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),hl.bind(null,e)),e.callbackPriority=t,e.callbackNode=n}}function hl(e){if(tl=-1,sl=nl=0,0!=(48&Ca))throw Error(o(327));var t=e.callbackNode;if(Al()&&e.callbackNode!==t)return null;var n=Ft(e,e===Oa?Aa:0);if(0===n)return null;var s=n,i=Ca;Ca|=16;var r=bl();for(Oa===e&&Aa===s||(za(),vl(e,s));;)try{Sl();break}catch(t){yl(e,t)}if(Ki(),ka.current=r,Ca=i,null!==Ea?s=0:(Oa=null,Aa=0,s=Pa),0!=(Ia&qa))vl(e,0);else if(0!==s){if(2===s&&(Ca|=64,e.hydrate&&(e.hydrate=!1,Ws(e.containerInfo)),0!==(n=jt(e))&&(s=wl(e,n))),1===s)throw t=Ra,vl(e,0),dl(e,n),cl(e,Vi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,s){case 0:case 1:throw Error(o(345));case 2:Cl(e);break;case 3:if(dl(e,n),(62914560&n)===n&&10<(s=Va+500-Vi())){if(0!==Ft(e,0))break;if(((i=e.suspendedLanes)&n)!==n){ol(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=zs(Cl.bind(null,e),s);break}Cl(e);break;case 4:if(dl(e,n),(4186112&n)===n)break;for(s=e.eventTimes,i=-1;0<n;){var a=31-Wt(n);r=1<<a,(a=s[a])>i&&(i=a),n&=~r}if(n=i,10<(n=(120>(n=Vi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Sa(n/1960))-n)){e.timeoutHandle=zs(Cl.bind(null,e),n);break}Cl(e);break;case 5:Cl(e);break;default:throw Error(o(329))}}return cl(e,Vi()),e.callbackNode===t?hl.bind(null,e):null}function dl(e,t){for(t&=~Fa,t&=~qa,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Wt(t),s=1<<n;e[n]=-1,t&=~s}}function pl(e){if(0!=(48&Ca))throw Error(o(327));if(Al(),e===Oa&&0!=(e.expiredLanes&Aa)){var t=Aa,n=wl(e,t);0!=(Ia&qa)&&(n=wl(e,t=Ft(e,t)))}else n=wl(e,t=Ft(e,0));if(0!==e.tag&&2===n&&(Ca|=64,e.hydrate&&(e.hydrate=!1,Ws(e.containerInfo)),0!==(t=jt(e))&&(n=wl(e,t))),1===n)throw n=Ra,vl(e,0),dl(e,t),cl(e,Vi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cl(e),cl(e,Vi()),null}function fl(e,t){var n=Ca;Ca|=1;try{return e(t)}finally{0===(Ca=n)&&(za(),Ui())}}function ml(e,t){var n=Ca;Ca&=-2,Ca|=8;try{return e(t)}finally{0===(Ca=n)&&(za(),Ui())}}function gl(e,t){ai(Ma,Da),Da|=t,Ia|=t}function _l(){Da=Ma.current,oi(Ma)}function vl(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Bs(n)),null!==Ea)for(n=Ea.return;null!==n;){var s=n;switch(s.tag){case 1:null!=(s=s.type.childContextTypes)&&fi();break;case 3:Dr(),oi(ci),oi(ui),$r();break;case 5:Pr(s);break;case 4:Dr();break;case 13:case 19:oi(Rr);break;case 10:Ji(s);break;case 23:case 24:_l()}n=n.return}Oa=e,Ea=Ll(e.current,null),Aa=Da=Ia=t,Pa=0,Ra=null,Fa=qa=Na=0}function yl(e,t){for(;;){var n=Ea;try{if(Ki(),Qr.current=Eo,Kr){for(var s=Yr.memoizedState;null!==s;){var i=s.queue;null!==i&&(i.pending=null),s=s.next}Kr=!1}if(Hr=0,Zr=Xr=Yr=null,Jr=!1,Ta.current=null,null===n||null===n.return){Pa=1,Ra=t,Ea=null;break}e:{var r=e,o=n.return,a=n,l=t;if(t=Aa,a.flags|=2048,a.firstEffect=a.lastEffect=null,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l;if(0==(2&a.mode)){var c=a.alternate;c?(a.updateQueue=c.updateQueue,a.memoizedState=c.memoizedState,a.lanes=c.lanes):(a.updateQueue=null,a.memoizedState=null)}var h=0!=(1&Rr.current),d=o;do{var p;if(p=13===d.tag){var f=d.memoizedState;if(null!==f)p=null!==f.dehydrated;else{var m=d.memoizedProps;p=void 0!==m.fallback&&(!0!==m.unstable_avoidThisFallback||!h)}}if(p){var g=d.updateQueue;if(null===g){var _=new Set;_.add(u),d.updateQueue=_}else g.add(u);if(0==(2&d.mode)){if(d.flags|=64,a.flags|=16384,a.flags&=-2981,1===a.tag)if(null===a.alternate)a.tag=17;else{var v=or(-1,1);v.tag=2,ar(a,v)}a.lanes|=1;break e}l=void 0,a=t;var y=r.pingCache;if(null===y?(y=r.pingCache=new ra,l=new Set,y.set(u,l)):void 0===(l=y.get(u))&&(l=new Set,y.set(u,l)),!l.has(a)){l.add(a);var b=Nl.bind(null,r,u,a);u.then(b,b)}d.flags|=4096,d.lanes=t;break e}d=d.return}while(null!==d);l=Error((G(a.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Pa&&(Pa=2),l=sa(l,a),d=o;do{switch(d.tag){case 3:r=l,d.flags|=4096,t&=-t,d.lanes|=t,lr(d,oa(0,r,t));break e;case 1:r=l;var w=d.type,x=d.stateNode;if(0==(64&d.flags)&&("function"==typeof w.getDerivedStateFromError||null!==x&&"function"==typeof x.componentDidCatch&&(null===Qa||!Qa.has(x)))){d.flags|=4096,t&=-t,d.lanes|=t,lr(d,aa(d,r,t));break e}}d=d.return}while(null!==d)}Tl(n)}catch(e){t=e,Ea===n&&null!==n&&(Ea=n=n.return);continue}break}}function bl(){var e=ka.current;return ka.current=Eo,null===e?Eo:e}function wl(e,t){var n=Ca;Ca|=16;var s=bl();for(Oa===e&&Aa===t||vl(e,t);;)try{xl();break}catch(t){yl(e,t)}if(Ki(),Ca=n,ka.current=s,null!==Ea)throw Error(o(261));return Oa=null,Aa=0,Pa}function xl(){for(;null!==Ea;)kl(Ea)}function Sl(){for(;null!==Ea&&!ki();)kl(Ea)}function kl(e){var t=Ba(e.alternate,e,Da);e.memoizedProps=e.pendingProps,null===t?Tl(e):Ea=t,Ta.current=null}function Tl(e){var t=e;do{var n=t.alternate;if(e=t.return,0==(2048&t.flags)){if(null!==(n=ta(n,t,Da)))return void(Ea=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!=(1073741824&Da)||0==(4&n.mode)){for(var s=0,i=n.child;null!==i;)s|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=s}null!==e&&0==(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=na(t)))return n.flags&=2047,void(Ea=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ea=t);Ea=t=e}while(null!==t);0===Pa&&(Pa=5)}function Cl(e){var t=Li();return Bi(99,Ol.bind(null,e,t)),null}function Ol(e,t){do{Al()}while(null!==Ha);if(0!=(48&Ca))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var s=n.lanes|n.childLanes,i=s,r=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var a=e.eventTimes,l=e.expirationTimes;0<r;){var u=31-Wt(r),c=1<<u;i[u]=0,a[u]=-1,l[u]=-1,r&=~c}if(null!==Ka&&0==(24&s)&&Ka.has(e)&&Ka.delete(e),e===Oa&&(Ea=Oa=null,Aa=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,s=n.firstEffect):s=n:s=n.firstEffect,null!==s){if(i=Ca,Ca|=32,Ta.current=null,Fs=Ht,ps(a=ds())){if("selectionStart"in a)l={start:a.selectionStart,end:a.selectionEnd};else e:if(l=(l=a.ownerDocument)&&l.defaultView||window,(c=l.getSelection&&l.getSelection())&&0!==c.rangeCount){l=c.anchorNode,r=c.anchorOffset,u=c.focusNode,c=c.focusOffset;try{l.nodeType,u.nodeType}catch(e){l=null;break e}var h=0,d=-1,p=-1,f=0,m=0,g=a,_=null;t:for(;;){for(var v;g!==l||0!==r&&3!==g.nodeType||(d=h+r),g!==u||0!==c&&3!==g.nodeType||(p=h+c),3===g.nodeType&&(h+=g.nodeValue.length),null!==(v=g.firstChild);)_=g,g=v;for(;;){if(g===a)break t;if(_===l&&++f===r&&(d=h),_===u&&++m===c&&(p=h),null!==(v=g.nextSibling))break;_=(g=_).parentNode}g=v}l=-1===d||-1===p?null:{start:d,end:p}}else l=null;l=l||{start:0,end:0}}else l=null;js={focusedElem:a,selectionRange:l},Ht=!1,il=null,rl=!1,Wa=s;do{try{El()}catch(e){if(null===Wa)throw Error(o(330));Il(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);il=null,Wa=s;do{try{for(a=e;null!==Wa;){var y=Wa.flags;if(16&y&&_e(Wa.stateNode,""),128&y){var b=Wa.alternate;if(null!==b){var w=b.ref;null!==w&&("function"==typeof w?w(null):w.current=null)}}switch(1038&y){case 2:ga(Wa),Wa.flags&=-3;break;case 6:ga(Wa),Wa.flags&=-3,ba(Wa.alternate,Wa);break;case 1024:Wa.flags&=-1025;break;case 1028:Wa.flags&=-1025,ba(Wa.alternate,Wa);break;case 4:ba(Wa.alternate,Wa);break;case 8:ya(a,l=Wa);var x=l.alternate;fa(l),null!==x&&fa(x)}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(o(330));Il(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);if(w=js,b=ds(),y=w.focusedElem,a=w.selectionRange,b!==y&&y&&y.ownerDocument&&hs(y.ownerDocument.documentElement,y)){null!==a&&ps(y)&&(b=a.start,void 0===(w=a.end)&&(w=b),"selectionStart"in y?(y.selectionStart=b,y.selectionEnd=Math.min(w,y.value.length)):(w=(b=y.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=y.textContent.length,x=Math.min(a.start,l),a=void 0===a.end?x:Math.min(a.end,l),!w.extend&&x>a&&(l=a,a=x,x=l),l=cs(y,x),r=cs(y,a),l&&r&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==r.node||w.focusOffset!==r.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),x>a?(w.addRange(b),w.extend(r.node,r.offset)):(b.setEnd(r.node,r.offset),w.addRange(b))))),b=[];for(w=y;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"==typeof y.focus&&y.focus(),y=0;y<b.length;y++)(w=b[y]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Ht=!!Fs,js=Fs=null,e.current=n,Wa=s;do{try{for(y=e;null!==Wa;){var S=Wa.flags;if(36&S&&ha(y,Wa.alternate,Wa),128&S){b=void 0;var k=Wa.ref;if(null!==k){var T=Wa.stateNode;switch(Wa.tag){case 5:b=T;break;default:b=T}"function"==typeof k?k(b):k.current=b}}Wa=Wa.nextEffect}}catch(e){if(null===Wa)throw Error(o(330));Il(Wa,e),Wa=Wa.nextEffect}}while(null!==Wa);Wa=null,Ii(),Ca=i}else e.current=n;if(Ga)Ga=!1,Ha=e,Ya=t;else for(Wa=s;null!==Wa;)t=Wa.nextEffect,Wa.nextEffect=null,8&Wa.flags&&((S=Wa).sibling=null,S.stateNode=null),Wa=t;if(0===(s=e.pendingLanes)&&(Qa=null),1===s?e===el?Ja++:(Ja=0,el=e):Ja=0,n=n.stateNode,bi&&"function"==typeof bi.onCommitFiberRoot)try{bi.onCommitFiberRoot(yi,n,void 0,64==(64&n.current.flags))}catch(e){}if(cl(e,Vi()),Ua)throw Ua=!1,e=$a,$a=null,e;return 0!=(8&Ca)||Ui(),null}function El(){for(;null!==Wa;){var e=Wa.alternate;rl||null===il||(0!=(8&Wa.flags)?Je(Wa,il)&&(rl=!0):13===Wa.tag&&xa(e,Wa)&&Je(Wa,il)&&(rl=!0));var t=Wa.flags;0!=(256&t)&&ca(e,Wa),0==(512&t)||Ga||(Ga=!0,Wi(97,(function(){return Al(),null}))),Wa=Wa.nextEffect}}function Al(){if(90!==Ya){var e=97<Ya?97:Ya;return Ya=90,Bi(e,Pl)}return!1}function Dl(e,t){Xa.push(t,e),Ga||(Ga=!0,Wi(97,(function(){return Al(),null})))}function Ml(e,t){Za.push(t,e),Ga||(Ga=!0,Wi(97,(function(){return Al(),null})))}function Pl(){if(null===Ha)return!1;var e=Ha;if(Ha=null,0!=(48&Ca))throw Error(o(331));var t=Ca;Ca|=32;var n=Za;Za=[];for(var s=0;s<n.length;s+=2){var i=n[s],r=n[s+1],a=i.destroy;if(i.destroy=void 0,"function"==typeof a)try{a()}catch(e){if(null===r)throw Error(o(330));Il(r,e)}}for(n=Xa,Xa=[],s=0;s<n.length;s+=2){i=n[s],r=n[s+1];try{var l=i.create;i.destroy=l()}catch(e){if(null===r)throw Error(o(330));Il(r,e)}}for(l=e.current.firstEffect;null!==l;)e=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=e;return Ca=t,Ui(),!0}function Rl(e,t,n){ar(e,t=oa(0,t=sa(n,t),1)),t=ol(),null!==(e=ul(e,1))&&(Bt(e,1,t),cl(e,t))}function Il(e,t){if(3===e.tag)Rl(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Rl(n,e,t);break}if(1===n.tag){var s=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof s.componentDidCatch&&(null===Qa||!Qa.has(s))){var i=aa(n,e=sa(t,e),1);if(ar(n,i),i=ol(),null!==(n=ul(n,1)))Bt(n,1,i),cl(n,i);else if("function"==typeof s.componentDidCatch&&(null===Qa||!Qa.has(s)))try{s.componentDidCatch(t,e)}catch(e){}break}}n=n.return}}function Nl(e,t,n){var s=e.pingCache;null!==s&&s.delete(t),t=ol(),e.pingedLanes|=e.suspendedLanes&n,Oa===e&&(Aa&n)===n&&(4===Pa||3===Pa&&(62914560&Aa)===Aa&&500>Vi()-Va?vl(e,0):Fa|=n),cl(e,t)}function ql(e,t){var n=e.stateNode;null!==n&&n.delete(t),0==(t=0)&&(0==(2&(t=e.mode))?t=1:0==(4&t)?t=99===Li()?1:2:(0===nl&&(nl=Ia),0===(t=Lt(62914560&~nl))&&(t=4194304))),n=ol(),null!==(e=ul(e,t))&&(Bt(e,t,n),cl(e,n))}function Fl(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function jl(e,t,n,s){return new Fl(e,t,n,s)}function Vl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ll(e,t){var n=e.alternate;return null===n?((n=jl(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function zl(e,t,n,s,i,r){var a=2;if(s=e,"function"==typeof e)Vl(e)&&(a=1);else if("string"==typeof e)a=5;else e:switch(e){case k:return Bl(n.children,i,r,t);case q:a=8,i|=16;break;case T:a=8,i|=1;break;case C:return(e=jl(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=r,e;case D:return(e=jl(13,n,t,i)).type=D,e.elementType=D,e.lanes=r,e;case M:return(e=jl(19,n,t,i)).elementType=M,e.lanes=r,e;case F:return Wl(n,i,r,t);case j:return(e=jl(24,n,t,i)).elementType=j,e.lanes=r,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case O:a=10;break e;case E:a=9;break e;case A:a=11;break e;case P:a=14;break e;case R:a=16,s=null;break e;case I:a=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=jl(a,n,t,i)).elementType=e,t.type=s,t.lanes=r,t}function Bl(e,t,n,s){return(e=jl(7,e,s,t)).lanes=n,e}function Wl(e,t,n,s){return(e=jl(23,e,s,t)).elementType=F,e.lanes=n,e}function Ul(e,t,n){return(e=jl(6,e,null,t)).lanes=n,e}function $l(e,t,n){return(t=jl(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ql(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Gl(e,t,n){var s=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==s?null:""+s,children:e,containerInfo:t,implementation:n}}function Hl(e,t,n,s){var i=t.current,r=ol(),a=al(i);e:if(n){t:{if(Ye(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break t;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break t}}l=l.return}while(null!==l);throw Error(o(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=gi(n,u,l);break e}}n=l}else n=li;return null===t.context?t.context=n:t.pendingContext=n,(t=or(r,a)).payload={element:e},null!==(s=void 0===s?null:s)&&(t.callback=s),ar(i,t),ll(i,a,r),a}function Yl(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function Xl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Zl(e,t){Xl(e,t),(e=e.alternate)&&Xl(e,t)}function Kl(e,t,n){var s=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ql(e,t,null!=n&&!0===n.hydrate),t=jl(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,ir(t),e[Xs]=n.current,Es(8===e.nodeType?e.parentNode:e),s)for(e=0;e<s.length;e++){var i=(t=s[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function Jl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(e,t,n,s,i){var r=n._reactRootContainer;if(r){var o=r._internalRoot;if("function"==typeof i){var a=i;i=function(){var e=Yl(o);a.call(e)}}Hl(t,o,e,i)}else{if(r=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Kl(e,0,t?{hydrate:!0}:void 0)}(n,s),o=r._internalRoot,"function"==typeof i){var l=i;i=function(){var e=Yl(o);l.call(e)}}ml((function(){Hl(t,o,e,i)}))}return Yl(o)}function tu(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jl(t))throw Error(o(200));return Gl(e,t,null,n)}Ba=function(e,t,n){var s=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||ci.current)Ro=!0;else{if(0==(n&s)){switch(Ro=!1,t.tag){case 3:Wo(t),Wr();break;case 5:Mr(t);break;case 1:pi(t.type)&&_i(t);break;case 4:Ar(t,t.stateNode.containerInfo);break;case 10:s=t.memoizedProps.value;var i=t.type._context;ai(Hi,i._currentValue),i._currentValue=s;break;case 13:if(null!==t.memoizedState)return 0!=(n&t.child.childLanes)?Ho(e,t,n):(ai(Rr,1&Rr.current),null!==(t=Jo(e,t,n))?t.sibling:null);ai(Rr,1&Rr.current);break;case 19:if(s=0!=(n&t.childLanes),0!=(64&e.flags)){if(s)return Ko(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ai(Rr,Rr.current),s)break;return null;case 23:case 24:return t.lanes=0,jo(e,t,n)}return Jo(e,t,n)}Ro=0!=(16384&e.flags)}else Ro=!1;switch(t.lanes=0,t.tag){case 2:if(s=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=di(t,ui.current),tr(t,n),i=no(null,t,s,e,i,n),t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,pi(s)){var r=!0;_i(t)}else r=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,ir(t);var a=s.getDerivedStateFromProps;"function"==typeof a&&dr(t,s,a,e),i.updater=pr,t.stateNode=i,i._reactInternals=t,_r(t,s,e,n),t=Bo(null,t,s,!0,r,n)}else t.tag=0,Io(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(r=i._init)(i._payload),t.type=i,r=t.tag=function(e){if("function"==typeof e)return Vl(e)?1:0;if(null!=e){if((e=e.$$typeof)===A)return 11;if(e===P)return 14}return 2}(i),e=Gi(i,e),r){case 0:t=Lo(null,t,i,e,n);break e;case 1:t=zo(null,t,i,e,n);break e;case 11:t=No(null,t,i,e,n);break e;case 14:t=qo(null,t,i,Gi(i.type,e),s,n);break e}throw Error(o(306,i,""))}return t;case 0:return s=t.type,i=t.pendingProps,Lo(e,t,s,i=t.elementType===s?i:Gi(s,i),n);case 1:return s=t.type,i=t.pendingProps,zo(e,t,s,i=t.elementType===s?i:Gi(s,i),n);case 3:if(Wo(t),s=t.updateQueue,null===e||null===s)throw Error(o(282));if(s=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,rr(e,t),ur(t,s,null,n),(s=t.memoizedState.element)===i)Wr(),t=Jo(e,t,n);else{if((r=(i=t.stateNode).hydrate)&&(qr=Us(t.stateNode.containerInfo.firstChild),Nr=t,r=Fr=!0),r){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(r=e[i])._workInProgressVersionPrimary=e[i+1],Ur.push(r);for(n=Sr(t,null,s,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Io(e,t,s,n),Wr();t=t.child}return t;case 5:return Mr(t),null===e&&Lr(t),s=t.type,i=t.pendingProps,r=null!==e?e.memoizedProps:null,a=i.children,Ls(s,i)?a=null:null!==r&&Ls(s,r)&&(t.flags|=16),Vo(e,t),Io(e,t,a,n),t.child;case 6:return null===e&&Lr(t),null;case 13:return Ho(e,t,n);case 4:return Ar(t,t.stateNode.containerInfo),s=t.pendingProps,null===e?t.child=xr(t,null,s,n):Io(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,No(e,t,s,i=t.elementType===s?i:Gi(s,i),n);case 7:return Io(e,t,t.pendingProps,n),t.child;case 8:case 12:return Io(e,t,t.pendingProps.children,n),t.child;case 10:e:{s=t.type._context,i=t.pendingProps,a=t.memoizedProps,r=i.value;var l=t.type._context;if(ai(Hi,l._currentValue),l._currentValue=r,null!==a)if(l=a.value,0==(r=os(l,r)?0:0|("function"==typeof s._calculateChangedBits?s._calculateChangedBits(l,r):1073741823))){if(a.children===i.children&&!ci.current){t=Jo(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var u=l.dependencies;if(null!==u){a=l.child;for(var c=u.firstContext;null!==c;){if(c.context===s&&0!=(c.observedBits&r)){1===l.tag&&((c=or(-1,n&-n)).tag=2,ar(l,c)),l.lanes|=n,null!==(c=l.alternate)&&(c.lanes|=n),er(l.return,n),u.lanes|=n;break}c=c.next}}else a=10===l.tag&&l.type===t.type?null:l.child;if(null!==a)a.return=l;else for(a=l;null!==a;){if(a===t){a=null;break}if(null!==(l=a.sibling)){l.return=a.return,a=l;break}a=a.return}l=a}Io(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=(r=t.pendingProps).children,tr(t,n),s=s(i=nr(i,r.unstable_observedBits)),t.flags|=1,Io(e,t,s,n),t.child;case 14:return r=Gi(i=t.type,t.pendingProps),qo(e,t,i,r=Gi(i.type,r),s,n);case 15:return Fo(e,t,t.type,t.pendingProps,s,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:Gi(s,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,pi(s)?(e=!0,_i(t)):e=!1,tr(t,n),mr(t,s,i),_r(t,s,i,n),Bo(null,t,s,!0,e,n);case 19:return Ko(e,t,n);case 23:case 24:return jo(e,t,n)}throw Error(o(156,t.tag))},Kl.prototype.render=function(e){Hl(e,this._internalRoot,null,null)},Kl.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Hl(null,e,null,(function(){t[Xs]=null}))},et=function(e){13===e.tag&&(ll(e,4,ol()),Zl(e,4))},tt=function(e){13===e.tag&&(ll(e,67108864,ol()),Zl(e,67108864))},nt=function(e){if(13===e.tag){var t=ol(),n=al(e);ll(e,n,t),Zl(e,n)}},st=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=ti(s);if(!i)throw Error(o(90));Z(s),ne(s,i)}}}break;case"textarea":ue(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Pe=fl,Re=function(e,t,n,s,i){var r=Ca;Ca|=4;try{return Bi(98,e.bind(null,t,n,s,i))}finally{0===(Ca=r)&&(za(),Ui())}},Ie=function(){0==(49&Ca)&&(function(){if(null!==Ka){var e=Ka;Ka=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,cl(e,Vi())}))}Ui()}(),Al())},Ne=function(e,t){var n=Ca;Ca|=2;try{return e(t)}finally{0===(Ca=n)&&(za(),Ui())}};var nu={Events:[Js,ei,ti,De,Me,Al,{current:!1}]},su={findFiberByHostInstance:Ks,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},iu={bundleType:su.bundleType,version:su.version,rendererPackageName:su.rendererPackageName,rendererConfig:su.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:su.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{yi=ru.inject(iu),bi=ru}catch(me){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=tu,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"==typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Ca;if(0!=(48&n))return e(t);Ca|=1;try{if(e)return Bi(99,e.bind(null,t))}finally{Ca=n,Ui()}},t.hydrate=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!0,n)},t.render=function(e,t,n){if(!Jl(t))throw Error(o(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jl(e))throw Error(o(40));return!!e._reactRootContainer&&(ml((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Xs]=null}))})),!0)},t.unstable_batchedUpdates=fl,t.unstable_createPortal=function(e,t){return tu(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Jl(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return eu(e,t,n,!1,s)},t.version="17.0.2"},935:(e,t,n)=>{"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(448)},921:(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,s=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,r=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,u=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,_=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,y=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function w(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case c:case h:case r:case a:case o:case p:return e;default:switch(e=e&&e.$$typeof){case u:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function x(e){return w(e)===h}t.AsyncMode=c,t.ConcurrentMode=h,t.ContextConsumer=u,t.ContextProvider=l,t.Element=s,t.ForwardRef=d,t.Fragment=r,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=a,t.StrictMode=o,t.Suspense=p,t.isAsyncMode=function(e){return x(e)||w(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return w(e)===u},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return w(e)===d},t.isFragment=function(e){return w(e)===r},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===i},t.isProfiler=function(e){return w(e)===a},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===p},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===r||e===h||e===a||e===o||e===p||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===u||e.$$typeof===d||e.$$typeof===v||e.$$typeof===y||e.$$typeof===b||e.$$typeof===_)},t.typeOf=w},864:(e,t,n)=>{"use strict";e.exports=n(921)},940:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Provider:()=>c,ReactReduxContext:()=>i,batch:()=>Y.unstable_batchedUpdates,connect:()=>V,connectAdvanced:()=>S,createDispatchHook:()=>W,createSelectorHook:()=>Q,createStoreHook:()=>z,shallowEqual:()=>T,useDispatch:()=>U,useSelector:()=>H,useStore:()=>B});var s=n(294),i=(n(697),s.createContext(null)),r=function(e){e()},o=function(){return r},a={notify:function(){}},l=function(){function e(e,t){this.store=e,this.parentSub=t,this.unsubscribe=null,this.listeners=a,this.handleChangeWrapper=this.handleChangeWrapper.bind(this)}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.handleChangeWrapper=function(){this.onStateChange&&this.onStateChange()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.handleChangeWrapper):this.store.subscribe(this.handleChangeWrapper),this.listeners=function(){var e=o(),t=null,n=null;return{clear:function(){t=null,n=null},notify:function(){e((function(){for(var e=t;e;)e.callback(),e=e.next}))},get:function(){for(var e=[],n=t;n;)e.push(n),n=n.next;return e},subscribe:function(e){var s=!0,i=n={callback:e,next:null,prev:n};return i.prev?i.prev.next=i:t=i,function(){s&&null!==t&&(s=!1,i.next?i.next.prev=i.prev:n=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}())},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=a)},e}(),u="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?s.useLayoutEffect:s.useEffect;const c=function(e){var t=e.store,n=e.context,r=e.children,o=(0,s.useMemo)((function(){var e=new l(t);return e.onStateChange=e.notifyNestedSubs,{store:t,subscription:e}}),[t]),a=(0,s.useMemo)((function(){return t.getState()}),[t]);u((function(){var e=o.subscription;return e.trySubscribe(),a!==t.getState()&&e.notifyNestedSubs(),function(){e.tryUnsubscribe(),e.onStateChange=null}}),[o,a]);var c=n||i;return s.createElement(c.Provider,{value:o},r)};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e}).apply(this,arguments)}function d(e,t){if(null==e)return{};var n,s,i={},r=Object.keys(e);for(s=0;s<r.length;s++)n=r[s],t.indexOf(n)>=0||(i[n]=e[n]);return i}var p=n(679),f=n.n(p),m=n(864),g=[],_=[null,null];function v(e,t){var n=e[1];return[t.payload,n+1]}function y(e,t,n){u((function(){return e.apply(void 0,t)}),n)}function b(e,t,n,s,i,r,o){e.current=s,t.current=i,n.current=!1,r.current&&(r.current=null,o())}function w(e,t,n,s,i,r,o,a,l,u){if(e){var c=!1,h=null,d=function(){if(!c){var e,n,d=t.getState();try{e=s(d,i.current)}catch(e){n=e,h=e}n||(h=null),e===r.current?o.current||l():(r.current=e,a.current=e,o.current=!0,u({type:"STORE_UPDATED",payload:{error:n}}))}};return n.onStateChange=d,n.trySubscribe(),d(),function(){if(c=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}}var x=function(){return[null,0]};function S(e,t){void 0===t&&(t={});var n=t,r=n.getDisplayName,o=void 0===r?function(e){return"ConnectAdvanced("+e+")"}:r,a=n.methodName,u=void 0===a?"connectAdvanced":a,c=n.renderCountProp,p=void 0===c?void 0:c,S=n.shouldHandleStateChanges,k=void 0===S||S,T=n.storeKey,C=void 0===T?"store":T,O=(n.withRef,n.forwardRef),E=void 0!==O&&O,A=n.context,D=void 0===A?i:A,M=d(n,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef","forwardRef","context"]),P=D;return function(t){var n=t.displayName||t.name||"Component",i=o(n),r=h({},M,{getDisplayName:o,methodName:u,renderCountProp:p,shouldHandleStateChanges:k,storeKey:C,displayName:i,wrappedComponentName:n,WrappedComponent:t}),a=M.pure,c=a?s.useMemo:function(e){return e()};function S(n){var i=(0,s.useMemo)((function(){var e=n.reactReduxForwardedRef,t=d(n,["reactReduxForwardedRef"]);return[n.context,e,t]}),[n]),o=i[0],a=i[1],u=i[2],p=(0,s.useMemo)((function(){return o&&o.Consumer&&(0,m.isContextConsumer)(s.createElement(o.Consumer,null))?o:P}),[o,P]),f=(0,s.useContext)(p),S=Boolean(n.store)&&Boolean(n.store.getState)&&Boolean(n.store.dispatch);Boolean(f)&&Boolean(f.store);var T=S?n.store:f.store,C=(0,s.useMemo)((function(){return function(t){return e(t.dispatch,r)}(T)}),[T]),O=(0,s.useMemo)((function(){if(!k)return _;var e=new l(T,S?null:f.subscription),t=e.notifyNestedSubs.bind(e);return[e,t]}),[T,S,f]),E=O[0],A=O[1],D=(0,s.useMemo)((function(){return S?f:h({},f,{subscription:E})}),[S,f,E]),M=(0,s.useReducer)(v,g,x),R=M[0][0],I=M[1];if(R&&R.error)throw R.error;var N=(0,s.useRef)(),q=(0,s.useRef)(u),F=(0,s.useRef)(),j=(0,s.useRef)(!1),V=c((function(){return F.current&&u===q.current?F.current:C(T.getState(),u)}),[T,R,u]);y(b,[q,N,j,u,V,F,A]),y(w,[k,T,E,C,q,N,j,F,A,I],[T,E,C]);var L=(0,s.useMemo)((function(){return s.createElement(t,h({},V,{ref:a}))}),[a,t,V]);return(0,s.useMemo)((function(){return k?s.createElement(p.Provider,{value:D},L):L}),[p,L,D])}var T=a?s.memo(S):S;if(T.WrappedComponent=t,T.displayName=S.displayName=i,E){var O=s.forwardRef((function(e,t){return s.createElement(T,h({},e,{reactReduxForwardedRef:t}))}));return O.displayName=i,O.WrappedComponent=t,f()(O,t)}return f()(T,t)}}function k(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function T(e,t){if(k(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(var i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!k(e[n[i]],t[n[i]]))return!1;return!0}function C(e){return function(t,n){var s=e(t,n);function i(){return s}return i.dependsOnOwnProps=!1,i}}function O(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function E(e,t){return function(t,n){n.displayName;var s=function(e,t){return s.dependsOnOwnProps?s.mapToProps(e,t):s.mapToProps(e)};return s.dependsOnOwnProps=!0,s.mapToProps=function(t,n){s.mapToProps=e,s.dependsOnOwnProps=O(e);var i=s(t,n);return"function"==typeof i&&(s.mapToProps=i,s.dependsOnOwnProps=O(i),i=s(t,n)),i},s}}const A=[function(e){return"function"==typeof e?E(e):void 0},function(e){return e?void 0:C((function(e){return{dispatch:e}}))},function(e){return e&&"object"==typeof e?C((function(t){return function(e,t){var n={},s=function(s){var i=e[s];"function"==typeof i&&(n[s]=function(){return t(i.apply(void 0,arguments))})};for(var i in e)s(i);return n}(e,t)})):void 0}],D=[function(e){return"function"==typeof e?E(e):void 0},function(e){return e?void 0:C((function(){return{}}))}];function M(e,t,n){return h({},n,e,t)}const P=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var s,i=n.pure,r=n.areMergedPropsEqual,o=!1;return function(t,n,a){var l=e(t,n,a);return o?i&&r(l,s)||(s=l):(o=!0,s=l),s}}}(e):void 0},function(e){return e?void 0:function(){return M}}];function R(e,t,n,s){return function(i,r){return n(e(i,r),t(s,r),r)}}function I(e,t,n,s,i){var r,o,a,l,u,c=i.areStatesEqual,h=i.areOwnPropsEqual,d=i.areStatePropsEqual,p=!1;return function(i,f){return p?function(i,p){var f,m,g=!h(p,o),_=!c(i,r);return r=i,o=p,g&&_?(a=e(r,o),t.dependsOnOwnProps&&(l=t(s,o)),u=n(a,l,o)):g?(e.dependsOnOwnProps&&(a=e(r,o)),t.dependsOnOwnProps&&(l=t(s,o)),u=n(a,l,o)):_?(f=e(r,o),m=!d(f,a),a=f,m&&(u=n(a,l,o)),u):u}(i,f):(a=e(r=i,o=f),l=t(s,o),u=n(a,l,o),p=!0,u)}}function N(e,t){var n=t.initMapStateToProps,s=t.initMapDispatchToProps,i=t.initMergeProps,r=d(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,r),a=s(e,r),l=i(e,r);return(r.pure?I:R)(o,a,l,e,r)}function q(e,t,n){for(var s=t.length-1;s>=0;s--){var i=t[s](e);if(i)return i}return function(t,s){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+s.wrappedComponentName+".")}}function F(e,t){return e===t}function j(e){var t=void 0===e?{}:e,n=t.connectHOC,s=void 0===n?S:n,i=t.mapStateToPropsFactories,r=void 0===i?D:i,o=t.mapDispatchToPropsFactories,a=void 0===o?A:o,l=t.mergePropsFactories,u=void 0===l?P:l,c=t.selectorFactory,p=void 0===c?N:c;return function(e,t,n,i){void 0===i&&(i={});var o=i,l=o.pure,c=void 0===l||l,f=o.areStatesEqual,m=void 0===f?F:f,g=o.areOwnPropsEqual,_=void 0===g?T:g,v=o.areStatePropsEqual,y=void 0===v?T:v,b=o.areMergedPropsEqual,w=void 0===b?T:b,x=d(o,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),S=q(e,r,"mapStateToProps"),k=q(t,a,"mapDispatchToProps"),C=q(n,u,"mergeProps");return s(p,h({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:S,initMapDispatchToProps:k,initMergeProps:C,pure:c,areStatesEqual:m,areOwnPropsEqual:_,areStatePropsEqual:y,areMergedPropsEqual:w},x))}}const V=j();function L(){return(0,s.useContext)(i)}function z(e){void 0===e&&(e=i);var t=e===i?L:function(){return(0,s.useContext)(e)};return function(){return t().store}}var B=z();function W(e){void 0===e&&(e=i);var t=e===i?B:z(e);return function(){return t().dispatch}}var U=W(),$=function(e,t){return e===t};function Q(e){void 0===e&&(e=i);var t=e===i?L:function(){return(0,s.useContext)(e)};return function(e,n){void 0===n&&(n=$);var i=t(),r=function(e,t,n,i){var r,o=(0,s.useReducer)((function(e){return e+1}),0)[1],a=(0,s.useMemo)((function(){return new l(n,i)}),[n,i]),c=(0,s.useRef)(),h=(0,s.useRef)(),d=(0,s.useRef)(),p=(0,s.useRef)(),f=n.getState();try{if(e!==h.current||f!==d.current||c.current){var m=e(f);r=void 0!==p.current&&t(m,p.current)?p.current:m}else r=p.current}catch(e){throw c.current&&(e.message+="\nThe error may be correlated with this previous error:\n"+c.current.stack+"\n\n"),e}return u((function(){h.current=e,d.current=f,p.current=r,c.current=void 0})),u((function(){function e(){try{var e=n.getState(),s=h.current(e);if(t(s,p.current))return;p.current=s,d.current=e}catch(e){c.current=e}o()}return a.onStateChange=e,a.trySubscribe(),e(),function(){return a.tryUnsubscribe()}}),[n,a]),r}(e,n,i.store,i.subscription);return(0,s.useDebugValue)(r),r}}var G,H=Q(),Y=n(935);G=Y.unstable_batchedUpdates,r=G},408:(e,t,n)=>{"use strict";var s=n(418),i=60103,r=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,a=60110,l=60112;t.Suspense=60113;var u=60115,c=60116;if("function"==typeof Symbol&&Symbol.for){var h=Symbol.for;i=h("react.element"),r=h("react.portal"),t.Fragment=h("react.fragment"),t.StrictMode=h("react.strict_mode"),t.Profiler=h("react.profiler"),o=h("react.provider"),a=h("react.context"),l=h("react.forward_ref"),t.Suspense=h("react.suspense"),u=h("react.memo"),c=h("react.lazy")}var d="function"==typeof Symbol&&Symbol.iterator;function p(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m={};function g(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function _(){}function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error(p(85));this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},_.prototype=g.prototype;var y=v.prototype=new _;y.constructor=v,s(y,g.prototype),y.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var s,r={},o=null,a=null;if(null!=t)for(s in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,s)&&!x.hasOwnProperty(s)&&(r[s]=t[s]);var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];r.children=u}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===r[s]&&(r[s]=l[s]);return{$$typeof:i,type:e,key:o,ref:a,props:r,_owner:b.current}}function k(e){return"object"==typeof e&&null!==e&&e.$$typeof===i}var T=/\/+/g;function C(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function O(e,t,n,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case i:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,Array.isArray(o)?(n="",null!=e&&(n=e.replace(T,"$&/")+"/"),O(o,t,n,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",Array.isArray(e))for(var u=0;u<e.length;u++){var c=s+C(a=e[u],u);l+=O(a,t,n,c,o)}else if("function"==typeof(c=function(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e)))for(e=c.call(e),u=0;!(a=e.next()).done;)l+=O(a=a.value,t,n,c=s+C(a,u++),o);else if("object"===a)throw t=""+e,Error(p(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return l}function E(e,t,n){if(null==e)return e;var s=[],i=0;return O(e,s,"","",(function(e){return t.call(n,e,i++)})),s}function A(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var D={current:null};function M(){var e=D.current;if(null===e)throw Error(p(321));return e}var P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:s};t.Children={map:E,forEach:function(e,t,n){E(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return E(e,(function(){t++})),t},toArray:function(e){return E(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error(p(143));return e}},t.Component=g,t.PureComponent=v,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,n){if(null==e)throw Error(p(267,e));var r=s({},e.props),o=e.key,a=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,l=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)w.call(t,c)&&!x.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==u?u[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=n;else if(1<c){u=Array(c);for(var h=0;h<c;h++)u[h]=arguments[h+2];r.children=u}return{$$typeof:i,type:e.type,key:o,ref:a,props:r,_owner:l}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:a,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:c,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return M().useCallback(e,t)},t.useContext=function(e,t){return M().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return M().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return M().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return M().useLayoutEffect(e,t)},t.useMemo=function(e,t){return M().useMemo(e,t)},t.useReducer=function(e,t,n){return M().useReducer(e,t,n)},t.useRef=function(e){return M().useRef(e)},t.useState=function(e){return M().useState(e)},t.version="17.0.2"},294:(e,t,n)=>{"use strict";e.exports=n(408)},53:(e,t)=>{"use strict";var n,s,i,r;if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}if("undefined"==typeof window||"function"!=typeof MessageChannel){var u=null,c=null,h=function(){if(null!==u)try{var e=t.unstable_now();u(!0,e),u=null}catch(e){throw setTimeout(h,0),e}};n=function(e){null!==u?setTimeout(n,0,e):(u=e,setTimeout(h,0))},s=function(e,t){c=setTimeout(e,t)},i=function(){clearTimeout(c)},t.unstable_shouldYield=function(){return!1},r=t.unstable_forceFrameRate=function(){}}else{var d=window.setTimeout,p=window.clearTimeout;if("undefined"!=typeof console){var f=window.cancelAnimationFrame;"function"!=typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!=typeof f&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var m=!1,g=null,_=-1,v=5,y=0;t.unstable_shouldYield=function(){return t.unstable_now()>=y},r=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):v=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==g){var e=t.unstable_now();y=e+v;try{g(!0,e)?w.postMessage(null):(m=!1,g=null)}catch(e){throw w.postMessage(null),e}}else m=!1},n=function(e){g=e,m||(m=!0,w.postMessage(null))},s=function(e,n){_=d((function(){e(t.unstable_now())}),n)},i=function(){p(_),_=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var s=n-1>>>1,i=e[s];if(!(void 0!==i&&0<T(i,t)))break e;e[s]=t,e[n]=i,n=s}}function S(e){return void 0===(e=e[0])?null:e}function k(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var s=0,i=e.length;s<i;){var r=2*(s+1)-1,o=e[r],a=r+1,l=e[a];if(void 0!==o&&0>T(o,n))void 0!==l&&0>T(l,o)?(e[s]=l,e[a]=n,s=a):(e[s]=o,e[r]=n,s=r);else{if(!(void 0!==l&&0>T(l,n)))break e;e[s]=l,e[a]=n,s=a}}}return t}return null}function T(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],O=[],E=1,A=null,D=3,M=!1,P=!1,R=!1;function I(e){for(var t=S(O);null!==t;){if(null===t.callback)k(O);else{if(!(t.startTime<=e))break;k(O),t.sortIndex=t.expirationTime,x(C,t)}t=S(O)}}function N(e){if(R=!1,I(e),!P)if(null!==S(C))P=!0,n(q);else{var t=S(O);null!==t&&s(N,t.startTime-e)}}function q(e,n){P=!1,R&&(R=!1,i()),M=!0;var r=D;try{for(I(n),A=S(C);null!==A&&(!(A.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=A.callback;if("function"==typeof o){A.callback=null,D=A.priorityLevel;var a=o(A.expirationTime<=n);n=t.unstable_now(),"function"==typeof a?A.callback=a:A===S(C)&&k(C),I(n)}else k(C);A=S(C)}if(null!==A)var l=!0;else{var u=S(O);null!==u&&s(N,u.startTime-n),l=!1}return l}finally{A=null,D=r,M=!1}}var F=r;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){P||M||(P=!0,n(q))},t.unstable_getCurrentPriorityLevel=function(){return D},t.unstable_getFirstCallbackNode=function(){return S(C)},t.unstable_next=function(e){switch(D){case 1:case 2:case 3:var t=3;break;default:t=D}var n=D;D=t;try{return e()}finally{D=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=F,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=D;D=e;try{return t()}finally{D=n}},t.unstable_scheduleCallback=function(e,r,o){var a=t.unstable_now();switch(o="object"==typeof o&&null!==o&&"number"==typeof(o=o.delay)&&0<o?a+o:a,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:E++,callback:r,priorityLevel:e,startTime:o,expirationTime:l=o+l,sortIndex:-1},o>a?(e.sortIndex=o,x(O,e),null===S(C)&&e===S(O)&&(R?i():R=!0,s(N,o-a))):(e.sortIndex=l,x(C,e),P||M||(P=!0,n(q))),e},t.unstable_wrapCallback=function(e){var t=D;return function(){var n=D;D=t;try{return e.apply(this,arguments)}finally{D=n}}}},840:(e,t,n)=>{"use strict";e.exports=n(53)},695:e=>{"use strict";var t={};e.exports=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}},379:e=>{"use strict";var t=[];function n(e){for(var n=-1,s=0;s<t.length;s++)if(t[s].identifier===e){n=s;break}return n}function s(e,s){for(var r={},o=[],a=0;a<e.length;a++){var l=e[a],u=s.base?l[0]+s.base:l[0],c=r[u]||0,h="".concat(u," ").concat(c);r[u]=c+1;var d=n(h),p={css:l[1],media:l[2],sourceMap:l[3]};-1!==d?(t[d].references++,t[d].updater(p)):t.push({identifier:h,updater:i(p,s),references:1}),o.push(h)}return o}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var r=s(e=e||[],i=i||{});return function(e){e=e||[];for(var o=0;o<r.length;o++){var a=n(r[o]);t[a].references--}for(var l=s(e,i),u=0;u<r.length;u++){var c=n(r[u]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}r=l}}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var s=n.css,i=n.media,r=n.sourceMap;i?e.setAttribute("media",i):e.removeAttribute("media"),r&&"undefined"!=typeof btoa&&(s+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),t.styleTagTransform(s,e)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},264:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AMOscillator:()=>Pr,AMSynth:()=>co,Abs:()=>Hr,Add:()=>Vr,AmplitudeEnvelope:()=>ao,Analyser:()=>Ra,AudioToGain:()=>Dr,AutoFilter:()=>Xo,AutoPanner:()=>Ko,AutoWah:()=>ea,BaseContext:()=>di,BiquadFilter:()=>ho,BitCrusher:()=>na,Buffer:()=>pl,BufferSource:()=>ml,Buffers:()=>fl,Channel:()=>za,Chebyshev:()=>ia,Chorus:()=>ua,Clock:()=>tr,Compressor:()=>Ga,Context:()=>pi,Convolver:()=>Ja,CrossFade:()=>Go,DCMeter:()=>Fa,Delay:()=>nr,Destination:()=>il,Distortion:()=>ca,Draw:()=>ul,DuoSynth:()=>go,EQ3:()=>Ka,Emitter:()=>hi,Envelope:()=>so,FFT:()=>qa,FMOscillator:()=>Rr,FMSynth:()=>_o,FatOscillator:()=>Nr,FeedbackCombFilter:()=>Oo,FeedbackDelay:()=>da,Filter:()=>po,Follower:()=>Jo,Freeverb:()=>_a,Frequency:()=>Fi,FrequencyClass:()=>Ii,FrequencyEnvelope:()=>fo,FrequencyShifter:()=>fa,Gain:()=>Gi,GainToAudio:()=>Yr,Gate:()=>Ha,GrainPlayer:()=>Gr,GreaterThan:()=>Jr,GreaterThanZero:()=>Kr,IntervalTimeline:()=>cr,JCReverb:()=>wa,LFO:()=>Br,Limiter:()=>Ya,Listener:()=>al,Loop:()=>Io,LowpassCombFilter:()=>Ao,Master:()=>rl,MembraneSynth:()=>bo,Merge:()=>oa,MetalSynth:()=>yo,Meter:()=>Na,MidSideCompressor:()=>Xa,MidSideMerge:()=>Ea,MidSideSplit:()=>Oa,Midi:()=>or,MidiClass:()=>rr,Mono:()=>Ba,MonoSynth:()=>mo,MultibandCompressor:()=>Za,MultibandSplit:()=>Wa,Multiply:()=>Mr,Negate:()=>Xr,Noise:()=>br,NoiseSynth:()=>wo,Offline:()=>sr,OfflineContext:()=>vi,OmniOscillator:()=>jr,OnePoleFilter:()=>Eo,Oscillator:()=>Or,PWMOscillator:()=>qr,PanVol:()=>La,Panner:()=>Zo,Panner3D:()=>$a,Param:()=>Bi,Part:()=>No,Pattern:()=>$o,Phaser:()=>Ta,PingPongDelay:()=>Sa,PitchShift:()=>ka,Player:()=>$r,Players:()=>Qr,PluckSynth:()=>Do,PolySynth:()=>Mo,Pow:()=>eo,PulseOscillator:()=>Ir,Recorder:()=>Qa,Reverb:()=>Ca,Sampler:()=>Po,Scale:()=>Lr,ScaleExp:()=>to,Sequence:()=>Qo,Signal:()=>Xi,Solo:()=>Va,Split:()=>ra,StateTimeline:()=>zi,StereoWidener:()=>Da,Subtract:()=>Zr,SyncedSignal:()=>no,Synth:()=>lo,Ticks:()=>lr,TicksClass:()=>ar,Time:()=>Ri,TimeClass:()=>Pi,Timeline:()=>oi,ToneAudioBuffer:()=>_i,ToneAudioBuffers:()=>ir,ToneAudioNode:()=>Wi,ToneBufferSource:()=>yr,ToneEvent:()=>Ro,ToneOscillatorNode:()=>Cr,Transport:()=>nl,TransportTime:()=>Vi,TransportTimeClass:()=>ji,Tremolo:()=>Ma,Unit:()=>i,UserMedia:()=>kr,Vibrato:()=>Pa,Volume:()=>dr,WaveShaper:()=>Ar,Waveform:()=>ja,Zero:()=>zr,connect:()=>$i,connectSeries:()=>Ui,connectSignal:()=>Zi,context:()=>hl,dbToGain:()=>ki,debug:()=>s,defaultArg:()=>Zs,disconnect:()=>Qi,ftom:()=>Ei,gainToDb:()=>Ti,getContext:()=>wi,getDestination:()=>ol,getDraw:()=>cl,getListener:()=>ll,getTransport:()=>sl,immediate:()=>tl,intervalToFrequencyRatio:()=>Ci,isArray:()=>Ns,isBoolean:()=>Is,isDefined:()=>Ds,isFunction:()=>Ms,isNote:()=>Fs,isNumber:()=>Ps,isObject:()=>Rs,isString:()=>qs,isUndef:()=>As,loaded:()=>dl,mtof:()=>Di,now:()=>el,optionsFromArguments:()=>Xs,setContext:()=>xi,start:()=>Si,supported:()=>bs,version:()=>r});var s={};n.r(s),n.d(s,{assert:()=>xs,assertContextRunning:()=>ks,assertRange:()=>Ss,log:()=>Os,setLogger:()=>Cs,warn:()=>Es});var i={};n.r(i);const r="14.7.77";var o=n(382);const a=new WeakSet,l=new WeakMap,u=new WeakMap,c=new WeakMap,h=new WeakMap,d=new WeakMap,p=new WeakMap,f=new WeakMap,m=new WeakMap,g=new WeakMap,_={construct:()=>_},v=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,y=(e,t)=>{const n=[];let s=e.replace(/^[\s]+/,""),i=s.match(v);for(;null!==i;){const e=i[1].slice(1,-1),r=i[0].replace(/([\s]+)?;?$/,"").replace(e,new URL(e,t).toString());n.push(r),s=s.slice(i[0].length).replace(/^[\s]+/,""),i=s.match(v)}return[n.join(";"),s]},b=e=>{if(void 0!==e&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},w=e=>{if(!(e=>{try{new new Proxy(e,_)}catch{return!1}return!0})(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(null===e.prototype||"object"!=typeof e.prototype)throw new TypeError("The given value for processorCtor should have a prototype.")},x=(e,t)=>{const n=e.get(t);if(void 0===n)throw new Error("A value with the given key could not be found.");return n},S=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(0===n.length)throw Error("No element was found.");const[s]=n;return e.delete(s),s},k=(e,t,n,s)=>{const i=x(e,t),r=S(i,(e=>e[0]===n&&e[1]===s));return 0===i.size&&e.delete(t),r},T=e=>x(p,e),C=e=>{if(a.has(e))throw new Error("The AudioNode is already stored.");a.add(e),T(e).forEach((e=>e(!0)))},O=e=>"port"in e,E=e=>{if(!a.has(e))throw new Error("The AudioNode is not stored.");a.delete(e),T(e).forEach((e=>e(!1)))},A=(e,t)=>{!O(e)&&t.every((e=>0===e.size))&&E(e)},D={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",fftSize:2048,maxDecibels:-30,minDecibels:-100,smoothingTimeConstant:.8},M=(e,t)=>e.context===t,P=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},R=()=>new DOMException("","IndexSizeError"),I=e=>{var t;e.getChannelData=(t=e.getChannelData,n=>{try{return t.call(e,n)}catch(e){if(12===e.code)throw R();throw e}})},N={numberOfChannels:1},q=-34028234663852886e22,F=-q,j=e=>a.has(e),V={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},L=e=>x(l,e),z=e=>x(c,e),B=(e,t)=>{const{activeInputs:n}=L(e);n.forEach((n=>n.forEach((([n])=>{t.includes(e)||B(n,[...t,e])}))));const s=(e=>"playbackRate"in e)(e)?[e.playbackRate]:O(e)?Array.from(e.parameters.values()):(e=>"frequency"in e&&"gain"in e)(e)?[e.Q,e.detune,e.frequency,e.gain]:(e=>"offset"in e)(e)?[e.offset]:(e=>!("frequency"in e)&&"gain"in e)(e)?[e.gain]:(e=>"detune"in e&&"frequency"in e)(e)?[e.detune,e.frequency]:(e=>"pan"in e)(e)?[e.pan]:[];for(const e of s){const n=z(e);void 0!==n&&n.activeInputs.forEach((([e])=>B(e,t)))}j(e)&&E(e)},W=e=>{B(e.destination,[])},U=e=>"context"in e,$=e=>U(e[0]),Q=(e,t,n,s)=>{for(const t of e)if(n(t)){if(s)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},G=(e,t,[n,s],i)=>{Q(e,[t,n,s],(e=>e[0]===t&&e[1]===n),i)},H=(e,[t,n,s],i)=>{const r=e.get(t);void 0===r?e.set(t,new Set([[n,s]])):Q(r,[n,s],(e=>e[0]===n),i)},Y=e=>"inputs"in e,X=(e,t,n,s)=>{if(Y(t)){const i=t.inputs[s];return e.connect(i,n,0),[i,n,0]}return e.connect(t,n,s),[t,n,s]},Z=(e,t,n)=>{for(const s of e)if(s[0]===t&&s[1]===n)return e.delete(s),s;return null},K=(e,t)=>{if(!T(e).delete(t))throw new Error("Missing the expected event listener.")},J=(e,t,n)=>{const s=x(e,t),i=S(s,(e=>e[0]===n));return 0===s.size&&e.delete(t),i},ee=(e,t,n,s)=>{Y(t)?e.disconnect(t.inputs[s],n,0):e.disconnect(t,n,s)},te=e=>x(u,e),ne=e=>x(h,e),se=e=>f.has(e),ie=e=>!a.has(e),re=e=>new Promise((t=>{const n=e.createScriptProcessor(256,1,1),s=e.createGain(),i=e.createBuffer(1,2,44100),r=i.getChannelData(0);r[0]=1,r[1]=1;const o=e.createBufferSource();o.buffer=i,o.loop=!0,o.connect(n).connect(e.destination),o.connect(s),o.disconnect(s),n.onaudioprocess=s=>{const i=s.inputBuffer.getChannelData(0);Array.prototype.some.call(i,(e=>1===e))?t(!0):t(!1),o.stop(),n.onaudioprocess=null,o.disconnect(n),n.disconnect(e.destination)},o.start()})),oe=(e,t)=>{const n=new Map;for(const t of e)for(const e of t){const t=n.get(e);n.set(e,void 0===t?1:t+1)}n.forEach(((e,n)=>t(n,e)))},ae=e=>"context"in e,le=e=>{const t=new Map;e.connect=(e=>(n,s=0,i=0)=>{const r=ae(n)?e(n,s,i):e(n,s),o=t.get(n);return void 0===o?t.set(n,[{input:i,output:s}]):o.every((e=>e.input!==i||e.output!==s))&&o.push({input:i,output:s}),r})(e.connect.bind(e)),e.disconnect=(n=>(s,i,r)=>{if(n.apply(e),void 0===s)t.clear();else if("number"==typeof s)for(const[e,n]of t){const i=n.filter((e=>e.output!==s));0===i.length?t.delete(e):t.set(e,i)}else if(t.has(s))if(void 0===i)t.delete(s);else{const e=t.get(s);if(void 0!==e){const n=e.filter((e=>e.output!==i&&(e.input!==r||void 0===r)));0===n.length?t.delete(s):t.set(s,n)}}for(const[n,s]of t)s.forEach((t=>{ae(n)?e.connect(n,t.output,t.input):e.connect(n,t.output)}))})(e.disconnect)},ue=(e,t,n,s,i)=>{const[r,o]=((e,t,n,s)=>{const{activeInputs:i,passiveInputs:r}=L(t),o=Z(i[s],e,n);return null===o?[k(r,e,n,s)[2],!1]:[o[2],!0]})(e,n,s,i);if(null!==r&&(K(e,r),!o||t||se(e)||ee(te(e),te(n),s,i)),j(n)){const{activeInputs:e}=L(n);A(n,e)}},ce=(e,t,n,s)=>{const[i,r]=((e,t,n)=>{const{activeInputs:s,passiveInputs:i}=z(t),r=Z(s,e,n);return null===r?[J(i,e,n)[1],!1]:[r[2],!0]})(e,n,s);null!==i&&(K(e,i),!r||t||se(e)||te(e).disconnect(ne(n),s))};class he{constructor(e){this._map=new Map(e)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(e,t=null){return this._map.forEach(((n,s)=>e.call(t,n,s,this)))}get(e){return this._map.get(e)}has(e){return this._map.has(e)}keys(){return this._map.keys()}values(){return this._map.values()}}const de={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}};function pe(e,t,n,s,i){if("function"==typeof e.copyFromChannel)0===t[n].byteLength&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],s,i);else{const r=e.getChannelData(s);if(0===t[n].byteLength)t[n]=r.slice(i,i+128);else{const e=new Float32Array(r.buffer,i*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(e)}}}const fe=(e,t,n,s,i)=>{"function"==typeof e.copyToChannel?0!==t[n].byteLength&&e.copyToChannel(t[n],s,i):0!==t[n].byteLength&&e.getChannelData(s).set(t[n],i)},me=(e,t)=>{const n=[];for(let s=0;s<e;s+=1){const e=[],i="number"==typeof t?t:t[s];for(let t=0;t<i;t+=1)e.push(new Float32Array(128));n.push(e)}return n},ge=async(e,t,n,s,i,r,o)=>{const a=null===t?128*Math.ceil(e.context.length/128):t.length,l=s.channelCount*s.numberOfInputs,u=i.reduce(((e,t)=>e+t),0),c=0===u?null:n.createBuffer(u,a,n.sampleRate);if(void 0===r)throw new Error("Missing the processor constructor.");const h=L(e),d=await((e,t)=>{const n=x(g,e),s=te(t);return x(n,s)})(n,e),p=me(s.numberOfInputs,s.channelCount),f=me(s.numberOfOutputs,i),m=Array.from(e.parameters.keys()).reduce(((e,t)=>({...e,[t]:new Float32Array(128)})),{});for(let u=0;u<a;u+=128){if(s.numberOfInputs>0&&null!==t)for(let e=0;e<s.numberOfInputs;e+=1)for(let n=0;n<s.channelCount;n+=1)pe(t,p[e],n,n,u);void 0!==r.parameterDescriptors&&null!==t&&r.parameterDescriptors.forEach((({name:e},n)=>{pe(t,m,e,l+n,u)}));for(let e=0;e<s.numberOfInputs;e+=1)for(let t=0;t<i[e];t+=1)0===f[e][t].byteLength&&(f[e][t]=new Float32Array(128));try{const e=p.map(((e,t)=>0===h.activeInputs[t].size?[]:e)),t=o(u/n.sampleRate,n.sampleRate,(()=>d.process(e,f,m)));if(null!==c)for(let e=0,t=0;e<s.numberOfOutputs;e+=1){for(let n=0;n<i[e];n+=1)fe(c,f[e],n,t+n,u);t+=i[e]}if(!t)break}catch(t){e.dispatchEvent(new ErrorEvent("processorerror",{colno:t.colno,filename:t.filename,lineno:t.lineno,message:t.message}));break}}return c},_e={Q:1,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:350,gain:0,type:"lowpass"},ve={channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6},ye={channelCount:6,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:6},be={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",offset:1},we={buffer:null,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",disableNormalization:!1},xe=e=>{const{port1:t,port2:n}=new MessageChannel;return new Promise((s=>{n.onmessage=()=>{t.close(),n.close(),s()},t.postMessage(e,[e])}))},Se={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",delayTime:0,maxDelayTime:1},ke=(e,t,n)=>{const s=t[n];if(void 0===s)throw e();return s},Te={attack:.003,channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",knee:30,ratio:12,release:.25,threshold:-24},Ce={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",gain:1},Oe=()=>new DOMException("","InvalidStateError"),Ee=()=>new DOMException("","InvalidAccessError"),Ae={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers"},De=(e,t,n,s,i,r,o,a,l,u,c)=>{const h=u.length;let d=a;for(let a=0;a<h;a+=1){let h=n[0]*u[a];for(let t=1;t<i;t+=1){const s=d-t&l-1;h+=n[t]*r[s],h-=e[t]*o[s]}for(let e=i;e<s;e+=1)h+=n[e]*r[d-e&l-1];for(let n=i;n<t;n+=1)h-=e[n]*o[d-n&l-1];r[d]=u[a],o[d]=h,d=d+1&l-1,c[a]=h}return d},Me={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers"},Pe=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,(()=>{}));return void 0!==n&&(n.catch((()=>{})),!0)}catch{}return!1},Re=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n]&&(e[n]=s)},Ie=(e,t)=>{Re(e,t,"channelCount"),Re(e,t,"channelCountMode"),Re(e,t,"channelInterpretation")},Ne=e=>"function"==typeof e.getFloatTimeDomainData,qe=(e,t,n)=>{const s=t[n];void 0!==s&&s!==e[n].value&&(e[n].value=s)},Fe=e=>{e.start=(t=>(n=0,s=0,i)=>{if("number"==typeof i&&i<0||s<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,s,i)})(e.start)},je=e=>{var t;e.stop=(t=e.stop,(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})},Ve=(e,t)=>null===e?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),Le=(e,t)=>{const n=e.createBiquadFilter();return Ie(n,t),qe(n,t,"Q"),qe(n,t,"detune"),qe(n,t,"frequency"),qe(n,t,"gain"),Re(n,t,"type"),n},ze=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Ie(n,t),(e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:e=>{if(e!==t)throw Oe()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:e=>{if("explicit"!==e)throw Oe()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:e=>{if("discrete"!==e)throw Oe()}})})(n),n},Be=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),We=(e,t)=>{const n=e.createDelay(t.maxDelayTime);return Ie(n,t),qe(n,t,"delayTime"),n},Ue=(e,t)=>{const n=e.createGain();return Ie(n,t),qe(n,t,"gain"),n};function $e(e,t){const n=t[0]*t[0]+t[1]*t[1];return[(e[0]*t[0]+e[1]*t[1])/n,(e[1]*t[0]-e[0]*t[1])/n]}function Qe(e,t){let n=[0,0];for(let r=e.length-1;r>=0;r-=1)i=t,n=[(s=n)[0]*i[0]-s[1]*i[1],s[0]*i[1]+s[1]*i[0]],n[0]+=e[r];var s,i;return n}const Ge=(e,t,n,s)=>e.createScriptProcessor(t,n,s),He=()=>new DOMException("","NotSupportedError"),Ye={numberOfChannels:1},Xe={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",detune:0,frequency:440,periodicWave:void 0,type:"sine"},Ze={channelCount:2,channelCountMode:"clamped-max",channelInterpretation:"speakers",coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:1,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1},Ke={disableNormalization:!1},Je={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",pan:0},et=()=>new DOMException("","UnknownError"),tt={channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",curve:null,oversample:"none"},nt=e=>{if(null===e)return!1;const t=e.length;return t%2!=0?0!==e[Math.floor(t/2)]:e[t/2-1]+e[t/2]!==0},st=(e,t,n,s)=>{let i=Object.getPrototypeOf(e);for(;!i.hasOwnProperty(t);)i=Object.getPrototypeOf(i);const{get:r,set:o}=Object.getOwnPropertyDescriptor(i,t);Object.defineProperty(e,t,{get:n(r),set:s(o)})},it=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(s){if(9!==s.code)throw s;it(e,t,n+1e-7)}},rt=e=>{const t=e.createOscillator();try{t.start(-1)}catch(e){return e instanceof RangeError}return!1},ot=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},at=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(e){return e instanceof RangeError}return!1},lt=()=>{try{new DOMException}catch{return!1}return!0},ut=()=>new Promise((e=>{const t=new ArrayBuffer(0),{port1:n,port2:s}=new MessageChannel;n.onmessage=({data:t})=>e(null!==t),s.postMessage(t,[t])})),ct=(e,t)=>{const n=t.createGain();e.connect(n);const s=(t=>()=>{t.call(e,n),e.removeEventListener("ended",s)})(e.disconnect);e.addEventListener("ended",s),Be(e,n),e.stop=(t=>{let s=!1;return(i=0)=>{if(s)try{t.call(e,i)}catch{n.gain.setValueAtTime(0,i)}else t.call(e,i),s=!0}})(e.stop)},ht=(e,t)=>n=>{const s={value:e};return Object.defineProperties(n,{currentTarget:s,target:s}),"function"==typeof t?t.call(e,n):t.handleEvent.call(e,n)},dt=(e=>(t,n,[s,i,r],o)=>{e(t[i],[n,s,r],(e=>e[0]===n&&e[1]===s),o)})(Q),pt=(e=>(t,n,[s,i,r],o)=>{const a=t.get(s);void 0===a?t.set(s,new Set([[i,n,r]])):e(a,[i,n,r],(e=>e[0]===i&&e[1]===n),o)})(Q),ft=(e=>(t,n,s,i)=>e(t[i],(e=>e[0]===n&&e[1]===s)))(S),mt=new WeakMap,gt=(e=>t=>{var n;return null!==(n=e.get(t))&&void 0!==n?n:0})(mt),_t=(vt=new Map,yt=new WeakMap,(e,t)=>{const n=yt.get(e);if(void 0!==n)return n;const s=vt.get(e);if(void 0!==s)return s;try{const n=t();return n instanceof Promise?(vt.set(e,n),n.catch((()=>!1)).then((t=>(vt.delete(e),yt.set(e,t),t)))):(yt.set(e,n),n)}catch{return yt.set(e,!1),!1}});var vt,yt;const bt="undefined"==typeof window?null:window,wt=((e,t)=>(n,s)=>{const i=n.createAnalyser();if(Ie(i,s),!(s.maxDecibels>s.minDecibels))throw t();return Re(i,s,"fftSize"),Re(i,s,"maxDecibels"),Re(i,s,"minDecibels"),Re(i,s,"smoothingTimeConstant"),e(Ne,(()=>Ne(i)))||(e=>{e.getFloatTimeDomainData=t=>{const n=new Uint8Array(t.length);e.getByteTimeDomainData(n);const s=Math.max(n.length,e.fftSize);for(let e=0;e<s;e+=1)t[e]=.0078125*(n[e]-128);return t}})(i),i})(_t,R),xt=(e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer})(L),St=((e,t,n)=>async(s,i,r,o)=>{const a=e(s),l=[...o,s];await Promise.all(a.activeInputs.map(((e,o)=>Array.from(e).filter((([e])=>!l.includes(e))).map((async([e,a])=>{const u=t(e),c=await u.render(e,i,l),h=s.context.destination;n(e)||s===h&&n(s)||c.connect(r,a,o)})))).reduce(((e,t)=>[...e,...t]),[]))})(L,xt,se),kt=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=t(i);if(!M(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,fftSize:a.fftSize,maxDecibels:a.maxDecibels,minDecibels:a.minDecibels,smoothingTimeConstant:a.smoothingTimeConstant};a=e(r,t)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(wt,te,St),Tt=(Ct=d,e=>{const t=Ct.get(e);if(void 0===t)throw Oe();return t});var Ct;const Ot=(e=>null===e?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null)(bt),Et=(e=>t=>null!==e&&t instanceof e)(Ot),At=new WeakMap,Dt=(e=>class{constructor(e){this._nativeEventTarget=e,this._listeners=new WeakMap}addEventListener(t,n,s){if(null!==n){let i=this._listeners.get(n);void 0===i&&(i=e(this,n),"function"==typeof n&&this._listeners.set(n,i)),this._nativeEventTarget.addEventListener(t,i,s)}}dispatchEvent(e){return this._nativeEventTarget.dispatchEvent(e)}removeEventListener(e,t,n){const s=null===t?void 0:this._listeners.get(t);this._nativeEventTarget.removeEventListener(e,void 0===s?null:s,n)}})(ht),Mt=(e=>null===e?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null)(bt),Pt=(e=>t=>null!==e&&t instanceof e)(Mt),Rt=(e=>t=>null!==e&&"function"==typeof e.AudioNode&&t instanceof e.AudioNode)(bt),It=(e=>t=>null!==e&&"function"==typeof e.AudioParam&&t instanceof e.AudioParam)(bt),Nt=((e,t,n,s,i,r,o,a,l,c,h,d,f,m,g)=>class extends c{constructor(t,s,i,r){super(i),this._context=t,this._nativeAudioNode=i;const o=h(t);d(o)&&!0!==n(re,(()=>re(o)))&&le(i),u.set(this,i),p.set(this,new Set),"closed"!==t.state&&s&&C(this),e(this,r,i)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(e){this._nativeAudioNode.channelCount=e}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(e){this._nativeAudioNode.channelCountMode=e}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(e){this._nativeAudioNode.channelInterpretation=e}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(e,n=0,a=0){if(n<0||n>=this._nativeAudioNode.numberOfOutputs)throw i();const u=h(this._context),c=g(u);if(f(e)||m(e))throw r();if(U(e)){const i=te(e);try{const t=X(this._nativeAudioNode,i,n,a),s=ie(this);(c||s)&&this._nativeAudioNode.disconnect(...t),"closed"!==this.context.state&&!s&&ie(e)&&C(e)}catch(e){if(12===e.code)throw r();throw e}if(t(this,e,n,a,c)){const t=l([this],e);oe(t,s(c))}return e}const d=ne(e);if("playbackRate"===d.name&&1024===d.maxValue)throw o();try{this._nativeAudioNode.connect(d,n),(c||ie(this))&&this._nativeAudioNode.disconnect(d,n)}catch(e){if(12===e.code)throw r();throw e}if(((e,t,n,s)=>{const{activeInputs:i,passiveInputs:r}=z(t),{outputs:o}=L(e),a=T(e),l=o=>{const a=te(e),l=ne(t);if(o){const t=J(r,e,n);G(i,e,t,!1),s||se(e)||a.connect(l,n)}else{const t=((e,t,n)=>S(e,(e=>e[0]===t&&e[1]===n)))(i,e,n);H(r,t,!1),s||se(e)||a.disconnect(l,n)}};return!!Q(o,[t,n],(e=>e[0]===t&&e[1]===n),!0)&&(a.add(l),j(e)?G(i,e,[n,l],!0):H(r,[e,n,l],!0),!0)})(this,e,n,c)){const t=l([this],e);oe(t,s(c))}}disconnect(e,t,n){let s;const o=h(this._context),u=g(o);if(void 0===e)s=((e,t)=>{const n=L(e),s=[];for(const i of n.outputs)$(i)?ue(e,t,...i):ce(e,t,...i),s.push(i[0]);return n.outputs.clear(),s})(this,u);else if("number"==typeof e){if(e<0||e>=this.numberOfOutputs)throw i();s=((e,t,n)=>{const s=L(e),i=[];for(const r of s.outputs)r[1]===n&&($(r)?ue(e,t,...r):ce(e,t,...r),i.push(r[0]),s.outputs.delete(r));return i})(this,u,e)}else{if(void 0!==t&&(t<0||t>=this.numberOfOutputs))throw i();if(U(e)&&void 0!==n&&(n<0||n>=e.numberOfInputs))throw i();if(s=((e,t,n,s,i)=>{const r=L(e);return Array.from(r.outputs).filter((e=>!(e[0]!==n||void 0!==s&&e[1]!==s||void 0!==i&&e[2]!==i))).map((n=>($(n)?ue(e,t,...n):ce(e,t,...n),r.outputs.delete(n),n[0])))})(this,u,e,t,n),0===s.length)throw r()}for(const e of s){const t=l([this],e);oe(t,a)}}})((qt=l,(e,t,n)=>{const s=[];for(let e=0;e<n.numberOfInputs;e+=1)s.push(new Set);qt.set(e,{activeInputs:s,outputs:new Set,passiveInputs:new WeakMap,renderer:t})}),((e,t,n,s,i,r,o,a,l,u,c,h,d)=>{const p=new WeakMap;return(f,m,g,_,v)=>{const{activeInputs:y,passiveInputs:b}=r(m),{outputs:w}=r(f),x=a(f),S=r=>{const a=l(m),u=l(f);if(r){const t=k(b,f,g,_);e(y,f,t,!1),v||h(f)||n(u,a,g,_),d(m)&&C(m)}else{const e=s(y,f,g,_);t(b,_,e,!1),v||h(f)||i(u,a,g,_);const n=o(m);if(0===n)c(m)&&A(m,y);else{const e=p.get(m);void 0!==e&&clearTimeout(e),p.set(m,setTimeout((()=>{c(m)&&A(m,y)}),1e3*n))}}};return!!u(w,[m,g,_],(e=>e[0]===m&&e[1]===g&&e[2]===_),!0)&&(x.add(S),c(f)?e(y,f,[g,_,S],!0):t(b,_,[f,g,S],!0),!0)}})(dt,pt,X,ft,ee,L,gt,T,te,Q,j,se,ie),_t,((e,t,n,s,i,r)=>o=>(a,l)=>{const u=e.get(a);if(void 0===u){if(!o&&r(a)){const e=s(a),{outputs:r}=n(a);for(const n of r)if($(n)){const i=s(n[0]);t(e,i,n[1],n[2])}else{const t=i(n[0]);e.disconnect(t,n[1])}}e.set(a,l)}else e.set(a,u+l)})(f,ee,L,te,ne,j),R,Ee,He,((e,t,n,s,i,r,o,a)=>(l,u)=>{const c=t.get(l);if(void 0===c)throw new Error("Missing the expected cycle count.");const h=r(l.context),d=a(h);if(c===u){if(t.delete(l),!d&&o(l)){const t=s(l),{outputs:r}=n(l);for(const n of r)if($(n)){const i=s(n[0]);e(t,i,n[1],n[2])}else{const e=i(n[0]);t.connect(e,n[1])}}}else t.set(l,c-u)})(X,f,L,te,ne,Tt,j,Et),((e,t,n)=>function s(i,r){const o=U(r)?r:n(e,r);if((e=>"delayTime"in e)(o))return[];if(i[0]===o)return[i];if(i.includes(o))return[];const{outputs:a}=t(o);return Array.from(a).map((e=>s([...i,o],e[0]))).reduce(((e,t)=>e.concat(t)),[])})(At,L,x),Dt,Tt,Pt,Rt,It,Et);var qt;const Ft=((e,t,n,s,i,r)=>class extends e{constructor(e,n){const o=i(e),a={...D,...n},l=s(o,a);super(e,!1,l,r(o)?t():null),this._nativeAnalyserNode=l}get fftSize(){return this._nativeAnalyserNode.fftSize}set fftSize(e){this._nativeAnalyserNode.fftSize=e}get frequencyBinCount(){return this._nativeAnalyserNode.frequencyBinCount}get maxDecibels(){return this._nativeAnalyserNode.maxDecibels}set maxDecibels(e){const t=this._nativeAnalyserNode.maxDecibels;if(this._nativeAnalyserNode.maxDecibels=e,!(e>this._nativeAnalyserNode.minDecibels))throw this._nativeAnalyserNode.maxDecibels=t,n()}get minDecibels(){return this._nativeAnalyserNode.minDecibels}set minDecibels(e){const t=this._nativeAnalyserNode.minDecibels;if(this._nativeAnalyserNode.minDecibels=e,!(this._nativeAnalyserNode.maxDecibels>e))throw this._nativeAnalyserNode.minDecibels=t,n()}get smoothingTimeConstant(){return this._nativeAnalyserNode.smoothingTimeConstant}set smoothingTimeConstant(e){this._nativeAnalyserNode.smoothingTimeConstant=e}getByteFrequencyData(e){this._nativeAnalyserNode.getByteFrequencyData(e)}getByteTimeDomainData(e){this._nativeAnalyserNode.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._nativeAnalyserNode.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._nativeAnalyserNode.getFloatTimeDomainData(e)}})(Nt,kt,R,wt,Tt,Et),jt=new WeakSet,Vt=(e=>null===e?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null)(bt),Lt=(zt=new Uint32Array(1),e=>(zt[0]=e,zt[0]));var zt;const Bt=((e,t)=>n=>{n.copyFromChannel=(s,i,r=0)=>{const o=e(r),a=e(i);if(a>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(a),c=s.length;for(let e=o<0?-o:0;e+o<l&&e<c;e+=1)s[e]=u[e+o]},n.copyToChannel=(s,i,r=0)=>{const o=e(r),a=e(i);if(a>=n.numberOfChannels)throw t();const l=n.length,u=n.getChannelData(a),c=s.length;for(let e=o<0?-o:0;e+o<l&&e<c;e+=1)u[e+o]=s[e]}})(Lt,R),Wt=(e=>t=>{t.copyFromChannel=(n=>(s,i,r=0)=>{const o=e(r),a=e(i);if(o<t.length)return n.call(t,s,a,o)})(t.copyFromChannel),t.copyToChannel=(n=>(s,i,r=0)=>{const o=e(r),a=e(i);if(o<t.length)return n.call(t,s,a,o)})(t.copyToChannel)})(Lt),Ut=((e,t,n,s,i,r,o,a)=>{let l=null;return class u{constructor(u){if(null===i)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:c,numberOfChannels:h,sampleRate:d}={...N,...u};null===l&&(l=new i(1,1,44100));const p=null!==s&&t(r,r)?new s({length:c,numberOfChannels:h,sampleRate:d}):l.createBuffer(h,c,d);if(0===p.numberOfChannels)throw n();return"function"!=typeof p.copyFromChannel?(o(p),I(p)):t(P,(()=>P(p)))||a(p),e.add(p),p}static[Symbol.hasInstance](t){return null!==t&&"object"==typeof t&&Object.getPrototypeOf(t)===u.prototype||e.has(t)}}})(jt,_t,He,Vt,Ot,(e=>()=>{if(null===e)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0})(Vt),Bt,Wt),$t=(e=>(t,n)=>{const s=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(s).connect(t.destination);const i=()=>{n.removeEventListener("ended",i),n.disconnect(s),s.disconnect()};n.addEventListener("ended",i)})(Ue),Qt=((e,t,n)=>async(s,i,r,o)=>{const a=t(s);await Promise.all(Array.from(a.activeInputs).map((async([t,s])=>{const a=e(t),l=await a.render(t,i,o);n(t)||l.connect(r,s)})))})(xt,z,se),Gt=(e=>(t,n,s,i)=>e(n,t,s,i))(Qt),Ht=((e,t,n,s,i,r,o,a,l,u,c)=>(l,h)=>{const d=l.createBufferSource();return Ie(d,h),qe(d,h,"playbackRate"),Re(d,h,"buffer"),Re(d,h,"loop"),Re(d,h,"loopEnd"),Re(d,h,"loopStart"),t(n,(()=>n(l)))||(e=>{e.start=(t=>{let n=!1;return(s=0,i=0,r)=>{if(n)throw Oe();t.call(e,s,i,r),n=!0}})(e.start)})(d),t(s,(()=>s(l)))||(e=>{e.start=(t=>(n=0,s=0,i)=>{const r=e.buffer,o=null===r?s:Math.min(r.duration,s);null!==r&&o>r.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,o,i)})(e.start)})(d),t(i,(()=>i(l)))||u(d,l),t(r,(()=>r(l)))||Fe(d),t(o,(()=>o(l)))||c(d,l),t(a,(()=>a(l)))||je(d),e(l,d),d})($t,_t,(e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1}),(e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0}),(e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0}),rt,ot,at,0,(e=>(t,n)=>{const s=n.createBuffer(1,1,44100);null===t.buffer&&(t.buffer=s),e(t,"buffer",(e=>()=>{const n=e.call(t);return n===s?null:n}),(e=>n=>e.call(t,null===n?s:n)))})(st),ct),Yt=((e,t)=>(n,s,i,r)=>(e(s).replay(i),t(s,n,i,r)))((e=>t=>{const n=e(t);if(null===n.renderer)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer})(z),Qt),Xt=((e,t,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,u,c){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=M(h,u);if(!d){const e={buffer:h.buffer,channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,loop:h.loop,loopEnd:h.loopEnd,loopStart:h.loopStart,playbackRate:h.playbackRate.value};h=t(u,e),null!==o&&h.start(...o),null!==a&&h.stop(a)}return r.set(u,h),d?await e(u,l.playbackRate,h.playbackRate,c):await s(u,l.playbackRate,h.playbackRate,c),await i(l,u,h,c),h})(l,u,c)}}})(Gt,Ht,te,Yt,St),Zt=((e,t,n,s,i,r,a,l,u,c,h,d,p)=>(s,f,m,g=null,_=null)=>{const v=new o.AutomationEventList(m.defaultValue),y=f?(e=>({replay(t){for(const n of e)if("exponentialRampToValue"===n.type){const{endTime:e,value:s}=n;t.exponentialRampToValueAtTime(s,e)}else if("linearRampToValue"===n.type){const{endTime:e,value:s}=n;t.linearRampToValueAtTime(s,e)}else if("setTarget"===n.type){const{startTime:e,target:s,timeConstant:i}=n;t.setTargetAtTime(s,e,i)}else if("setValue"===n.type){const{startTime:e,value:s}=n;t.setValueAtTime(s,e)}else{if("setValueCurve"!==n.type)throw new Error("Can't apply an unknown automation.");{const{duration:e,startTime:s,values:i}=n;t.setValueCurveAtTime(i,s,e)}}}}))(v):null,b={get defaultValue(){return m.defaultValue},get maxValue(){return null===g?m.maxValue:g},get minValue(){return null===_?m.minValue:_},get value(){return m.value},set value(e){m.value=e,b.setValueAtTime(e,s.context.currentTime)},cancelAndHoldAtTime(e){if("function"==typeof m.cancelAndHoldAtTime)null===y&&v.flush(s.context.currentTime),v.add(i(e)),m.cancelAndHoldAtTime(e);else{const t=Array.from(v).pop();null===y&&v.flush(s.context.currentTime),v.add(i(e));const n=Array.from(v).pop();m.cancelScheduledValues(e),t!==n&&void 0!==n&&("exponentialRampToValue"===n.type?m.exponentialRampToValueAtTime(n.value,n.endTime):"linearRampToValue"===n.type?m.linearRampToValueAtTime(n.value,n.endTime):"setValue"===n.type?m.setValueAtTime(n.value,n.startTime):"setValueCurve"===n.type&&m.setValueCurveAtTime(n.values,n.startTime,n.duration))}return b},cancelScheduledValues:e=>(null===y&&v.flush(s.context.currentTime),v.add(r(e)),m.cancelScheduledValues(e),b),exponentialRampToValueAtTime(e,t){if(0===e)throw new RangeError;if(!Number.isFinite(t)||t<0)throw new RangeError;return null===y&&v.flush(s.context.currentTime),v.add(a(e,t)),m.exponentialRampToValueAtTime(e,t),b},linearRampToValueAtTime:(e,t)=>(null===y&&v.flush(s.context.currentTime),v.add(l(e,t)),m.linearRampToValueAtTime(e,t),b),setTargetAtTime:(e,t,n)=>(null===y&&v.flush(s.context.currentTime),v.add(u(e,t,n)),m.setTargetAtTime(e,t,n),b),setValueAtTime:(e,t)=>(null===y&&v.flush(s.context.currentTime),v.add(c(e,t)),m.setValueAtTime(e,t),b),setValueCurveAtTime(e,t,n){const i=e instanceof Float32Array?e:new Float32Array(e);if(null!==d&&"webkitAudioContext"===d.name){const e=t+n,r=s.context.sampleRate,o=Math.ceil(t*r),a=Math.floor(e*r),l=a-o,u=new Float32Array(l);for(let e=0;e<l;e+=1){const s=(i.length-1)/n*((o+e)/r-t),a=Math.floor(s),l=Math.ceil(s);u[e]=a===l?i[a]:(1-(s-a))*i[a]+(1-(l-s))*i[l]}null===y&&v.flush(s.context.currentTime),v.add(h(u,t,n)),m.setValueCurveAtTime(u,t,n);const c=a/r;c<e&&p(b,u[u.length-1],c),p(b,i[i.length-1],e)}else null===y&&v.flush(s.context.currentTime),v.add(h(i,t,n)),m.setValueCurveAtTime(i,t,n);return b}};return n.set(b,m),t.set(b,s),e(b,y),b})((Kt=c,(e,t)=>{Kt.set(e,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:t})}),At,h,0,o.createCancelAndHoldAutomationEvent,o.createCancelScheduledValuesAutomationEvent,o.createExponentialRampToValueAutomationEvent,o.createLinearRampToValueAutomationEvent,o.createSetTargetAutomationEvent,o.createSetValueAutomationEvent,o.createSetValueCurveAutomationEvent,Mt,it);var Kt;const Jt=((e,t,n,s,i,r,o,a)=>class extends e{constructor(e,s){const a=r(e),l={...V,...s},u=i(a,l),c=o(a),h=c?t():null;super(e,!1,u,h),this._audioBufferSourceNodeRenderer=h,this._isBufferNullified=!1,this._isBufferSet=null!==l.buffer,this._nativeAudioBufferSourceNode=u,this._onended=null,this._playbackRate=n(this,c,u.playbackRate,F,q)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(e){if(this._nativeAudioBufferSourceNode.buffer=e,null!==e){if(this._isBufferSet)throw s();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(e){this._nativeAudioBufferSourceNode.loop=e}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(e){this._nativeAudioBufferSourceNode.loopEnd=e}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(e){this._nativeAudioBufferSourceNode.loopStart=e}get onended(){return this._onended}set onended(e){const t="function"==typeof e?a(this,e):null;this._nativeAudioBufferSourceNode.onended=t;const n=this._nativeAudioBufferSourceNode.onended;this._onended=null!==n&&n===t?e:n}get playbackRate(){return this._playbackRate}start(e=0,t=0,n){if(this._nativeAudioBufferSourceNode.start(e,t,n),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.start=void 0===n?[e,t]:[e,t,n]),"closed"!==this.context.state){C(this);const e=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",e),j(this)&&E(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeAudioBufferSourceNode.stop(e),null!==this._audioBufferSourceNodeRenderer&&(this._audioBufferSourceNodeRenderer.stop=e)}})(Nt,Xt,Zt,Oe,Ht,Tt,Et,ht),en=((e,t,n,s,i,r,o,a)=>class extends e{constructor(e,t){const n=r(e),s=o(n),l=i(n,t,s);super(e,!1,l,s?(e=>{let t=null;return{render:(n,s,i)=>(null===t&&(t=(async(t,n,s)=>{const i=n.destination;return await e(t,n,i,s),i})(n,s,i)),t)}})(a):null),this._isNodeOfNativeOfflineAudioContext=s,this._nativeAudioDestinationNode=l}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();if(e>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=e}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(e){if(this._isNodeOfNativeOfflineAudioContext)throw s();this._nativeAudioDestinationNode.channelCountMode=e}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}})(Nt,0,R,Oe,((e,t)=>(n,s,i)=>{const r=n.destination;if(r.channelCount!==s)try{r.channelCount=s}catch{}i&&"explicit"!==r.channelCountMode&&(r.channelCountMode="explicit"),0===r.maxChannelCount&&Object.defineProperty(r,"maxChannelCount",{value:s});const o=e(n,{channelCount:s,channelCountMode:r.channelCountMode,channelInterpretation:r.channelInterpretation,gain:1});return t(o,"channelCount",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t);try{r.channelCount=t}catch(e){if(t>r.maxChannelCount)throw e}})),t(o,"channelCountMode",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),r.channelCountMode=t})),t(o,"channelInterpretation",(e=>()=>e.call(o)),(e=>t=>{e.call(o,t),r.channelInterpretation=t})),Object.defineProperty(o,"maxChannelCount",{get:()=>r.maxChannelCount}),o.connect(r),o})(Ue,st),Tt,Et,St),tn=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=M(u,a);if(!c){const e={Q:u.Q.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,detune:u.detune.value,frequency:u.frequency.value,gain:u.gain.value,type:u.type};u=t(a,e)}return r.set(a,u),c?(await e(a,o.Q,u.Q,l),await e(a,o.detune,u.detune,l),await e(a,o.frequency,u.frequency,l),await e(a,o.gain,u.gain,l)):(await s(a,o.Q,u.Q,l),await s(a,o.detune,u.detune,l),await s(a,o.frequency,u.frequency,l),await s(a,o.gain,u.gain,l)),await i(o,a,u,l),u})(o,a,l)}}})(Gt,Le,te,Yt,St),nn=(e=>(t,n)=>e.set(t,n))(mt),sn=((e,t,n,s,i,r,o,a)=>class extends e{constructor(e,s){const l=r(e),u={..._e,...s},c=i(l,u),h=o(l);super(e,!1,c,h?n():null),this._Q=t(this,h,c.Q,F,q),this._detune=t(this,h,c.detune,1200*Math.log2(F),-1200*Math.log2(F)),this._frequency=t(this,h,c.frequency,e.sampleRate/2,0),this._gain=t(this,h,c.gain,40*Math.log10(F),q),this._nativeBiquadFilterNode=c,a(this,1)}get detune(){return this._detune}get frequency(){return this._frequency}get gain(){return this._gain}get Q(){return this._Q}get type(){return this._nativeBiquadFilterNode.type}set type(e){this._nativeBiquadFilterNode.type=e}getFrequencyResponse(e,t,n){try{this._nativeBiquadFilterNode.getFrequencyResponse(e,t,n)}catch(e){if(11===e.code)throw s();throw e}if(e.length!==t.length||t.length!==n.length)throw s()}})(Nt,Zt,tn,Ee,Le,Tt,Et,nn),rn=((e,t)=>(n,s,i)=>{const r=new Set;return n.connect=(i=>(o,a=0,l=0)=>{const u=0===r.size;if(t(o))return i.call(n,o,a,l),e(r,[o,a,l],(e=>e[0]===o&&e[1]===a&&e[2]===l),!0),u&&s(),o;i.call(n,o,a),e(r,[o,a],(e=>e[0]===o&&e[1]===a),!0),u&&s()})(n.connect),n.disconnect=(e=>(s,o,a)=>{const l=r.size>0;if(void 0===s)e.apply(n),r.clear();else if("number"==typeof s){e.call(n,s);for(const e of r)e[1]===s&&r.delete(e)}else{t(s)?e.call(n,s,o,a):e.call(n,s,o);for(const e of r)e[0]!==s||void 0!==o&&e[1]!==o||void 0!==a&&e[2]!==a||r.delete(e)}const u=0===r.size;l&&u&&i()})(n.disconnect),n})(Q,Rt),on=((e,t)=>(n,s)=>{s.channelCount=1,s.channelCountMode="explicit",Object.defineProperty(s,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(s,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const i=n.createBufferSource();t(s,(()=>{const e=s.numberOfInputs;for(let t=0;t<e;t+=1)i.connect(s,0,t)}),(()=>i.disconnect(s)))})(Oe,rn),an=((e,t)=>(n,s)=>{const i=n.createChannelMerger(s.numberOfInputs);return null!==e&&"webkitAudioContext"===e.name&&t(n,i),Ie(i,s),i})(Mt,on),ln=((e,t,n,s,i)=>class extends e{constructor(e,r){const o=s(e),a={...ve,...r};super(e,!1,n(o,a),i(o)?t():null)}})(Nt,((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=t(i);if(!M(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfInputs:a.numberOfInputs};a=e(r,t)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(an,te,St),an,Tt,Et),un=((e,t,n,s,i,r)=>class extends e{constructor(e,r){const o=s(e),a=(e=>({...e,channelCount:e.numberOfOutputs}))({...ye,...r});super(e,!1,n(o,a),i(o)?t():null)}})(Nt,((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=t(i);if(!M(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,numberOfOutputs:a.numberOfOutputs};a=e(r,t)}return s.set(r,a),await n(i,r,a,o),a})(i,r,o)}}})(ze,te,St),ze,Tt,Et),cn=((e,t,n,s)=>(i,{offset:r,...o})=>{const a=i.createBuffer(1,2,44100),l=t(i,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(i,{...o,gain:r}),c=a.getChannelData(0);c[0]=1,c[1]=1,l.buffer=a,l.loop=!0;const h={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){u.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){u.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){u.channelInterpretation=e},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return l.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return l.onended},set onended(e){l.onended=e},addEventListener:(...e)=>l.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>l.dispatchEvent(e[0]),removeEventListener:(...e)=>l.removeEventListener(e[0],e[1],e[2]),start(e=0){l.start.call(l,e)},stop(e=0){l.stop.call(l,e)}};return e(i,l),s(Be(h,u),(()=>l.connect(u)),(()=>l.disconnect(u)))})($t,Ht,Ue,rn),hn=((e,t,n,s,i)=>(r,o)=>{if(void 0===r.createConstantSource)return n(r,o);const a=r.createConstantSource();return Ie(a,o),qe(a,o,"offset"),t(s,(()=>s(r)))||Fe(a),t(i,(()=>i(r)))||je(a),e(r,a),a})($t,_t,cn,rt,at),dn=((e,t,n,s,i,r,o)=>class extends e{constructor(e,o){const a=i(e),l={...be,...o},u=s(a,l),c=r(a),h=c?n():null;super(e,!1,u,h),this._constantSourceNodeRenderer=h,this._nativeConstantSourceNode=u,this._offset=t(this,c,u.offset,F,q),this._onended=null}get offset(){return this._offset}get onended(){return this._onended}set onended(e){const t="function"==typeof e?o(this,e):null;this._nativeConstantSourceNode.onended=t;const n=this._nativeConstantSourceNode.onended;this._onended=null!==n&&n===t?e:n}start(e=0){if(this._nativeConstantSourceNode.start(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.start=e),"closed"!==this.context.state){C(this);const e=()=>{this._nativeConstantSourceNode.removeEventListener("ended",e),j(this)&&E(this)};this._nativeConstantSourceNode.addEventListener("ended",e)}}stop(e=0){this._nativeConstantSourceNode.stop(e),null!==this._constantSourceNodeRenderer&&(this._constantSourceNodeRenderer.stop=e)}})(Nt,Zt,((e,t,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null;return{set start(e){o=e},set stop(e){a=e},render(l,u,c){const h=r.get(u);return void 0!==h?Promise.resolve(h):(async(l,u,c)=>{let h=n(l);const d=M(h,u);if(!d){const e={channelCount:h.channelCount,channelCountMode:h.channelCountMode,channelInterpretation:h.channelInterpretation,offset:h.offset.value};h=t(u,e),null!==o&&h.start(o),null!==a&&h.stop(a)}return r.set(u,h),d?await e(u,l.offset,h.offset,c):await s(u,l.offset,h.offset,c),await i(l,u,h,c),h})(l,u,c)}}})(Gt,hn,te,Yt,St),hn,Tt,Et,ht),pn=((e,t)=>(n,s)=>{const i=n.createConvolver();if(Ie(i,s),s.disableNormalization===i.normalize&&(i.normalize=!s.disableNormalization),Re(i,s,"buffer"),s.channelCount>2)throw e();if(t(i,"channelCount",(e=>()=>e.call(i)),(t=>n=>{if(n>2)throw e();return t.call(i,n)})),"max"===s.channelCountMode)throw e();return t(i,"channelCountMode",(e=>()=>e.call(i)),(t=>n=>{if("max"===n)throw e();return t.call(i,n)})),i})(He,st),fn=((e,t,n,s,i,r)=>class extends e{constructor(e,o){const a=s(e),l={...we,...o},u=n(a,l);super(e,!1,u,i(a)?t():null),this._isBufferNullified=!1,this._nativeConvolverNode=u,null!==l.buffer&&r(this,l.buffer.duration)}get buffer(){return this._isBufferNullified?null:this._nativeConvolverNode.buffer}set buffer(e){if(this._nativeConvolverNode.buffer=e,null===e&&null!==this._nativeConvolverNode.buffer){const e=this._nativeConvolverNode.context;this._nativeConvolverNode.buffer=e.createBuffer(1,1,44100),this._isBufferNullified=!0,r(this,0)}else this._isBufferNullified=!1,r(this,null===this._nativeConvolverNode.buffer?0:this._nativeConvolverNode.buffer.duration)}get normalize(){return this._nativeConvolverNode.normalize}set normalize(e){this._nativeConvolverNode.normalize=e}})(Nt,((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=t(i);if(!M(a,r)){const t={buffer:a.buffer,channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,disableNormalization:!a.normalize};a=e(r,t)}return s.set(r,a),Y(a)?await n(i,r,a.inputs[0],o):await n(i,r,a,o),a})(i,r,o)}}})(pn,te,St),pn,Tt,Et,nn),mn=((e,t,n,s,i,r,o)=>class extends e{constructor(e,a){const l=i(e),u={...Se,...a},c=s(l,u),h=r(l);super(e,!1,c,h?n(u.maxDelayTime):null),this._delayTime=t(this,h,c.delayTime),o(this,u.maxDelayTime)}get delayTime(){return this._delayTime}})(Nt,Zt,((e,t,n,s,i)=>r=>{const o=new WeakMap;return{render(a,l,u){const c=o.get(l);return void 0!==c?Promise.resolve(c):(async(a,l,u)=>{let c=n(a);const h=M(c,l);if(!h){const e={channelCount:c.channelCount,channelCountMode:c.channelCountMode,channelInterpretation:c.channelInterpretation,delayTime:c.delayTime.value,maxDelayTime:r};c=t(l,e)}return o.set(l,c),h?await e(l,a.delayTime,c.delayTime,u):await s(l,a.delayTime,c.delayTime,u),await i(a,l,c,u),c})(a,l,u)}}})(Gt,We,te,Yt,St),We,Tt,Et,nn),gn=(e=>(t,n)=>{const s=t.createDynamicsCompressor();if(Ie(s,n),n.channelCount>2)throw e();if("max"===n.channelCountMode)throw e();return qe(s,n,"attack"),qe(s,n,"knee"),qe(s,n,"ratio"),qe(s,n,"release"),qe(s,n,"threshold"),s})(He),_n=((e,t,n,s,i,r,o,a)=>class extends e{constructor(e,i){const l=r(e),u={...Te,...i},c=s(l,u),h=o(l);super(e,!1,c,h?n():null),this._attack=t(this,h,c.attack),this._knee=t(this,h,c.knee),this._nativeDynamicsCompressorNode=c,this._ratio=t(this,h,c.ratio),this._release=t(this,h,c.release),this._threshold=t(this,h,c.threshold),a(this,.006)}get attack(){return this._attack}get channelCount(){return this._nativeDynamicsCompressorNode.channelCount}set channelCount(e){const t=this._nativeDynamicsCompressorNode.channelCount;if(this._nativeDynamicsCompressorNode.channelCount=e,e>2)throw this._nativeDynamicsCompressorNode.channelCount=t,i()}get channelCountMode(){return this._nativeDynamicsCompressorNode.channelCountMode}set channelCountMode(e){const t=this._nativeDynamicsCompressorNode.channelCountMode;if(this._nativeDynamicsCompressorNode.channelCountMode=e,"max"===e)throw this._nativeDynamicsCompressorNode.channelCountMode=t,i()}get knee(){return this._knee}get ratio(){return this._ratio}get reduction(){return"number"==typeof this._nativeDynamicsCompressorNode.reduction.value?this._nativeDynamicsCompressorNode.reduction.value:this._nativeDynamicsCompressorNode.reduction}get release(){return this._release}get threshold(){return this._threshold}})(Nt,Zt,((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=M(u,a);if(!c){const e={attack:u.attack.value,channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,knee:u.knee.value,ratio:u.ratio.value,release:u.release.value,threshold:u.threshold.value};u=t(a,e)}return r.set(a,u),c?(await e(a,o.attack,u.attack,l),await e(a,o.knee,u.knee,l),await e(a,o.ratio,u.ratio,l),await e(a,o.release,u.release,l),await e(a,o.threshold,u.threshold,l)):(await s(a,o.attack,u.attack,l),await s(a,o.knee,u.knee,l),await s(a,o.ratio,u.ratio,l),await s(a,o.release,u.release,l),await s(a,o.threshold,u.threshold,l)),await i(o,a,u,l),u})(o,a,l)}}})(Gt,gn,te,Yt,St),gn,He,Tt,Et,nn),vn=((e,t,n,s,i,r)=>class extends e{constructor(e,o){const a=i(e),l={...Ce,...o},u=s(a,l),c=r(a);super(e,!1,u,c?n():null),this._gain=t(this,c,u.gain,F,q)}get gain(){return this._gain}})(Nt,Zt,((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=M(u,a);if(!c){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,gain:u.gain.value};u=t(a,e)}return r.set(a,u),c?await e(a,o.gain,u.gain,l):await s(a,o.gain,u.gain,l),await i(o,a,u,l),u})(o,a,l)}}})(Gt,Ue,te,Yt,St),Ue,Tt,Et),yn=((e,t,n,s)=>(i,r,{channelCount:o,channelCountMode:a,channelInterpretation:l,feedback:u,feedforward:c})=>{const h=Ve(r,i.sampleRate),d=u instanceof Float64Array?u:new Float64Array(u),p=c instanceof Float64Array?c:new Float64Array(c),f=d.length,m=p.length,g=Math.min(f,m);if(0===f||f>20)throw s();if(0===d[0])throw t();if(0===m||m>20)throw s();if(0===p[0])throw t();if(1!==d[0]){for(let e=0;e<m;e+=1)p[e]/=d[0];for(let e=1;e<f;e+=1)d[e]/=d[0]}const _=n(i,h,o,o);_.channelCount=o,_.channelCountMode=a,_.channelInterpretation=l;const v=[],y=[],b=[];for(let e=0;e<o;e+=1){v.push(0);const e=new Float32Array(32),t=new Float32Array(32);e.fill(0),t.fill(0),y.push(e),b.push(t)}_.onaudioprocess=e=>{const t=e.inputBuffer,n=e.outputBuffer,s=t.numberOfChannels;for(let e=0;e<s;e+=1){const s=t.getChannelData(e),i=n.getChannelData(e);v[e]=De(d,f,p,m,g,y[e],b[e],v[e],32,s,i)}};const w=i.sampleRate/2;return Be({get bufferSize(){return h},get channelCount(){return _.channelCount},set channelCount(e){_.channelCount=e},get channelCountMode(){return _.channelCountMode},set channelCountMode(e){_.channelCountMode=e},get channelInterpretation(){return _.channelInterpretation},set channelInterpretation(e){_.channelInterpretation=e},get context(){return _.context},get inputs(){return[_]},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},addEventListener:(...e)=>_.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>_.dispatchEvent(e[0]),getFrequencyResponse(t,n,s){if(t.length!==n.length||n.length!==s.length)throw e();const i=t.length;for(let e=0;e<i;e+=1){const i=-Math.PI*(t[e]/w),r=[Math.cos(i),Math.sin(i)],o=$e(Qe(p,r),Qe(d,r));n[e]=Math.sqrt(o[0]*o[0]+o[1]*o[1]),s[e]=Math.atan2(o[1],o[0])}},removeEventListener:(...e)=>_.removeEventListener(e[0],e[1],e[2])},_)})(Ee,Oe,Ge,He),bn=((e,t,n,s)=>i=>e(Pe,(()=>Pe(i)))?Promise.resolve(e(s,s)).then((e=>{if(!e){const e=n(i,512,0,1);i.oncomplete=()=>{e.onaudioprocess=null,e.disconnect()},e.onaudioprocess=()=>i.currentTime,e.connect(i.destination)}return i.startRendering()})):new Promise((e=>{const n=t(i,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});i.oncomplete=t=>{n.disconnect(),e(t.renderedBuffer)},n.connect(i.destination),i.startRendering()})))(_t,Ue,Ge,((e,t)=>()=>{if(null===t)return Promise.resolve(!1);const n=new t(1,1,44100),s=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise((e=>{n.oncomplete=()=>{s.disconnect(),e(0!==n.currentTime)},n.startRendering()}))})(Ue,Ot)),wn=((e,t,n,s,i)=>(r,o)=>{const a=new WeakMap;let l=null;return{render(u,c,h){const d=a.get(c);return void 0!==d?Promise.resolve(d):(async(u,c,h)=>{let d=null,p=t(u);const f=M(p,c);if(void 0===c.createIIRFilter?d=e(c,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}):f||(p=c.createIIRFilter(o,r)),a.set(c,null===d?p:d),null!==d){if(null===l){if(null===n)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new n(u.context.destination.channelCount,u.context.length,c.sampleRate);l=(async()=>(await s(u,e,e.destination,h),((e,t,n,s)=>{const i=n instanceof Float64Array?n:new Float64Array(n),r=s instanceof Float64Array?s:new Float64Array(s),o=i.length,a=r.length,l=Math.min(o,a);if(1!==i[0]){for(let e=0;e<o;e+=1)r[e]/=i[0];for(let e=1;e<a;e+=1)i[e]/=i[0]}const u=new Float32Array(32),c=new Float32Array(32),h=t.createBuffer(e.numberOfChannels,e.length,e.sampleRate),d=e.numberOfChannels;for(let t=0;t<d;t+=1){const n=e.getChannelData(t),s=h.getChannelData(t);u.fill(0),c.fill(0),De(i,o,r,a,l,u,c,0,32,n,s)}return h})(await i(e),c,r,o)))()}const e=await l;return d.buffer=e,d.start(0),d}return await s(u,c,p,h),p})(u,c,h)}}})(Ht,te,Ot,St,bn),xn=((e,t,n,s,i,r)=>class extends e{constructor(e,o){const a=s(e),l=i(a),u={...Ae,...o},c=t(a,l?null:e.baseLatency,u);super(e,!1,c,l?n(u.feedback,u.feedforward):null),(e=>{var t;e.getFrequencyResponse=(t=e.getFrequencyResponse,(n,s,i)=>{if(n.length!==s.length||s.length!==i.length)throw Ee();return t.call(e,n,s,i)})})(c),this._nativeIIRFilterNode=c,r(this,1)}getFrequencyResponse(e,t,n){return this._nativeIIRFilterNode.getFrequencyResponse(e,t,n)}})(Nt,(e=>(t,n,s)=>{if(void 0===t.createIIRFilter)return e(t,n,s);const i=t.createIIRFilter(s.feedforward,s.feedback);return Ie(i,s),i})(yn),wn,Tt,Et,nn),Sn=((e,t,n,s,i)=>(r,o)=>{const a=o.listener,{forwardX:l,forwardY:u,forwardZ:c,positionX:h,positionY:d,positionZ:p,upX:f,upY:m,upZ:g}=void 0===a.forwardX?(()=>{const l=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),u=i(o),c=s(o,256,9,0),h=(t,s)=>{const i=n(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:s});return i.connect(l,0,t),i.start(),Object.defineProperty(i.offset,"defaultValue",{get:()=>s}),e({context:r},u,i.offset,F,q)};let d=[0,0,-1,0,1,0],p=[0,0,0];return c.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0],e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];t.some(((e,t)=>e!==d[t]))&&(a.setOrientation(...t),d=t);const n=[e.getChannelData(6)[0],e.getChannelData(7)[0],e.getChannelData(8)[0]];n.some(((e,t)=>e!==p[t]))&&(a.setPosition(...n),p=n)},l.connect(c),{forwardX:h(0,0),forwardY:h(1,0),forwardZ:h(2,-1),positionX:h(6,0),positionY:h(7,0),positionZ:h(8,0),upX:h(3,0),upY:h(4,1),upZ:h(5,0)}})():a;return{get forwardX(){return l},get forwardY(){return u},get forwardZ(){return c},get positionX(){return h},get positionY(){return d},get positionZ(){return p},get upX(){return f},get upY(){return m},get upZ(){return g}}})(Zt,an,hn,Ge,Et),kn=new WeakMap,Tn=((e,t,n,s,i,r)=>class extends n{constructor(n,r){super(n),this._nativeContext=n,d.set(this,n),s(n)&&i.set(n,new Set),this._destination=new e(this,r),this._listener=t(this,n),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(e){const t="function"==typeof e?r(this,e):null;this._nativeContext.onstatechange=t;const n=this._nativeContext.onstatechange;this._onstatechange=null!==n&&n===t?e:n}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}})(en,Sn,Dt,Et,kn,ht),Cn=((e,t,n,s,i,r)=>(o,a)=>{const l=o.createOscillator();return Ie(l,a),qe(l,a,"detune"),qe(l,a,"frequency"),void 0!==a.periodicWave?l.setPeriodicWave(a.periodicWave):Re(l,a,"type"),t(n,(()=>n(o)))||Fe(l),t(s,(()=>s(o)))||r(l,o),t(i,(()=>i(o)))||je(l),e(o,l),l})($t,_t,rt,ot,at,ct),On=((e,t,n,s,i)=>()=>{const r=new WeakMap;let o=null,a=null,l=null;return{set periodicWave(e){o=e},set start(e){a=e},set stop(e){l=e},render(u,c,h){const d=r.get(c);return void 0!==d?Promise.resolve(d):(async(u,c,h)=>{let d=n(u);const p=M(d,c);if(!p){const e={channelCount:d.channelCount,channelCountMode:d.channelCountMode,channelInterpretation:d.channelInterpretation,detune:d.detune.value,frequency:d.frequency.value,periodicWave:null===o?void 0:o,type:d.type};d=t(c,e),null!==a&&d.start(a),null!==l&&d.stop(l)}return r.set(c,d),p?(await e(c,u.detune,d.detune,h),await e(c,u.frequency,d.frequency,h)):(await s(c,u.detune,d.detune,h),await s(c,u.frequency,d.frequency,h)),await i(u,c,d,h),d})(u,c,h)}}})(Gt,Cn,te,Yt,St),En=((e,t,n,s,i,r,o)=>class extends e{constructor(e,o){const a=i(e),l={...Xe,...o},u=n(a,l),c=r(a),h=c?s():null,d=e.sampleRate/2;super(e,!1,u,h),this._detune=t(this,c,u.detune,153600,-153600),this._frequency=t(this,c,u.frequency,d,-d),this._nativeOscillatorNode=u,this._onended=null,this._oscillatorNodeRenderer=h,null!==this._oscillatorNodeRenderer&&void 0!==l.periodicWave&&(this._oscillatorNodeRenderer.periodicWave=l.periodicWave)}get detune(){return this._detune}get frequency(){return this._frequency}get onended(){return this._onended}set onended(e){const t="function"==typeof e?o(this,e):null;this._nativeOscillatorNode.onended=t;const n=this._nativeOscillatorNode.onended;this._onended=null!==n&&n===t?e:n}get type(){return this._nativeOscillatorNode.type}set type(e){this._nativeOscillatorNode.type=e,null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=null)}setPeriodicWave(e){this._nativeOscillatorNode.setPeriodicWave(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.periodicWave=e)}start(e=0){if(this._nativeOscillatorNode.start(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.start=e),"closed"!==this.context.state){C(this);const e=()=>{this._nativeOscillatorNode.removeEventListener("ended",e),j(this)&&E(this)};this._nativeOscillatorNode.addEventListener("ended",e)}}stop(e=0){this._nativeOscillatorNode.stop(e),null!==this._oscillatorNodeRenderer&&(this._oscillatorNodeRenderer.stop=e)}})(Nt,Zt,Cn,On,Tt,Et,ht),An=(e=>(t,n)=>{const s=e(t,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),i=t.createBuffer(1,2,44100);return s.buffer=i,s.loop=!0,s.connect(n),s.start(),()=>{s.stop(),s.disconnect(n)}})(Ht),Dn=((e,t,n,s,i)=>(r,{curve:o,oversample:a,...l})=>{const u=r.createWaveShaper(),c=r.createWaveShaper();Ie(u,l),Ie(c,l);const h=n(r,{...l,gain:1}),d=n(r,{...l,gain:-1}),p=n(r,{...l,gain:1}),f=n(r,{...l,gain:-1});let m=null,g=!1,_=null;const v={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(e){h.channelCount=e,d.channelCount=e,u.channelCount=e,p.channelCount=e,c.channelCount=e,f.channelCount=e},get channelCountMode(){return u.channelCountMode},set channelCountMode(e){h.channelCountMode=e,d.channelCountMode=e,u.channelCountMode=e,p.channelCountMode=e,c.channelCountMode=e,f.channelCountMode=e},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(e){h.channelInterpretation=e,d.channelInterpretation=e,u.channelInterpretation=e,p.channelInterpretation=e,c.channelInterpretation=e,f.channelInterpretation=e},get context(){return u.context},get curve(){return _},set curve(n){if(null!==n&&n.length<2)throw t();if(null===n)u.curve=n,c.curve=n;else{const e=n.length,t=new Float32Array(e+2-e%2),s=new Float32Array(e+2-e%2);t[0]=n[0],s[0]=-n[e-1];const i=Math.ceil((e+1)/2),r=(e+1)/2-1;for(let o=1;o<i;o+=1){const a=o/i*r,l=Math.floor(a),u=Math.ceil(a);t[o]=l===u?n[l]:(1-(a-l))*n[l]+(1-(u-a))*n[u],s[o]=l===u?-n[e-1-l]:-(1-(a-l))*n[e-1-l]-(1-(u-a))*n[e-1-u]}t[i]=e%2==1?n[i-1]:(n[i-2]+n[i-1])/2,u.curve=t,c.curve=s}_=n,g&&(s(_)&&null===m?m=e(r,h):null!==m&&(m(),m=null))},get inputs(){return[h]},get numberOfInputs(){return u.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get oversample(){return u.oversample},set oversample(e){u.oversample=e,c.oversample=e},addEventListener:(...e)=>h.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>h.dispatchEvent(e[0]),removeEventListener:(...e)=>h.removeEventListener(e[0],e[1],e[2])};return null!==o&&(v.curve=o instanceof Float32Array?o:new Float32Array(o)),a!==v.oversample&&(v.oversample=a),i(Be(v,p),(()=>{h.connect(u).connect(p),h.connect(d).connect(c).connect(f).connect(p),g=!0,s(_)&&(m=e(r,h))}),(()=>{h.disconnect(u),u.disconnect(p),h.disconnect(d),d.disconnect(c),c.disconnect(f),f.disconnect(p),g=!1,null!==m&&(m(),m=null)}))})(An,Oe,Ue,nt,rn),Mn=((e,t,n,s,i,r,o)=>(a,l)=>{const u=a.createWaveShaper();if(null!==r&&"webkitAudioContext"===r.name&&void 0===a.createGain().gain.automationRate)return n(a,l);Ie(u,l);const c=null===l.curve||l.curve instanceof Float32Array?l.curve:new Float32Array(l.curve);if(null!==c&&c.length<2)throw t();Re(u,{curve:c},"curve"),Re(u,l,"oversample");let h=null,d=!1;return o(u,"curve",(e=>()=>e.call(u)),(t=>n=>(t.call(u,n),d&&(s(n)&&null===h?h=e(a,u):s(n)||null===h||(h(),h=null)),n))),i(u,(()=>{d=!0,s(u.curve)&&(h=e(a,u))}),(()=>{d=!1,null!==h&&(h(),h=null)}))})(An,Oe,Dn,nt,rn,Mt,st),Pn=(ws=((e,t,n,s,i,r,o,a,l)=>(u,{coneInnerAngle:c,coneOuterAngle:h,coneOuterGain:d,distanceModel:p,maxDistance:f,orientationX:m,orientationY:g,orientationZ:_,panningModel:v,positionX:y,positionY:b,positionZ:w,refDistance:x,rolloffFactor:S,...k})=>{const T=u.createPanner();if(k.channelCount>2)throw o();if("max"===k.channelCountMode)throw o();Ie(T,k);const C={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},O=n(u,{...C,channelInterpretation:"speakers",numberOfInputs:6}),E=s(u,{...k,gain:1}),A=s(u,{...C,gain:1}),D=s(u,{...C,gain:0}),M=s(u,{...C,gain:0}),P=s(u,{...C,gain:0}),R=s(u,{...C,gain:0}),I=s(u,{...C,gain:0}),N=i(u,256,6,1),q=r(u,{...C,curve:new Float32Array([1,1]),oversample:"none"});let F=[m,g,_],j=[y,b,w];N.onaudioprocess=({inputBuffer:e})=>{const t=[e.getChannelData(0)[0],e.getChannelData(1)[0],e.getChannelData(2)[0]];t.some(((e,t)=>e!==F[t]))&&(T.setOrientation(...t),F=t);const n=[e.getChannelData(3)[0],e.getChannelData(4)[0],e.getChannelData(5)[0]];n.some(((e,t)=>e!==j[t]))&&(T.setPosition(...n),j=n)},Object.defineProperty(D.gain,"defaultValue",{get:()=>0}),Object.defineProperty(M.gain,"defaultValue",{get:()=>0}),Object.defineProperty(P.gain,"defaultValue",{get:()=>0}),Object.defineProperty(R.gain,"defaultValue",{get:()=>0}),Object.defineProperty(I.gain,"defaultValue",{get:()=>0});const V={get bufferSize(){},get channelCount(){return T.channelCount},set channelCount(e){if(e>2)throw o();E.channelCount=e,T.channelCount=e},get channelCountMode(){return T.channelCountMode},set channelCountMode(e){if("max"===e)throw o();E.channelCountMode=e,T.channelCountMode=e},get channelInterpretation(){return T.channelInterpretation},set channelInterpretation(e){E.channelInterpretation=e,T.channelInterpretation=e},get coneInnerAngle(){return T.coneInnerAngle},set coneInnerAngle(e){T.coneInnerAngle=e},get coneOuterAngle(){return T.coneOuterAngle},set coneOuterAngle(e){T.coneOuterAngle=e},get coneOuterGain(){return T.coneOuterGain},set coneOuterGain(e){if(e<0||e>1)throw t();T.coneOuterGain=e},get context(){return T.context},get distanceModel(){return T.distanceModel},set distanceModel(e){T.distanceModel=e},get inputs(){return[E]},get maxDistance(){return T.maxDistance},set maxDistance(e){if(e<0)throw new RangeError;T.maxDistance=e},get numberOfInputs(){return T.numberOfInputs},get numberOfOutputs(){return T.numberOfOutputs},get orientationX(){return A.gain},get orientationY(){return D.gain},get orientationZ(){return M.gain},get panningModel(){return T.panningModel},set panningModel(e){T.panningModel=e},get positionX(){return P.gain},get positionY(){return R.gain},get positionZ(){return I.gain},get refDistance(){return T.refDistance},set refDistance(e){if(e<0)throw new RangeError;T.refDistance=e},get rolloffFactor(){return T.rolloffFactor},set rolloffFactor(e){if(e<0)throw new RangeError;T.rolloffFactor=e},addEventListener:(...e)=>E.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>E.dispatchEvent(e[0]),removeEventListener:(...e)=>E.removeEventListener(e[0],e[1],e[2])};return c!==V.coneInnerAngle&&(V.coneInnerAngle=c),h!==V.coneOuterAngle&&(V.coneOuterAngle=h),d!==V.coneOuterGain&&(V.coneOuterGain=d),p!==V.distanceModel&&(V.distanceModel=p),f!==V.maxDistance&&(V.maxDistance=f),m!==V.orientationX.value&&(V.orientationX.value=m),g!==V.orientationY.value&&(V.orientationY.value=g),_!==V.orientationZ.value&&(V.orientationZ.value=_),v!==V.panningModel&&(V.panningModel=v),y!==V.positionX.value&&(V.positionX.value=y),b!==V.positionY.value&&(V.positionY.value=b),w!==V.positionZ.value&&(V.positionZ.value=w),x!==V.refDistance&&(V.refDistance=x),S!==V.rolloffFactor&&(V.rolloffFactor=S),1===F[0]&&0===F[1]&&0===F[2]||T.setOrientation(...F),0===j[0]&&0===j[1]&&0===j[2]||T.setPosition(...j),l(Be(V,T),(()=>{E.connect(T),e(E,q,0,0),q.connect(A).connect(O,0,0),q.connect(D).connect(O,0,1),q.connect(M).connect(O,0,2),q.connect(P).connect(O,0,3),q.connect(R).connect(O,0,4),q.connect(I).connect(O,0,5),O.connect(N).connect(u.destination)}),(()=>{E.disconnect(T),a(E,q,0,0),q.disconnect(A),A.disconnect(O),q.disconnect(D),D.disconnect(O),q.disconnect(M),M.disconnect(O),q.disconnect(P),P.disconnect(O),q.disconnect(R),R.disconnect(O),q.disconnect(I),I.disconnect(O),O.disconnect(N),N.disconnect(u.destination)}))})(X,Oe,an,Ue,Ge,Mn,He,ee,rn),(e,t)=>{const n=e.createPanner();return void 0===n.orientationX?ws(e,t):(Ie(n,t),qe(n,t,"orientationX"),qe(n,t,"orientationY"),qe(n,t,"orientationZ"),qe(n,t,"positionX"),qe(n,t,"positionY"),qe(n,t,"positionZ"),Re(n,t,"coneInnerAngle"),Re(n,t,"coneOuterAngle"),Re(n,t,"coneOuterGain"),Re(n,t,"distanceModel"),Re(n,t,"maxDistance"),Re(n,t,"panningModel"),Re(n,t,"refDistance"),Re(n,t,"rolloffFactor"),n)}),Rn=((e,t,n,s,i,r,o,a,l,u)=>()=>{const c=new WeakMap;let h=null;return{render(d,p,f){const m=c.get(p);return void 0!==m?Promise.resolve(m):(async(d,p,f)=>{let m=null,g=r(d);const _={channelCount:g.channelCount,channelCountMode:g.channelCountMode,channelInterpretation:g.channelInterpretation},v={..._,coneInnerAngle:g.coneInnerAngle,coneOuterAngle:g.coneOuterAngle,coneOuterGain:g.coneOuterGain,distanceModel:g.distanceModel,maxDistance:g.maxDistance,panningModel:g.panningModel,refDistance:g.refDistance,rolloffFactor:g.rolloffFactor},y=M(g,p);if("bufferSize"in g)m=s(p,{..._,gain:1});else if(!y){const e={...v,orientationX:g.orientationX.value,orientationY:g.orientationY.value,orientationZ:g.orientationZ.value,positionX:g.positionX.value,positionY:g.positionY.value,positionZ:g.positionZ.value};g=i(p,e)}if(c.set(p,null===m?g:m),null!==m){if(null===h){if(null===o)throw new Error("Missing the native OfflineAudioContext constructor.");const e=new o(6,d.context.length,p.sampleRate),s=t(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:6});s.connect(e.destination),h=(async()=>{const t=await Promise.all([d.orientationX,d.orientationY,d.orientationZ,d.positionX,d.positionY,d.positionZ].map((async(t,s)=>{const i=n(e,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:0===s?1:0});return await a(e,t,i.offset,f),i})));for(let e=0;e<6;e+=1)t[e].connect(s,0,e),t[e].start(0);return u(e)})()}const e=await h,r=s(p,{..._,gain:1});await l(d,p,r,f);const c=[];for(let t=0;t<e.numberOfChannels;t+=1)c.push(e.getChannelData(t));let g=[c[0][0],c[1][0],c[2][0]],y=[c[3][0],c[4][0],c[5][0]],b=s(p,{..._,gain:1}),w=i(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]});r.connect(b).connect(w.inputs[0]),w.connect(m);for(let t=128;t<e.length;t+=128){const e=[c[0][t],c[1][t],c[2][t]],n=[c[3][t],c[4][t],c[5][t]];if(e.some(((e,t)=>e!==g[t]))||n.some(((e,t)=>e!==y[t]))){g=e,y=n;const o=t/p.sampleRate;b.gain.setValueAtTime(0,o),b=s(p,{..._,gain:0}),w=i(p,{...v,orientationX:g[0],orientationY:g[1],orientationZ:g[2],positionX:y[0],positionY:y[1],positionZ:y[2]}),b.gain.setValueAtTime(1,o),r.connect(b).connect(w.inputs[0]),w.connect(m)}}return m}return y?(await e(p,d.orientationX,g.orientationX,f),await e(p,d.orientationY,g.orientationY,f),await e(p,d.orientationZ,g.orientationZ,f),await e(p,d.positionX,g.positionX,f),await e(p,d.positionY,g.positionY,f),await e(p,d.positionZ,g.positionZ,f)):(await a(p,d.orientationX,g.orientationX,f),await a(p,d.orientationY,g.orientationY,f),await a(p,d.orientationZ,g.orientationZ,f),await a(p,d.positionX,g.positionX,f),await a(p,d.positionY,g.positionY,f),await a(p,d.positionZ,g.positionZ,f)),Y(g)?await l(d,p,g.inputs[0],f):await l(d,p,g,f),g})(d,p,f)}}})(Gt,an,hn,Ue,Pn,te,Ot,Yt,St,bn),In=((e,t,n,s,i,r,o)=>class extends e{constructor(e,a){const l=i(e),u={...Ze,...a},c=n(l,u),h=r(l);super(e,!1,c,h?s():null),this._nativePannerNode=c,this._orientationX=t(this,h,c.orientationX,F,q),this._orientationY=t(this,h,c.orientationY,F,q),this._orientationZ=t(this,h,c.orientationZ,F,q),this._positionX=t(this,h,c.positionX,F,q),this._positionY=t(this,h,c.positionY,F,q),this._positionZ=t(this,h,c.positionZ,F,q),o(this,1)}get coneInnerAngle(){return this._nativePannerNode.coneInnerAngle}set coneInnerAngle(e){this._nativePannerNode.coneInnerAngle=e}get coneOuterAngle(){return this._nativePannerNode.coneOuterAngle}set coneOuterAngle(e){this._nativePannerNode.coneOuterAngle=e}get coneOuterGain(){return this._nativePannerNode.coneOuterGain}set coneOuterGain(e){this._nativePannerNode.coneOuterGain=e}get distanceModel(){return this._nativePannerNode.distanceModel}set distanceModel(e){this._nativePannerNode.distanceModel=e}get maxDistance(){return this._nativePannerNode.maxDistance}set maxDistance(e){this._nativePannerNode.maxDistance=e}get orientationX(){return this._orientationX}get orientationY(){return this._orientationY}get orientationZ(){return this._orientationZ}get panningModel(){return this._nativePannerNode.panningModel}set panningModel(e){this._nativePannerNode.panningModel=e}get positionX(){return this._positionX}get positionY(){return this._positionY}get positionZ(){return this._positionZ}get refDistance(){return this._nativePannerNode.refDistance}set refDistance(e){this._nativePannerNode.refDistance=e}get rolloffFactor(){return this._nativePannerNode.rolloffFactor}set rolloffFactor(e){this._nativePannerNode.rolloffFactor=e}})(Nt,Zt,Pn,Rn,Tt,Et,nn),Nn=((e,t,n,s)=>class s{constructor(s,i){const r=t(s),o=(e=>{const{imag:t,real:n}=e;return void 0===t?void 0===n?{...e,imag:[0,0],real:[0,0]}:{...e,imag:Array.from(n,(()=>0)),real:n}:void 0===n?{...e,imag:t,real:Array.from(t,(()=>0))}:{...e,imag:t,real:n}})({...Ke,...i}),a=e(r,o);return n.add(a),a}static[Symbol.hasInstance](e){return null!==e&&"object"==typeof e&&Object.getPrototypeOf(e)===s.prototype||n.has(e)}})((e=>(t,{disableNormalization:n,imag:s,real:i})=>{const r=s instanceof Float32Array?s:new Float32Array(s),o=i instanceof Float32Array?i:new Float32Array(i),a=t.createPeriodicWave(o,r,{disableNormalization:n});if(Array.from(s).length<2)throw e();return a})(R),Tt,new WeakSet),qn=((e,t)=>(n,s)=>{const i=s.channelCountMode;if("clamped-max"===i)throw t();if(void 0===n.createStereoPanner)return e(n,s);const r=n.createStereoPanner();return Ie(r,s),qe(r,s,"pan"),Object.defineProperty(r,"channelCountMode",{get:()=>i,set:e=>{if(e!==i)throw t()}}),r})(((e,t,n,s,i,r)=>{const o=16385,a=new Float32Array([1,1]),l=Math.PI/2,u={channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete"},c={...u,oversample:"none"},h=(e,r,h,d,p)=>{if(1===r)return((e,t,i,r)=>{const h=new Float32Array(o),d=new Float32Array(o);for(let e=0;e<o;e+=1){const t=e/16384*l;h[e]=Math.cos(t),d[e]=Math.sin(t)}const p=n(e,{...u,gain:0}),f=s(e,{...c,curve:h}),m=s(e,{...c,curve:a}),g=n(e,{...u,gain:0}),_=s(e,{...c,curve:d});return{connectGraph(){t.connect(p),t.connect(void 0===m.inputs?m:m.inputs[0]),t.connect(g),m.connect(i),i.connect(void 0===f.inputs?f:f.inputs[0]),i.connect(void 0===_.inputs?_:_.inputs[0]),f.connect(p.gain),_.connect(g.gain),p.connect(r,0,0),g.connect(r,0,1)},disconnectGraph(){t.disconnect(p),t.disconnect(void 0===m.inputs?m:m.inputs[0]),t.disconnect(g),m.disconnect(i),i.disconnect(void 0===f.inputs?f:f.inputs[0]),i.disconnect(void 0===_.inputs?_:_.inputs[0]),f.disconnect(p.gain),_.disconnect(g.gain),p.disconnect(r,0,0),g.disconnect(r,0,1)}}})(e,h,d,p);if(2===r)return((e,i,r,h)=>{const d=new Float32Array(o),p=new Float32Array(o),f=new Float32Array(o),m=new Float32Array(o),g=Math.floor(8192.5);for(let e=0;e<o;e+=1)if(e>g){const t=(e-g)/(16384-g)*l;d[e]=Math.cos(t),p[e]=Math.sin(t),f[e]=0,m[e]=1}else{const t=e/(16384-g)*l;d[e]=1,p[e]=0,f[e]=Math.cos(t),m[e]=Math.sin(t)}const _=t(e,{channelCount:2,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:2}),v=n(e,{...u,gain:0}),y=s(e,{...c,curve:d}),b=n(e,{...u,gain:0}),w=s(e,{...c,curve:p}),x=s(e,{...c,curve:a}),S=n(e,{...u,gain:0}),k=s(e,{...c,curve:f}),T=n(e,{...u,gain:0}),C=s(e,{...c,curve:m});return{connectGraph(){i.connect(_),i.connect(void 0===x.inputs?x:x.inputs[0]),_.connect(v,0),_.connect(b,0),_.connect(S,1),_.connect(T,1),x.connect(r),r.connect(void 0===y.inputs?y:y.inputs[0]),r.connect(void 0===w.inputs?w:w.inputs[0]),r.connect(void 0===k.inputs?k:k.inputs[0]),r.connect(void 0===C.inputs?C:C.inputs[0]),y.connect(v.gain),w.connect(b.gain),k.connect(S.gain),C.connect(T.gain),v.connect(h,0,0),S.connect(h,0,0),b.connect(h,0,1),T.connect(h,0,1)},disconnectGraph(){i.disconnect(_),i.disconnect(void 0===x.inputs?x:x.inputs[0]),_.disconnect(v,0),_.disconnect(b,0),_.disconnect(S,1),_.disconnect(T,1),x.disconnect(r),r.disconnect(void 0===y.inputs?y:y.inputs[0]),r.disconnect(void 0===w.inputs?w:w.inputs[0]),r.disconnect(void 0===k.inputs?k:k.inputs[0]),r.disconnect(void 0===C.inputs?C:C.inputs[0]),y.disconnect(v.gain),w.disconnect(b.gain),k.disconnect(S.gain),C.disconnect(T.gain),v.disconnect(h,0,0),S.disconnect(h,0,0),b.disconnect(h,0,1),T.disconnect(h,0,1)}}})(e,h,d,p);throw i()};return(t,{channelCount:s,channelCountMode:o,pan:a,...l})=>{if("max"===o)throw i();const u=e(t,{...l,channelCount:1,channelCountMode:o,numberOfInputs:2}),c=n(t,{...l,channelCount:s,channelCountMode:o,gain:1}),d=n(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:a});let{connectGraph:p,disconnectGraph:f}=h(t,s,c,d,u);Object.defineProperty(d.gain,"defaultValue",{get:()=>0}),Object.defineProperty(d.gain,"maxValue",{get:()=>1}),Object.defineProperty(d.gain,"minValue",{get:()=>-1});const m={get bufferSize(){},get channelCount(){return c.channelCount},set channelCount(e){c.channelCount!==e&&(g&&f(),({connectGraph:p,disconnectGraph:f}=h(t,e,c,d,u)),g&&p()),c.channelCount=e},get channelCountMode(){return c.channelCountMode},set channelCountMode(e){if("clamped-max"===e||"max"===e)throw i();c.channelCountMode=e},get channelInterpretation(){return c.channelInterpretation},set channelInterpretation(e){c.channelInterpretation=e},get context(){return c.context},get inputs(){return[c]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return c.numberOfOutputs},get pan(){return d.gain},addEventListener:(...e)=>c.addEventListener(e[0],e[1],e[2]),dispatchEvent:(...e)=>c.dispatchEvent(e[0]),removeEventListener:(...e)=>c.removeEventListener(e[0],e[1],e[2])};let g=!1;return r(Be(m,u),(()=>{p(),g=!0}),(()=>{f(),g=!1}))}})(an,ze,Ue,Mn,He,rn),He),Fn=((e,t,n,s,i)=>()=>{const r=new WeakMap;return{render(o,a,l){const u=r.get(a);return void 0!==u?Promise.resolve(u):(async(o,a,l)=>{let u=n(o);const c=M(u,a);if(!c){const e={channelCount:u.channelCount,channelCountMode:u.channelCountMode,channelInterpretation:u.channelInterpretation,pan:u.pan.value};u=t(a,e)}return r.set(a,u),c?await e(a,o.pan,u.pan,l):await s(a,o.pan,u.pan,l),Y(u)?await i(o,a,u.inputs[0],l):await i(o,a,u,l),u})(o,a,l)}}})(Gt,qn,te,Yt,St),jn=((e,t,n,s,i,r)=>class extends e{constructor(e,o){const a=i(e),l={...Je,...o},u=n(a,l),c=r(a);super(e,!1,u,c?s():null),this._pan=t(this,c,u.pan)}get pan(){return this._pan}})(Nt,Zt,qn,Fn,Tt,Et),Vn=((e,t,n)=>()=>{const s=new WeakMap;return{render(i,r,o){const a=s.get(r);return void 0!==a?Promise.resolve(a):(async(i,r,o)=>{let a=t(i);if(!M(a,r)){const t={channelCount:a.channelCount,channelCountMode:a.channelCountMode,channelInterpretation:a.channelInterpretation,curve:a.curve,oversample:a.oversample};a=e(r,t)}return s.set(r,a),Y(a)?await n(i,r,a.inputs[0],o):await n(i,r,a,o),a})(i,r,o)}}})(Mn,te,St),Ln=((e,t,n,s,i,r,o)=>class extends e{constructor(e,t){const a=i(e),l={...tt,...t},u=n(a,l);super(e,!0,u,r(a)?s():null),this._isCurveNullified=!1,this._nativeWaveShaperNode=u,o(this,1)}get curve(){return this._isCurveNullified?null:this._nativeWaveShaperNode.curve}set curve(e){if(null===e)this._isCurveNullified=!0,this._nativeWaveShaperNode.curve=new Float32Array([0,0]);else{if(e.length<2)throw t();this._isCurveNullified=!1,this._nativeWaveShaperNode.curve=e}}get oversample(){return this._nativeWaveShaperNode.oversample}set oversample(e){this._nativeWaveShaperNode.oversample=e}})(Nt,Oe,Mn,Vn,Tt,Et,nn),zn=(e=>null!==e&&e.isSecureContext)(bt),Bn=(e=>(t,n,s)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get:()=>Math.round(t*n)},currentTime:{configurable:!0,get:()=>t}});try{return s()}finally{null!==e&&(delete e.currentFrame,delete e.currentTime)}})(bt),Wn=new WeakMap,Un=((e,t)=>n=>{let s=e.get(n);if(void 0!==s)return s;if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");return s=new t(1,1,44100),e.set(n,s),s})(Wn,Ot),$n=(e=>null===e?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null)(bt),Qn=zn?((e,t,n,s,i,r,o,a,l,u,c,h,d)=>(p,f,g={credentials:"omit"})=>{const _=r(p);if(void 0!==_.audioWorklet)return Promise.all([i(f),Promise.resolve(e(h,h))]).then((([[e,t],n])=>{const[s,i]=y(e,t),r=new Blob([`${s};((AudioWorkletProcessor,registerProcessor)=>{${i}\n})(${n?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${n?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${n?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac',class extends AudioWorkletProcessor{process(){return !1}})`],{type:"application/javascript; charset=utf-8"}),u=URL.createObjectURL(r);return _.audioWorklet.addModule(u,g).then((()=>{if(a(_))return _;const e=o(_);return e.audioWorklet.addModule(u,g).then((()=>e))})).then((e=>{if(null===l)throw new SyntaxError;try{new l(e,"__sac")}catch{throw new SyntaxError}})).finally((()=>URL.revokeObjectURL(u)))}));const v=c.get(p);if(void 0!==v&&v.has(f))return Promise.resolve();const x=u.get(p);if(void 0!==x){const e=x.get(f);if(void 0!==e)return e}const S=i(f).then((([e,t])=>{const[s,i]=y(e,t);return n(`${s};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${i}\n})})(window,'_AWGS')`)})).then((()=>{const e=d._AWGS.pop();if(void 0===e)throw new SyntaxError;s(_.currentTime,_.sampleRate,(()=>e(class{},void 0,((e,n)=>{if(""===e.trim())throw t();const s=m.get(_);if(void 0!==s){if(s.has(e))throw t();w(n),b(n.parameterDescriptors),s.set(e,n)}else w(n),b(n.parameterDescriptors),m.set(_,new Map([[e,n]]))}),_.sampleRate,void 0,void 0)))}));return void 0===x?u.set(p,new Map([[f,S]])):x.set(f,S),S.then((()=>{const e=c.get(p);void 0===e?c.set(p,new Set([f])):e.add(f)})).finally((()=>{const e=u.get(p);void 0!==e&&e.delete(f)})),S})(_t,He,(e=>t=>new Promise(((n,s)=>{if(null===e)return void s(new SyntaxError);const i=e.document.head;if(null===i)s(new SyntaxError);else{const r=e.document.createElement("script"),o=new Blob([t],{type:"application/javascript"}),a=URL.createObjectURL(o),l=e.onerror,u=()=>{e.onerror=l,URL.revokeObjectURL(a)};e.onerror=(t,n,i,r,o)=>n===a||n===e.location.href&&1===i&&1===r?(u(),s(o),!1):null!==l?l(t,n,i,r,o):void 0,r.onerror=()=>{u(),s(new SyntaxError)},r.onload=()=>{u(),n()},r.src=a,r.type="module",i.appendChild(r)}})))(bt),Bn,(async e=>{try{const t=await fetch(e);if(t.ok)return[await t.text(),t.url]}catch{}throw new DOMException("","AbortError")}),Tt,Un,Et,$n,new WeakMap,new WeakMap,((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new t(1,128,44100),i=URL.createObjectURL(n);let r=!1,o=!1;try{await s.audioWorklet.addModule(i);const t=new e(s,"a",{numberOfOutputs:0}),n=s.createOscillator();t.port.onmessage=()=>r=!0,t.onprocessorerror=()=>o=!0,n.connect(t),n.start(0),await s.startRendering()}catch{}finally{URL.revokeObjectURL(i)}return r&&!o})($n,Ot),bt):void 0,Gn=((e,t)=>n=>e(n)||t(n))(Pt,Et),Hn=((e,t,n,s,i,r,o,a,l,u,c,h,d,p,f,m,g,_,v,y)=>class extends f{constructor(t,n){super(t,n),this._nativeContext=t,this._audioWorklet=void 0===e?void 0:{addModule:(t,n)=>e(this,t,n)}}get audioWorklet(){return this._audioWorklet}createAnalyser(){return new t(this)}createBiquadFilter(){return new i(this)}createBuffer(e,t,s){return new n({length:t,numberOfChannels:e,sampleRate:s})}createBufferSource(){return new s(this)}createChannelMerger(e=6){return new r(this,{numberOfInputs:e})}createChannelSplitter(e=6){return new o(this,{numberOfOutputs:e})}createConstantSource(){return new a(this)}createConvolver(){return new l(this)}createDelay(e=1){return new c(this,{maxDelayTime:e})}createDynamicsCompressor(){return new h(this)}createGain(){return new d(this)}createIIRFilter(e,t){return new p(this,{feedback:t,feedforward:e})}createOscillator(){return new m(this)}createPanner(){return new g(this)}createPeriodicWave(e,t,n={disableNormalization:!1}){return new _(this,{...n,imag:t,real:e})}createStereoPanner(){return new v(this)}createWaveShaper(){return new y(this)}decodeAudioData(e,t,n){return u(this._nativeContext,e).then((e=>("function"==typeof t&&t(e),e)),(e=>{throw"function"==typeof n&&n(e),e}))}})(Qn,Ft,Ut,Jt,sn,ln,un,dn,fn,((e,t,n,s,i,r,o,a,l,u,c)=>(n,s)=>{const h=o(n)?n:r(n);if(i.has(s)){const e=new DOMException("","DataCloneError");return Promise.reject(e)}try{i.add(s)}catch{}return t(l,(()=>l(h)))?h.decodeAudioData(s).then((n=>(xe(s).catch((()=>{})),t(a,(()=>a(n)))||c(n),e.add(n),n))):new Promise(((t,n)=>{const i=async()=>{try{await xe(s)}catch{}},r=e=>{n(e),i()};try{h.decodeAudioData(s,(n=>{"function"!=typeof n.copyFromChannel&&(u(n),I(n)),e.add(n),i().then((()=>t(n)))}),(e=>{r(null===e?new DOMException("","EncodingError"):e)}))}catch(e){r(e)}}))})(jt,_t,0,0,new WeakSet,Tt,Gn,P,Pe,Bt,Wt),mn,_n,vn,xn,Tn,En,In,Nn,jn,Ln),Yn=((e,t,n,s)=>class extends e{constructor(e,t){const i=n(e),r=((e,t)=>e.createMediaElementSource(t.mediaElement))(i,t);if(s(i))throw TypeError();super(e,!0,r,null),this._nativeMediaElementAudioSourceNode=r}get mediaElement(){return this._nativeMediaElementAudioSourceNode.mediaElement}})(Nt,0,Tt,Et),Xn=((e,t,n,s)=>class extends e{constructor(e,t){const i=n(e);if(s(i))throw new TypeError;const r=((e,t)=>{const n=e.createMediaStreamDestination();return Ie(n,t),1===n.numberOfOutputs&&Object.defineProperty(n,"numberOfOutputs",{get:()=>0}),n})(i,{...Me,...t});super(e,!1,r,null),this._nativeMediaStreamAudioDestinationNode=r}get stream(){return this._nativeMediaStreamAudioDestinationNode.stream}})(Nt,0,Tt,Et),Zn=((e,t,n,s)=>class extends e{constructor(e,t){const i=n(e),r=((e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort(((e,t)=>e.id<t.id?-1:e.id>t.id?1:0));const s=n.slice(0,1),i=e.createMediaStreamSource(new MediaStream(s));return Object.defineProperty(i,"mediaStream",{value:t}),i})(i,t);if(s(i))throw new TypeError;super(e,!0,r,null),this._nativeMediaStreamAudioSourceNode=r}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}})(Nt,0,Tt,Et),Kn=((e,t,n)=>class extends e{constructor(e,s){const i=n(e);super(e,!0,t(i,s),null)}})(Nt,((e,t)=>(n,{mediaStreamTrack:s})=>{if("function"==typeof n.createMediaStreamTrackSource)return n.createMediaStreamTrackSource(s);const i=new MediaStream([s]),r=n.createMediaStreamSource(i);if("audio"!==s.kind)throw e();if(t(n))throw new TypeError;return r})(Oe,Et),Tt),Jn=((e,t,n,s,i,r,o,a,l)=>class extends e{constructor(e={}){if(null===l)throw new Error("Missing the native AudioContext constructor.");let t;try{t=new l(e)}catch(e){if(12===e.code&&"sampleRate is not in range"===e.message)throw n();throw e}if(null===t)throw s();if(!(e=>void 0===e||"number"==typeof e||"string"==typeof e&&("balanced"===e||"interactive"===e||"playback"===e))(e.latencyHint))throw new TypeError(`The provided value '${e.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(void 0!==e.sampleRate&&t.sampleRate!==e.sampleRate)throw n();super(t,2);const{latencyHint:i}=e,{sampleRate:r}=t;if(this._baseLatency="number"==typeof t.baseLatency?t.baseLatency:"balanced"===i?512/r:"interactive"===i||void 0===i?256/r:"playback"===i?1024/r:128*Math.max(2,Math.min(128,Math.round(i*r/128)))/r,this._nativeAudioContext=t,"webkitAudioContext"===l.name?(this._nativeGainNode=t.createGain(),this._nativeOscillatorNode=t.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(t.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,"running"===t.state){this._state="suspended";const e=()=>{"suspended"===this._state&&(this._state=null),t.removeEventListener("statechange",e)};t.addEventListener("statechange",e)}}get baseLatency(){return this._baseLatency}get state(){return null!==this._state?this._state:this._nativeAudioContext.state}close(){return"closed"===this.state?this._nativeAudioContext.close().then((()=>{throw t()})):("suspended"===this._state&&(this._state=null),this._nativeAudioContext.close().then((()=>{null!==this._nativeGainNode&&null!==this._nativeOscillatorNode&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),W(this)})))}createMediaElementSource(e){return new i(this,{mediaElement:e})}createMediaStreamDestination(){return new r(this)}createMediaStreamSource(e){return new o(this,{mediaStream:e})}createMediaStreamTrackSource(e){return new a(this,{mediaStreamTrack:e})}resume(){return"suspended"===this._state?new Promise(((e,t)=>{const n=()=>{this._nativeAudioContext.removeEventListener("statechange",n),"running"===this._nativeAudioContext.state?e():this.resume().then(e,t)};this._nativeAudioContext.addEventListener("statechange",n)})):this._nativeAudioContext.resume().catch((e=>{if(void 0===e||15===e.code)throw t();throw e}))}suspend(){return this._nativeAudioContext.suspend().catch((e=>{if(void 0===e)throw t();throw e}))}})(Hn,Oe,He,et,Yn,Xn,Zn,Kn,Mt),es=(e=>t=>{const n=e.get(t);if(void 0===n)throw new Error("The context has no set of AudioWorkletNodes.");return n})(kn),ts=(e=>(t,n)=>{e(t).add(n)})(es),ns=(e=>(t,n,s=0,i=0)=>{const r=t[s];if(void 0===r)throw e();return ae(n)?r.connect(n,0,i):r.connect(n,0)})(R),ss=(e=>(t,n)=>{e(t).delete(n)})(es),is=(e=>(t,n,s,i=0)=>void 0===n?t.forEach((e=>e.disconnect())):"number"==typeof n?ke(e,t,n).disconnect():ae(n)?void 0===s?t.forEach((e=>e.disconnect(n))):void 0===i?ke(e,t,s).disconnect(n,0):ke(e,t,s).disconnect(n,0,i):void 0===s?t.forEach((e=>e.disconnect(n))):ke(e,t,s).disconnect(n,0))(R),rs=new WeakMap,os=((e,t)=>n=>t(e,n))(rs,x),as=((e,t,n,s,i,r,o,a,l,u,c,h,d)=>(p,f,m,_)=>{if(0===_.numberOfInputs&&0===_.numberOfOutputs)throw l();const v=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(v.some((e=>e<1)))throw l();if(v.length!==_.numberOfOutputs)throw t();if("explicit"!==_.channelCountMode)throw l();const y=_.channelCount*_.numberOfInputs,b=v.reduce(((e,t)=>e+t),0),w=void 0===m.parameterDescriptors?0:m.parameterDescriptors.length;if(y+w>6||b>6)throw l();const x=new MessageChannel,S=[],k=[];for(let e=0;e<_.numberOfInputs;e+=1)S.push(o(p,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),k.push(i(p,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const T=[];if(void 0!==m.parameterDescriptors)for(const{defaultValue:e,maxValue:t,minValue:n,name:s}of m.parameterDescriptors){const i=r(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:void 0!==_.parameterData[s]?_.parameterData[s]:void 0===e?0:e});Object.defineProperties(i.offset,{defaultValue:{get:()=>void 0===e?0:e},maxValue:{get:()=>void 0===t?F:t},minValue:{get:()=>void 0===n?q:n}}),T.push(i)}const C=s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,y+w)}),O=Ve(f,p.sampleRate),E=a(p,O,y+w,Math.max(1,b)),A=i(p,{channelCount:Math.max(1,b),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,b)}),D=[];for(let e=0;e<_.numberOfOutputs;e+=1)D.push(s(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:v[e]}));for(let e=0;e<_.numberOfInputs;e+=1){S[e].connect(k[e]);for(let t=0;t<_.channelCount;t+=1)k[e].connect(C,t,e*_.channelCount+t)}const M=new he(void 0===m.parameterDescriptors?[]:m.parameterDescriptors.map((({name:e},t)=>{const n=T[t];return n.connect(C,0,y+t),n.start(0),[e,n.offset]})));C.connect(E);let P=_.channelInterpretation,R=null;const I=0===_.numberOfOutputs?[E]:D,N={get bufferSize(){return O},get channelCount(){return _.channelCount},set channelCount(e){throw n()},get channelCountMode(){return _.channelCountMode},set channelCountMode(e){throw n()},get channelInterpretation(){return P},set channelInterpretation(e){for(const t of S)t.channelInterpretation=e;P=e},get context(){return E.context},get inputs(){return S},get numberOfInputs(){return _.numberOfInputs},get numberOfOutputs(){return _.numberOfOutputs},get onprocessorerror(){return R},set onprocessorerror(e){"function"==typeof R&&N.removeEventListener("processorerror",R),R="function"==typeof e?e:null,"function"==typeof R&&N.addEventListener("processorerror",R)},get parameters(){return M},get port(){return x.port2},addEventListener:(...e)=>E.addEventListener(e[0],e[1],e[2]),connect:e.bind(null,I),disconnect:u.bind(null,I),dispatchEvent:(...e)=>E.dispatchEvent(e[0]),removeEventListener:(...e)=>E.removeEventListener(e[0],e[1],e[2])},j=new Map;var V,L;x.port1.addEventListener=(V=x.port1.addEventListener,(...e)=>{if("message"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=j.get(e[1]);void 0!==n?e[1]=n:(e[1]=e=>{c(p.currentTime,p.sampleRate,(()=>t(e)))},j.set(t,e[1]))}}return V.call(x.port1,e[0],e[1],e[2])}),x.port1.removeEventListener=(L=x.port1.removeEventListener,(...e)=>{if("message"===e[0]){const t=j.get(e[1]);void 0!==t&&(j.delete(e[1]),e[1]=t)}return L.call(x.port1,e[0],e[1],e[2])});let z=null;Object.defineProperty(x.port1,"onmessage",{get:()=>z,set:e=>{"function"==typeof z&&x.port1.removeEventListener("message",z),z="function"==typeof e?e:null,"function"==typeof z&&(x.port1.addEventListener("message",z),x.port1.start())}}),m.prototype.port=x.port1;let B=null;((e,t,n,s)=>{let i=g.get(e);void 0===i&&(i=new WeakMap,g.set(e,i));const r=(async(e,t)=>new e(await(e=>new Promise(((t,n)=>{const{port1:s,port2:i}=new MessageChannel;s.onmessage=({data:e})=>{s.close(),i.close(),t(e)},s.onmessageerror=({data:e})=>{s.close(),i.close(),n(e)},i.postMessage(e)})))(t)))(n,s);return i.set(t,r),r})(p,N,m,_).then((e=>B=e));const W=me(_.numberOfInputs,_.channelCount),U=me(_.numberOfOutputs,v),$=void 0===m.parameterDescriptors?[]:m.parameterDescriptors.reduce(((e,{name:t})=>({...e,[t]:new Float32Array(128)})),{});let Q=!0;const G=()=>{_.numberOfOutputs>0&&E.disconnect(A);for(let e=0,t=0;e<_.numberOfOutputs;e+=1){const n=D[e];for(let s=0;s<v[e];s+=1)A.disconnect(n,t+s,s);t+=v[e]}},H=new Map;E.onaudioprocess=({inputBuffer:e,outputBuffer:t})=>{if(null!==B){const n=h(N);for(let s=0;s<O;s+=128){for(let t=0;t<_.numberOfInputs;t+=1)for(let n=0;n<_.channelCount;n+=1)pe(e,W[t],n,n,s);void 0!==m.parameterDescriptors&&m.parameterDescriptors.forEach((({name:t},n)=>{pe(e,$,t,y+n,s)}));for(let e=0;e<_.numberOfInputs;e+=1)for(let t=0;t<v[e];t+=1)0===U[e][t].byteLength&&(U[e][t]=new Float32Array(128));try{const e=W.map(((e,t)=>{if(n[t].size>0)return H.set(t,O/128),e;const s=H.get(t);return void 0===s?[]:(e.every((e=>e.every((e=>0===e))))&&(1===s?H.delete(t):H.set(t,s-1)),e)})),i=c(p.currentTime+s/p.sampleRate,p.sampleRate,(()=>B.process(e,U,$)));Q=i;for(let e=0,n=0;e<_.numberOfOutputs;e+=1){for(let i=0;i<v[e];i+=1)fe(t,U[e],i,n+i,s);n+=v[e]}}catch(e){Q=!1,N.dispatchEvent(new ErrorEvent("processorerror",{colno:e.colno,filename:e.filename,lineno:e.lineno,message:e.message}))}if(!Q){for(let e=0;e<_.numberOfInputs;e+=1){S[e].disconnect(k[e]);for(let t=0;t<_.channelCount;t+=1)k[s].disconnect(C,t,e*_.channelCount+t)}if(void 0!==m.parameterDescriptors){const e=m.parameterDescriptors.length;for(let t=0;t<e;t+=1){const e=T[t];e.disconnect(C,0,y+t),e.stop()}}C.disconnect(E),E.onaudioprocess=null,Y?G():K();break}}}};let Y=!1;const X=o(p,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Z=()=>E.connect(X).connect(p.destination),K=()=>{E.disconnect(X),X.disconnect()};return Z(),d(N,(()=>{if(Q){K(),_.numberOfOutputs>0&&E.connect(A);for(let e=0,t=0;e<_.numberOfOutputs;e+=1){const n=D[e];for(let s=0;s<v[e];s+=1)A.connect(n,t+s,s);t+=v[e]}}Y=!0}),(()=>{Q&&(Z(),G()),Y=!1}))})(ns,R,Oe,an,ze,hn,Ue,Ge,He,is,Bn,os,rn),ls=((e,t,n,s,i)=>(r,o,a,l,u,c)=>{if(null!==a)try{const t=new a(r,l,c),s=new Map;let o=null;if(Object.defineProperties(t,{channelCount:{get:()=>c.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>o,set:e=>{"function"==typeof o&&t.removeEventListener("processorerror",o),o="function"==typeof e?e:null,"function"==typeof o&&t.addEventListener("processorerror",o)}}}),t.addEventListener=(d=t.addEventListener,(...e)=>{if("processorerror"===e[0]){const t="function"==typeof e[1]?e[1]:"object"==typeof e[1]&&null!==e[1]&&"function"==typeof e[1].handleEvent?e[1].handleEvent:null;if(null!==t){const n=s.get(e[1]);void 0!==n?e[1]=n:(e[1]=n=>{"error"===n.type?(Object.defineProperties(n,{type:{value:"processorerror"}}),t(n)):t(new ErrorEvent(e[0],{...n}))},s.set(t,e[1]))}}return d.call(t,"error",e[1],e[2]),d.call(t,...e)}),t.removeEventListener=(h=t.removeEventListener,(...e)=>{if("processorerror"===e[0]){const t=s.get(e[1]);void 0!==t&&(s.delete(e[1]),e[1]=t)}return h.call(t,"error",e[1],e[2]),h.call(t,e[0],e[1],e[2])}),0!==c.numberOfOutputs){const e=n(r,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return t.connect(e).connect(r.destination),i(t,(()=>e.disconnect()),(()=>e.connect(r.destination)))}return t}catch(e){if(11===e.code)throw s();throw e}var h,d;if(void 0===u)throw s();return(e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}})(c),t(r,o,u,c)})(Oe,as,Ue,He,rn),us=((e,t,n,s,i,r,o,a,l,u,c,h,d,p,f,m)=>(g,_,v)=>{const y=new WeakMap;let b=null;return{render(w,x,S){a(x,w);const k=y.get(x);return void 0!==k?Promise.resolve(k):(async(a,w,x)=>{let S=c(a),k=null;const T=M(S,w),C=Array.isArray(_.outputChannelCount)?_.outputChannelCount:Array.from(_.outputChannelCount);if(null===h){const e=C.reduce(((e,t)=>e+t),0),n=i(w,{channelCount:Math.max(1,e),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,e)}),r=[];for(let e=0;e<a.numberOfOutputs;e+=1)r.push(s(w,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:C[e]}));const u=o(w,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1});u.connect=t.bind(null,r),u.disconnect=l.bind(null,r),k=[n,r,u]}else T||(S=new h(w,g));if(y.set(w,null===k?S:k[2]),null!==k){if(null===b){if(void 0===v)throw new Error("Missing the processor constructor.");if(null===d)throw new Error("Missing the native OfflineAudioContext constructor.");const e=a.channelCount*a.numberOfInputs,t=void 0===v.parameterDescriptors?0:v.parameterDescriptors.length,n=e+t,l=async()=>{const l=new d(n,128*Math.ceil(a.context.length/128),w.sampleRate),u=[],c=[];for(let e=0;e<_.numberOfInputs;e+=1)u.push(o(l,{channelCount:_.channelCount,channelCountMode:_.channelCountMode,channelInterpretation:_.channelInterpretation,gain:1})),c.push(i(l,{channelCount:_.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:_.channelCount}));const h=await Promise.all(Array.from(a.parameters.values()).map((async e=>{const t=r(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:e.value});return await p(l,e,t.offset,x),t}))),g=s(l,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,e+t)});for(let e=0;e<_.numberOfInputs;e+=1){u[e].connect(c[e]);for(let t=0;t<_.channelCount;t+=1)c[e].connect(g,t,e*_.channelCount+t)}for(const[t,n]of h.entries())n.connect(g,0,e+t),n.start(0);return g.connect(l.destination),await Promise.all(u.map((e=>f(a,l,e,x)))),m(l)};b=ge(a,0===n?null:await l(),w,_,C,v,u)}const e=await b,t=n(w,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[l,c,h]=k;null!==e&&(t.buffer=e,t.start(0)),t.connect(l);for(let e=0,t=0;e<a.numberOfOutputs;e+=1){const n=c[e];for(let s=0;s<C[e];s+=1)l.connect(n,t+s,s);t+=C[e]}return h}if(T)for(const[t,n]of a.parameters.entries())await e(w,n,S.parameters.get(t),x);else for(const[e,t]of a.parameters.entries())await p(w,t,S.parameters.get(e),x);return await f(a,w,S,x),S})(w,x,S)}}})(Gt,ns,Ht,an,ze,hn,Ue,ss,is,Bn,te,$n,Ot,Yt,St,bn),cs=(e=>t=>e.get(t))(Wn),hs=(e=>(t,n)=>{e.set(t,n)})(rs),ds=zn?((e,t,n,s,i,r,o,a,l,u,c,h,d,p)=>class extends t{constructor(t,c,d){var p;const f=a(t),g=l(f),_=(e=>({...e,outputChannelCount:void 0!==e.outputChannelCount?e.outputChannelCount:1===e.numberOfInputs&&1===e.numberOfOutputs?[e.channelCount]:Array.from({length:e.numberOfOutputs},(()=>1))}))({...de,...d});(e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}})(_);const v=m.get(f),y=null==v?void 0:v.get(c),b=g||"closed"!==f.state?f:null!==(p=o(f))&&void 0!==p?p:f,w=i(b,g?null:t.baseLatency,u,c,y,_);super(t,!0,w,g?s(c,_,y):null);const x=[];w.parameters.forEach(((e,t)=>{const s=n(this,g,e);x.push([t,s])})),this._nativeAudioWorkletNode=w,this._onprocessorerror=null,this._parameters=new he(x),g&&e(f,this);const{activeInputs:S}=r(this);h(w,S)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(e){const t="function"==typeof e?p(this,e):null;this._nativeAudioWorkletNode.onprocessorerror=t;const n=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=null!==n&&n===t?e:n}get parameters(){return null===this._parameters?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}})(ts,Nt,Zt,us,ls,L,cs,Tt,Et,$n,0,hs,0,ht):void 0,ps=((e,t)=>(n,s,i)=>{if(null===t)throw new Error("Missing the native OfflineAudioContext constructor.");try{return new t(n,s,i)}catch(t){if("SyntaxError"===t.name)throw e();throw t}})(He,Ot),fs=((e,t,n,s,i,r,o,a)=>{const l=[];return(u,c)=>n(u).render(u,c,l).then((()=>Promise.all(Array.from(s(c)).map((e=>n(e).render(e,c,l)))))).then((()=>i(c))).then((n=>("function"!=typeof n.copyFromChannel?(o(n),I(n)):t(r,(()=>r(n)))||a(n),e.add(n),n)))})(jt,_t,xt,es,bn,P,Bt,Wt),ms=((e,t,n,s,i)=>class extends e{constructor(e,n,i){let r;if("number"==typeof e&&void 0!==n&&void 0!==i)r={length:n,numberOfChannels:e,sampleRate:i};else{if("object"!=typeof e)throw new Error("The given parameters are not valid.");r=e}const{length:o,numberOfChannels:a,sampleRate:l}={...Ye,...r},u=s(a,o,l);t(Pe,(()=>Pe(u)))||u.addEventListener("statechange",(()=>{let e=0;const t=n=>{"running"===this._state&&(e>0?(u.removeEventListener("statechange",t),n.stopImmediatePropagation(),this._waitForThePromiseToSettle(n)):e+=1)};return t})()),super(u,a),this._length=o,this._nativeOfflineAudioContext=u,this._state=null}get length(){return void 0===this._nativeOfflineAudioContext.length?this._length:this._nativeOfflineAudioContext.length}get state(){return null===this._state?this._nativeOfflineAudioContext.state:this._state}startRendering(){return"running"===this._state?Promise.reject(n()):(this._state="running",i(this.destination,this._nativeOfflineAudioContext).finally((()=>{this._state=null,W(this)})))}_waitForThePromiseToSettle(e){null===this._state?this._nativeOfflineAudioContext.dispatchEvent(e):setTimeout((()=>this._waitForThePromiseToSettle(e)))}})(Hn,_t,Oe,ps,fs),gs=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(d,Pt),_s=((e,t)=>n=>e.has(n)||t(n))(u,Rt),vs=((e,t)=>n=>e.has(n)||t(n))(h,It),ys=((e,t)=>n=>{const s=e.get(n);return t(s)||t(n)})(d,Et),bs=()=>(async(e,t,n,s,i,r,o,a,l,u,c,h,d,p,f,m)=>!!(e(t,t)&&e(n,n)&&e(i,i)&&e(r,r)&&e(a,a)&&e(l,l)&&e(u,u)&&e(c,c)&&e(h,h)&&e(d,d)&&e(p,p))&&(await Promise.all([e(s,s),e(o,o),e(f,f),e(m,m)])).every((e=>e)))(_t,(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createBuffer(1,1,44100);if(void 0===t.copyToChannel)return!0;const n=new Float32Array(2);try{t.copyFromChannel(n,0,0)}catch{return!1}return!0})(Ot),(e=>()=>{if(null===e)return!1;if(void 0!==e.prototype&&void 0!==e.prototype.close)return!0;const t=new e,n=void 0!==t.close;try{t.close()}catch{}return n})(Mt),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);return new Promise((e=>{let n=!0;const s=s=>{n&&(n=!1,t.startRendering(),e(s instanceof TypeError))};let i;try{i=t.decodeAudioData(null,(()=>{}),s)}catch(e){s(e)}void 0!==i&&i.catch(s)}))})(Ot),(e=>()=>{if(null===e)return!1;let t;try{t=new e({latencyHint:"balanced"})}catch{return!1}return t.close(),!0})(Mt),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createGain(),n=t.connect(t)===t;return t.disconnect(t),n})(Ot),((e,t)=>async()=>{if(null===e)return!0;if(null===t)return!1;const n=new Blob(['let c,p;class A extends AudioWorkletProcessor{constructor(){super();this.port.onmessage=(e)=>{p=e.data;p.onmessage=()=>{p.postMessage(c);p.close()};this.port.postMessage(0)}}process(){c=1}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),s=new MessageChannel,i=new t(1,128,44100),r=URL.createObjectURL(n);let o=!1;try{await i.audioWorklet.addModule(r);const t=new e(i,"a",{numberOfOutputs:0}),n=i.createOscillator();await new Promise((e=>{t.port.onmessage=()=>e(),t.port.postMessage(s.port2,[s.port2])})),t.port.onmessage=()=>o=!0,n.connect(t),n.start(0),await i.startRendering(),o=await new Promise((e=>{s.port1.onmessage=({data:t})=>e(1===t),s.port1.postMessage(0)}))}catch{}finally{s.port1.close(),URL.revokeObjectURL(r)}return o})($n,Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createChannelMerger();if("max"===t.channelCountMode)return!0;try{t.channelCount=2}catch{return!0}return!1})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100);return void 0===t.createConstantSource||t.createConstantSource().offset.maxValue!==Number.POSITIVE_INFINITY})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100),n=t.createConvolver();n.buffer=t.createBuffer(1,1,t.sampleRate);try{n.buffer=t.createBuffer(1,1,t.sampleRate)}catch{return!1}return!0})(Ot),(e=>()=>{if(null===e)return!1;const t=new e(1,1,44100).createConvolver();try{t.channelCount=1}catch{return!1}return!0})(Ot),lt,(e=>()=>null!==e&&e.hasOwnProperty("isSecureContext"))(bt),(e=>()=>{if(null===e)return!1;const t=new e;try{return t.createMediaStreamSource(new MediaStream),!1}catch(e){return!0}})(Mt),(e=>()=>{if(null===e)return Promise.resolve(!1);const t=new e(1,1,44100);if(void 0===t.createStereoPanner)return Promise.resolve(!0);if(void 0===t.createConstantSource)return Promise.resolve(!0);const n=t.createConstantSource(),s=t.createStereoPanner();return n.channelCount=1,n.offset.value=1,s.channelCount=1,n.start(),n.connect(s).connect(t.destination),t.startRendering().then((e=>1!==e.getChannelData(0)[0]))})(Ot),ut);var ws;function xs(e,t){if(!e)throw new Error(t)}function Ss(e,t,n=1/0){if(!(t<=e&&e<=n))throw new RangeError(`Value must be within [${t}, ${n}], got: ${e}`)}function ks(e){e.isOffline||"running"===e.state||Es('The AudioContext is "suspended". Invoke Tone.start() from a user action to start the audio.')}let Ts=console;function Cs(e){Ts=e}function Os(...e){Ts.log(...e)}function Es(...e){Ts.warn(...e)}function As(e){return void 0===e}function Ds(e){return!As(e)}function Ms(e){return"function"==typeof e}function Ps(e){return"number"==typeof e}function Rs(e){return"[object Object]"===Object.prototype.toString.call(e)&&e.constructor===Object}function Is(e){return"boolean"==typeof e}function Ns(e){return Array.isArray(e)}function qs(e){return"string"==typeof e}function Fs(e){return qs(e)&&/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i.test(e)}const js="object"==typeof self?self:null,Vs=js&&(js.hasOwnProperty("AudioContext")||js.hasOwnProperty("webkitAudioContext"));function Ls(e,t,n,s){var i,r=arguments.length,o=r<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,s);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(r<3?i(o):r>3?i(t,n,o):i(t,n))||o);return r>3&&o&&Object.defineProperty(t,n,o),o}function zs(e,t,n,s){return new(n||(n=Promise))((function(i,r){function o(e){try{l(s.next(e))}catch(e){r(e)}}function a(e){try{l(s.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((s=s.apply(e,t||[])).next())}))}Object.create,Object.create;class Bs{constructor(e,t,n){this._callback=e,this._type=t,this._updateInterval=n,this._createClock()}_createWorker(){const e=new Blob([`\n\t\t\t// the initial timeout time\n\t\t\tlet timeoutTime =  ${(1e3*this._updateInterval).toFixed(1)};\n\t\t\t// onmessage callback\n\t\t\tself.onmessage = function(msg){\n\t\t\t\ttimeoutTime = parseInt(msg.data);\n\t\t\t};\n\t\t\t// the tick function which posts a message\n\t\t\t// and schedules a new tick\n\t\t\tfunction tick(){\n\t\t\t\tsetTimeout(tick, timeoutTime);\n\t\t\t\tself.postMessage('tick');\n\t\t\t}\n\t\t\t// call tick initially\n\t\t\ttick();\n\t\t\t`],{type:"text/javascript"}),t=URL.createObjectURL(e),n=new Worker(t);n.onmessage=this._callback.bind(this),this._worker=n}_createTimeout(){this._timeout=setTimeout((()=>{this._createTimeout(),this._callback()}),1e3*this._updateInterval)}_createClock(){if("worker"===this._type)try{this._createWorker()}catch(e){this._type="timeout",this._createClock()}else"timeout"===this._type&&this._createTimeout()}_disposeClock(){this._timeout&&(clearTimeout(this._timeout),this._timeout=0),this._worker&&(this._worker.terminate(),this._worker.onmessage=null)}get updateInterval(){return this._updateInterval}set updateInterval(e){this._updateInterval=Math.max(e,128/44100),"worker"===this._type&&this._worker.postMessage(Math.max(1e3*e,1))}get type(){return this._type}set type(e){this._disposeClock(),this._type=e,this._createClock()}dispose(){this._disposeClock()}}function Ws(e){return vs(e)}function Us(e){return _s(e)}function $s(e){return ys(e)}function Qs(e){return gs(e)}function Gs(e){return e instanceof AudioBuffer}function Hs(e,t){return"value"===e||Ws(t)||Us(t)||Gs(t)}function Ys(e,...t){if(!t.length)return e;const n=t.shift();if(Rs(e)&&Rs(n))for(const t in n)Hs(t,n[t])?e[t]=n[t]:Rs(n[t])?(e[t]||Object.assign(e,{[t]:{}}),Ys(e[t],n[t])):Object.assign(e,{[t]:n[t]});return Ys(e,...t)}function Xs(e,t,n=[],s){const i={},r=Array.from(t);if(Rs(r[0])&&s&&!Reflect.has(r[0],s)&&(Object.keys(r[0]).some((t=>Reflect.has(e,t)))||(Ys(i,{[s]:r[0]}),n.splice(n.indexOf(s),1),r.shift())),1===r.length&&Rs(r[0]))Ys(i,r[0]);else for(let e=0;e<n.length;e++)Ds(r[e])&&(i[n[e]]=r[e]);return Ys(e,i)}function Zs(e,t){return As(e)?t:e}function Ks(e,t){return t.forEach((t=>{Reflect.has(e,t)&&delete e[t]})),e}class Js{constructor(){this.debug=!1,this._wasDisposed=!1}static getDefaults(){return{}}log(...e){(this.debug||js&&this.toString()===js.TONE_DEBUG_CLASS)&&Os(this,...e)}dispose(){return this._wasDisposed=!0,this}get disposed(){return this._wasDisposed}toString(){return this.name}}Js.version=r;const ei=1e-6;function ti(e,t){return e>t+ei}function ni(e,t){return ti(e,t)||ii(e,t)}function si(e,t){return e+ei<t}function ii(e,t){return Math.abs(e-t)<ei}function ri(e,t,n){return Math.max(Math.min(e,n),t)}class oi extends Js{constructor(){super(),this.name="Timeline",this._timeline=[];const e=Xs(oi.getDefaults(),arguments,["memory"]);this.memory=e.memory,this.increasing=e.increasing}static getDefaults(){return{memory:1/0,increasing:!1}}get length(){return this._timeline.length}add(e){if(xs(Reflect.has(e,"time"),"Timeline: events must have a time attribute"),e.time=e.time.valueOf(),this.increasing&&this.length){const t=this._timeline[this.length-1];xs(ni(e.time,t.time),"The time must be greater than or equal to the last scheduled time"),this._timeline.push(e)}else{const t=this._search(e.time);this._timeline.splice(t+1,0,e)}if(this.length>this.memory){const e=this.length-this.memory;this._timeline.splice(0,e)}return this}remove(e){const t=this._timeline.indexOf(e);return-1!==t&&this._timeline.splice(t,1),this}get(e,t="time"){const n=this._search(e,t);return-1!==n?this._timeline[n]:null}peek(){return this._timeline[0]}shift(){return this._timeline.shift()}getAfter(e,t="time"){const n=this._search(e,t);return n+1<this._timeline.length?this._timeline[n+1]:null}getBefore(e){const t=this._timeline.length;if(t>0&&this._timeline[t-1].time<e)return this._timeline[t-1];const n=this._search(e);return n-1>=0?this._timeline[n-1]:null}cancel(e){if(this._timeline.length>1){let t=this._search(e);if(t>=0)if(ii(this._timeline[t].time,e)){for(let n=t;n>=0&&ii(this._timeline[n].time,e);n--)t=n;this._timeline=this._timeline.slice(0,t)}else this._timeline=this._timeline.slice(0,t+1);else this._timeline=[]}else 1===this._timeline.length&&ni(this._timeline[0].time,e)&&(this._timeline=[]);return this}cancelBefore(e){const t=this._search(e);return t>=0&&(this._timeline=this._timeline.slice(t+1)),this}previousEvent(e){const t=this._timeline.indexOf(e);return t>0?this._timeline[t-1]:null}_search(e,t="time"){if(0===this._timeline.length)return-1;let n=0;const s=this._timeline.length;let i=s;if(s>0&&this._timeline[s-1][t]<=e)return s-1;for(;n<i;){let s=Math.floor(n+(i-n)/2);const r=this._timeline[s],o=this._timeline[s+1];if(ii(r[t],e)){for(let n=s;n<this._timeline.length&&ii(this._timeline[n][t],e);n++)s=n;return s}if(si(r[t],e)&&ti(o[t],e))return s;ti(r[t],e)?i=s:n=s+1}return-1}_iterate(e,t=0,n=this._timeline.length-1){this._timeline.slice(t,n+1).forEach(e)}forEach(e){return this._iterate(e),this}forEachBefore(e,t){const n=this._search(e);return-1!==n&&this._iterate(t,0,n),this}forEachAfter(e,t){const n=this._search(e);return this._iterate(t,n+1),this}forEachBetween(e,t,n){let s=this._search(e),i=this._search(t);return-1!==s&&-1!==i?(this._timeline[s].time!==e&&(s+=1),this._timeline[i].time===t&&(i-=1),this._iterate(n,s,i)):-1===s&&this._iterate(n,0,i),this}forEachFrom(e,t){let n=this._search(e);for(;n>=0&&this._timeline[n].time>=e;)n--;return this._iterate(t,n+1),this}forEachAtTime(e,t){const n=this._search(e);if(-1!==n&&ii(this._timeline[n].time,e)){let s=n;for(let t=n;t>=0&&ii(this._timeline[t].time,e);t--)s=t;this._iterate((e=>{t(e)}),s,n)}return this}dispose(){return super.dispose(),this._timeline=[],this}}const ai=[];function li(e){ai.push(e)}const ui=[];function ci(e){ui.push(e)}class hi extends Js{constructor(){super(...arguments),this.name="Emitter"}on(e,t){return e.split(/\W+/).forEach((e=>{As(this._events)&&(this._events={}),this._events.hasOwnProperty(e)||(this._events[e]=[]),this._events[e].push(t)})),this}once(e,t){const n=(...s)=>{t(...s),this.off(e,n)};return this.on(e,n),this}off(e,t){return e.split(/\W+/).forEach((n=>{if(As(this._events)&&(this._events={}),this._events.hasOwnProperty(e))if(As(t))this._events[e]=[];else{const n=this._events[e];for(let e=n.length-1;e>=0;e--)n[e]===t&&n.splice(e,1)}})),this}emit(e,...t){if(this._events&&this._events.hasOwnProperty(e)){const n=this._events[e].slice(0);for(let e=0,s=n.length;e<s;e++)n[e].apply(this,t)}return this}static mixin(e){["on","once","off","emit"].forEach((t=>{const n=Object.getOwnPropertyDescriptor(hi.prototype,t);Object.defineProperty(e.prototype,t,n)}))}dispose(){return super.dispose(),this._events=void 0,this}}class di extends hi{constructor(){super(...arguments),this.isOffline=!1}toJSON(){return{}}}class pi extends di{constructor(){super(),this.name="Context",this._constants=new Map,this._timeouts=new oi,this._timeoutIds=0,this._initialized=!1,this.isOffline=!1,this._workletModules=new Map;const e=Xs(pi.getDefaults(),arguments,["context"]);e.context?this._context=e.context:this._context=function(e){return new Jn(e)}({latencyHint:e.latencyHint}),this._ticker=new Bs(this.emit.bind(this,"tick"),e.clockSource,e.updateInterval),this.on("tick",this._timeoutLoop.bind(this)),this._context.onstatechange=()=>{this.emit("statechange",this.state)},this._setLatencyHint(e.latencyHint),this.lookAhead=e.lookAhead}static getDefaults(){return{clockSource:"worker",latencyHint:"interactive",lookAhead:.1,updateInterval:.05}}initialize(){var e;return this._initialized||(e=this,ai.forEach((t=>t(e))),this._initialized=!0),this}createAnalyser(){return this._context.createAnalyser()}createOscillator(){return this._context.createOscillator()}createBufferSource(){return this._context.createBufferSource()}createBiquadFilter(){return this._context.createBiquadFilter()}createBuffer(e,t,n){return this._context.createBuffer(e,t,n)}createChannelMerger(e){return this._context.createChannelMerger(e)}createChannelSplitter(e){return this._context.createChannelSplitter(e)}createConstantSource(){return this._context.createConstantSource()}createConvolver(){return this._context.createConvolver()}createDelay(e){return this._context.createDelay(e)}createDynamicsCompressor(){return this._context.createDynamicsCompressor()}createGain(){return this._context.createGain()}createIIRFilter(e,t){return this._context.createIIRFilter(e,t)}createPanner(){return this._context.createPanner()}createPeriodicWave(e,t,n){return this._context.createPeriodicWave(e,t,n)}createStereoPanner(){return this._context.createStereoPanner()}createWaveShaper(){return this._context.createWaveShaper()}createMediaStreamSource(e){return xs(Qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamSource(e)}createMediaElementSource(e){return xs(Qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaElementSource(e)}createMediaStreamDestination(){return xs(Qs(this._context),"Not available if OfflineAudioContext"),this._context.createMediaStreamDestination()}decodeAudioData(e){return this._context.decodeAudioData(e)}get currentTime(){return this._context.currentTime}get state(){return this._context.state}get sampleRate(){return this._context.sampleRate}get listener(){return this.initialize(),this._listener}set listener(e){xs(!this._initialized,"The listener cannot be set after initialization."),this._listener=e}get transport(){return this.initialize(),this._transport}set transport(e){xs(!this._initialized,"The transport cannot be set after initialization."),this._transport=e}get draw(){return this.initialize(),this._draw}set draw(e){xs(!this._initialized,"Draw cannot be set after initialization."),this._draw=e}get destination(){return this.initialize(),this._destination}set destination(e){xs(!this._initialized,"The destination cannot be set after initialization."),this._destination=e}createAudioWorkletNode(e,t){return function(e,t,n){return xs(Ds(ds),"This node only works in a secure context (https or localhost)"),new ds(e,t,n)}(this.rawContext,e,t)}addAudioWorkletModule(e,t){return zs(this,void 0,void 0,(function*(){xs(Ds(this.rawContext.audioWorklet),"AudioWorkletNode is only available in a secure context (https or localhost)"),this._workletModules.has(t)||this._workletModules.set(t,this.rawContext.audioWorklet.addModule(e)),yield this._workletModules.get(t)}))}workletsAreReady(){return zs(this,void 0,void 0,(function*(){const e=[];this._workletModules.forEach((t=>e.push(t))),yield Promise.all(e)}))}get updateInterval(){return this._ticker.updateInterval}set updateInterval(e){this._ticker.updateInterval=e}get clockSource(){return this._ticker.type}set clockSource(e){this._ticker.type=e}get latencyHint(){return this._latencyHint}_setLatencyHint(e){let t=0;if(this._latencyHint=e,qs(e))switch(e){case"interactive":t=.1;break;case"playback":t=.5;break;case"balanced":t=.25}this.lookAhead=t,this.updateInterval=t/2}get rawContext(){return this._context}now(){return this._context.currentTime+this.lookAhead}immediate(){return this._context.currentTime}resume(){return Qs(this._context)?this._context.resume():Promise.resolve()}close(){return zs(this,void 0,void 0,(function*(){var e;Qs(this._context)&&(yield this._context.close()),this._initialized&&(e=this,ui.forEach((t=>t(e))))}))}getConstant(e){if(this._constants.has(e))return this._constants.get(e);{const t=this._context.createBuffer(1,128,this._context.sampleRate),n=t.getChannelData(0);for(let t=0;t<n.length;t++)n[t]=e;const s=this._context.createBufferSource();return s.channelCount=1,s.channelCountMode="explicit",s.buffer=t,s.loop=!0,s.start(0),this._constants.set(e,s),s}}dispose(){return super.dispose(),this._ticker.dispose(),this._timeouts.dispose(),Object.keys(this._constants).map((e=>this._constants[e].disconnect())),this}_timeoutLoop(){const e=this.now();let t=this._timeouts.peek();for(;this._timeouts.length&&t&&t.time<=e;)t.callback(),this._timeouts.shift(),t=this._timeouts.peek()}setTimeout(e,t){this._timeoutIds++;const n=this.now();return this._timeouts.add({callback:e,id:this._timeoutIds,time:n+t}),this._timeoutIds}clearTimeout(e){return this._timeouts.forEach((t=>{t.id===e&&this._timeouts.remove(t)})),this}clearInterval(e){return this.clearTimeout(e)}setInterval(e,t){const n=++this._timeoutIds,s=()=>{const i=this.now();this._timeouts.add({callback:()=>{e(),s()},id:n,time:i+t})};return s(),n}}function fi(e,t){Ns(t)?t.forEach((t=>fi(e,t))):Object.defineProperty(e,t,{enumerable:!0,writable:!1})}function mi(e,t){Ns(t)?t.forEach((t=>mi(e,t))):Object.defineProperty(e,t,{writable:!0})}const gi=()=>{};class _i extends Js{constructor(){super(),this.name="ToneAudioBuffer",this.onload=gi;const e=Xs(_i.getDefaults(),arguments,["url","onload","onerror"]);this.reverse=e.reverse,this.onload=e.onload,e.url&&Gs(e.url)||e.url instanceof _i?this.set(e.url):qs(e.url)&&this.load(e.url).catch(e.onerror)}static getDefaults(){return{onerror:gi,onload:gi,reverse:!1}}get sampleRate(){return this._buffer?this._buffer.sampleRate:wi().sampleRate}set(e){return e instanceof _i?e.loaded?this._buffer=e.get():e.onload=()=>{this.set(e),this.onload(this)}:this._buffer=e,this._reversed&&this._reverse(),this}get(){return this._buffer}load(e){return zs(this,void 0,void 0,(function*(){const t=_i.load(e).then((e=>{this.set(e),this.onload(this)}));_i.downloads.push(t);try{yield t}finally{const e=_i.downloads.indexOf(t);_i.downloads.splice(e,1)}return this}))}dispose(){return super.dispose(),this._buffer=void 0,this}fromArray(e){const t=Ns(e)&&e[0].length>0,n=t?e.length:1,s=t?e[0].length:e.length,i=wi(),r=i.createBuffer(n,s,i.sampleRate),o=t||1!==n?e:[e];for(let e=0;e<n;e++)r.copyToChannel(o[e],e);return this._buffer=r,this}toMono(e){if(Ps(e))this.fromArray(this.toArray(e));else{let e=new Float32Array(this.length);const t=this.numberOfChannels;for(let n=0;n<t;n++){const t=this.toArray(n);for(let n=0;n<t.length;n++)e[n]+=t[n]}e=e.map((e=>e/t)),this.fromArray(e)}return this}toArray(e){if(Ps(e))return this.getChannelData(e);if(1===this.numberOfChannels)return this.toArray(0);{const e=[];for(let t=0;t<this.numberOfChannels;t++)e[t]=this.getChannelData(t);return e}}getChannelData(e){return this._buffer?this._buffer.getChannelData(e):new Float32Array(0)}slice(e,t=this.duration){const n=Math.floor(e*this.sampleRate),s=Math.floor(t*this.sampleRate);xs(n<s,"The start time must be less than the end time");const i=s-n,r=wi().createBuffer(this.numberOfChannels,i,this.sampleRate);for(let e=0;e<this.numberOfChannels;e++)r.copyToChannel(this.getChannelData(e).subarray(n,s),e);return new _i(r)}_reverse(){if(this.loaded)for(let e=0;e<this.numberOfChannels;e++)this.getChannelData(e).reverse();return this}get loaded(){return this.length>0}get duration(){return this._buffer?this._buffer.duration:0}get length(){return this._buffer?this._buffer.length:0}get numberOfChannels(){return this._buffer?this._buffer.numberOfChannels:0}get reverse(){return this._reversed}set reverse(e){this._reversed!==e&&(this._reversed=e,this._reverse())}static fromArray(e){return(new _i).fromArray(e)}static fromUrl(e){return zs(this,void 0,void 0,(function*(){const t=new _i;return yield t.load(e)}))}static load(e){return zs(this,void 0,void 0,(function*(){const t=e.match(/\[([^\]\[]+\|.+)\]$/);if(t){const n=t[1].split("|");let s=n[0];for(const e of n)if(_i.supportsType(e)){s=e;break}e=e.replace(t[0],s)}const n=""===_i.baseUrl||_i.baseUrl.endsWith("/")?_i.baseUrl:_i.baseUrl+"/",s=yield fetch(n+e);if(!s.ok)throw new Error(`could not load url: ${e}`);const i=yield s.arrayBuffer();return yield wi().decodeAudioData(i)}))}static supportsType(e){const t=e.split("."),n=t[t.length-1];return""!==document.createElement("audio").canPlayType("audio/"+n)}static loaded(){return zs(this,void 0,void 0,(function*(){for(yield Promise.resolve();_i.downloads.length;)yield _i.downloads[0]}))}}_i.baseUrl="",_i.downloads=[];class vi extends pi{constructor(){var e,t,n;super({clockSource:"offline",context:$s(arguments[0])?arguments[0]:(e=arguments[0],t=arguments[1]*arguments[2],n=arguments[2],new ms(e,t,n)),lookAhead:0,updateInterval:$s(arguments[0])?128/arguments[0].sampleRate:128/arguments[2]}),this.name="OfflineContext",this._currentTime=0,this.isOffline=!0,this._duration=$s(arguments[0])?arguments[0].length/arguments[0].sampleRate:arguments[1]}now(){return this._currentTime}get currentTime(){return this._currentTime}_renderClock(e){return zs(this,void 0,void 0,(function*(){let t=0;for(;this._duration-this._currentTime>=0;){this.emit("tick"),this._currentTime+=128/this.sampleRate,t++;const n=Math.floor(this.sampleRate/128);e&&t%n==0&&(yield new Promise((e=>setTimeout(e,1))))}}))}render(e=!0){return zs(this,void 0,void 0,(function*(){yield this.workletsAreReady(),yield this._renderClock(e);const t=yield this._context.startRendering();return new _i(t)}))}close(){return Promise.resolve()}}const yi=new class extends di{constructor(){super(...arguments),this.lookAhead=0,this.latencyHint=0,this.isOffline=!1}createAnalyser(){return{}}createOscillator(){return{}}createBufferSource(){return{}}createBiquadFilter(){return{}}createBuffer(e,t,n){return{}}createChannelMerger(e){return{}}createChannelSplitter(e){return{}}createConstantSource(){return{}}createConvolver(){return{}}createDelay(e){return{}}createDynamicsCompressor(){return{}}createGain(){return{}}createIIRFilter(e,t){return{}}createPanner(){return{}}createPeriodicWave(e,t,n){return{}}createStereoPanner(){return{}}createWaveShaper(){return{}}createMediaStreamSource(e){return{}}createMediaElementSource(e){return{}}createMediaStreamDestination(){return{}}decodeAudioData(e){return Promise.resolve({})}createAudioWorkletNode(e,t){return{}}get rawContext(){return{}}addAudioWorkletModule(e,t){return zs(this,void 0,void 0,(function*(){return Promise.resolve()}))}resume(){return Promise.resolve()}setTimeout(e,t){return 0}clearTimeout(e){return this}setInterval(e,t){return 0}clearInterval(e){return this}getConstant(e){return{}}get currentTime(){return 0}get state(){return{}}get sampleRate(){return 0}get listener(){return{}}get transport(){return{}}get draw(){return{}}set draw(e){}get destination(){return{}}set destination(e){}now(){return 0}immediate(){return 0}};let bi=yi;function wi(){return bi===yi&&Vs&&xi(new pi),bi}function xi(e){bi=Qs(e)?new pi(e):$s(e)?new vi(e):e}function Si(){return bi.resume()}if(js&&!js.TONE_SILENCE_LOGGING){let e="v";"dev"===r&&(e="");const t=` * Tone.js ${e}${r} * `;console.log(`%c${t}`,"background: #000; color: #fff")}function ki(e){return Math.pow(10,e/20)}function Ti(e){return Math.log(e)/Math.LN10*20}function Ci(e){return Math.pow(2,e/12)}let Oi=440;function Ei(e){return Math.round(Ai(e))}function Ai(e){return 69+12*Math.log2(e/Oi)}function Di(e){return Oi*Math.pow(2,(e-69)/12)}class Mi extends Js{constructor(e,t,n){super(),this.defaultUnits="s",this._val=t,this._units=n,this.context=e,this._expressions=this._getExpressions()}_getExpressions(){return{hz:{method:e=>this._frequencyToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)hz$/i},i:{method:e=>this._ticksToUnits(parseInt(e,10)),regexp:/^(\d+)i$/i},m:{method:e=>this._beatsToUnits(parseInt(e,10)*this._getTimeSignature()),regexp:/^(\d+)m$/i},n:{method:(e,t)=>{const n=parseInt(e,10),s="."===t?1.5:1;return 1===n?this._beatsToUnits(this._getTimeSignature())*s:this._beatsToUnits(4/n)*s},regexp:/^(\d+)n(\.?)$/i},number:{method:e=>this._expressions[this.defaultUnits].method.call(this,e),regexp:/^(\d+(?:\.\d+)?)$/},s:{method:e=>this._secondsToUnits(parseFloat(e)),regexp:/^(\d+(?:\.\d+)?)s$/},samples:{method:e=>parseInt(e,10)/this.context.sampleRate,regexp:/^(\d+)samples$/},t:{method:e=>{const t=parseInt(e,10);return this._beatsToUnits(8/(3*Math.floor(t)))},regexp:/^(\d+)t$/i},tr:{method:(e,t,n)=>{let s=0;return e&&"0"!==e&&(s+=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s+=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s+=this._beatsToUnits(parseFloat(n)/4)),s},regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?$/}}}valueOf(){if(this._val instanceof Mi&&this.fromType(this._val),As(this._val))return this._noArg();if(qs(this._val)&&As(this._units)){for(const e in this._expressions)if(this._expressions[e].regexp.test(this._val.trim())){this._units=e;break}}else if(Rs(this._val)){let e=0;for(const t in this._val)if(Ds(this._val[t])){const n=this._val[t];e+=new this.constructor(this.context,t).valueOf()*n}return e}if(Ds(this._units)){const e=this._expressions[this._units],t=this._val.toString().trim().match(e.regexp);return t?e.method.apply(this,t.slice(1)):e.method.call(this,this._val)}return qs(this._val)?parseFloat(this._val):this._val}_frequencyToUnits(e){return 1/e}_beatsToUnits(e){return 60/this._getBpm()*e}_secondsToUnits(e){return e}_ticksToUnits(e){return e*this._beatsToUnits(1)/this._getPPQ()}_noArg(){return this._now()}_getBpm(){return this.context.transport.bpm.value}_getTimeSignature(){return this.context.transport.timeSignature}_getPPQ(){return this.context.transport.PPQ}fromType(e){switch(this._units=void 0,this.defaultUnits){case"s":this._val=e.toSeconds();break;case"i":this._val=e.toTicks();break;case"hz":this._val=e.toFrequency();break;case"midi":this._val=e.toMidi()}return this}toFrequency(){return 1/this.toSeconds()}toSamples(){return this.toSeconds()*this.context.sampleRate}toMilliseconds(){return 1e3*this.toSeconds()}}class Pi extends Mi{constructor(){super(...arguments),this.name="TimeClass"}_getExpressions(){return Object.assign(super._getExpressions(),{now:{method:e=>this._now()+new this.constructor(this.context,e).valueOf(),regexp:/^\+(.+)/},quantize:{method:e=>{const t=new Pi(this.context,e).valueOf();return this._secondsToUnits(this.context.transport.nextSubdivision(t))},regexp:/^@(.+)/}})}quantize(e,t=1){const n=new this.constructor(this.context,e).valueOf(),s=this.valueOf();return s+(Math.round(s/n)*n-s)*t}toNotation(){const e=this.toSeconds(),t=["1m"];for(let e=1;e<9;e++){const n=Math.pow(2,e);t.push(n+"n."),t.push(n+"n"),t.push(n+"t")}t.push("0");let n=t[0],s=new Pi(this.context,t[0]).toSeconds();return t.forEach((t=>{const i=new Pi(this.context,t).toSeconds();Math.abs(i-e)<Math.abs(s-e)&&(n=t,s=i)})),n}toBarsBeatsSixteenths(){const e=this._beatsToUnits(1);let t=this.valueOf()/e;t=parseFloat(t.toFixed(4));const n=Math.floor(t/this._getTimeSignature());let s=t%1*4;t=Math.floor(t)%this._getTimeSignature();const i=s.toString();return i.length>3&&(s=parseFloat(parseFloat(i).toFixed(3))),[n,t,s].join(":")}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.round(t*this._getPPQ())}toSeconds(){return this.valueOf()}toMidi(){return Ei(this.toFrequency())}_now(){return this.context.now()}}function Ri(e,t){return new Pi(wi(),e,t)}class Ii extends Pi{constructor(){super(...arguments),this.name="Frequency",this.defaultUnits="hz"}static get A4(){return Oi}static set A4(e){!function(e){Oi=e}(e)}_getExpressions(){return Object.assign({},super._getExpressions(),{midi:{regexp:/^(\d+(?:\.\d+)?midi)/,method(e){return"midi"===this.defaultUnits?e:Ii.mtof(e)}},note:{regexp:/^([a-g]{1}(?:b|#|x|bb)?)(-?[0-9]+)/i,method(e,t){const n=Ni[e.toLowerCase()]+12*(parseInt(t,10)+1);return"midi"===this.defaultUnits?n:Ii.mtof(n)}},tr:{regexp:/^(\d+(?:\.\d+)?):(\d+(?:\.\d+)?):?(\d+(?:\.\d+)?)?/,method(e,t,n){let s=1;return e&&"0"!==e&&(s*=this._beatsToUnits(this._getTimeSignature()*parseFloat(e))),t&&"0"!==t&&(s*=this._beatsToUnits(parseFloat(t))),n&&"0"!==n&&(s*=this._beatsToUnits(parseFloat(n)/4)),s}}})}transpose(e){return new Ii(this.context,this.valueOf()*Ci(e))}harmonize(e){return e.map((e=>this.transpose(e)))}toMidi(){return Ei(this.valueOf())}toNote(){const e=this.toFrequency(),t=Math.log2(e/Ii.A4);let n=Math.round(12*t)+57;const s=Math.floor(n/12);return s<0&&(n+=-12*s),qi[n%12]+s.toString()}toSeconds(){return 1/super.toSeconds()}toTicks(){const e=this._beatsToUnits(1),t=this.valueOf()/e;return Math.floor(t*this._getPPQ())}_noArg(){return 0}_frequencyToUnits(e){return e}_ticksToUnits(e){return 1/(60*e/(this._getBpm()*this._getPPQ()))}_beatsToUnits(e){return 1/super._beatsToUnits(e)}_secondsToUnits(e){return 1/e}static mtof(e){return Di(e)}static ftom(e){return Ei(e)}}const Ni={cbb:-2,cb:-1,c:0,"c#":1,cx:2,dbb:0,db:1,d:2,"d#":3,dx:4,ebb:2,eb:3,e:4,"e#":5,ex:6,fbb:3,fb:4,f:5,"f#":6,fx:7,gbb:5,gb:6,g:7,"g#":8,gx:9,abb:7,ab:8,a:9,"a#":10,ax:11,bbb:9,bb:10,b:11,"b#":12,bx:13},qi=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"];function Fi(e,t){return new Ii(wi(),e,t)}class ji extends Pi{constructor(){super(...arguments),this.name="TransportTime"}_now(){return this.context.transport.seconds}}function Vi(e,t){return new ji(wi(),e,t)}class Li extends Js{constructor(){super();const e=Xs(Li.getDefaults(),arguments,["context"]);this.defaultContext?this.context=this.defaultContext:this.context=e.context}static getDefaults(){return{context:wi()}}now(){return this.context.currentTime+this.context.lookAhead}immediate(){return this.context.currentTime}get sampleTime(){return 1/this.context.sampleRate}get blockTime(){return 128/this.context.sampleRate}toSeconds(e){return new Pi(this.context,e).toSeconds()}toFrequency(e){return new Ii(this.context,e).toFrequency()}toTicks(e){return new ji(this.context,e).toTicks()}_getPartialProperties(e){const t=this.get();return Object.keys(t).forEach((n=>{As(e[n])&&delete t[n]})),t}get(){const e=this.constructor.getDefaults();return Object.keys(e).forEach((t=>{if(Reflect.has(this,t)){const n=this[t];Ds(n)&&Ds(n.value)&&Ds(n.setValueAtTime)?e[t]=n.value:n instanceof Li?e[t]=n._getPartialProperties(e[t]):Ns(n)||Ps(n)||qs(n)||Is(n)?e[t]=n:delete e[t]}})),e}set(e){return Object.keys(e).forEach((t=>{Reflect.has(this,t)&&Ds(this[t])&&(this[t]&&Ds(this[t].value)&&Ds(this[t].setValueAtTime)?this[t].value!==e[t]&&(this[t].value=e[t]):this[t]instanceof Li?this[t].set(e[t]):this[t]=e[t])})),this}}class zi extends oi{constructor(e="stopped"){super(),this.name="StateTimeline",this._initial=e,this.setStateAtTime(this._initial,0)}getValueAtTime(e){const t=this.get(e);return null!==t?t.state:this._initial}setStateAtTime(e,t,n){return Ss(t,0),this.add(Object.assign({},n,{state:e,time:t})),this}getLastState(e,t){for(let n=this._search(t);n>=0;n--){const t=this._timeline[n];if(t.state===e)return t}}getNextState(e,t){const n=this._search(t);if(-1!==n)for(let t=n;t<this._timeline.length;t++){const n=this._timeline[t];if(n.state===e)return n}}}class Bi extends Li{constructor(){super(Xs(Bi.getDefaults(),arguments,["param","units","convert"])),this.name="Param",this.overridden=!1,this._minOutput=1e-7;const e=Xs(Bi.getDefaults(),arguments,["param","units","convert"]);for(xs(Ds(e.param)&&(Ws(e.param)||e.param instanceof Bi),"param must be an AudioParam");!Ws(e.param);)e.param=e.param._param;this._swappable=!!Ds(e.swappable)&&e.swappable,this._swappable?(this.input=this.context.createGain(),this._param=e.param,this.input.connect(this._param)):this._param=this.input=e.param,this._events=new oi(1e3),this._initialValue=this._param.defaultValue,this.units=e.units,this.convert=e.convert,this._minValue=e.minValue,this._maxValue=e.maxValue,Ds(e.value)&&e.value!==this._toType(this._initialValue)&&this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Li.getDefaults(),{convert:!0,units:"number"})}get value(){const e=this.now();return this.getValueAtTime(e)}set value(e){this.cancelScheduledValues(this.now()),this.setValueAtTime(e,this.now())}get minValue(){return Ds(this._minValue)?this._minValue:"time"===this.units||"frequency"===this.units||"normalRange"===this.units||"positive"===this.units||"transportTime"===this.units||"ticks"===this.units||"bpm"===this.units||"hertz"===this.units||"samples"===this.units?0:"audioRange"===this.units?-1:"decibels"===this.units?-1/0:this._param.minValue}get maxValue(){return Ds(this._maxValue)?this._maxValue:"normalRange"===this.units||"audioRange"===this.units?1:this._param.maxValue}_is(e,t){return this.units===t}_assertRange(e){return Ds(this.maxValue)&&Ds(this.minValue)&&Ss(e,this._fromType(this.minValue),this._fromType(this.maxValue)),e}_fromType(e){return this.convert&&!this.overridden?this._is(e,"time")?this.toSeconds(e):this._is(e,"decibels")?ki(e):this._is(e,"frequency")?this.toFrequency(e):e:this.overridden?0:e}_toType(e){return this.convert&&"decibels"===this.units?Ti(e):e}setValueAtTime(e,t){const n=this.toSeconds(t),s=this._fromType(e);return xs(isFinite(s)&&isFinite(n),`Invalid argument(s) to setValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(s),this.log(this.units,"setValueAtTime",e,n),this._events.add({time:n,type:"setValueAtTime",value:s}),this._param.setValueAtTime(s,n),this}getValueAtTime(e){const t=Math.max(this.toSeconds(e),0),n=this._events.getAfter(t),s=this._events.get(t);let i=this._initialValue;if(null===s)i=this._initialValue;else if("setTargetAtTime"!==s.type||null!==n&&"setValueAtTime"!==n.type)if(null===n)i=s.value;else if("linearRampToValueAtTime"===n.type||"exponentialRampToValueAtTime"===n.type){let e=s.value;if("setTargetAtTime"===s.type){const t=this._events.getBefore(s.time);e=null===t?this._initialValue:t.value}i="linearRampToValueAtTime"===n.type?this._linearInterpolate(s.time,e,n.time,n.value,t):this._exponentialInterpolate(s.time,e,n.time,n.value,t)}else i=s.value;else{const e=this._events.getBefore(s.time);let n;n=null===e?this._initialValue:e.value,"setTargetAtTime"===s.type&&(i=this._exponentialApproach(s.time,n,s.value,s.constant,t))}return this._toType(i)}setRampPoint(e){e=this.toSeconds(e);let t=this.getValueAtTime(e);return this.cancelAndHoldAtTime(e),0===this._fromType(t)&&(t=this._toType(this._minOutput)),this.setValueAtTime(t,e),this}linearRampToValueAtTime(e,t){const n=this._fromType(e),s=this.toSeconds(t);return xs(isFinite(n)&&isFinite(s),`Invalid argument(s) to linearRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._assertRange(n),this._events.add({time:s,type:"linearRampToValueAtTime",value:n}),this.log(this.units,"linearRampToValueAtTime",e,s),this._param.linearRampToValueAtTime(n,s),this}exponentialRampToValueAtTime(e,t){let n=this._fromType(e);n=ii(n,0)?this._minOutput:n,this._assertRange(n);const s=this.toSeconds(t);return xs(isFinite(n)&&isFinite(s),`Invalid argument(s) to exponentialRampToValueAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({time:s,type:"exponentialRampToValueAtTime",value:n}),this.log(this.units,"exponentialRampToValueAtTime",e,s),this._param.exponentialRampToValueAtTime(n,s),this}exponentialRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialRampToValueAtTime(e,n+this.toSeconds(t)),this}linearRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.linearRampToValueAtTime(e,n+this.toSeconds(t)),this}targetRampTo(e,t,n){return n=this.toSeconds(n),this.setRampPoint(n),this.exponentialApproachValueAtTime(e,n,t),this}exponentialApproachValueAtTime(e,t,n){t=this.toSeconds(t),n=this.toSeconds(n);const s=Math.log(n+1)/Math.log(200);return this.setTargetAtTime(e,t,s),this.cancelAndHoldAtTime(t+.9*n),this.linearRampToValueAtTime(e,t+n),this}setTargetAtTime(e,t,n){const s=this._fromType(e);xs(isFinite(n)&&n>0,"timeConstant must be a number greater than 0");const i=this.toSeconds(t);return this._assertRange(s),xs(isFinite(s)&&isFinite(i),`Invalid argument(s) to setTargetAtTime: ${JSON.stringify(e)}, ${JSON.stringify(t)}`),this._events.add({constant:n,time:i,type:"setTargetAtTime",value:s}),this.log(this.units,"setTargetAtTime",e,i,n),this._param.setTargetAtTime(s,i,n),this}setValueCurveAtTime(e,t,n,s=1){n=this.toSeconds(n),t=this.toSeconds(t);const i=this._fromType(e[0])*s;this.setValueAtTime(this._toType(i),t);const r=n/(e.length-1);for(let n=1;n<e.length;n++){const i=this._fromType(e[n])*s;this.linearRampToValueAtTime(this._toType(i),t+n*r)}return this}cancelScheduledValues(e){const t=this.toSeconds(e);return xs(isFinite(t),`Invalid argument to cancelScheduledValues: ${JSON.stringify(e)}`),this._events.cancel(t),this._param.cancelScheduledValues(t),this.log(this.units,"cancelScheduledValues",t),this}cancelAndHoldAtTime(e){const t=this.toSeconds(e),n=this._fromType(this.getValueAtTime(t));xs(isFinite(t),`Invalid argument to cancelAndHoldAtTime: ${JSON.stringify(e)}`),this.log(this.units,"cancelAndHoldAtTime",t,"value="+n);const s=this._events.get(t),i=this._events.getAfter(t);return s&&ii(s.time,t)?i?(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time)):(this._param.cancelAndHoldAtTime(t),this._events.cancel(t+this.sampleTime)):i&&(this._param.cancelScheduledValues(i.time),this._events.cancel(i.time),"linearRampToValueAtTime"===i.type?this.linearRampToValueAtTime(this._toType(n),t):"exponentialRampToValueAtTime"===i.type&&this.exponentialRampToValueAtTime(this._toType(n),t)),this._events.add({time:t,type:"setValueAtTime",value:n}),this._param.setValueAtTime(n,t),this}rampTo(e,t=.1,n){return"frequency"===this.units||"bpm"===this.units||"decibels"===this.units?this.exponentialRampTo(e,t,n):this.linearRampTo(e,t,n),this}apply(e){const t=this.context.currentTime;e.setValueAtTime(this.getValueAtTime(t),t);const n=this._events.get(t);if(n&&"setTargetAtTime"===n.type){const s=this._events.getAfter(n.time),i=s?s.time:t+2,r=(i-t)/10;for(let n=t;n<i;n+=r)e.linearRampToValueAtTime(this.getValueAtTime(n),n)}return this._events.forEachAfter(this.context.currentTime,(t=>{"cancelScheduledValues"===t.type?e.cancelScheduledValues(t.time):"setTargetAtTime"===t.type?e.setTargetAtTime(t.value,t.time,t.constant):e[t.type](t.value,t.time)})),this}setParam(e){xs(this._swappable,"The Param must be assigned as 'swappable' in the constructor");const t=this.input;return t.disconnect(this._param),this.apply(e),this._param=e,t.connect(this._param),this}dispose(){return super.dispose(),this._events.dispose(),this}get defaultValue(){return this._toType(this._param.defaultValue)}_exponentialApproach(e,t,n,s,i){return n+(t-n)*Math.exp(-(i-e)/s)}_linearInterpolate(e,t,n,s,i){return t+(i-e)/(n-e)*(s-t)}_exponentialInterpolate(e,t,n,s,i){return t*Math.pow(s/t,(i-e)/(n-e))}}class Wi extends Li{constructor(){super(...arguments),this.name="ToneAudioNode",this._internalChannels=[]}get numberOfInputs(){return Ds(this.input)?Ws(this.input)||this.input instanceof Bi?1:this.input.numberOfInputs:0}get numberOfOutputs(){return Ds(this.output)?this.output.numberOfOutputs:0}_isAudioNode(e){return Ds(e)&&(e instanceof Wi||Us(e))}_getInternalNodes(){const e=this._internalChannels.slice(0);return this._isAudioNode(this.input)&&e.push(this.input),this._isAudioNode(this.output)&&this.input!==this.output&&e.push(this.output),e}_setChannelProperties(e){this._getInternalNodes().forEach((t=>{t.channelCount=e.channelCount,t.channelCountMode=e.channelCountMode,t.channelInterpretation=e.channelInterpretation}))}_getChannelProperties(){const e=this._getInternalNodes();xs(e.length>0,"ToneAudioNode does not have any internal nodes");const t=e[0];return{channelCount:t.channelCount,channelCountMode:t.channelCountMode,channelInterpretation:t.channelInterpretation}}get channelCount(){return this._getChannelProperties().channelCount}set channelCount(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCount:e}))}get channelCountMode(){return this._getChannelProperties().channelCountMode}set channelCountMode(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelCountMode:e}))}get channelInterpretation(){return this._getChannelProperties().channelInterpretation}set channelInterpretation(e){const t=this._getChannelProperties();this._setChannelProperties(Object.assign(t,{channelInterpretation:e}))}connect(e,t=0,n=0){return $i(this,e,t,n),this}toDestination(){return this.connect(this.context.destination),this}toMaster(){return Es("toMaster() has been renamed toDestination()"),this.toDestination()}disconnect(e,t=0,n=0){return Qi(this,e,t,n),this}chain(...e){return Ui(this,...e),this}fan(...e){return e.forEach((e=>this.connect(e))),this}dispose(){return super.dispose(),Ds(this.input)&&(this.input instanceof Wi?this.input.dispose():Us(this.input)&&this.input.disconnect()),Ds(this.output)&&(this.output instanceof Wi?this.output.dispose():Us(this.output)&&this.output.disconnect()),this._internalChannels=[],this}}function Ui(...e){const t=e.shift();e.reduce(((e,t)=>(e instanceof Wi?e.connect(t):Us(e)&&$i(e,t),t)),t)}function $i(e,t,n=0,s=0){for(xs(Ds(e),"Cannot connect from undefined node"),xs(Ds(t),"Cannot connect to undefined node"),(t instanceof Wi||Us(t))&&xs(t.numberOfInputs>0,"Cannot connect to node with no inputs"),xs(e.numberOfOutputs>0,"Cannot connect from node with no outputs");t instanceof Wi||t instanceof Bi;)Ds(t.input)&&(t=t.input);for(;e instanceof Wi;)Ds(e.output)&&(e=e.output);Ws(t)?e.connect(t,n):e.connect(t,n,s)}function Qi(e,t,n=0,s=0){if(Ds(t))for(;t instanceof Wi;)t=t.input;for(;!Us(e);)Ds(e.output)&&(e=e.output);Ws(t)?e.disconnect(t,n):Us(t)?e.disconnect(t,n,s):e.disconnect()}class Gi extends Wi{constructor(){super(Xs(Gi.getDefaults(),arguments,["gain","units"])),this.name="Gain",this._gainNode=this.context.createGain(),this.input=this._gainNode,this.output=this._gainNode;const e=Xs(Gi.getDefaults(),arguments,["gain","units"]);this.gain=new Bi({context:this.context,convert:e.convert,param:this._gainNode.gain,units:e.units,value:e.gain,minValue:e.minValue,maxValue:e.maxValue}),fi(this,"gain")}static getDefaults(){return Object.assign(Wi.getDefaults(),{convert:!0,gain:1,units:"gain"})}dispose(){return super.dispose(),this._gainNode.disconnect(),this.gain.dispose(),this}}class Hi extends Wi{constructor(e){super(e),this.onended=gi,this._startTime=-1,this._stopTime=-1,this._timeout=-1,this.output=new Gi({context:this.context,gain:0}),this._gainNode=this.output,this.getStateAtTime=function(e){const t=this.toSeconds(e);return-1!==this._startTime&&t>=this._startTime&&(-1===this._stopTime||t<=this._stopTime)?"started":"stopped"},this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut,this._curve=e.curve,this.onended=e.onended}static getDefaults(){return Object.assign(Wi.getDefaults(),{curve:"linear",fadeIn:0,fadeOut:0,onended:gi})}_startGain(e,t=1){xs(-1===this._startTime,"Source cannot be started more than once");const n=this.toSeconds(this._fadeIn);return this._startTime=e+n,this._startTime=Math.max(this._startTime,this.context.currentTime),n>0?(this._gainNode.gain.setValueAtTime(0,e),"linear"===this._curve?this._gainNode.gain.linearRampToValueAtTime(t,e+n):this._gainNode.gain.exponentialApproachValueAtTime(t,e,n)):this._gainNode.gain.setValueAtTime(t,e),this}stop(e){return this.log("stop",e),this._stopGain(this.toSeconds(e)),this}_stopGain(e){xs(-1!==this._startTime,"'start' must be called before 'stop'"),this.cancelStop();const t=this.toSeconds(this._fadeOut);return this._stopTime=this.toSeconds(e)+t,this._stopTime=Math.max(this._stopTime,this.context.currentTime),t>0?"linear"===this._curve?this._gainNode.gain.linearRampTo(0,t,e):this._gainNode.gain.targetRampTo(0,t,e):(this._gainNode.gain.cancelAndHoldAtTime(e),this._gainNode.gain.setValueAtTime(0,e)),this.context.clearTimeout(this._timeout),this._timeout=this.context.setTimeout((()=>{const e="exponential"===this._curve?2*t:0;this._stopSource(this.now()+e),this._onended()}),this._stopTime-this.context.currentTime),this}_onended(){if(this.onended!==gi&&(this.onended(this),this.onended=gi,!this.context.isOffline)){const e=()=>this.dispose();void 0!==window.requestIdleCallback?window.requestIdleCallback(e):setTimeout(e,1e3)}}get state(){return this.getStateAtTime(this.now())}cancelStop(){return this.log("cancelStop"),xs(-1!==this._startTime,"Source is not started"),this._gainNode.gain.cancelScheduledValues(this._startTime+this.sampleTime),this.context.clearTimeout(this._timeout),this._stopTime=-1,this}dispose(){return super.dispose(),this._gainNode.disconnect(),this}}class Yi extends Hi{constructor(){super(Xs(Yi.getDefaults(),arguments,["offset"])),this.name="ToneConstantSource",this._source=this.context.createConstantSource();const e=Xs(Yi.getDefaults(),arguments,["offset"]);$i(this._source,this._gainNode),this.offset=new Bi({context:this.context,convert:e.convert,param:this._source.offset,units:e.units,value:e.offset,minValue:e.minValue,maxValue:e.maxValue})}static getDefaults(){return Object.assign(Hi.getDefaults(),{convert:!0,offset:1,units:"number"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._source.start(t),this}_stopSource(e){this._source.stop(e)}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._source.disconnect(),this.offset.dispose(),this}}class Xi extends Wi{constructor(){super(Xs(Xi.getDefaults(),arguments,["value","units"])),this.name="Signal",this.override=!0;const e=Xs(Xi.getDefaults(),arguments,["value","units"]);this.output=this._constantSource=new Yi({context:this.context,convert:e.convert,offset:e.value,units:e.units,minValue:e.minValue,maxValue:e.maxValue}),this._constantSource.start(0),this.input=this._param=this._constantSource.offset}static getDefaults(){return Object.assign(Wi.getDefaults(),{convert:!0,units:"number",value:0})}connect(e,t=0,n=0){return Zi(this,e,t,n),this}dispose(){return super.dispose(),this._param.dispose(),this._constantSource.dispose(),this}setValueAtTime(e,t){return this._param.setValueAtTime(e,t),this}getValueAtTime(e){return this._param.getValueAtTime(e)}setRampPoint(e){return this._param.setRampPoint(e),this}linearRampToValueAtTime(e,t){return this._param.linearRampToValueAtTime(e,t),this}exponentialRampToValueAtTime(e,t){return this._param.exponentialRampToValueAtTime(e,t),this}exponentialRampTo(e,t,n){return this._param.exponentialRampTo(e,t,n),this}linearRampTo(e,t,n){return this._param.linearRampTo(e,t,n),this}targetRampTo(e,t,n){return this._param.targetRampTo(e,t,n),this}exponentialApproachValueAtTime(e,t,n){return this._param.exponentialApproachValueAtTime(e,t,n),this}setTargetAtTime(e,t,n){return this._param.setTargetAtTime(e,t,n),this}setValueCurveAtTime(e,t,n,s){return this._param.setValueCurveAtTime(e,t,n,s),this}cancelScheduledValues(e){return this._param.cancelScheduledValues(e),this}cancelAndHoldAtTime(e){return this._param.cancelAndHoldAtTime(e),this}rampTo(e,t,n){return this._param.rampTo(e,t,n),this}get value(){return this._param.value}set value(e){this._param.value=e}get convert(){return this._param.convert}set convert(e){this._param.convert=e}get units(){return this._param.units}get overridden(){return this._param.overridden}set overridden(e){this._param.overridden=e}get maxValue(){return this._param.maxValue}get minValue(){return this._param.minValue}apply(e){return this._param.apply(e),this}}function Zi(e,t,n,s){(t instanceof Bi||Ws(t)||t instanceof Xi&&t.override)&&(t.cancelScheduledValues(0),t.setValueAtTime(0,0),t instanceof Xi&&(t.overridden=!0)),$i(e,t,n,s)}class Ki extends Bi{constructor(){super(Xs(Ki.getDefaults(),arguments,["value"])),this.name="TickParam",this._events=new oi(1/0),this._multiplier=1;const e=Xs(Ki.getDefaults(),arguments,["value"]);this._multiplier=e.multiplier,this._events.cancel(0),this._events.add({ticks:0,time:0,type:"setValueAtTime",value:this._fromType(e.value)}),this.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Bi.getDefaults(),{multiplier:1,units:"hertz",value:1})}setTargetAtTime(e,t,n){t=this.toSeconds(t),this.setRampPoint(t);const s=this._fromType(e),i=this._events.get(t),r=Math.round(Math.max(1/n,1));for(let e=0;e<=r;e++){const r=n*e+t,o=this._exponentialApproach(i.time,i.value,s,n,r);this.linearRampToValueAtTime(this._toType(o),r)}return this}setValueAtTime(e,t){const n=this.toSeconds(t);super.setValueAtTime(e,t);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}linearRampToValueAtTime(e,t){const n=this.toSeconds(t);super.linearRampToValueAtTime(e,t);const s=this._events.get(n),i=this._events.previousEvent(s),r=this._getTicksUntilEvent(i,n);return s.ticks=Math.max(r,0),this}exponentialRampToValueAtTime(e,t){t=this.toSeconds(t);const n=this._fromType(e),s=this._events.get(t),i=Math.round(Math.max(10*(t-s.time),1)),r=(t-s.time)/i;for(let e=0;e<=i;e++){const i=r*e+s.time,o=this._exponentialInterpolate(s.time,s.value,t,n,i);this.linearRampToValueAtTime(this._toType(o),i)}return this}_getTicksUntilEvent(e,t){if(null===e)e={ticks:0,time:0,type:"setValueAtTime",value:0};else if(As(e.ticks)){const t=this._events.previousEvent(e);e.ticks=this._getTicksUntilEvent(t,e.time)}const n=this._fromType(this.getValueAtTime(e.time));let s=this._fromType(this.getValueAtTime(t));const i=this._events.get(t);return i&&i.time===t&&"setValueAtTime"===i.type&&(s=this._fromType(this.getValueAtTime(t-this.sampleTime))),.5*(t-e.time)*(n+s)+e.ticks}getTicksAtTime(e){const t=this.toSeconds(e),n=this._events.get(t);return Math.max(this._getTicksUntilEvent(n,t),0)}getDurationOfTicks(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(t);return this.getTimeOfTick(s+e)-n}getTimeOfTick(e){const t=this._events.get(e,"ticks"),n=this._events.getAfter(e,"ticks");if(t&&t.ticks===e)return t.time;if(t&&n&&"linearRampToValueAtTime"===n.type&&t.value!==n.value){const s=this._fromType(this.getValueAtTime(t.time)),i=(this._fromType(this.getValueAtTime(n.time))-s)/(n.time-t.time),r=Math.sqrt(Math.pow(s,2)-2*i*(t.ticks-e)),o=(-s+r)/i,a=(-s-r)/i;return(o>0?o:a)+t.time}return t?0===t.value?1/0:t.time+(e-t.ticks)/t.value:e/this._initialValue}ticksToTime(e,t){return this.getDurationOfTicks(e,t)}timeToTicks(e,t){const n=this.toSeconds(t),s=this.toSeconds(e),i=this.getTicksAtTime(n);return this.getTicksAtTime(n+s)-i}_fromType(e){return"bpm"===this.units&&this.multiplier?1/(60/e/this.multiplier):super._fromType(e)}_toType(e){return"bpm"===this.units&&this.multiplier?e/this.multiplier*60:super._toType(e)}get multiplier(){return this._multiplier}set multiplier(e){const t=this.value;this._multiplier=e,this.cancelScheduledValues(0),this.setValueAtTime(t,0)}}class Ji extends Xi{constructor(){super(Xs(Ji.getDefaults(),arguments,["value"])),this.name="TickSignal";const e=Xs(Ji.getDefaults(),arguments,["value"]);this.input=this._param=new Ki({context:this.context,convert:e.convert,multiplier:e.multiplier,param:this._constantSource.offset,units:e.units,value:e.value})}static getDefaults(){return Object.assign(Xi.getDefaults(),{multiplier:1,units:"hertz",value:1})}ticksToTime(e,t){return this._param.ticksToTime(e,t)}timeToTicks(e,t){return this._param.timeToTicks(e,t)}getTimeOfTick(e){return this._param.getTimeOfTick(e)}getDurationOfTicks(e,t){return this._param.getDurationOfTicks(e,t)}getTicksAtTime(e){return this._param.getTicksAtTime(e)}get multiplier(){return this._param.multiplier}set multiplier(e){this._param.multiplier=e}dispose(){return super.dispose(),this._param.dispose(),this}}class er extends Li{constructor(){super(Xs(er.getDefaults(),arguments,["frequency"])),this.name="TickSource",this._state=new zi,this._tickOffset=new oi;const e=Xs(er.getDefaults(),arguments,["frequency"]);this.frequency=new Ji({context:this.context,units:e.units,value:e.frequency}),fi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.setTicksAtTime(0,0)}static getDefaults(){return Object.assign({frequency:1,units:"hertz"},Li.getDefaults())}get state(){return this.getStateAtTime(this.now())}start(e,t){const n=this.toSeconds(e);return"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),Ds(t)&&this.setTicksAtTime(t,n)),this}stop(e){const t=this.toSeconds(e);if("stopped"===this._state.getValueAtTime(t)){const e=this._state.get(t);e&&e.time>0&&(this._tickOffset.cancel(e.time),this._state.cancel(e.time))}return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this.setTicksAtTime(0,t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&this._state.setStateAtTime("paused",t),this}cancel(e){return e=this.toSeconds(e),this._state.cancel(e),this._tickOffset.cancel(e),this}getTicksAtTime(e){const t=this.toSeconds(e),n=this._state.getLastState("stopped",t),s={state:"paused",time:t};this._state.add(s);let i=n,r=0;return this._state.forEachBetween(n.time,t+this.sampleTime,(e=>{let t=i.time;const n=this._tickOffset.get(e.time);n&&n.time>=i.time&&(r=n.ticks,t=n.time),"started"===i.state&&"started"!==e.state&&(r+=this.frequency.getTicksAtTime(e.time)-this.frequency.getTicksAtTime(t)),i=e})),this._state.remove(s),r}get ticks(){return this.getTicksAtTime(this.now())}set ticks(e){this.setTicksAtTime(e,this.now())}get seconds(){return this.getSecondsAtTime(this.now())}set seconds(e){const t=this.now(),n=this.frequency.timeToTicks(e,t);this.setTicksAtTime(n,t)}getSecondsAtTime(e){e=this.toSeconds(e);const t=this._state.getLastState("stopped",e),n={state:"paused",time:e};this._state.add(n);let s=t,i=0;return this._state.forEachBetween(t.time,e+this.sampleTime,(e=>{let t=s.time;const n=this._tickOffset.get(e.time);n&&n.time>=s.time&&(i=n.seconds,t=n.time),"started"===s.state&&"started"!==e.state&&(i+=e.time-t),s=e})),this._state.remove(n),i}setTicksAtTime(e,t){return t=this.toSeconds(t),this._tickOffset.cancel(t),this._tickOffset.add({seconds:this.frequency.getDurationOfTicks(e,t),ticks:e,time:t}),this}getStateAtTime(e){return e=this.toSeconds(e),this._state.getValueAtTime(e)}getTimeOfTick(e,t=this.now()){const n=this._tickOffset.get(t),s=this._state.get(t),i=Math.max(n.time,s.time),r=this.frequency.getTicksAtTime(i)+e-n.ticks;return this.frequency.getTimeOfTick(r)}forEachTickBetween(e,t,n){let s=this._state.get(e);this._state.forEachBetween(e,t,(t=>{s&&"started"===s.state&&"started"!==t.state&&this.forEachTickBetween(Math.max(s.time,e),t.time-this.sampleTime,n),s=t}));let i=null;if(s&&"started"===s.state){const r=Math.max(s.time,e),o=this.frequency.getTicksAtTime(r),a=o-this.frequency.getTicksAtTime(s.time);let l=Math.ceil(a)-a;l=ii(l,1)?0:l;let u=this.frequency.getTimeOfTick(o+l);for(;u<t;){try{n(u,Math.round(this.getTicksAtTime(u)))}catch(e){i=e;break}u+=this.frequency.getDurationOfTicks(1,u)}}if(i)throw i;return this}dispose(){return super.dispose(),this._state.dispose(),this._tickOffset.dispose(),this.frequency.dispose(),this}}class tr extends Li{constructor(){super(Xs(tr.getDefaults(),arguments,["callback","frequency"])),this.name="Clock",this.callback=gi,this._lastUpdate=0,this._state=new zi("stopped"),this._boundLoop=this._loop.bind(this);const e=Xs(tr.getDefaults(),arguments,["callback","frequency"]);this.callback=e.callback,this._tickSource=new er({context:this.context,frequency:e.frequency,units:e.units}),this._lastUpdate=0,this.frequency=this._tickSource.frequency,fi(this,"frequency"),this._state.setStateAtTime("stopped",0),this.context.on("tick",this._boundLoop)}static getDefaults(){return Object.assign(Li.getDefaults(),{callback:gi,frequency:1,units:"hertz"})}get state(){return this._state.getValueAtTime(this.now())}start(e,t){ks(this.context);const n=this.toSeconds(e);return this.log("start",n),"started"!==this._state.getValueAtTime(n)&&(this._state.setStateAtTime("started",n),this._tickSource.start(n,t),n<this._lastUpdate&&this.emit("start",n,t)),this}stop(e){const t=this.toSeconds(e);return this.log("stop",t),this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._tickSource.stop(t),t<this._lastUpdate&&this.emit("stop",t),this}pause(e){const t=this.toSeconds(e);return"started"===this._state.getValueAtTime(t)&&(this._state.setStateAtTime("paused",t),this._tickSource.pause(t),t<this._lastUpdate&&this.emit("pause",t)),this}get ticks(){return Math.ceil(this.getTicksAtTime(this.now()))}set ticks(e){this._tickSource.ticks=e}get seconds(){return this._tickSource.seconds}set seconds(e){this._tickSource.seconds=e}getSecondsAtTime(e){return this._tickSource.getSecondsAtTime(e)}setTicksAtTime(e,t){return this._tickSource.setTicksAtTime(e,t),this}getTimeOfTick(e,t=this.now()){return this._tickSource.getTimeOfTick(e,t)}getTicksAtTime(e){return this._tickSource.getTicksAtTime(e)}nextTickTime(e,t){const n=this.toSeconds(t),s=this.getTicksAtTime(n);return this._tickSource.getTimeOfTick(s+e,n)}_loop(){const e=this._lastUpdate,t=this.now();this._lastUpdate=t,this.log("loop",e,t),e!==t&&(this._state.forEachBetween(e,t,(e=>{switch(e.state){case"started":const t=this._tickSource.getTicksAtTime(e.time);this.emit("start",e.time,t);break;case"stopped":0!==e.time&&this.emit("stop",e.time);break;case"paused":this.emit("pause",e.time)}})),this._tickSource.forEachTickBetween(e,t,((e,t)=>{this.callback(e,t)})))}getStateAtTime(e){const t=this.toSeconds(e);return this._state.getValueAtTime(t)}dispose(){return super.dispose(),this.context.off("tick",this._boundLoop),this._tickSource.dispose(),this._state.dispose(),this}}hi.mixin(tr);class nr extends Wi{constructor(){super(Xs(nr.getDefaults(),arguments,["delayTime","maxDelay"])),this.name="Delay";const e=Xs(nr.getDefaults(),arguments,["delayTime","maxDelay"]),t=this.toSeconds(e.maxDelay);this._maxDelay=Math.max(t,this.toSeconds(e.delayTime)),this._delayNode=this.input=this.output=this.context.createDelay(t),this.delayTime=new Bi({context:this.context,param:this._delayNode.delayTime,units:"time",value:e.delayTime,minValue:0,maxValue:this.maxDelay}),fi(this,"delayTime")}static getDefaults(){return Object.assign(Wi.getDefaults(),{delayTime:0,maxDelay:1})}get maxDelay(){return this._maxDelay}dispose(){return super.dispose(),this._delayNode.disconnect(),this.delayTime.dispose(),this}}function sr(e,t,n=2,s=wi().sampleRate){return zs(this,void 0,void 0,(function*(){const i=wi(),r=new vi(n,t,s);xi(r),yield e(r);const o=r.render();xi(i);const a=yield o;return new _i(a)}))}class ir extends Js{constructor(){super(),this.name="ToneAudioBuffers",this._buffers=new Map,this._loadingCount=0;const e=Xs(ir.getDefaults(),arguments,["urls","onload","baseUrl"],"urls");this.baseUrl=e.baseUrl,Object.keys(e.urls).forEach((t=>{this._loadingCount++;const n=e.urls[t];this.add(t,n,this._bufferLoaded.bind(this,e.onload),e.onerror)}))}static getDefaults(){return{baseUrl:"",onerror:gi,onload:gi,urls:{}}}has(e){return this._buffers.has(e.toString())}get(e){return xs(this.has(e),`ToneAudioBuffers has no buffer named: ${e}`),this._buffers.get(e.toString())}_bufferLoaded(e){this._loadingCount--,0===this._loadingCount&&e&&e()}get loaded(){return Array.from(this._buffers).every((([e,t])=>t.loaded))}add(e,t,n=gi,s=gi){return qs(t)?this._buffers.set(e.toString(),new _i(this.baseUrl+t,n,s)):this._buffers.set(e.toString(),new _i(t,n,s)),this}dispose(){return super.dispose(),this._buffers.forEach((e=>e.dispose())),this._buffers.clear(),this}}class rr extends Ii{constructor(){super(...arguments),this.name="MidiClass",this.defaultUnits="midi"}_frequencyToUnits(e){return Ei(super._frequencyToUnits(e))}_ticksToUnits(e){return Ei(super._ticksToUnits(e))}_beatsToUnits(e){return Ei(super._beatsToUnits(e))}_secondsToUnits(e){return Ei(super._secondsToUnits(e))}toMidi(){return this.valueOf()}toFrequency(){return Di(this.toMidi())}transpose(e){return new rr(this.context,this.toMidi()+e)}}function or(e,t){return new rr(wi(),e,t)}class ar extends ji{constructor(){super(...arguments),this.name="Ticks",this.defaultUnits="i"}_now(){return this.context.transport.ticks}_beatsToUnits(e){return this._getPPQ()*e}_secondsToUnits(e){return Math.floor(e/(60/this._getBpm())*this._getPPQ())}_ticksToUnits(e){return e}toTicks(){return this.valueOf()}toSeconds(){return this.valueOf()/this._getPPQ()*(60/this._getBpm())}}function lr(e,t){return new ar(wi(),e,t)}class ur extends Li{constructor(){super(...arguments),this.name="Draw",this.expiration=.25,this.anticipation=.008,this._events=new oi,this._boundDrawLoop=this._drawLoop.bind(this),this._animationFrame=-1}schedule(e,t){return this._events.add({callback:e,time:this.toSeconds(t)}),1===this._events.length&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop)),this}cancel(e){return this._events.cancel(this.toSeconds(e)),this}_drawLoop(){const e=this.context.currentTime;for(;this._events.length&&this._events.peek().time-this.anticipation<=e;){const t=this._events.shift();t&&e-t.time<=this.expiration&&t.callback()}this._events.length>0&&(this._animationFrame=requestAnimationFrame(this._boundDrawLoop))}dispose(){return super.dispose(),this._events.dispose(),cancelAnimationFrame(this._animationFrame),this}}li((e=>{e.draw=new ur({context:e})})),ci((e=>{e.draw.dispose()}));class cr extends Js{constructor(){super(...arguments),this.name="IntervalTimeline",this._root=null,this._length=0}add(e){xs(Ds(e.time),"Events must have a time property"),xs(Ds(e.duration),"Events must have a duration parameter"),e.time=e.time.valueOf();let t=new hr(e.time,e.time+e.duration,e);for(null===this._root?this._root=t:this._root.insert(t),this._length++;null!==t;)t.updateHeight(),t.updateMax(),this._rebalance(t),t=t.parent;return this}remove(e){if(null!==this._root){const t=[];this._root.search(e.time,t);for(const n of t)if(n.event===e){this._removeNode(n),this._length--;break}}return this}get length(){return this._length}cancel(e){return this.forEachFrom(e,(e=>this.remove(e))),this}_setRoot(e){this._root=e,null!==this._root&&(this._root.parent=null)}_replaceNodeInParent(e,t){null!==e.parent?(e.isLeftChild()?e.parent.left=t:e.parent.right=t,this._rebalance(e.parent)):this._setRoot(t)}_removeNode(e){if(null===e.left&&null===e.right)this._replaceNodeInParent(e,null);else if(null===e.right)this._replaceNodeInParent(e,e.left);else if(null===e.left)this._replaceNodeInParent(e,e.right);else{let t,n=null;if(e.getBalance()>0)if(null===e.left.right)t=e.left,t.right=e.right,n=t;else{for(t=e.left.right;null!==t.right;)t=t.right;t.parent&&(t.parent.right=t.left,n=t.parent,t.left=e.left,t.right=e.right)}else if(null===e.right.left)t=e.right,t.left=e.left,n=t;else{for(t=e.right.left;null!==t.left;)t=t.left;t.parent&&(t.parent.left=t.right,n=t.parent,t.left=e.left,t.right=e.right)}null!==e.parent?e.isLeftChild()?e.parent.left=t:e.parent.right=t:this._setRoot(t),n&&this._rebalance(n)}e.dispose()}_rotateLeft(e){const t=e.parent,n=e.isLeftChild(),s=e.right;s&&(e.right=s.left,s.left=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rotateRight(e){const t=e.parent,n=e.isLeftChild(),s=e.left;s&&(e.left=s.right,s.right=e),null!==t?n?t.left=s:t.right=s:this._setRoot(s)}_rebalance(e){const t=e.getBalance();t>1&&e.left?e.left.getBalance()<0?this._rotateLeft(e.left):this._rotateRight(e):t<-1&&e.right&&(e.right.getBalance()>0?this._rotateRight(e.right):this._rotateLeft(e))}get(e){if(null!==this._root){const t=[];if(this._root.search(e,t),t.length>0){let e=t[0];for(let n=1;n<t.length;n++)t[n].low>e.low&&(e=t[n]);return e.event}}return null}forEach(e){if(null!==this._root){const t=[];this._root.traverse((e=>t.push(e))),t.forEach((t=>{t.event&&e(t.event)}))}return this}forEachAtTime(e,t){if(null!==this._root){const n=[];this._root.search(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}forEachFrom(e,t){if(null!==this._root){const n=[];this._root.searchAfter(e,n),n.forEach((e=>{e.event&&t(e.event)}))}return this}dispose(){return super.dispose(),null!==this._root&&this._root.traverse((e=>e.dispose())),this._root=null,this}}class hr{constructor(e,t,n){this._left=null,this._right=null,this.parent=null,this.height=0,this.event=n,this.low=e,this.high=t,this.max=this.high}insert(e){e.low<=this.low?null===this.left?this.left=e:this.left.insert(e):null===this.right?this.right=e:this.right.insert(e)}search(e,t){e>this.max||(null!==this.left&&this.left.search(e,t),this.low<=e&&this.high>e&&t.push(this),this.low>e||null!==this.right&&this.right.search(e,t))}searchAfter(e,t){this.low>=e&&(t.push(this),null!==this.left&&this.left.searchAfter(e,t)),null!==this.right&&this.right.searchAfter(e,t)}traverse(e){e(this),null!==this.left&&this.left.traverse(e),null!==this.right&&this.right.traverse(e)}updateHeight(){null!==this.left&&null!==this.right?this.height=Math.max(this.left.height,this.right.height)+1:null!==this.right?this.height=this.right.height+1:null!==this.left?this.height=this.left.height+1:this.height=0}updateMax(){this.max=this.high,null!==this.left&&(this.max=Math.max(this.max,this.left.max)),null!==this.right&&(this.max=Math.max(this.max,this.right.max))}getBalance(){let e=0;return null!==this.left&&null!==this.right?e=this.left.height-this.right.height:null!==this.left?e=this.left.height+1:null!==this.right&&(e=-(this.right.height+1)),e}isLeftChild(){return null!==this.parent&&this.parent.left===this}get left(){return this._left}set left(e){this._left=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}get right(){return this._right}set right(e){this._right=e,null!==e&&(e.parent=this),this.updateHeight(),this.updateMax()}dispose(){this.parent=null,this._left=null,this._right=null,this.event=null}}class dr extends Wi{constructor(){super(Xs(dr.getDefaults(),arguments,["volume"])),this.name="Volume";const e=Xs(dr.getDefaults(),arguments,["volume"]);this.input=this.output=new Gi({context:this.context,gain:e.volume,units:"decibels"}),this.volume=this.output.gain,fi(this,"volume"),this._unmutedVolume=e.volume,this.mute=e.mute}static getDefaults(){return Object.assign(Wi.getDefaults(),{mute:!1,volume:0})}get mute(){return this.volume.value===-1/0}set mute(e){!this.mute&&e?(this._unmutedVolume=this.volume.value,this.volume.value=-1/0):this.mute&&!e&&(this.volume.value=this._unmutedVolume)}dispose(){return super.dispose(),this.input.dispose(),this.volume.dispose(),this}}class pr extends Wi{constructor(){super(Xs(pr.getDefaults(),arguments)),this.name="Destination",this.input=new dr({context:this.context}),this.output=new Gi({context:this.context}),this.volume=this.input.volume;const e=Xs(pr.getDefaults(),arguments);Ui(this.input,this.output,this.context.rawContext.destination),this.mute=e.mute,this._internalChannels=[this.input,this.context.rawContext.destination,this.output]}static getDefaults(){return Object.assign(Wi.getDefaults(),{mute:!1,volume:0})}get mute(){return this.input.mute}set mute(e){this.input.mute=e}chain(...e){return this.input.disconnect(),e.unshift(this.input),e.push(this.output),Ui(...e),this}get maxChannelCount(){return this.context.rawContext.destination.maxChannelCount}dispose(){return super.dispose(),this.volume.dispose(),this}}li((e=>{e.destination=new pr({context:e})})),ci((e=>{e.destination.dispose()}));class fr extends Js{constructor(e){super(),this.name="TimelineValue",this._timeline=new oi({memory:10}),this._initialValue=e}set(e,t){return this._timeline.add({value:e,time:t}),this}get(e){const t=this._timeline.get(e);return t?t.value:this._initialValue}}class mr{constructor(e,t){this.id=mr._eventId++;const n=Object.assign(mr.getDefaults(),t);this.transport=e,this.callback=n.callback,this._once=n.once,this.time=n.time}static getDefaults(){return{callback:gi,once:!1,time:0}}invoke(e){this.callback&&(this.callback(e),this._once&&this.transport.clear(this.id))}dispose(){return this.callback=void 0,this}}mr._eventId=0;class gr extends mr{constructor(e,t){super(e,t),this._currentId=-1,this._nextId=-1,this._nextTick=this.time,this._boundRestart=this._restart.bind(this);const n=Object.assign(gr.getDefaults(),t);this.duration=new ar(e.context,n.duration).valueOf(),this._interval=new ar(e.context,n.interval).valueOf(),this._nextTick=n.time,this.transport.on("start",this._boundRestart),this.transport.on("loopStart",this._boundRestart),this.context=this.transport.context,this._restart()}static getDefaults(){return Object.assign({},mr.getDefaults(),{duration:1/0,interval:1,once:!1})}invoke(e){this._createEvents(e),super.invoke(e)}_createEvents(e){const t=this.transport.getTicksAtTime(e);t>=this.time&&t>=this._nextTick&&this._nextTick+this._interval<this.time+this.duration&&(this._nextTick+=this._interval,this._currentId=this._nextId,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ar(this.context,this._nextTick).toSeconds()))}_restart(e){this.transport.clear(this._currentId),this.transport.clear(this._nextId),this._nextTick=this.time;const t=this.transport.getTicksAtTime(e);t>this.time&&(this._nextTick=this.time+Math.ceil((t-this.time)/this._interval)*this._interval),this._currentId=this.transport.scheduleOnce(this.invoke.bind(this),new ar(this.context,this._nextTick).toSeconds()),this._nextTick+=this._interval,this._nextId=this.transport.scheduleOnce(this.invoke.bind(this),new ar(this.context,this._nextTick).toSeconds())}dispose(){return super.dispose(),this.transport.clear(this._currentId),this.transport.clear(this._nextId),this.transport.off("start",this._boundRestart),this.transport.off("loopStart",this._boundRestart),this}}class _r extends Li{constructor(){super(Xs(_r.getDefaults(),arguments)),this.name="Transport",this._loop=new fr(!1),this._loopStart=0,this._loopEnd=0,this._scheduledEvents={},this._timeline=new oi,this._repeatedEvents=new cr,this._syncedSignals=[],this._swingAmount=0;const e=Xs(_r.getDefaults(),arguments);this._ppq=e.ppq,this._clock=new tr({callback:this._processTick.bind(this),context:this.context,frequency:0,units:"bpm"}),this._bindClockEvents(),this.bpm=this._clock.frequency,this._clock.frequency.multiplier=e.ppq,this.bpm.setValueAtTime(e.bpm,0),fi(this,"bpm"),this._timeSignature=e.timeSignature,this._swingTicks=e.ppq/2}static getDefaults(){return Object.assign(Li.getDefaults(),{bpm:120,loopEnd:"4m",loopStart:0,ppq:192,swing:0,swingSubdivision:"8n",timeSignature:4})}_processTick(e,t){if(this._loop.get(e)&&t>=this._loopEnd&&(this.emit("loopEnd",e),this._clock.setTicksAtTime(this._loopStart,e),t=this._loopStart,this.emit("loopStart",e,this._clock.getSecondsAtTime(e)),this.emit("loop",e)),this._swingAmount>0&&t%this._ppq!=0&&t%(2*this._swingTicks)!=0){const n=t%(2*this._swingTicks)/(2*this._swingTicks),s=Math.sin(n*Math.PI)*this._swingAmount;e+=new ar(this.context,2*this._swingTicks/3).toSeconds()*s}this._timeline.forEachAtTime(t,(t=>t.invoke(e)))}schedule(e,t){const n=new mr(this,{callback:e,time:new ji(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}scheduleRepeat(e,t,n,s=1/0){const i=new gr(this,{callback:e,duration:new Pi(this.context,s).toTicks(),interval:new Pi(this.context,t).toTicks(),time:new ji(this.context,n).toTicks()});return this._addEvent(i,this._repeatedEvents)}scheduleOnce(e,t){const n=new mr(this,{callback:e,once:!0,time:new ji(this.context,t).toTicks()});return this._addEvent(n,this._timeline)}clear(e){if(this._scheduledEvents.hasOwnProperty(e)){const t=this._scheduledEvents[e.toString()];t.timeline.remove(t.event),t.event.dispose(),delete this._scheduledEvents[e.toString()]}return this}_addEvent(e,t){return this._scheduledEvents[e.id.toString()]={event:e,timeline:t},t.add(e),e.id}cancel(e=0){const t=this.toTicks(e);return this._timeline.forEachFrom(t,(e=>this.clear(e.id))),this._repeatedEvents.forEachFrom(t,(e=>this.clear(e.id))),this}_bindClockEvents(){this._clock.on("start",((e,t)=>{t=new ar(this.context,t).toSeconds(),this.emit("start",e,t)})),this._clock.on("stop",(e=>{this.emit("stop",e)})),this._clock.on("pause",(e=>{this.emit("pause",e)}))}get state(){return this._clock.getStateAtTime(this.now())}start(e,t){let n;return Ds(t)&&(n=this.toTicks(t)),this._clock.start(e,n),this}stop(e){return this._clock.stop(e),this}pause(e){return this._clock.pause(e),this}toggle(e){return e=this.toSeconds(e),"started"!==this._clock.getStateAtTime(e)?this.start(e):this.stop(e),this}get timeSignature(){return this._timeSignature}set timeSignature(e){Ns(e)&&(e=e[0]/e[1]*4),this._timeSignature=e}get loopStart(){return new Pi(this.context,this._loopStart,"i").toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e)}get loopEnd(){return new Pi(this.context,this._loopEnd,"i").toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e)}get loop(){return this._loop.get(this.now())}set loop(e){this._loop.set(e,this.now())}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get swing(){return this._swingAmount}set swing(e){this._swingAmount=e}get swingSubdivision(){return new ar(this.context,this._swingTicks).toNotation()}set swingSubdivision(e){this._swingTicks=this.toTicks(e)}get position(){const e=this.now(),t=this._clock.getTicksAtTime(e);return new ar(this.context,t).toBarsBeatsSixteenths()}set position(e){const t=this.toTicks(e);this.ticks=t}get seconds(){return this._clock.seconds}set seconds(e){const t=this.now(),n=this._clock.frequency.timeToTicks(e,t);this.ticks=n}get progress(){if(this.loop){const e=this.now();return(this._clock.getTicksAtTime(e)-this._loopStart)/(this._loopEnd-this._loopStart)}return 0}get ticks(){return this._clock.ticks}set ticks(e){if(this._clock.ticks!==e){const t=this.now();if("started"===this.state){const n=this._clock.getTicksAtTime(t),s=t+this._clock.frequency.getDurationOfTicks(Math.ceil(n)-n,t);this.emit("stop",s),this._clock.setTicksAtTime(e,s),this.emit("start",s,this._clock.getSecondsAtTime(s))}else this._clock.setTicksAtTime(e,t)}}getTicksAtTime(e){return Math.round(this._clock.getTicksAtTime(e))}getSecondsAtTime(e){return this._clock.getSecondsAtTime(e)}get PPQ(){return this._clock.frequency.multiplier}set PPQ(e){this._clock.frequency.multiplier=e}nextSubdivision(e){if(e=this.toTicks(e),"started"!==this.state)return 0;{const t=this.now(),n=e-this.getTicksAtTime(t)%e;return this._clock.nextTickTime(n,t)}}syncSignal(e,t){if(!t){const n=this.now();if(0!==e.getValueAtTime(n)){const s=1/(60/this.bpm.getValueAtTime(n)/this.PPQ);t=e.getValueAtTime(n)/s}else t=0}const n=new Gi(t);return this.bpm.connect(n),n.connect(e._param),this._syncedSignals.push({initial:e.value,ratio:n,signal:e}),e.value=0,this}unsyncSignal(e){for(let t=this._syncedSignals.length-1;t>=0;t--){const n=this._syncedSignals[t];n.signal===e&&(n.ratio.dispose(),n.signal.value=n.initial,this._syncedSignals.splice(t,1))}return this}dispose(){return super.dispose(),this._clock.dispose(),mi(this,"bpm"),this._timeline.dispose(),this._repeatedEvents.dispose(),this}}hi.mixin(_r),li((e=>{e.transport=new _r({context:e})})),ci((e=>{e.transport.dispose()}));class vr extends Wi{constructor(e){super(e),this.input=void 0,this._state=new zi("stopped"),this._synced=!1,this._scheduled=[],this._syncedStart=gi,this._syncedStop=gi,this._state.memory=100,this._state.increasing=!0,this._volume=this.output=new dr({context:this.context,mute:e.mute,volume:e.volume}),this.volume=this._volume.volume,fi(this,"volume"),this.onstop=e.onstop}static getDefaults(){return Object.assign(Wi.getDefaults(),{mute:!1,onstop:gi,volume:0})}get state(){return this._synced?"started"===this.context.transport.state?this._state.getValueAtTime(this.context.transport.seconds):"stopped":this._state.getValueAtTime(this.now())}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}_clampToCurrentTime(e){return this._synced?e:Math.max(e,this.context.currentTime)}start(e,t,n){let s=As(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(s=this._clampToCurrentTime(s),this._synced||"started"!==this._state.getValueAtTime(s))if(this.log("start",s),this._state.setStateAtTime("started",s),this._synced){const e=this._state.get(s);e&&(e.offset=this.toSeconds(Zs(t,0)),e.duration=n?this.toSeconds(n):void 0);const i=this.context.transport.schedule((e=>{this._start(e,t,n)}),s);this._scheduled.push(i),"started"===this.context.transport.state&&this.context.transport.getSecondsAtTime(this.immediate())>s&&this._syncedStart(this.now(),this.context.transport.seconds)}else ks(this.context),this._start(s,t,n);else xs(ti(s,this._state.get(s).time),"Start time must be strictly greater than previous start time"),this._state.cancel(s),this._state.setStateAtTime("started",s),this.log("restart",s),this.restart(s,t,n);return this}stop(e){let t=As(e)&&this._synced?this.context.transport.seconds:this.toSeconds(e);if(t=this._clampToCurrentTime(t),"started"===this._state.getValueAtTime(t)||Ds(this._state.getNextState("started",t))){if(this.log("stop",t),this._synced){const e=this.context.transport.schedule(this._stop.bind(this),t);this._scheduled.push(e)}else this._stop(t);this._state.cancel(t),this._state.setStateAtTime("stopped",t)}return this}restart(e,t,n){return e=this.toSeconds(e),"started"===this._state.getValueAtTime(e)&&(this._state.cancel(e),this._restart(e,t,n)),this}sync(){return this._synced||(this._synced=!0,this._syncedStart=(e,t)=>{if(t>0){const n=this._state.get(t);if(n&&"started"===n.state&&n.time!==t){const s=t-this.toSeconds(n.time);let i;n.duration&&(i=this.toSeconds(n.duration)-s),this._start(e,this.toSeconds(n.offset)+s,i)}}},this._syncedStop=e=>{const t=this.context.transport.getSecondsAtTime(Math.max(e-this.sampleTime,0));"started"===this._state.getValueAtTime(t)&&this._stop(e)},this.context.transport.on("start",this._syncedStart),this.context.transport.on("loopStart",this._syncedStart),this.context.transport.on("stop",this._syncedStop),this.context.transport.on("pause",this._syncedStop),this.context.transport.on("loopEnd",this._syncedStop)),this}unsync(){return this._synced&&(this.context.transport.off("stop",this._syncedStop),this.context.transport.off("pause",this._syncedStop),this.context.transport.off("loopEnd",this._syncedStop),this.context.transport.off("start",this._syncedStart),this.context.transport.off("loopStart",this._syncedStart)),this._synced=!1,this._scheduled.forEach((e=>this.context.transport.clear(e))),this._scheduled=[],this._state.cancel(0),this._stop(0),this}dispose(){return super.dispose(),this.onstop=gi,this.unsync(),this._volume.dispose(),this._state.dispose(),this}}class yr extends Hi{constructor(){super(Xs(yr.getDefaults(),arguments,["url","onload"])),this.name="ToneBufferSource",this._source=this.context.createBufferSource(),this._internalChannels=[this._source],this._sourceStarted=!1,this._sourceStopped=!1;const e=Xs(yr.getDefaults(),arguments,["url","onload"]);$i(this._source,this._gainNode),this._source.onended=()=>this._stopSource(),this.playbackRate=new Bi({context:this.context,param:this._source.playbackRate,units:"positive",value:e.playbackRate}),this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this._buffer=new _i(e.url,e.onload,e.onerror),this._internalChannels.push(this._source)}static getDefaults(){return Object.assign(Hi.getDefaults(),{url:new _i,loop:!1,loopEnd:0,loopStart:0,onload:gi,onerror:gi,playbackRate:1})}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e}get curve(){return this._curve}set curve(e){this._curve=e}start(e,t,n,s=1){xs(this.buffer.loaded,"buffer is either not set or not loaded");const i=this.toSeconds(e);this._startGain(i,s),t=this.loop?Zs(t,this.loopStart):Zs(t,0);let r=Math.max(this.toSeconds(t),0);if(this.loop){const e=this.toSeconds(this.loopEnd)||this.buffer.duration,t=this.toSeconds(this.loopStart),n=e-t;ni(r,e)&&(r=(r-t)%n+t),ii(r,this.buffer.duration)&&(r=0)}if(this._source.buffer=this.buffer.get(),this._source.loopEnd=this.toSeconds(this.loopEnd)||this.buffer.duration,si(r,this.buffer.duration)&&(this._sourceStarted=!0,this._source.start(i,r)),Ds(n)){let e=this.toSeconds(n);e=Math.max(e,0),this.stop(i+e)}return this}_stopSource(e){!this._sourceStopped&&this._sourceStarted&&(this._sourceStopped=!0,this._source.stop(this.toSeconds(e)),this._onended())}get loopStart(){return this._source.loopStart}set loopStart(e){this._source.loopStart=this.toSeconds(e)}get loopEnd(){return this._source.loopEnd}set loopEnd(e){this._source.loopEnd=this.toSeconds(e)}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._source.loop}set loop(e){this._source.loop=e,this._sourceStarted&&this.cancelStop()}dispose(){return super.dispose(),this._source.onended=null,this._source.disconnect(),this._buffer.dispose(),this.playbackRate.dispose(),this}}class br extends vr{constructor(){super(Xs(br.getDefaults(),arguments,["type"])),this.name="Noise",this._source=null;const e=Xs(br.getDefaults(),arguments,["type"]);this._playbackRate=e.playbackRate,this.type=e.type,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(vr.getDefaults(),{fadeIn:0,fadeOut:0,playbackRate:1,type:"white"})}get type(){return this._type}set type(e){if(xs(e in Sr,"Noise: invalid type: "+e),this._type!==e&&(this._type=e,"started"===this.state)){const e=this.now();this._stop(e),this._start(e)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._source&&(this._source.playbackRate.value=e)}_start(e){const t=Sr[this._type];this._source=new yr({url:t,context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,loop:!0,onended:()=>this.onstop(this),playbackRate:this._playbackRate}).connect(this.output),this._source.start(this.toSeconds(e),Math.random()*(t.duration-.001))}_stop(e){this._source&&(this._source.stop(this.toSeconds(e)),this._source=null)}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._source&&(this._source.fadeIn=this._fadeIn)}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._source&&(this._source.fadeOut=this._fadeOut)}_restart(e){this._stop(e),this._start(e)}dispose(){return super.dispose(),this._source&&this._source.disconnect(),this}}const wr=220500,xr={brown:null,pink:null,white:null},Sr={get brown(){if(!xr.brown){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(wr);e[t]=n;let s=0;for(let e=0;e<wr;e++){const t=2*Math.random()-1;n[e]=(s+.02*t)/1.02,s=n[e],n[e]*=3.5}}xr.brown=(new _i).fromArray(e)}return xr.brown},get pink(){if(!xr.pink){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(wr);let s,i,r,o,a,l,u;e[t]=n,s=i=r=o=a=l=u=0;for(let e=0;e<wr;e++){const t=2*Math.random()-1;s=.99886*s+.0555179*t,i=.99332*i+.0750759*t,r=.969*r+.153852*t,o=.8665*o+.3104856*t,a=.55*a+.5329522*t,l=-.7616*l-.016898*t,n[e]=s+i+r+o+a+l+u+.5362*t,n[e]*=.11,u=.115926*t}}xr.pink=(new _i).fromArray(e)}return xr.pink},get white(){if(!xr.white){const e=[];for(let t=0;t<2;t++){const n=new Float32Array(wr);e[t]=n;for(let e=0;e<wr;e++)n[e]=2*Math.random()-1}xr.white=(new _i).fromArray(e)}return xr.white}};class kr extends Wi{constructor(){super(Xs(kr.getDefaults(),arguments,["volume"])),this.name="UserMedia";const e=Xs(kr.getDefaults(),arguments,["volume"]);this._volume=this.output=new dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,fi(this,"volume"),this.mute=e.mute}static getDefaults(){return Object.assign(Wi.getDefaults(),{mute:!1,volume:0})}open(e){return zs(this,void 0,void 0,(function*(){xs(kr.supported,"UserMedia is not supported"),"started"===this.state&&this.close();const t=yield kr.enumerateDevices();Ps(e)?this._device=t[e]:(this._device=t.find((t=>t.label===e||t.deviceId===e)),!this._device&&t.length>0&&(this._device=t[0]),xs(Ds(this._device),`No matching device ${e}`));const n={audio:{echoCancellation:!1,sampleRate:this.context.sampleRate,noiseSuppression:!1,mozNoiseSuppression:!1}};this._device&&(n.audio.deviceId=this._device.deviceId);const s=yield navigator.mediaDevices.getUserMedia(n);if(!this._stream){this._stream=s;const e=this.context.createMediaStreamSource(s);$i(e,this.output),this._mediaStream=e}return this}))}close(){return this._stream&&this._mediaStream&&(this._stream.getAudioTracks().forEach((e=>{e.stop()})),this._stream=void 0,this._mediaStream.disconnect(),this._mediaStream=void 0),this._device=void 0,this}static enumerateDevices(){return zs(this,void 0,void 0,(function*(){return(yield navigator.mediaDevices.enumerateDevices()).filter((e=>"audioinput"===e.kind))}))}get state(){return this._stream&&this._stream.active?"started":"stopped"}get deviceId(){return this._device?this._device.deviceId:void 0}get groupId(){return this._device?this._device.groupId:void 0}get label(){return this._device?this._device.label:void 0}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this.close(),this._volume.dispose(),this.volume.dispose(),this}static get supported(){return Ds(navigator.mediaDevices)&&Ds(navigator.mediaDevices.getUserMedia)}}function Tr(e,t){return zs(this,void 0,void 0,(function*(){const n=t/e.context.sampleRate,s=new vi(1,n,e.context.sampleRate);return new e.constructor(Object.assign(e.get(),{frequency:2/n,detune:0,context:s})).toDestination().start(0),(yield s.render()).getChannelData(0)}))}class Cr extends Hi{constructor(){super(Xs(Cr.getDefaults(),arguments,["frequency","type"])),this.name="ToneOscillatorNode",this._oscillator=this.context.createOscillator(),this._internalChannels=[this._oscillator];const e=Xs(Cr.getDefaults(),arguments,["frequency","type"]);$i(this._oscillator,this._gainNode),this.type=e.type,this.frequency=new Bi({context:this.context,param:this._oscillator.frequency,units:"frequency",value:e.frequency}),this.detune=new Bi({context:this.context,param:this._oscillator.detune,units:"cents",value:e.detune}),fi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Hi.getDefaults(),{detune:0,frequency:440,type:"sine"})}start(e){const t=this.toSeconds(e);return this.log("start",t),this._startGain(t),this._oscillator.start(t),this}_stopSource(e){this._oscillator.stop(e)}setPeriodicWave(e){return this._oscillator.setPeriodicWave(e),this}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e}dispose(){return super.dispose(),"started"===this.state&&this.stop(),this._oscillator.disconnect(),this.frequency.dispose(),this.detune.dispose(),this}}class Or extends vr{constructor(){super(Xs(Or.getDefaults(),arguments,["frequency","type"])),this.name="Oscillator",this._oscillator=null;const e=Xs(Or.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency}),fi(this,"frequency"),this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),fi(this,"detune"),this._partials=e.partials,this._partialCount=e.partialCount,this._type=e.type,e.partialCount&&"custom"!==e.type&&(this._type=this.baseType+e.partialCount.toString()),this.phase=e.phase}static getDefaults(){return Object.assign(vr.getDefaults(),{detune:0,frequency:440,partialCount:0,partials:[],phase:0,type:"sine"})}_start(e){const t=this.toSeconds(e),n=new Cr({context:this.context,onended:()=>this.onstop(this)});this._oscillator=n,this._wave?this._oscillator.setPeriodicWave(this._wave):this._oscillator.type=this._type,this._oscillator.connect(this.output),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.start(t)}_stop(e){const t=this.toSeconds(e);this._oscillator&&this._oscillator.stop(t)}_restart(e){const t=this.toSeconds(e);return this.log("restart",t),this._oscillator&&this._oscillator.cancelStop(),this._state.cancel(t),this}syncFrequency(){return this.context.transport.syncSignal(this.frequency),this}unsyncFrequency(){return this.context.transport.unsyncSignal(this.frequency),this}_getCachedPeriodicWave(){if("custom"===this._type)return Or._periodicWaveCache.find((e=>{return e.phase===this._phase&&(t=e.partials,n=this._partials,t.length===n.length&&t.every(((e,t)=>n[t]===e)));var t,n}));{const e=Or._periodicWaveCache.find((e=>e.type===this._type&&e.phase===this._phase));return this._partialCount=e?e.partialCount:this._partialCount,e}}get type(){return this._type}set type(e){this._type=e;const t=-1!==["sine","square","sawtooth","triangle"].indexOf(e);if(0===this._phase&&t)this._wave=void 0,this._partialCount=0,null!==this._oscillator&&(this._oscillator.type=e);else{const t=this._getCachedPeriodicWave();if(Ds(t)){const{partials:e,wave:n}=t;this._wave=n,this._partials=e,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave)}else{const[t,n]=this._getRealImaginary(e,this._phase),s=this.context.createPeriodicWave(t,n);this._wave=s,null!==this._oscillator&&this._oscillator.setPeriodicWave(this._wave),Or._periodicWaveCache.push({imag:n,partialCount:this._partialCount,partials:this._partials,phase:this._phase,real:t,type:this._type,wave:this._wave}),Or._periodicWaveCache.length>100&&Or._periodicWaveCache.shift()}}}get baseType(){return this._type.replace(this.partialCount.toString(),"")}set baseType(e){this.partialCount&&"custom"!==this._type&&"custom"!==e?this.type=e+this.partialCount:this.type=e}get partialCount(){return this._partialCount}set partialCount(e){Ss(e,0);let t=this._type;const n=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(this._type);if(n&&(t=n[1]),"custom"!==this._type)this.type=0===e?t:t+e.toString();else{const t=new Float32Array(e);this._partials.forEach(((e,n)=>t[n]=e)),this._partials=Array.from(t),this.type=this._type}}_getRealImaginary(e,t){let n=2048;const s=new Float32Array(n),i=new Float32Array(n);let r=1;if("custom"===e){if(r=this._partials.length+1,this._partialCount=this._partials.length,n=r,0===this._partials.length)return[s,i]}else{const t=/^(sine|triangle|square|sawtooth)(\d+)$/.exec(e);t?(r=parseInt(t[2],10)+1,this._partialCount=parseInt(t[2],10),e=t[1],r=Math.max(r,2),n=r):this._partialCount=0,this._partials=[]}for(let o=1;o<n;++o){const n=2/(o*Math.PI);let a;switch(e){case"sine":a=o<=r?1:0,this._partials[o-1]=a;break;case"square":a=1&o?2*n:0,this._partials[o-1]=a;break;case"sawtooth":a=n*(1&o?1:-1),this._partials[o-1]=a;break;case"triangle":a=1&o?n*n*2*(o-1>>1&1?-1:1):0,this._partials[o-1]=a;break;case"custom":a=this._partials[o-1];break;default:throw new TypeError("Oscillator: invalid type: "+e)}0!==a?(s[o]=-a*Math.sin(t*o),i[o]=a*Math.cos(t*o)):(s[o]=0,i[o]=0)}return[s,i]}_inverseFFT(e,t,n){let s=0;const i=e.length;for(let r=0;r<i;r++)s+=e[r]*Math.cos(r*n)+t[r]*Math.sin(r*n);return s}getInitialValue(){const[e,t]=this._getRealImaginary(this._type,0);let n=0;const s=2*Math.PI;for(let i=0;i<32;i++)n=Math.max(this._inverseFFT(e,t,i/32*s),n);return ri(-this._inverseFFT(e,t,this._phase)/n,-1,1)}get partials(){return this._partials.slice(0,this.partialCount)}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this.type="custom")}get phase(){return this._phase*(180/Math.PI)}set phase(e){this._phase=e*Math.PI/180,this.type=this._type}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),null!==this._oscillator&&this._oscillator.dispose(),this._wave=void 0,this.frequency.dispose(),this.detune.dispose(),this}}Or._periodicWaveCache=[];class Er extends Wi{constructor(){super(Object.assign(Xs(Er.getDefaults(),arguments,["context"])))}connect(e,t=0,n=0){return Zi(this,e,t,n),this}}class Ar extends Er{constructor(){super(Object.assign(Xs(Ar.getDefaults(),arguments,["mapping","length"]))),this.name="WaveShaper",this._shaper=this.context.createWaveShaper(),this.input=this._shaper,this.output=this._shaper;const e=Xs(Ar.getDefaults(),arguments,["mapping","length"]);Ns(e.mapping)||e.mapping instanceof Float32Array?this.curve=Float32Array.from(e.mapping):Ms(e.mapping)&&this.setMap(e.mapping,e.length)}static getDefaults(){return Object.assign(Xi.getDefaults(),{length:1024})}setMap(e,t=1024){const n=new Float32Array(t);for(let s=0,i=t;s<i;s++){const t=s/(i-1)*2-1;n[s]=e(t,s)}return this.curve=n,this}get curve(){return this._shaper.curve}set curve(e){this._shaper.curve=e}get oversample(){return this._shaper.oversample}set oversample(e){xs(["none","2x","4x"].some((t=>t.includes(e))),"oversampling must be either 'none', '2x', or '4x'"),this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.disconnect(),this}}class Dr extends Er{constructor(){super(...arguments),this.name="AudioToGain",this._norm=new Ar({context:this.context,mapping:e=>(e+1)/2}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Mr extends Xi{constructor(){super(Object.assign(Xs(Mr.getDefaults(),arguments,["value"]))),this.name="Multiply",this.override=!1;const e=Xs(Mr.getDefaults(),arguments,["value"]);this._mult=this.input=this.output=new Gi({context:this.context,minValue:e.minValue,maxValue:e.maxValue}),this.factor=this._param=this._mult.gain,this.factor.setValueAtTime(e.value,0)}static getDefaults(){return Object.assign(Xi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._mult.dispose(),this}}class Pr extends vr{constructor(){super(Xs(Pr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="AMOscillator",this._modulationScale=new Dr({context:this.context}),this._modulationNode=new Gi({context:this.context});const e=Xs(Pr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Or({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.frequency=this._carrier.frequency,this.detune=this._carrier.detune,this._modulator=new Or({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Mr({context:this.context,units:"positive",value:e.harmonicity}),this.frequency.chain(this.harmonicity,this._modulator.frequency),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output),fi(this,["frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Or.getDefaults(),{harmonicity:1,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){this._modulator.restart(e),this._carrier.restart(e)}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this._modulationScale.dispose(),this}}class Rr extends vr{constructor(){super(Xs(Rr.getDefaults(),arguments,["frequency","type","modulationType"])),this.name="FMOscillator",this._modulationNode=new Gi({context:this.context,gain:0});const e=Xs(Rr.getDefaults(),arguments,["frequency","type","modulationType"]);this._carrier=new Or({context:this.context,detune:e.detune,frequency:0,onstop:()=>this.onstop(this),phase:e.phase,type:e.type}),this.detune=this._carrier.detune,this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency}),this._modulator=new Or({context:this.context,phase:e.phase,type:e.modulationType}),this.harmonicity=new Mr({context:this.context,units:"positive",value:e.harmonicity}),this.modulationIndex=new Mr({context:this.context,units:"positive",value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output),this.detune.connect(this._modulator.detune),fi(this,["modulationIndex","frequency","detune","harmonicity"])}static getDefaults(){return Object.assign(Or.getDefaults(),{harmonicity:1,modulationIndex:2,modulationType:"square"})}_start(e){this._modulator.start(e),this._carrier.start(e)}_stop(e){this._modulator.stop(e),this._carrier.stop(e)}_restart(e){return this._modulator.restart(e),this._carrier.restart(e),this}get type(){return this._carrier.type}set type(e){this._carrier.type=e}get baseType(){return this._carrier.baseType}set baseType(e){this._carrier.baseType=e}get partialCount(){return this._carrier.partialCount}set partialCount(e){this._carrier.partialCount=e}get modulationType(){return this._modulator.type}set modulationType(e){this._modulator.type=e}get phase(){return this._carrier.phase}set phase(e){this._carrier.phase=e,this._modulator.phase=e}get partials(){return this._carrier.partials}set partials(e){this._carrier.partials=e}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.harmonicity.dispose(),this._carrier.dispose(),this._modulator.dispose(),this._modulationNode.dispose(),this.modulationIndex.dispose(),this}}class Ir extends vr{constructor(){super(Xs(Ir.getDefaults(),arguments,["frequency","width"])),this.name="PulseOscillator",this._widthGate=new Gi({context:this.context,gain:0}),this._thresh=new Ar({context:this.context,mapping:e=>e<=0?-1:1});const e=Xs(Ir.getDefaults(),arguments,["frequency","width"]);this.width=new Xi({context:this.context,units:"audioRange",value:e.width}),this._triangle=new Or({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase,type:"triangle"}),this.frequency=this._triangle.frequency,this.detune=this._triangle.detune,this._triangle.chain(this._thresh,this.output),this.width.chain(this._widthGate,this._thresh),fi(this,["width","frequency","detune"])}static getDefaults(){return Object.assign(vr.getDefaults(),{detune:0,frequency:440,phase:0,type:"pulse",width:.2})}_start(e){e=this.toSeconds(e),this._triangle.start(e),this._widthGate.gain.setValueAtTime(1,e)}_stop(e){e=this.toSeconds(e),this._triangle.stop(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(0,e)}_restart(e){this._triangle.restart(e),this._widthGate.gain.cancelScheduledValues(e),this._widthGate.gain.setValueAtTime(1,e)}get phase(){return this._triangle.phase}set phase(e){this._triangle.phase=e}get type(){return"pulse"}get baseType(){return"pulse"}get partials(){return[]}get partialCount(){return 0}set carrierType(e){this._triangle.type=e}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this._triangle.dispose(),this.width.dispose(),this._widthGate.dispose(),this._thresh.dispose(),this}}class Nr extends vr{constructor(){super(Xs(Nr.getDefaults(),arguments,["frequency","type","spread"])),this.name="FatOscillator",this._oscillators=[];const e=Xs(Nr.getDefaults(),arguments,["frequency","type","spread"]);this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),this._spread=e.spread,this._type=e.type,this._phase=e.phase,this._partials=e.partials,this._partialCount=e.partialCount,this.count=e.count,fi(this,["frequency","detune"])}static getDefaults(){return Object.assign(Or.getDefaults(),{count:3,spread:20,type:"sawtooth"})}_start(e){e=this.toSeconds(e),this._forEach((t=>t.start(e)))}_stop(e){e=this.toSeconds(e),this._forEach((t=>t.stop(e)))}_restart(e){this._forEach((t=>t.restart(e)))}_forEach(e){for(let t=0;t<this._oscillators.length;t++)e(this._oscillators[t],t)}get type(){return this._type}set type(e){this._type=e,this._forEach((t=>t.type=e))}get spread(){return this._spread}set spread(e){if(this._spread=e,this._oscillators.length>1){const t=-e/2,n=e/(this._oscillators.length-1);this._forEach(((e,s)=>e.detune.value=t+n*s))}}get count(){return this._oscillators.length}set count(e){if(Ss(e,1),this._oscillators.length!==e){this._forEach((e=>e.dispose())),this._oscillators=[];for(let t=0;t<e;t++){const n=new Or({context:this.context,volume:-6-1.1*e,type:this._type,phase:this._phase+t/e*360,partialCount:this._partialCount,onstop:0===t?()=>this.onstop(this):gi});"custom"===this.type&&(n.partials=this._partials),this.frequency.connect(n.frequency),this.detune.connect(n.detune),n.detune.overridden=!1,n.connect(this.output),this._oscillators[t]=n}this.spread=this._spread,"started"===this.state&&this._forEach((e=>e.start()))}}get phase(){return this._phase}set phase(e){this._phase=e,this._forEach(((e,t)=>e.phase=this._phase+t/this.count*360))}get baseType(){return this._oscillators[0].baseType}set baseType(e){this._forEach((t=>t.baseType=e)),this._type=this._oscillators[0].type}get partials(){return this._oscillators[0].partials}set partials(e){this._partials=e,this._partialCount=this._partials.length,e.length&&(this._type="custom",this._forEach((t=>t.partials=e)))}get partialCount(){return this._oscillators[0].partialCount}set partialCount(e){this._partialCount=e,this._forEach((t=>t.partialCount=e)),this._type=this._oscillators[0].type}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this.frequency.dispose(),this.detune.dispose(),this._forEach((e=>e.dispose())),this}}class qr extends vr{constructor(){super(Xs(qr.getDefaults(),arguments,["frequency","modulationFrequency"])),this.name="PWMOscillator",this.sourceType="pwm",this._scale=new Mr({context:this.context,value:2});const e=Xs(qr.getDefaults(),arguments,["frequency","modulationFrequency"]);this._pulse=new Ir({context:this.context,frequency:e.modulationFrequency}),this._pulse.carrierType="sine",this.modulationFrequency=this._pulse.frequency,this._modulator=new Or({context:this.context,detune:e.detune,frequency:e.frequency,onstop:()=>this.onstop(this),phase:e.phase}),this.frequency=this._modulator.frequency,this.detune=this._modulator.detune,this._modulator.chain(this._scale,this._pulse.width),this._pulse.connect(this.output),fi(this,["modulationFrequency","frequency","detune"])}static getDefaults(){return Object.assign(vr.getDefaults(),{detune:0,frequency:440,modulationFrequency:.4,phase:0,type:"pwm"})}_start(e){e=this.toSeconds(e),this._modulator.start(e),this._pulse.start(e)}_stop(e){e=this.toSeconds(e),this._modulator.stop(e),this._pulse.stop(e)}_restart(e){this._modulator.restart(e),this._pulse.restart(e)}get type(){return"pwm"}get baseType(){return"pwm"}get partials(){return[]}get partialCount(){return 0}get phase(){return this._modulator.phase}set phase(e){this._modulator.phase=e}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this._pulse.dispose(),this._scale.dispose(),this._modulator.dispose(),this}}const Fr={am:Pr,fat:Nr,fm:Rr,oscillator:Or,pulse:Ir,pwm:qr};class jr extends vr{constructor(){super(Xs(jr.getDefaults(),arguments,["frequency","type"])),this.name="OmniOscillator";const e=Xs(jr.getDefaults(),arguments,["frequency","type"]);this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),fi(this,["frequency","detune"]),this.set(e)}static getDefaults(){return Object.assign(Or.getDefaults(),Rr.getDefaults(),Pr.getDefaults(),Nr.getDefaults(),Ir.getDefaults(),qr.getDefaults())}_start(e){this._oscillator.start(e)}_stop(e){this._oscillator.stop(e)}_restart(e){return this._oscillator.restart(e),this}get type(){let e="";return["am","fm","fat"].some((e=>this._sourceType===e))&&(e=this._sourceType),e+this._oscillator.type}set type(e){"fm"===e.substr(0,2)?(this._createNewOscillator("fm"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"am"===e.substr(0,2)?(this._createNewOscillator("am"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(2)):"fat"===e.substr(0,3)?(this._createNewOscillator("fat"),this._oscillator=this._oscillator,this._oscillator.type=e.substr(3)):"pwm"===e?(this._createNewOscillator("pwm"),this._oscillator=this._oscillator):"pulse"===e?this._createNewOscillator("pulse"):(this._createNewOscillator("oscillator"),this._oscillator=this._oscillator,this._oscillator.type=e)}get partials(){return this._oscillator.partials}set partials(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partials=e)}get partialCount(){return this._oscillator.partialCount}set partialCount(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||(this._oscillator.partialCount=e)}set(e){return Reflect.has(e,"type")&&e.type&&(this.type=e.type),super.set(e),this}_createNewOscillator(e){if(e!==this._sourceType){this._sourceType=e;const t=Fr[e],n=this.now();if(this._oscillator){const e=this._oscillator;e.stop(n),this.context.setTimeout((()=>e.dispose()),this.blockTime)}this._oscillator=new t({context:this.context}),this.frequency.connect(this._oscillator.frequency),this.detune.connect(this._oscillator.detune),this._oscillator.connect(this.output),this._oscillator.onstop=()=>this.onstop(this),"started"===this.state&&this._oscillator.start(n)}}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e}get sourceType(){return this._sourceType}set sourceType(e){let t="sine";"pwm"!==this._oscillator.type&&"pulse"!==this._oscillator.type&&(t=this._oscillator.type),"fm"===e?this.type="fm"+t:"am"===e?this.type="am"+t:"fat"===e?this.type="fat"+t:"oscillator"===e?this.type=t:"pulse"===e?this.type="pulse":"pwm"===e&&(this.type="pwm")}_getOscType(e,t){return e instanceof Fr[t]}get baseType(){return this._oscillator.baseType}set baseType(e){this._getOscType(this._oscillator,"pulse")||this._getOscType(this._oscillator,"pwm")||"pulse"===e||"pwm"===e||(this._oscillator.baseType=e)}get width(){return this._getOscType(this._oscillator,"pulse")?this._oscillator.width:void 0}get count(){return this._getOscType(this._oscillator,"fat")?this._oscillator.count:void 0}set count(e){this._getOscType(this._oscillator,"fat")&&Ps(e)&&(this._oscillator.count=e)}get spread(){return this._getOscType(this._oscillator,"fat")?this._oscillator.spread:void 0}set spread(e){this._getOscType(this._oscillator,"fat")&&Ps(e)&&(this._oscillator.spread=e)}get modulationType(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.modulationType:void 0}set modulationType(e){(this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am"))&&qs(e)&&(this._oscillator.modulationType=e)}get modulationIndex(){return this._getOscType(this._oscillator,"fm")?this._oscillator.modulationIndex:void 0}get harmonicity(){return this._getOscType(this._oscillator,"fm")||this._getOscType(this._oscillator,"am")?this._oscillator.harmonicity:void 0}get modulationFrequency(){return this._getOscType(this._oscillator,"pwm")?this._oscillator.modulationFrequency:void 0}asArray(e=1024){return zs(this,void 0,void 0,(function*(){return Tr(this,e)}))}dispose(){return super.dispose(),this.detune.dispose(),this.frequency.dispose(),this._oscillator.dispose(),this}}class Vr extends Xi{constructor(){super(Object.assign(Xs(Vr.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Add",this._sum=new Gi({context:this.context}),this.input=this._sum,this.output=this._sum,this.addend=this._param,Ui(this._constantSource,this._sum)}static getDefaults(){return Object.assign(Xi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._sum.dispose(),this}}class Lr extends Er{constructor(){super(Object.assign(Xs(Lr.getDefaults(),arguments,["min","max"]))),this.name="Scale";const e=Xs(Lr.getDefaults(),arguments,["min","max"]);this._mult=this.input=new Mr({context:this.context,value:e.max-e.min}),this._add=this.output=new Vr({context:this.context,value:e.min}),this._min=e.min,this._max=e.max,this.input.connect(this.output)}static getDefaults(){return Object.assign(Er.getDefaults(),{max:1,min:0})}get min(){return this._min}set min(e){this._min=e,this._setRange()}get max(){return this._max}set max(e){this._max=e,this._setRange()}_setRange(){this._add.value=this._min,this._mult.value=this._max-this._min}dispose(){return super.dispose(),this._add.dispose(),this._mult.dispose(),this}}class zr extends Er{constructor(){super(Object.assign(Xs(zr.getDefaults(),arguments))),this.name="Zero",this._gain=new Gi({context:this.context}),this.output=this._gain,this.input=void 0,$i(this.context.getConstant(0),this._gain)}dispose(){return super.dispose(),Qi(this.context.getConstant(0),this._gain),this}}class Br extends Wi{constructor(){super(Xs(Br.getDefaults(),arguments,["frequency","min","max"])),this.name="LFO",this._stoppedValue=0,this._units="number",this.convert=!0,this._fromType=Bi.prototype._fromType,this._toType=Bi.prototype._toType,this._is=Bi.prototype._is,this._clampValue=Bi.prototype._clampValue;const e=Xs(Br.getDefaults(),arguments,["frequency","min","max"]);this._oscillator=new Or(e),this.frequency=this._oscillator.frequency,this._amplitudeGain=new Gi({context:this.context,gain:e.amplitude,units:"normalRange"}),this.amplitude=this._amplitudeGain.gain,this._stoppedSignal=new Xi({context:this.context,units:"audioRange",value:0}),this._zeros=new zr({context:this.context}),this._a2g=new Dr({context:this.context}),this._scaler=this.output=new Lr({context:this.context,max:e.max,min:e.min}),this.units=e.units,this.min=e.min,this.max=e.max,this._oscillator.chain(this._amplitudeGain,this._a2g,this._scaler),this._zeros.connect(this._a2g),this._stoppedSignal.connect(this._a2g),fi(this,["amplitude","frequency"]),this.phase=e.phase}static getDefaults(){return Object.assign(Or.getDefaults(),{amplitude:1,frequency:"4n",max:1,min:0,type:"sine",units:"number"})}start(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(0,e),this._oscillator.start(e),this}stop(e){return e=this.toSeconds(e),this._stoppedSignal.setValueAtTime(this._stoppedValue,e),this._oscillator.stop(e),this}sync(){return this._oscillator.sync(),this._oscillator.syncFrequency(),this}unsync(){return this._oscillator.unsync(),this._oscillator.unsyncFrequency(),this}_setStoppedValue(){this._stoppedValue=this._oscillator.getInitialValue(),this._stoppedSignal.value=this._stoppedValue}get min(){return this._toType(this._scaler.min)}set min(e){e=this._fromType(e),this._scaler.min=e}get max(){return this._toType(this._scaler.max)}set max(e){e=this._fromType(e),this._scaler.max=e}get type(){return this._oscillator.type}set type(e){this._oscillator.type=e,this._setStoppedValue()}get partials(){return this._oscillator.partials}set partials(e){this._oscillator.partials=e,this._setStoppedValue()}get phase(){return this._oscillator.phase}set phase(e){this._oscillator.phase=e,this._setStoppedValue()}get units(){return this._units}set units(e){const t=this.min,n=this.max;this._units=e,this.min=t,this.max=n}get state(){return this._oscillator.state}connect(e,t,n){return(e instanceof Bi||e instanceof Xi)&&(this.convert=e.convert,this.units=e.units),Zi(this,e,t,n),this}dispose(){return super.dispose(),this._oscillator.dispose(),this._stoppedSignal.dispose(),this._zeros.dispose(),this._scaler.dispose(),this._a2g.dispose(),this._amplitudeGain.dispose(),this.amplitude.dispose(),this}}function Wr(e,t=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Ss(s,e,t),n.set(this,s)}})}}function Ur(e,t=1/0){const n=new WeakMap;return function(s,i){Reflect.defineProperty(s,i,{configurable:!0,enumerable:!0,get:function(){return n.get(this)},set:function(s){Ss(this.toSeconds(s),e,t),n.set(this,s)}})}}class $r extends vr{constructor(){super(Xs($r.getDefaults(),arguments,["url","onload"])),this.name="Player",this._activeSources=new Set;const e=Xs($r.getDefaults(),arguments,["url","onload"]);this._buffer=new _i({onload:this._onload.bind(this,e.onload),onerror:e.onerror,reverse:e.reverse,url:e.url}),this.autostart=e.autostart,this._loop=e.loop,this._loopStart=e.loopStart,this._loopEnd=e.loopEnd,this._playbackRate=e.playbackRate,this.fadeIn=e.fadeIn,this.fadeOut=e.fadeOut}static getDefaults(){return Object.assign(vr.getDefaults(),{autostart:!1,fadeIn:0,fadeOut:0,loop:!1,loopEnd:0,loopStart:0,onload:gi,onerror:gi,playbackRate:1,reverse:!1})}load(e){return zs(this,void 0,void 0,(function*(){return yield this._buffer.load(e),this._onload(),this}))}_onload(e=gi){e(),this.autostart&&this.start()}_onSourceEnd(e){this.onstop(this),this._activeSources.delete(e),0!==this._activeSources.size||this._synced||"started"!==this._state.getValueAtTime(this.now())||(this._state.cancel(this.now()),this._state.setStateAtTime("stopped",this.now()))}start(e,t,n){return super.start(e,t,n),this}_start(e,t,n){t=this._loop?Zs(t,this._loopStart):Zs(t,0);const s=this.toSeconds(t),i=n;n=Zs(n,Math.max(this._buffer.duration-s,0));let r=this.toSeconds(n);r/=this._playbackRate,e=this.toSeconds(e);const o=new yr({url:this._buffer,context:this.context,fadeIn:this.fadeIn,fadeOut:this.fadeOut,loop:this._loop,loopEnd:this._loopEnd,loopStart:this._loopStart,onended:this._onSourceEnd.bind(this),playbackRate:this._playbackRate}).connect(this.output);this._loop||this._synced||(this._state.cancel(e+r),this._state.setStateAtTime("stopped",e+r,{implicitEnd:!0})),this._activeSources.add(o),this._loop&&As(i)?o.start(e,s):o.start(e,s,r-this.toSeconds(this.fadeOut))}_stop(e){const t=this.toSeconds(e);this._activeSources.forEach((e=>e.stop(t)))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}seek(e,t){const n=this.toSeconds(t);if("started"===this._state.getValueAtTime(n)){const t=this.toSeconds(e);this._stop(n),this._start(n,t)}return this}setLoopPoints(e,t){return this.loopStart=e,this.loopEnd=t,this}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this.buffer.loaded&&Ss(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopStart=e}))}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this.buffer.loaded&&Ss(this.toSeconds(e),0,this.buffer.duration),this._activeSources.forEach((t=>{t.loopEnd=e}))}get buffer(){return this._buffer}set buffer(e){this._buffer.set(e)}get loop(){return this._loop}set loop(e){if(this._loop!==e&&(this._loop=e,this._activeSources.forEach((t=>{t.loop=e})),e)){const e=this._state.getNextState("stopped",this.now());e&&this._state.cancel(e.time)}}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e;const t=this.now(),n=this._state.getNextState("stopped",t);n&&n.implicitEnd&&(this._state.cancel(n.time),this._activeSources.forEach((e=>e.cancelStop()))),this._activeSources.forEach((n=>{n.playbackRate.setValueAtTime(e,t)}))}get reverse(){return this._buffer.reverse}set reverse(e){this._buffer.reverse=e}get loaded(){return this._buffer.loaded}dispose(){return super.dispose(),this._activeSources.forEach((e=>e.dispose())),this._activeSources.clear(),this._buffer.dispose(),this}}Ls([Ur(0)],$r.prototype,"fadeIn",void 0),Ls([Ur(0)],$r.prototype,"fadeOut",void 0);class Qr extends Wi{constructor(){super(Xs(Qr.getDefaults(),arguments,["urls","onload"],"urls")),this.name="Players",this.input=void 0,this._players=new Map;const e=Xs(Qr.getDefaults(),arguments,["urls","onload"],"urls");this._volume=this.output=new dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,fi(this,"volume"),this._buffers=new ir({urls:e.urls,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.mute=e.mute,this._fadeIn=e.fadeIn,this._fadeOut=e.fadeOut}static getDefaults(){return Object.assign(vr.getDefaults(),{baseUrl:"",fadeIn:0,fadeOut:0,mute:!1,onload:gi,onerror:gi,urls:{},volume:0})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}get fadeIn(){return this._fadeIn}set fadeIn(e){this._fadeIn=e,this._players.forEach((t=>{t.fadeIn=e}))}get fadeOut(){return this._fadeOut}set fadeOut(e){this._fadeOut=e,this._players.forEach((t=>{t.fadeOut=e}))}get state(){return Array.from(this._players).some((([e,t])=>"started"===t.state))?"started":"stopped"}has(e){return this._buffers.has(e)}player(e){if(xs(this.has(e),`No Player with the name ${e} exists on this object`),!this._players.has(e)){const t=new $r({context:this.context,fadeIn:this._fadeIn,fadeOut:this._fadeOut,url:this._buffers.get(e)}).connect(this.output);this._players.set(e,t)}return this._players.get(e)}get loaded(){return this._buffers.loaded}add(e,t,n){return xs(!this._buffers.has(e),"A buffer with that name already exists on this object"),this._buffers.add(e,t,n),this}stopAll(e){return this._players.forEach((t=>t.stop(e))),this}dispose(){return super.dispose(),this._volume.dispose(),this.volume.dispose(),this._players.forEach((e=>e.dispose())),this._buffers.dispose(),this}}class Gr extends vr{constructor(){super(Xs(Gr.getDefaults(),arguments,["url","onload"])),this.name="GrainPlayer",this._loopStart=0,this._loopEnd=0,this._activeSources=[];const e=Xs(Gr.getDefaults(),arguments,["url","onload"]);this.buffer=new _i({onload:e.onload,onerror:e.onerror,reverse:e.reverse,url:e.url}),this._clock=new tr({context:this.context,callback:this._tick.bind(this),frequency:1/e.grainSize}),this._playbackRate=e.playbackRate,this._grainSize=e.grainSize,this._overlap=e.overlap,this.detune=e.detune,this.overlap=e.overlap,this.loop=e.loop,this.playbackRate=e.playbackRate,this.grainSize=e.grainSize,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.reverse=e.reverse,this._clock.on("stop",this._onstop.bind(this))}static getDefaults(){return Object.assign(vr.getDefaults(),{onload:gi,onerror:gi,overlap:.1,grainSize:.2,playbackRate:1,detune:0,loop:!1,loopStart:0,loopEnd:0,reverse:!1})}_start(e,t,n){t=Zs(t,0),t=this.toSeconds(t),e=this.toSeconds(e);const s=1/this._clock.frequency.getValueAtTime(e);this._clock.start(e,t/s),n&&this.stop(e+this.toSeconds(n))}restart(e,t,n){return super.restart(e,t,n),this}_restart(e,t,n){this._stop(e),this._start(e,t,n)}_stop(e){this._clock.stop(e)}_onstop(e){this._activeSources.forEach((t=>{t.fadeOut=0,t.stop(e)})),this.onstop(this)}_tick(e){const t=this._clock.getTicksAtTime(e),n=t*this._grainSize;if(this.log("offset",n),!this.loop&&n>this.buffer.duration)return void this.stop(e);const s=n<this._overlap?0:this._overlap,i=new yr({context:this.context,url:this.buffer,fadeIn:s,fadeOut:this._overlap,loop:this.loop,loopStart:this._loopStart,loopEnd:this._loopEnd,playbackRate:Ci(this.detune/100)}).connect(this.output);i.start(e,this._grainSize*t),i.stop(e+this._grainSize/this.playbackRate),this._activeSources.push(i),i.onended=()=>{const e=this._activeSources.indexOf(i);-1!==e&&this._activeSources.splice(e,1)}}get playbackRate(){return this._playbackRate}set playbackRate(e){Ss(e,.001),this._playbackRate=e,this.grainSize=this._grainSize}get loopStart(){return this._loopStart}set loopStart(e){this.buffer.loaded&&Ss(this.toSeconds(e),0,this.buffer.duration),this._loopStart=this.toSeconds(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this.buffer.loaded&&Ss(this.toSeconds(e),0,this.buffer.duration),this._loopEnd=this.toSeconds(e)}get reverse(){return this.buffer.reverse}set reverse(e){this.buffer.reverse=e}get grainSize(){return this._grainSize}set grainSize(e){this._grainSize=this.toSeconds(e),this._clock.frequency.setValueAtTime(this._playbackRate/this._grainSize,this.now())}get overlap(){return this._overlap}set overlap(e){const t=this.toSeconds(e);Ss(t,0),this._overlap=t}get loaded(){return this.buffer.loaded}dispose(){return super.dispose(),this.buffer.dispose(),this._clock.dispose(),this._activeSources.forEach((e=>e.dispose())),this}}class Hr extends Er{constructor(){super(...arguments),this.name="Abs",this._abs=new Ar({context:this.context,mapping:e=>Math.abs(e)<.001?0:Math.abs(e)}),this.input=this._abs,this.output=this._abs}dispose(){return super.dispose(),this._abs.dispose(),this}}class Yr extends Er{constructor(){super(...arguments),this.name="GainToAudio",this._norm=new Ar({context:this.context,mapping:e=>2*Math.abs(e)-1}),this.input=this._norm,this.output=this._norm}dispose(){return super.dispose(),this._norm.dispose(),this}}class Xr extends Er{constructor(){super(...arguments),this.name="Negate",this._multiply=new Mr({context:this.context,value:-1}),this.input=this._multiply,this.output=this._multiply}dispose(){return super.dispose(),this._multiply.dispose(),this}}class Zr extends Xi{constructor(){super(Object.assign(Xs(Zr.getDefaults(),arguments,["value"]))),this.override=!1,this.name="Subtract",this._sum=new Gi({context:this.context}),this.input=this._sum,this.output=this._sum,this._neg=new Xr({context:this.context}),this.subtrahend=this._param,Ui(this._constantSource,this._neg,this._sum)}static getDefaults(){return Object.assign(Xi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._neg.dispose(),this._sum.dispose(),this}}class Kr extends Er{constructor(){super(Object.assign(Xs(Kr.getDefaults(),arguments))),this.name="GreaterThanZero",this._thresh=this.output=new Ar({context:this.context,length:127,mapping:e=>e<=0?0:1}),this._scale=this.input=new Mr({context:this.context,value:1e4}),this._scale.connect(this._thresh)}dispose(){return super.dispose(),this._scale.dispose(),this._thresh.dispose(),this}}class Jr extends Xi{constructor(){super(Object.assign(Xs(Jr.getDefaults(),arguments,["value"]))),this.name="GreaterThan",this.override=!1;const e=Xs(Jr.getDefaults(),arguments,["value"]);this._subtract=this.input=new Zr({context:this.context,value:e.value}),this._gtz=this.output=new Kr({context:this.context}),this.comparator=this._param=this._subtract.subtrahend,fi(this,"comparator"),this._subtract.connect(this._gtz)}static getDefaults(){return Object.assign(Xi.getDefaults(),{value:0})}dispose(){return super.dispose(),this._gtz.dispose(),this._subtract.dispose(),this.comparator.dispose(),this}}class eo extends Er{constructor(){super(Object.assign(Xs(eo.getDefaults(),arguments,["value"]))),this.name="Pow";const e=Xs(eo.getDefaults(),arguments,["value"]);this._exponentScaler=this.input=this.output=new Ar({context:this.context,mapping:this._expFunc(e.value),length:8192}),this._exponent=e.value}static getDefaults(){return Object.assign(Er.getDefaults(),{value:1})}_expFunc(e){return t=>Math.pow(Math.abs(t),e)}get value(){return this._exponent}set value(e){this._exponent=e,this._exponentScaler.setMap(this._expFunc(this._exponent))}dispose(){return super.dispose(),this._exponentScaler.dispose(),this}}class to extends Lr{constructor(){super(Object.assign(Xs(to.getDefaults(),arguments,["min","max","exponent"]))),this.name="ScaleExp";const e=Xs(to.getDefaults(),arguments,["min","max","exponent"]);this.input=this._exp=new eo({context:this.context,value:e.exponent}),this._exp.connect(this._mult)}static getDefaults(){return Object.assign(Lr.getDefaults(),{exponent:1})}get exponent(){return this._exp.value}set exponent(e){this._exp.value=e}dispose(){return super.dispose(),this._exp.dispose(),this}}class no extends Xi{constructor(){super(Xs(Xi.getDefaults(),arguments,["value","units"])),this.name="SyncedSignal",this.override=!1;const e=Xs(Xi.getDefaults(),arguments,["value","units"]);this._lastVal=e.value,this._synced=this.context.transport.scheduleRepeat(this._onTick.bind(this),"1i"),this._syncedCallback=this._anchorValue.bind(this),this.context.transport.on("start",this._syncedCallback),this.context.transport.on("pause",this._syncedCallback),this.context.transport.on("stop",this._syncedCallback),this._constantSource.disconnect(),this._constantSource.stop(0),this._constantSource=this.output=new Yi({context:this.context,offset:e.value,units:e.units}).start(0),this.setValueAtTime(e.value,0)}_onTick(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal!==t&&(this._lastVal=t,this._constantSource.offset.setValueAtTime(t,e))}_anchorValue(e){const t=super.getValueAtTime(this.context.transport.seconds);this._lastVal=t,this._constantSource.offset.cancelAndHoldAtTime(e),this._constantSource.offset.setValueAtTime(t,e)}getValueAtTime(e){const t=new ji(this.context,e).toSeconds();return super.getValueAtTime(t)}setValueAtTime(e,t){const n=new ji(this.context,t).toSeconds();return super.setValueAtTime(e,n),this}linearRampToValueAtTime(e,t){const n=new ji(this.context,t).toSeconds();return super.linearRampToValueAtTime(e,n),this}exponentialRampToValueAtTime(e,t){const n=new ji(this.context,t).toSeconds();return super.exponentialRampToValueAtTime(e,n),this}setTargetAtTime(e,t,n){const s=new ji(this.context,t).toSeconds();return super.setTargetAtTime(e,s,n),this}cancelScheduledValues(e){const t=new ji(this.context,e).toSeconds();return super.cancelScheduledValues(t),this}setValueCurveAtTime(e,t,n,s){const i=new ji(this.context,t).toSeconds();return n=this.toSeconds(n),super.setValueCurveAtTime(e,i,n,s),this}cancelAndHoldAtTime(e){const t=new ji(this.context,e).toSeconds();return super.cancelAndHoldAtTime(t),this}setRampPoint(e){const t=new ji(this.context,e).toSeconds();return super.setRampPoint(t),this}exponentialRampTo(e,t,n){const s=new ji(this.context,n).toSeconds();return super.exponentialRampTo(e,t,s),this}linearRampTo(e,t,n){const s=new ji(this.context,n).toSeconds();return super.linearRampTo(e,t,s),this}targetRampTo(e,t,n){const s=new ji(this.context,n).toSeconds();return super.targetRampTo(e,t,s),this}dispose(){return super.dispose(),this.context.transport.clear(this._synced),this.context.transport.off("start",this._syncedCallback),this.context.transport.off("pause",this._syncedCallback),this.context.transport.off("stop",this._syncedCallback),this._constantSource.dispose(),this}}class so extends Wi{constructor(){super(Xs(so.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="Envelope",this._sig=new Xi({context:this.context,value:0}),this.output=this._sig,this.input=void 0;const e=Xs(so.getDefaults(),arguments,["attack","decay","sustain","release"]);this.attack=e.attack,this.decay=e.decay,this.sustain=e.sustain,this.release=e.release,this.attackCurve=e.attackCurve,this.releaseCurve=e.releaseCurve,this.decayCurve=e.decayCurve}static getDefaults(){return Object.assign(Wi.getDefaults(),{attack:.01,attackCurve:"linear",decay:.1,decayCurve:"exponential",release:1,releaseCurve:"exponential",sustain:.5})}get value(){return this.getValueAtTime(this.now())}_getCurve(e,t){if(qs(e))return e;{let n;for(n in io)if(io[n][t]===e)return n;return e}}_setCurve(e,t,n){if(qs(n)&&Reflect.has(io,n)){const s=io[n];Rs(s)?"_decayCurve"!==e&&(this[e]=s[t]):this[e]=s}else{if(!Ns(n)||"_decayCurve"===e)throw new Error("Envelope: invalid curve: "+n);this[e]=n}}get attackCurve(){return this._getCurve(this._attackCurve,"In")}set attackCurve(e){this._setCurve("_attackCurve","In",e)}get releaseCurve(){return this._getCurve(this._releaseCurve,"Out")}set releaseCurve(e){this._setCurve("_releaseCurve","Out",e)}get decayCurve(){return this._decayCurve}set decayCurve(e){xs(["linear","exponential"].some((t=>t===e)),`Invalid envelope curve: ${e}`),this._decayCurve=e}triggerAttack(e,t=1){this.log("triggerAttack",e,t),e=this.toSeconds(e);let n=this.toSeconds(this.attack);const s=this.toSeconds(this.decay),i=this.getValueAtTime(e);if(i>0&&(n=(1-i)/(1/n)),n<this.sampleTime)this._sig.cancelScheduledValues(e),this._sig.setValueAtTime(t,e);else if("linear"===this._attackCurve)this._sig.linearRampTo(t,n,e);else if("exponential"===this._attackCurve)this._sig.targetRampTo(t,n,e);else{this._sig.cancelAndHoldAtTime(e);let s=this._attackCurve;for(let e=1;e<s.length;e++)if(s[e-1]<=i&&i<=s[e]){s=this._attackCurve.slice(e),s[0]=i;break}this._sig.setValueCurveAtTime(s,e,n,t)}if(s&&this.sustain<1){const i=t*this.sustain,r=e+n;this.log("decay",r),"linear"===this._decayCurve?this._sig.linearRampToValueAtTime(i,s+r):this._sig.exponentialApproachValueAtTime(i,r,s)}return this}triggerRelease(e){this.log("triggerRelease",e),e=this.toSeconds(e);const t=this.getValueAtTime(e);if(t>0){const n=this.toSeconds(this.release);n<this.sampleTime?this._sig.setValueAtTime(0,e):"linear"===this._releaseCurve?this._sig.linearRampTo(0,n,e):"exponential"===this._releaseCurve?this._sig.targetRampTo(0,n,e):(xs(Ns(this._releaseCurve),"releaseCurve must be either 'linear', 'exponential' or an array"),this._sig.cancelAndHoldAtTime(e),this._sig.setValueCurveAtTime(this._releaseCurve,e,n,t))}return this}getValueAtTime(e){return this._sig.getValueAtTime(e)}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),this.triggerAttack(t,n),this.triggerRelease(t+this.toSeconds(e)),this}cancel(e){return this._sig.cancelScheduledValues(this.toSeconds(e)),this}connect(e,t=0,n=0){return Zi(this,e,t,n),this}asArray(e=1024){return zs(this,void 0,void 0,(function*(){const t=e/this.context.sampleRate,n=new vi(1,t,this.context.sampleRate),s=this.toSeconds(this.attack)+this.toSeconds(this.decay),i=s+this.toSeconds(this.release),r=.1*i,o=i+r,a=new this.constructor(Object.assign(this.get(),{attack:t*this.toSeconds(this.attack)/o,decay:t*this.toSeconds(this.decay)/o,release:t*this.toSeconds(this.release)/o,context:n}));return a._sig.toDestination(),a.triggerAttackRelease(t*(s+r)/o,0),(yield n.render()).getChannelData(0)}))}dispose(){return super.dispose(),this._sig.dispose(),this}}Ls([Ur(0)],so.prototype,"attack",void 0),Ls([Ur(0)],so.prototype,"decay",void 0),Ls([Wr(0,1)],so.prototype,"sustain",void 0),Ls([Ur(0)],so.prototype,"release",void 0);const io=(()=>{const e=128;let t,n;const s=[];for(t=0;t<e;t++)s[t]=Math.sin(t/127*(Math.PI/2));const i=[];for(t=0;t<127;t++){n=t/127;const e=Math.sin(n*(2*Math.PI)*6.4-Math.PI/2)+1;i[t]=e/10+.83*n}i[127]=1;const r=[];for(t=0;t<e;t++)r[t]=Math.ceil(t/127*5)/5;const o=[];for(t=0;t<e;t++)n=t/127,o[t]=.5*(1-Math.cos(Math.PI*n));const a=[];for(t=0;t<e;t++){n=t/127;const e=4*Math.pow(n,3)+.2,s=Math.cos(e*Math.PI*2*n);a[t]=Math.abs(s*(1-n))}function l(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=1-e[n];return t}return{bounce:{In:l(a),Out:a},cosine:{In:s,Out:(u=s,u.slice(0).reverse())},exponential:"exponential",linear:"linear",ripple:{In:i,Out:l(i)},sine:{In:o,Out:l(o)},step:{In:r,Out:l(r)}};var u})();class ro extends Wi{constructor(){super(Xs(ro.getDefaults(),arguments)),this._scheduledEvents=[],this._synced=!1,this._original_triggerAttack=this.triggerAttack,this._original_triggerRelease=this.triggerRelease;const e=Xs(ro.getDefaults(),arguments);this._volume=this.output=new dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,fi(this,"volume")}static getDefaults(){return Object.assign(Wi.getDefaults(),{volume:0})}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",0)),this}_syncState(){let e=!1;return this._synced||(this._synced=!0,e=!0),e}_syncMethod(e,t){const n=this["_original_"+e]=this[e];this[e]=(...e)=>{const s=e[t],i=this.context.transport.schedule((s=>{e[t]=s,n.apply(this,e)}),s);this._scheduledEvents.push(i)}}unsync(){return this._scheduledEvents.forEach((e=>this.context.transport.clear(e))),this._scheduledEvents=[],this._synced&&(this._synced=!1,this.triggerAttack=this._original_triggerAttack,this.triggerRelease=this._original_triggerRelease),this}triggerAttackRelease(e,t,n,s){const i=this.toSeconds(n),r=this.toSeconds(t);return this.triggerAttack(e,i,s),this.triggerRelease(i+r),this}dispose(){return super.dispose(),this._volume.dispose(),this.unsync(),this._scheduledEvents=[],this}}class oo extends ro{constructor(){super(Xs(oo.getDefaults(),arguments));const e=Xs(oo.getDefaults(),arguments);this.portamento=e.portamento,this.onsilence=e.onsilence}static getDefaults(){return Object.assign(ro.getDefaults(),{detune:0,onsilence:gi,portamento:0})}triggerAttack(e,t,n=1){this.log("triggerAttack",e,t,n);const s=this.toSeconds(t);return this._triggerEnvelopeAttack(s,n),this.setNote(e,s),this}triggerRelease(e){this.log("triggerRelease",e);const t=this.toSeconds(e);return this._triggerEnvelopeRelease(t),this}setNote(e,t){const n=this.toSeconds(t),s=e instanceof Ii?e.toFrequency():e;if(this.portamento>0&&this.getLevelAtTime(n)>.05){const e=this.toSeconds(this.portamento);this.frequency.exponentialRampTo(s,e,n)}else this.frequency.setValueAtTime(s,n);return this}}Ls([Ur(0)],oo.prototype,"portamento",void 0);class ao extends so{constructor(){super(Xs(ao.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="AmplitudeEnvelope",this._gainNode=new Gi({context:this.context,gain:0}),this.output=this._gainNode,this.input=this._gainNode,this._sig.connect(this._gainNode.gain),this.output=this._gainNode,this.input=this._gainNode}dispose(){return super.dispose(),this._gainNode.dispose(),this}}class lo extends oo{constructor(){super(Xs(lo.getDefaults(),arguments)),this.name="Synth";const e=Xs(lo.getDefaults(),arguments);this.oscillator=new jr(Object.assign({context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)},e.oscillator)),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.envelope=new ao(Object.assign({context:this.context},e.envelope)),this.oscillator.chain(this.envelope,this.output),fi(this,["oscillator","frequency","detune","envelope"])}static getDefaults(){return Object.assign(oo.getDefaults(),{envelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.3}),oscillator:Object.assign(Ks(jr.getDefaults(),[...Object.keys(vr.getDefaults()),"frequency","detune"]),{type:"triangle"})})}_triggerEnvelopeAttack(e,t){if(this.envelope.triggerAttack(e,t),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this}}class uo extends oo{constructor(){super(Xs(uo.getDefaults(),arguments)),this.name="ModulationSynth";const e=Xs(uo.getDefaults(),arguments);this._carrier=new lo({context:this.context,oscillator:e.oscillator,envelope:e.envelope,onsilence:()=>this.onsilence(this),volume:-10}),this._modulator=new lo({context:this.context,oscillator:e.modulation,envelope:e.modulationEnvelope,volume:-10}),this.oscillator=this._carrier.oscillator,this.envelope=this._carrier.envelope,this.modulation=this._modulator.oscillator,this.modulationEnvelope=this._modulator.envelope,this.frequency=new Xi({context:this.context,units:"frequency"}),this.detune=new Xi({context:this.context,value:e.detune,units:"cents"}),this.harmonicity=new Mr({context:this.context,value:e.harmonicity,minValue:0}),this._modulationNode=new Gi({context:this.context,gain:0}),fi(this,["frequency","harmonicity","oscillator","envelope","modulation","modulationEnvelope","detune"])}static getDefaults(){return Object.assign(oo.getDefaults(),{harmonicity:3,oscillator:Object.assign(Ks(jr.getDefaults(),[...Object.keys(vr.getDefaults()),"frequency","detune"]),{type:"sine"}),envelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.01,decay:.01,sustain:1,release:.5}),modulation:Object.assign(Ks(jr.getDefaults(),[...Object.keys(vr.getDefaults()),"frequency","detune"]),{type:"square"}),modulationEnvelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.5,decay:0,sustain:1,release:.5})})}_triggerEnvelopeAttack(e,t){this._carrier._triggerEnvelopeAttack(e,t),this._modulator._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this._carrier._triggerEnvelopeRelease(e),this._modulator._triggerEnvelopeRelease(e),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this._carrier.dispose(),this._modulator.dispose(),this.frequency.dispose(),this.detune.dispose(),this.harmonicity.dispose(),this._modulationNode.dispose(),this}}class co extends uo{constructor(){super(Xs(co.getDefaults(),arguments)),this.name="AMSynth",this._modulationScale=new Dr({context:this.context}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.chain(this._modulationScale,this._modulationNode.gain),this._carrier.chain(this._modulationNode,this.output)}dispose(){return super.dispose(),this._modulationScale.dispose(),this}}class ho extends Wi{constructor(){super(Xs(ho.getDefaults(),arguments,["frequency","type"])),this.name="BiquadFilter";const e=Xs(ho.getDefaults(),arguments,["frequency","type"]);this._filter=this.context.createBiquadFilter(),this.input=this.output=this._filter,this.Q=new Bi({context:this.context,units:"number",value:e.Q,param:this._filter.Q}),this.frequency=new Bi({context:this.context,units:"frequency",value:e.frequency,param:this._filter.frequency}),this.detune=new Bi({context:this.context,units:"cents",value:e.detune,param:this._filter.detune}),this.gain=new Bi({context:this.context,units:"decibels",convert:!1,value:e.gain,param:this._filter.gain}),this.type=e.type}static getDefaults(){return Object.assign(Wi.getDefaults(),{Q:1,type:"lowpass",frequency:350,detune:0,gain:0})}get type(){return this._filter.type}set type(e){xs(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._filter.type=e}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e),i=this.context.createBiquadFilter();return i.type=this.type,i.Q.value=this.Q.value,i.frequency.value=this.frequency.value,i.gain.value=this.gain.value,i.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this._filter.disconnect(),this.Q.dispose(),this.frequency.dispose(),this.gain.dispose(),this.detune.dispose(),this}}class po extends Wi{constructor(){super(Xs(po.getDefaults(),arguments,["frequency","type","rolloff"])),this.name="Filter",this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this._filters=[];const e=Xs(po.getDefaults(),arguments,["frequency","type","rolloff"]);this._filters=[],this.Q=new Xi({context:this.context,units:"positive",value:e.Q}),this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency}),this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),this.gain=new Xi({context:this.context,units:"decibels",convert:!1,value:e.gain}),this._type=e.type,this.rolloff=e.rolloff,fi(this,["detune","frequency","gain","Q"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{Q:1,detune:0,frequency:350,gain:0,rolloff:-12,type:"lowpass"})}get type(){return this._type}set type(e){xs(-1!==["lowpass","highpass","bandpass","lowshelf","highshelf","notch","allpass","peaking"].indexOf(e),`Invalid filter type: ${e}`),this._type=e,this._filters.forEach((t=>t.type=e))}get rolloff(){return this._rolloff}set rolloff(e){const t=Ps(e)?e:parseInt(e,10),n=[-12,-24,-48,-96];let s=n.indexOf(t);xs(-1!==s,`rolloff can only be ${n.join(", ")}`),s+=1,this._rolloff=t,this.input.disconnect(),this._filters.forEach((e=>e.disconnect())),this._filters=new Array(s);for(let e=0;e<s;e++){const t=new ho({context:this.context});t.type=this._type,this.frequency.connect(t.frequency),this.detune.connect(t.detune),this.Q.connect(t.Q),this.gain.connect(t.gain),this._filters[e]=t}this._internalChannels=this._filters,Ui(this.input,...this._internalChannels,this.output)}getFrequencyResponse(e=128){const t=new ho({frequency:this.frequency.value,gain:this.gain.value,Q:this.Q.value,type:this._type,detune:this.detune.value}),n=new Float32Array(e).map((()=>1));return this._filters.forEach((()=>{t.getFrequencyResponse(e).forEach(((e,t)=>n[t]*=e))})),t.dispose(),n}dispose(){return super.dispose(),this._filters.forEach((e=>{e.dispose()})),mi(this,["detune","frequency","gain","Q"]),this.frequency.dispose(),this.Q.dispose(),this.detune.dispose(),this.gain.dispose(),this}}class fo extends so{constructor(){super(Xs(fo.getDefaults(),arguments,["attack","decay","sustain","release"])),this.name="FrequencyEnvelope";const e=Xs(fo.getDefaults(),arguments,["attack","decay","sustain","release"]);this._octaves=e.octaves,this._baseFrequency=this.toFrequency(e.baseFrequency),this._exponent=this.input=new eo({context:this.context,value:e.exponent}),this._scale=this.output=new Lr({context:this.context,min:this._baseFrequency,max:this._baseFrequency*Math.pow(2,this._octaves)}),this._sig.chain(this._exponent,this._scale)}static getDefaults(){return Object.assign(so.getDefaults(),{baseFrequency:200,exponent:1,octaves:4})}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){const t=this.toFrequency(e);Ss(t,0),this._baseFrequency=t,this._scale.min=this._baseFrequency,this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._scale.max=this._baseFrequency*Math.pow(2,e)}get exponent(){return this._exponent.value}set exponent(e){this._exponent.value=e}dispose(){return super.dispose(),this._exponent.dispose(),this._scale.dispose(),this}}class mo extends oo{constructor(){super(Xs(mo.getDefaults(),arguments)),this.name="MonoSynth";const e=Xs(mo.getDefaults(),arguments);this.oscillator=new jr(Object.assign(e.oscillator,{context:this.context,detune:e.detune,onstop:()=>this.onsilence(this)})),this.frequency=this.oscillator.frequency,this.detune=this.oscillator.detune,this.filter=new po(Object.assign(e.filter,{context:this.context})),this.filterEnvelope=new fo(Object.assign(e.filterEnvelope,{context:this.context})),this.envelope=new ao(Object.assign(e.envelope,{context:this.context})),this.oscillator.chain(this.filter,this.envelope,this.output),this.filterEnvelope.connect(this.filter.frequency),fi(this,["oscillator","frequency","detune","filter","filterEnvelope","envelope"])}static getDefaults(){return Object.assign(oo.getDefaults(),{envelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.005,decay:.1,release:1,sustain:.9}),filter:Object.assign(Ks(po.getDefaults(),Object.keys(Wi.getDefaults())),{Q:1,rolloff:-12,type:"lowpass"}),filterEnvelope:Object.assign(Ks(fo.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.6,baseFrequency:200,decay:.2,exponent:2,octaves:3,release:2,sustain:.5}),oscillator:Object.assign(Ks(jr.getDefaults(),Object.keys(vr.getDefaults())),{type:"sawtooth"})})}_triggerEnvelopeAttack(e,t=1){if(this.envelope.triggerAttack(e,t),this.filterEnvelope.triggerAttack(e),this.oscillator.start(e),0===this.envelope.sustain){const t=this.toSeconds(this.envelope.attack),n=this.toSeconds(this.envelope.decay);this.oscillator.stop(e+t+n)}}_triggerEnvelopeRelease(e){this.envelope.triggerRelease(e),this.filterEnvelope.triggerRelease(e),this.oscillator.stop(e+this.toSeconds(this.envelope.release))}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}dispose(){return super.dispose(),this.oscillator.dispose(),this.envelope.dispose(),this.filterEnvelope.dispose(),this.filter.dispose(),this}}class go extends oo{constructor(){super(Xs(go.getDefaults(),arguments)),this.name="DuoSynth";const e=Xs(go.getDefaults(),arguments);this.voice0=new mo(Object.assign(e.voice0,{context:this.context,onsilence:()=>this.onsilence(this)})),this.voice1=new mo(Object.assign(e.voice1,{context:this.context})),this.harmonicity=new Mr({context:this.context,units:"positive",value:e.harmonicity}),this._vibrato=new Br({frequency:e.vibratoRate,context:this.context,min:-50,max:50}),this._vibrato.start(),this.vibratoRate=this._vibrato.frequency,this._vibratoGain=new Gi({context:this.context,units:"normalRange",gain:e.vibratoAmount}),this.vibratoAmount=this._vibratoGain.gain,this.frequency=new Xi({context:this.context,units:"frequency",value:440}),this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),this.frequency.connect(this.voice0.frequency),this.frequency.chain(this.harmonicity,this.voice1.frequency),this._vibrato.connect(this._vibratoGain),this._vibratoGain.fan(this.voice0.detune,this.voice1.detune),this.detune.fan(this.voice0.detune,this.voice1.detune),this.voice0.connect(this.output),this.voice1.connect(this.output),fi(this,["voice0","voice1","frequency","vibratoAmount","vibratoRate"])}getLevelAtTime(e){return e=this.toSeconds(e),this.voice0.envelope.getValueAtTime(e)+this.voice1.envelope.getValueAtTime(e)}static getDefaults(){return Ys(oo.getDefaults(),{vibratoAmount:.5,vibratoRate:5,harmonicity:1.5,voice0:Ys(Ks(mo.getDefaults(),Object.keys(oo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}}),voice1:Ys(Ks(mo.getDefaults(),Object.keys(oo.getDefaults())),{filterEnvelope:{attack:.01,decay:0,sustain:1,release:.5},envelope:{attack:.01,decay:0,sustain:1,release:.5}})})}_triggerEnvelopeAttack(e,t){this.voice0._triggerEnvelopeAttack(e,t),this.voice1._triggerEnvelopeAttack(e,t)}_triggerEnvelopeRelease(e){return this.voice0._triggerEnvelopeRelease(e),this.voice1._triggerEnvelopeRelease(e),this}dispose(){return super.dispose(),this.voice0.dispose(),this.voice1.dispose(),this.frequency.dispose(),this.detune.dispose(),this._vibrato.dispose(),this.vibratoRate.dispose(),this._vibratoGain.dispose(),this.harmonicity.dispose(),this}}class _o extends uo{constructor(){super(Xs(_o.getDefaults(),arguments)),this.name="FMSynth";const e=Xs(_o.getDefaults(),arguments);this.modulationIndex=new Mr({context:this.context,value:e.modulationIndex}),this.frequency.connect(this._carrier.frequency),this.frequency.chain(this.harmonicity,this._modulator.frequency),this.frequency.chain(this.modulationIndex,this._modulationNode),this.detune.fan(this._carrier.detune,this._modulator.detune),this._modulator.connect(this._modulationNode.gain),this._modulationNode.connect(this._carrier.frequency),this._carrier.connect(this.output)}static getDefaults(){return Object.assign(uo.getDefaults(),{modulationIndex:10})}dispose(){return super.dispose(),this.modulationIndex.dispose(),this}}const vo=[1,1.483,1.932,2.546,2.63,3.897];class yo extends oo{constructor(){super(Xs(yo.getDefaults(),arguments)),this.name="MetalSynth",this._oscillators=[],this._freqMultipliers=[];const e=Xs(yo.getDefaults(),arguments);this.detune=new Xi({context:this.context,units:"cents",value:e.detune}),this.frequency=new Xi({context:this.context,units:"frequency"}),this._amplitude=new Gi({context:this.context,gain:0}).connect(this.output),this._highpass=new po({Q:0,context:this.context,type:"highpass"}).connect(this._amplitude);for(let t=0;t<vo.length;t++){const n=new Rr({context:this.context,harmonicity:e.harmonicity,modulationIndex:e.modulationIndex,modulationType:"square",onstop:0===t?()=>this.onsilence(this):gi,type:"square"});n.connect(this._highpass),this._oscillators[t]=n;const s=new Mr({context:this.context,value:vo[t]});this._freqMultipliers[t]=s,this.frequency.chain(s,n.frequency),this.detune.connect(n.detune)}this._filterFreqScaler=new Lr({context:this.context,max:7e3,min:this.toFrequency(e.resonance)}),this.envelope=new so({attack:e.envelope.attack,attackCurve:"linear",context:this.context,decay:e.envelope.decay,release:e.envelope.release,sustain:0}),this.envelope.chain(this._filterFreqScaler,this._highpass.frequency),this.envelope.connect(this._amplitude.gain),this._octaves=e.octaves,this.octaves=e.octaves}static getDefaults(){return Ys(oo.getDefaults(),{envelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{attack:.001,decay:1.4,release:.2}),harmonicity:5.1,modulationIndex:32,octaves:1.5,resonance:4e3})}_triggerEnvelopeAttack(e,t=1){return this.envelope.triggerAttack(e,t),this._oscillators.forEach((t=>t.start(e))),0===this.envelope.sustain&&this._oscillators.forEach((t=>{t.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay))})),this}_triggerEnvelopeRelease(e){return this.envelope.triggerRelease(e),this._oscillators.forEach((t=>t.stop(e+this.toSeconds(this.envelope.release)))),this}getLevelAtTime(e){return e=this.toSeconds(e),this.envelope.getValueAtTime(e)}get modulationIndex(){return this._oscillators[0].modulationIndex.value}set modulationIndex(e){this._oscillators.forEach((t=>t.modulationIndex.value=e))}get harmonicity(){return this._oscillators[0].harmonicity.value}set harmonicity(e){this._oscillators.forEach((t=>t.harmonicity.value=e))}get resonance(){return this._filterFreqScaler.min}set resonance(e){this._filterFreqScaler.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._filterFreqScaler.max=this._filterFreqScaler.min*Math.pow(2,e)}dispose(){return super.dispose(),this._oscillators.forEach((e=>e.dispose())),this._freqMultipliers.forEach((e=>e.dispose())),this.frequency.dispose(),this.detune.dispose(),this._filterFreqScaler.dispose(),this._amplitude.dispose(),this.envelope.dispose(),this._highpass.dispose(),this}}class bo extends lo{constructor(){super(Xs(bo.getDefaults(),arguments)),this.name="MembraneSynth",this.portamento=0;const e=Xs(bo.getDefaults(),arguments);this.pitchDecay=e.pitchDecay,this.octaves=e.octaves,fi(this,["oscillator","envelope"])}static getDefaults(){return Ys(oo.getDefaults(),lo.getDefaults(),{envelope:{attack:.001,attackCurve:"exponential",decay:.4,release:1.4,sustain:.01},octaves:10,oscillator:{type:"sine"},pitchDecay:.05})}setNote(e,t){const n=this.toSeconds(t),s=this.toFrequency(e instanceof Ii?e.toFrequency():e),i=s*this.octaves;return this.oscillator.frequency.setValueAtTime(i,n),this.oscillator.frequency.exponentialRampToValueAtTime(s,n+this.toSeconds(this.pitchDecay)),this}dispose(){return super.dispose(),this}}Ls([Wr(0)],bo.prototype,"octaves",void 0),Ls([Ur(0)],bo.prototype,"pitchDecay",void 0);class wo extends ro{constructor(){super(Xs(wo.getDefaults(),arguments)),this.name="NoiseSynth";const e=Xs(wo.getDefaults(),arguments);this.noise=new br(Object.assign({context:this.context},e.noise)),this.envelope=new ao(Object.assign({context:this.context},e.envelope)),this.noise.chain(this.envelope,this.output)}static getDefaults(){return Object.assign(ro.getDefaults(),{envelope:Object.assign(Ks(so.getDefaults(),Object.keys(Wi.getDefaults())),{decay:.1,sustain:0}),noise:Object.assign(Ks(br.getDefaults(),Object.keys(vr.getDefaults())),{type:"white"})})}triggerAttack(e,t=1){return e=this.toSeconds(e),this.envelope.triggerAttack(e,t),this.noise.start(e),0===this.envelope.sustain&&this.noise.stop(e+this.toSeconds(this.envelope.attack)+this.toSeconds(this.envelope.decay)),this}triggerRelease(e){return e=this.toSeconds(e),this.envelope.triggerRelease(e),this.noise.stop(e+this.toSeconds(this.envelope.release)),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",0),this._syncMethod("triggerRelease",0)),this}triggerAttackRelease(e,t,n=1){return t=this.toSeconds(t),e=this.toSeconds(e),this.triggerAttack(t,n),this.triggerRelease(t+e),this}dispose(){return super.dispose(),this.noise.dispose(),this.envelope.dispose(),this}}const xo=new Set;function So(e){xo.add(e)}function ko(e,t){const n=`registerProcessor("${e}", ${t})`;xo.add(n)}class To extends Wi{constructor(e){super(e),this.name="ToneAudioWorklet",this.workletOptions={},this.onprocessorerror=gi;const t=URL.createObjectURL(new Blob([Array.from(xo).join("\n")],{type:"text/javascript"})),n=this._audioWorkletName();this._dummyGain=this.context.createGain(),this._dummyParam=this._dummyGain.gain,this.context.addAudioWorkletModule(t,n).then((()=>{this.disposed||(this._worklet=this.context.createAudioWorkletNode(n,this.workletOptions),this._worklet.onprocessorerror=this.onprocessorerror.bind(this),this.onReady(this._worklet))}))}dispose(){return super.dispose(),this._dummyGain.disconnect(),this._worklet&&(this._worklet.port.postMessage("dispose"),this._worklet.disconnect()),this}}So('\n\t/**\n\t * The base AudioWorkletProcessor for use in Tone.js. Works with the [[ToneAudioWorklet]]. \n\t */\n\tclass ToneAudioWorkletProcessor extends AudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\t\n\t\t\tsuper(options);\n\t\t\t/**\n\t\t\t * If the processor was disposed or not. Keep alive until it\'s disposed.\n\t\t\t */\n\t\t\tthis.disposed = false;\n\t\t   \t/** \n\t\t\t * The number of samples in the processing block\n\t\t\t */\n\t\t\tthis.blockSize = 128;\n\t\t\t/**\n\t\t\t * the sample rate\n\t\t\t */\n\t\t\tthis.sampleRate = sampleRate;\n\n\t\t\tthis.port.onmessage = (event) => {\n\t\t\t\t// when it receives a dispose \n\t\t\t\tif (event.data === "dispose") {\n\t\t\t\t\tthis.disposed = true;\n\t\t\t\t}\n\t\t\t};\n\t\t}\n\t}\n'),So("\n\t/**\n\t * Abstract class for a single input/output processor. \n\t * has a 'generate' function which processes one sample at a time\n\t */\n\tclass SingleIOProcessor extends ToneAudioWorkletProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(Object.assign(options, {\n\t\t\t\tnumberOfInputs: 1,\n\t\t\t\tnumberOfOutputs: 1\n\t\t\t}));\n\t\t\t/**\n\t\t\t * Holds the name of the parameter and a single value of that\n\t\t\t * parameter at the current sample\n\t\t\t * @type { [name: string]: number }\n\t\t\t */\n\t\t\tthis.params = {}\n\t\t}\n\n\t\t/**\n\t\t * Generate an output sample from the input sample and parameters\n\t\t * @abstract\n\t\t * @param input number\n\t\t * @param channel number\n\t\t * @param parameters { [name: string]: number }\n\t\t * @returns number\n\t\t */\n\t\tgenerate(){}\n\n\t\t/**\n\t\t * Update the private params object with the \n\t\t * values of the parameters at the given index\n\t\t * @param parameters { [name: string]: Float32Array },\n\t\t * @param index number\n\t\t */\n\t\tupdateParams(parameters, index) {\n\t\t\tfor (const paramName in parameters) {\n\t\t\t\tconst param = parameters[paramName];\n\t\t\t\tif (param.length > 1) {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][index];\n\t\t\t\t} else {\n\t\t\t\t\tthis.params[paramName] = parameters[paramName][0];\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Process a single frame of the audio\n\t\t * @param inputs Float32Array[][]\n\t\t * @param outputs Float32Array[][]\n\t\t */\n\t\tprocess(inputs, outputs, parameters) {\n\t\t\tconst input = inputs[0];\n\t\t\tconst output = outputs[0];\n\t\t\t// get the parameter values\n\t\t\tconst channelCount = Math.max(input && input.length || 0, output.length);\n\t\t\tfor (let sample = 0; sample < this.blockSize; sample++) {\n\t\t\t\tthis.updateParams(parameters, sample);\n\t\t\t\tfor (let channel = 0; channel < channelCount; channel++) {\n\t\t\t\t\tconst inputSample = input && input.length ? input[channel][sample] : 0;\n\t\t\t\t\toutput[channel][sample] = this.generate(inputSample, channel, this.params);\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn !this.disposed;\n\t\t}\n\t};\n"),So("\n\t/**\n\t * A multichannel buffer for use within an AudioWorkletProcessor as a delay line\n\t */\n\tclass DelayLine {\n\t\t\n\t\tconstructor(size, channels) {\n\t\t\tthis.buffer = [];\n\t\t\tthis.writeHead = []\n\t\t\tthis.size = size;\n\n\t\t\t// create the empty channels\n\t\t\tfor (let i = 0; i < channels; i++) {\n\t\t\t\tthis.buffer[i] = new Float32Array(this.size);\n\t\t\t\tthis.writeHead[i] = 0;\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Push a value onto the end\n\t\t * @param channel number\n\t\t * @param value number\n\t\t */\n\t\tpush(channel, value) {\n\t\t\tthis.writeHead[channel] += 1;\n\t\t\tif (this.writeHead[channel] > this.size) {\n\t\t\t\tthis.writeHead[channel] = 0;\n\t\t\t}\n\t\t\tthis.buffer[channel][this.writeHead[channel]] = value;\n\t\t}\n\n\t\t/**\n\t\t * Get the recorded value of the channel given the delay\n\t\t * @param channel number\n\t\t * @param delay number delay samples\n\t\t */\n\t\tget(channel, delay) {\n\t\t\tlet readHead = this.writeHead[channel] - Math.floor(delay);\n\t\t\tif (readHead < 0) {\n\t\t\t\treadHead += this.size;\n\t\t\t}\n\t\t\treturn this.buffer[channel][readHead];\n\t\t}\n\t}\n");const Co="feedback-comb-filter";ko(Co,'\n\tclass FeedbackCombFilterWorklet extends SingleIOProcessor {\n\n\t\tconstructor(options) {\n\t\t\tsuper(options);\n\t\t\tthis.delayLine = new DelayLine(this.sampleRate, options.channelCount || 2);\n\t\t}\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: "delayTime",\n\t\t\t\tdefaultValue: 0.1,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 1,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}, {\n\t\t\t\tname: "feedback",\n\t\t\t\tdefaultValue: 0.5,\n\t\t\t\tminValue: 0,\n\t\t\t\tmaxValue: 0.9999,\n\t\t\t\tautomationRate: "k-rate"\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, channel, parameters) {\n\t\t\tconst delayedSample = this.delayLine.get(channel, parameters.delayTime * this.sampleRate);\n\t\t\tthis.delayLine.push(channel, input + delayedSample * parameters.feedback);\n\t\t\treturn delayedSample;\n\t\t}\n\t}\n');class Oo extends To{constructor(){super(Xs(Oo.getDefaults(),arguments,["delayTime","resonance"])),this.name="FeedbackCombFilter";const e=Xs(Oo.getDefaults(),arguments,["delayTime","resonance"]);this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this.delayTime=new Bi({context:this.context,value:e.delayTime,units:"time",minValue:0,maxValue:1,param:this._dummyParam,swappable:!0}),this.resonance=new Bi({context:this.context,value:e.resonance,units:"normalRange",param:this._dummyParam,swappable:!0}),fi(this,["resonance","delayTime"])}_audioWorkletName(){return Co}static getDefaults(){return Object.assign(Wi.getDefaults(),{delayTime:.1,resonance:.5})}onReady(e){Ui(this.input,e,this.output);const t=e.parameters.get("delayTime");this.delayTime.setParam(t);const n=e.parameters.get("feedback");this.resonance.setParam(n)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.delayTime.dispose(),this.resonance.dispose(),this}}class Eo extends Wi{constructor(){super(Xs(Eo.getDefaults(),arguments,["frequency","type"])),this.name="OnePoleFilter";const e=Xs(Eo.getDefaults(),arguments,["frequency","type"]);this._frequency=e.frequency,this._type=e.type,this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this._createFilter()}static getDefaults(){return Object.assign(Wi.getDefaults(),{frequency:880,type:"lowpass"})}_createFilter(){const e=this._filter,t=this.toFrequency(this._frequency),n=1/(2*Math.PI*t);if("lowpass"===this._type){const e=1/(n*this.context.sampleRate),t=e-1;this._filter=this.context.createIIRFilter([e,0],[1,t])}else{const e=1/(n*this.context.sampleRate)-1;this._filter=this.context.createIIRFilter([1,-1],[1,e])}this.input.chain(this._filter,this.output),e&&this.context.setTimeout((()=>{this.disposed||(this.input.disconnect(e),e.disconnect())}),this.blockTime)}get frequency(){return this._frequency}set frequency(e){this._frequency=e,this._createFilter()}get type(){return this._type}set type(e){this._type=e,this._createFilter()}getFrequencyResponse(e=128){const t=new Float32Array(e);for(let n=0;n<e;n++){const s=19980*Math.pow(n/e,2)+20;t[n]=s}const n=new Float32Array(e),s=new Float32Array(e);return this._filter.getFrequencyResponse(t,n,s),n}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this._filter.disconnect(),this}}class Ao extends Wi{constructor(){super(Xs(Ao.getDefaults(),arguments,["delayTime","resonance","dampening"])),this.name="LowpassCombFilter";const e=Xs(Ao.getDefaults(),arguments,["delayTime","resonance","dampening"]);this._combFilter=this.output=new Oo({context:this.context,delayTime:e.delayTime,resonance:e.resonance}),this.delayTime=this._combFilter.delayTime,this.resonance=this._combFilter.resonance,this._lowpass=this.input=new Eo({context:this.context,frequency:e.dampening,type:"lowpass"}),this._lowpass.connect(this._combFilter)}static getDefaults(){return Object.assign(Wi.getDefaults(),{dampening:3e3,delayTime:.1,resonance:.5})}get dampening(){return this._lowpass.frequency}set dampening(e){this._lowpass.frequency=e}dispose(){return super.dispose(),this._combFilter.dispose(),this._lowpass.dispose(),this}}class Do extends ro{constructor(){super(Xs(Do.getDefaults(),arguments)),this.name="PluckSynth";const e=Xs(Do.getDefaults(),arguments);this._noise=new br({context:this.context,type:"pink"}),this.attackNoise=e.attackNoise,this._lfcf=new Ao({context:this.context,dampening:e.dampening,resonance:e.resonance}),this.resonance=e.resonance,this.release=e.release,this._noise.connect(this._lfcf),this._lfcf.connect(this.output)}static getDefaults(){return Ys(ro.getDefaults(),{attackNoise:1,dampening:4e3,resonance:.7,release:1})}get dampening(){return this._lfcf.dampening}set dampening(e){this._lfcf.dampening=e}triggerAttack(e,t){const n=this.toFrequency(e);t=this.toSeconds(t);const s=1/n;return this._lfcf.delayTime.setValueAtTime(s,t),this._noise.start(t),this._noise.stop(t+s*this.attackNoise),this._lfcf.resonance.cancelScheduledValues(t),this._lfcf.resonance.setValueAtTime(this.resonance,t),this}triggerRelease(e){return this._lfcf.resonance.linearRampTo(0,this.release,e),this}dispose(){return super.dispose(),this._noise.dispose(),this._lfcf.dispose(),this}}class Mo extends ro{constructor(){super(Xs(Mo.getDefaults(),arguments,["voice","options"])),this.name="PolySynth",this._availableVoices=[],this._activeVoices=[],this._voices=[],this._gcTimeout=-1,this._averageActiveVoices=0;const e=Xs(Mo.getDefaults(),arguments,["voice","options"]);xs(!Ps(e.voice),"DEPRECATED: The polyphony count is no longer the first argument.");const t=e.voice.getDefaults();this.options=Object.assign(t,e.options),this.voice=e.voice,this.maxPolyphony=e.maxPolyphony,this._dummyVoice=this._getNextAvailableVoice();const n=this._voices.indexOf(this._dummyVoice);this._voices.splice(n,1),this._gcTimeout=this.context.setInterval(this._collectGarbage.bind(this),1)}static getDefaults(){return Object.assign(ro.getDefaults(),{maxPolyphony:32,options:{},voice:lo})}get activeVoices(){return this._activeVoices.length}_makeVoiceAvailable(e){this._availableVoices.push(e);const t=this._activeVoices.findIndex((t=>t.voice===e));this._activeVoices.splice(t,1)}_getNextAvailableVoice(){if(this._availableVoices.length)return this._availableVoices.shift();if(this._voices.length<this.maxPolyphony){const e=new this.voice(Object.assign(this.options,{context:this.context,onsilence:this._makeVoiceAvailable.bind(this)}));return e.connect(this.output),this._voices.push(e),e}Es("Max polyphony exceeded. Note dropped.")}_collectGarbage(){if(this._averageActiveVoices=Math.max(.95*this._averageActiveVoices,this.activeVoices),this._availableVoices.length&&this._voices.length>Math.ceil(this._averageActiveVoices+1)){const e=this._availableVoices.shift(),t=this._voices.indexOf(e);this._voices.splice(t,1),this.context.isOffline||e.dispose()}}_triggerAttack(e,t,n){e.forEach((e=>{const s=new rr(this.context,e).toMidi(),i=this._getNextAvailableVoice();i&&(i.triggerAttack(e,t,n),this._activeVoices.push({midi:s,voice:i,released:!1}),this.log("triggerAttack",e,t))}))}_triggerRelease(e,t){e.forEach((e=>{const n=new rr(this.context,e).toMidi(),s=this._activeVoices.find((({midi:e,released:t})=>e===n&&!t));s&&(s.voice.triggerRelease(t),s.released=!0,this.log("triggerRelease",e,t))}))}_scheduleEvent(e,t,n,s){xs(!this.disposed,"Synth was already disposed"),n<=this.now()?"attack"===e?this._triggerAttack(t,n,s):this._triggerRelease(t,n):this.context.setTimeout((()=>{this._scheduleEvent(e,t,n,s)}),n-this.now())}triggerAttack(e,t,n){Array.isArray(e)||(e=[e]);const s=this.toSeconds(t);return this._scheduleEvent("attack",e,s,n),this}triggerRelease(e,t){Array.isArray(e)||(e=[e]);const n=this.toSeconds(t);return this._scheduleEvent("release",e,n),this}triggerAttackRelease(e,t,n,s){const i=this.toSeconds(n);if(this.triggerAttack(e,i,s),Ns(t)){xs(Ns(e),"If the duration is an array, the notes must also be an array"),e=e;for(let n=0;n<e.length;n++){const s=t[Math.min(n,t.length-1)],r=this.toSeconds(s);xs(r>0,"The duration must be greater than 0"),this.triggerRelease(e[n],i+r)}}else{const n=this.toSeconds(t);xs(n>0,"The duration must be greater than 0"),this.triggerRelease(e,i+n)}return this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}set(e){const t=Ks(e,["onsilence","context"]);return this.options=Ys(this.options,t),this._voices.forEach((e=>e.set(t))),this._dummyVoice.set(t),this}get(){return this._dummyVoice.get()}releaseAll(e){const t=this.toSeconds(e);return this._activeVoices.forEach((({voice:e})=>{e.triggerRelease(t)})),this}dispose(){return super.dispose(),this._dummyVoice.dispose(),this._voices.forEach((e=>e.dispose())),this._activeVoices=[],this._availableVoices=[],this.context.clearInterval(this._gcTimeout),this}}class Po extends ro{constructor(){super(Xs(Po.getDefaults(),arguments,["urls","onload","baseUrl"],"urls")),this.name="Sampler",this._activeSources=new Map;const e=Xs(Po.getDefaults(),arguments,["urls","onload","baseUrl"],"urls"),t={};Object.keys(e.urls).forEach((n=>{const s=parseInt(n,10);if(xs(Fs(n)||Ps(s)&&isFinite(s),`url key is neither a note or midi pitch: ${n}`),Fs(n)){const s=new Ii(this.context,n).toMidi();t[s]=e.urls[n]}else Ps(s)&&isFinite(s)&&(t[s]=e.urls[s])})),this._buffers=new ir({urls:t,onload:e.onload,baseUrl:e.baseUrl,onerror:e.onerror}),this.attack=e.attack,this.release=e.release,this.curve=e.curve,this._buffers.loaded&&Promise.resolve().then(e.onload)}static getDefaults(){return Object.assign(ro.getDefaults(),{attack:0,baseUrl:"",curve:"exponential",onload:gi,onerror:gi,release:.1,urls:{}})}_findClosest(e){let t=0;for(;t<96;){if(this._buffers.has(e+t))return-t;if(this._buffers.has(e-t))return t;t++}throw new Error(`No available buffers for note: ${e}`)}triggerAttack(e,t,n=1){return this.log("triggerAttack",e,t,n),Array.isArray(e)||(e=[e]),e.forEach((e=>{const s=Ai(new Ii(this.context,e).toFrequency()),i=Math.round(s),r=s-i,o=this._findClosest(i),a=i-o,l=this._buffers.get(a),u=Ci(o+r),c=new yr({url:l,context:this.context,curve:this.curve,fadeIn:this.attack,fadeOut:this.release,playbackRate:u}).connect(this.output);c.start(t,0,l.duration/u,n),Ns(this._activeSources.get(i))||this._activeSources.set(i,[]),this._activeSources.get(i).push(c),c.onended=()=>{if(this._activeSources&&this._activeSources.has(i)){const e=this._activeSources.get(i),t=e.indexOf(c);-1!==t&&e.splice(t,1)}}})),this}triggerRelease(e,t){return this.log("triggerRelease",e,t),Array.isArray(e)||(e=[e]),e.forEach((e=>{const n=new Ii(this.context,e).toMidi();if(this._activeSources.has(n)&&this._activeSources.get(n).length){const e=this._activeSources.get(n);t=this.toSeconds(t),e.forEach((e=>{e.stop(t)})),this._activeSources.set(n,[])}})),this}releaseAll(e){const t=this.toSeconds(e);return this._activeSources.forEach((e=>{for(;e.length;)e.shift().stop(t)})),this}sync(){return this._syncState()&&(this._syncMethod("triggerAttack",1),this._syncMethod("triggerRelease",1)),this}triggerAttackRelease(e,t,n,s=1){const i=this.toSeconds(n);return this.triggerAttack(e,i,s),Ns(t)?(xs(Ns(e),"notes must be an array when duration is array"),e.forEach(((e,n)=>{const s=t[Math.min(n,t.length-1)];this.triggerRelease(e,i+this.toSeconds(s))}))):this.triggerRelease(e,i+this.toSeconds(t)),this}add(e,t,n){if(xs(Fs(e)||isFinite(e),`note must be a pitch or midi: ${e}`),Fs(e)){const s=new Ii(this.context,e).toMidi();this._buffers.add(s,t,n)}else this._buffers.add(e,t,n);return this}get loaded(){return this._buffers.loaded}dispose(){return super.dispose(),this._buffers.dispose(),this._activeSources.forEach((e=>{e.forEach((e=>e.dispose()))})),this._activeSources.clear(),this}}Ls([Ur(0)],Po.prototype,"attack",void 0),Ls([Ur(0)],Po.prototype,"release",void 0);class Ro extends Li{constructor(){super(Xs(Ro.getDefaults(),arguments,["callback","value"])),this.name="ToneEvent",this._state=new zi("stopped"),this._startOffset=0;const e=Xs(Ro.getDefaults(),arguments,["callback","value"]);this._loop=e.loop,this.callback=e.callback,this.value=e.value,this._loopStart=this.toTicks(e.loopStart),this._loopEnd=this.toTicks(e.loopEnd),this._playbackRate=e.playbackRate,this._probability=e.probability,this._humanize=e.humanize,this.mute=e.mute,this._playbackRate=e.playbackRate,this._state.increasing=!0,this._rescheduleEvents()}static getDefaults(){return Object.assign(Li.getDefaults(),{callback:gi,humanize:!1,loop:!1,loopEnd:"1m",loopStart:0,mute:!1,playbackRate:1,probability:1,value:null})}_rescheduleEvents(e=-1){this._state.forEachFrom(e,(e=>{let t;if("started"===e.state){-1!==e.id&&this.context.transport.clear(e.id);const n=e.time+Math.round(this.startOffset/this._playbackRate);if(!0===this._loop||Ps(this._loop)&&this._loop>1){t=1/0,Ps(this._loop)&&(t=this._loop*this._getLoopDuration());const s=this._state.getAfter(n);null!==s&&(t=Math.min(t,s.time-n)),t!==1/0&&(this._state.setStateAtTime("stopped",n+t+1,{id:-1}),t=new ar(this.context,t));const i=new ar(this.context,this._getLoopDuration());e.id=this.context.transport.scheduleRepeat(this._tick.bind(this),i,new ar(this.context,n),t)}else e.id=this.context.transport.schedule(this._tick.bind(this),new ar(this.context,n))}}))}get state(){return this._state.getValueAtTime(this.context.transport.ticks)}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e}get probability(){return this._probability}set probability(e){this._probability=e}get humanize(){return this._humanize}set humanize(e){this._humanize=e}start(e){const t=this.toTicks(e);return"stopped"===this._state.getValueAtTime(t)&&(this._state.add({id:-1,state:"started",time:t}),this._rescheduleEvents(t)),this}stop(e){this.cancel(e);const t=this.toTicks(e);if("started"===this._state.getValueAtTime(t)){this._state.setStateAtTime("stopped",t,{id:-1});const e=this._state.getBefore(t);let n=t;null!==e&&(n=e.time),this._rescheduleEvents(n)}return this}cancel(e){e=Zs(e,-1/0);const t=this.toTicks(e);return this._state.forEachFrom(t,(e=>{this.context.transport.clear(e.id)})),this._state.cancel(t),this}_tick(e){const t=this.context.transport.getTicksAtTime(e);if(!this.mute&&"started"===this._state.getValueAtTime(t)){if(this.probability<1&&Math.random()>this.probability)return;if(this.humanize){let t=.02;Is(this.humanize)||(t=this.toSeconds(this.humanize)),e+=(2*Math.random()-1)*t}this.callback(e,this.value)}}_getLoopDuration(){return Math.round((this._loopEnd-this._loopStart)/this._playbackRate)}get loop(){return this._loop}set loop(e){this._loop=e,this._rescheduleEvents()}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._rescheduleEvents()}get loopEnd(){return new ar(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._rescheduleEvents()}get loopStart(){return new ar(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._rescheduleEvents()}get progress(){if(this._loop){const e=this.context.transport.ticks,t=this._state.get(e);if(null!==t&&"started"===t.state){const n=this._getLoopDuration();return(e-t.time)%n/n}return 0}return 0}dispose(){return super.dispose(),this.cancel(),this._state.dispose(),this}}class Io extends Li{constructor(){super(Xs(Io.getDefaults(),arguments,["callback","interval"])),this.name="Loop";const e=Xs(Io.getDefaults(),arguments,["callback","interval"]);this._event=new Ro({context:this.context,callback:this._tick.bind(this),loop:!0,loopEnd:e.interval,playbackRate:e.playbackRate,probability:e.probability}),this.callback=e.callback,this.iterations=e.iterations}static getDefaults(){return Object.assign(Li.getDefaults(),{interval:"4n",callback:gi,playbackRate:1,iterations:1/0,probability:1,mute:!1,humanize:!1})}start(e){return this._event.start(e),this}stop(e){return this._event.stop(e),this}cancel(e){return this._event.cancel(e),this}_tick(e){this.callback(e)}get state(){return this._event.state}get progress(){return this._event.progress}get interval(){return this._event.loopEnd}set interval(e){this._event.loopEnd=e}get playbackRate(){return this._event.playbackRate}set playbackRate(e){this._event.playbackRate=e}get humanize(){return this._event.humanize}set humanize(e){this._event.humanize=e}get probability(){return this._event.probability}set probability(e){this._event.probability=e}get mute(){return this._event.mute}set mute(e){this._event.mute=e}get iterations(){return!0===this._event.loop?1/0:this._event.loop}set iterations(e){this._event.loop=e===1/0||e}dispose(){return super.dispose(),this._event.dispose(),this}}class No extends Ro{constructor(){super(Xs(No.getDefaults(),arguments,["callback","events"])),this.name="Part",this._state=new zi("stopped"),this._events=new Set;const e=Xs(No.getDefaults(),arguments,["callback","events"]);this._state.increasing=!0,e.events.forEach((e=>{Ns(e)?this.add(e[0],e[1]):this.add(e)}))}static getDefaults(){return Object.assign(Ro.getDefaults(),{events:[]})}start(e,t){const n=this.toTicks(e);if("started"!==this._state.getValueAtTime(n)){t=Zs(t,this._loop?this._loopStart:0),t=this._loop?Zs(t,this._loopStart):Zs(t,0);const e=this.toTicks(t);this._state.add({id:-1,offset:e,state:"started",time:n}),this._forEach((t=>{this._startNote(t,n,e)}))}return this}_startNote(e,t,n){t-=n,this._loop?e.startOffset>=this._loopStart&&e.startOffset<this._loopEnd?(e.startOffset<n&&(t+=this._getLoopDuration()),e.start(new ar(this.context,t))):e.startOffset<this._loopStart&&e.startOffset>=n&&(e.loop=!1,e.start(new ar(this.context,t))):e.startOffset>=n&&e.start(new ar(this.context,t))}get startOffset(){return this._startOffset}set startOffset(e){this._startOffset=e,this._forEach((e=>{e.startOffset+=this._startOffset}))}stop(e){const t=this.toTicks(e);return this._state.cancel(t),this._state.setStateAtTime("stopped",t),this._forEach((t=>{t.stop(e)})),this}at(e,t){const n=new ji(this.context,e).toTicks(),s=new ar(this.context,1).toSeconds(),i=this._events.values();let r=i.next();for(;!r.done;){const e=r.value;if(Math.abs(n-e.startOffset)<s)return Ds(t)&&(e.value=t),e;r=i.next()}return Ds(t)?(this.add(e,t),this.at(e)):null}add(e,t){e instanceof Object&&Reflect.has(e,"time")&&(e=(t=e).time);const n=this.toTicks(e);let s;return t instanceof Ro?(s=t,s.callback=this._tick.bind(this)):s=new Ro({callback:this._tick.bind(this),context:this.context,value:t}),s.startOffset=n,s.set({humanize:this.humanize,loop:this.loop,loopEnd:this.loopEnd,loopStart:this.loopStart,playbackRate:this.playbackRate,probability:this.probability}),this._events.add(s),this._restartEvent(s),this}_restartEvent(e){this._state.forEach((t=>{"started"===t.state?this._startNote(e,t.time,t.offset):e.stop(new ar(this.context,t.time))}))}remove(e,t){return Rs(e)&&e.hasOwnProperty("time")&&(e=(t=e).time),e=this.toTicks(e),this._events.forEach((n=>{n.startOffset===e&&(As(t)||Ds(t)&&n.value===t)&&(this._events.delete(n),n.dispose())})),this}clear(){return this._forEach((e=>e.dispose())),this._events.clear(),this}cancel(e){return this._forEach((t=>t.cancel(e))),this._state.cancel(this.toTicks(e)),this}_forEach(e){return this._events&&this._events.forEach((t=>{t instanceof No?t._forEach(e):e(t)})),this}_setAll(e,t){this._forEach((n=>{n[e]=t}))}_tick(e,t){this.mute||this.callback(e,t)}_testLoopBoundries(e){this._loop&&(e.startOffset<this._loopStart||e.startOffset>=this._loopEnd)?e.cancel(0):"stopped"===e.state&&this._restartEvent(e)}get probability(){return this._probability}set probability(e){this._probability=e,this._setAll("probability",e)}get humanize(){return this._humanize}set humanize(e){this._humanize=e,this._setAll("humanize",e)}get loop(){return this._loop}set loop(e){this._loop=e,this._forEach((t=>{t.loopStart=this.loopStart,t.loopEnd=this.loopEnd,t.loop=e,this._testLoopBoundries(t)}))}get loopEnd(){return new ar(this.context,this._loopEnd).toSeconds()}set loopEnd(e){this._loopEnd=this.toTicks(e),this._loop&&this._forEach((t=>{t.loopEnd=e,this._testLoopBoundries(t)}))}get loopStart(){return new ar(this.context,this._loopStart).toSeconds()}set loopStart(e){this._loopStart=this.toTicks(e),this._loop&&this._forEach((e=>{e.loopStart=this.loopStart,this._testLoopBoundries(e)}))}get playbackRate(){return this._playbackRate}set playbackRate(e){this._playbackRate=e,this._setAll("playbackRate",e)}get length(){return this._events.size}dispose(){return super.dispose(),this.clear(),this}}function*qo(e){let t=0;for(;t<e.length;)t=Vo(t,e),yield e[t],t++}function*Fo(e){let t=e.length-1;for(;t>=0;)t=Vo(t,e),yield e[t],t--}function*jo(e,t){for(;;)yield*t(e)}function Vo(e,t){return ri(e,0,t.length-1)}function*Lo(e,t){let n=t?0:e.length-1;for(;;)n=Vo(n,e),yield e[n],t?(n++,n>=e.length-1&&(t=!1)):(n--,n<=0&&(t=!0))}function*zo(e){let t=0,n=0;for(;t<e.length;)t=Vo(t,e),yield e[t],n++,t+=n%2?2:-1}function*Bo(e){let t=e.length-1,n=0;for(;t>=0;)t=Vo(t,e),yield e[t],n++,t+=n%2?-2:1}function*Wo(e){const t=[];for(let n=0;n<e.length;n++)t.push(n);for(;t.length>0;){const n=Vo(t.splice(Math.floor(t.length*Math.random()),1)[0],e);yield e[n]}}function*Uo(e,t="up",n=0){switch(xs(e.length>0,"The array must have more than one value in it"),t){case"up":yield*jo(e,qo);case"down":yield*jo(e,Fo);case"upDown":yield*Lo(e,!0);case"downUp":yield*Lo(e,!1);case"alternateUp":yield*jo(e,zo);case"alternateDown":yield*jo(e,Bo);case"random":yield*function*(e){for(;;){const t=Math.floor(Math.random()*e.length);yield e[t]}}(e);case"randomOnce":yield*jo(e,Wo);case"randomWalk":yield*function*(e){let t=Math.floor(Math.random()*e.length);for(;;)0===t?t++:t===e.length-1||Math.random()<.5?t--:t++,yield e[t]}(e)}}class $o extends Io{constructor(){super(Xs($o.getDefaults(),arguments,["callback","values","pattern"])),this.name="Pattern";const e=Xs($o.getDefaults(),arguments,["callback","values","pattern"]);this.callback=e.callback,this._values=e.values,this._pattern=Uo(e.values,e.pattern),this._type=e.pattern}static getDefaults(){return Object.assign(Io.getDefaults(),{pattern:"up",values:[],callback:gi})}_tick(e){const t=this._pattern.next();this._value=t.value,this.callback(e,this._value)}get values(){return this._values}set values(e){this._values=e,this.pattern=this._type}get value(){return this._value}get pattern(){return this._type}set pattern(e){this._type=e,this._pattern=Uo(this._values,this._type)}}class Qo extends Ro{constructor(){super(Xs(Qo.getDefaults(),arguments,["callback","events","subdivision"])),this.name="Sequence",this._part=new No({callback:this._seqCallback.bind(this),context:this.context}),this._events=[],this._eventsArray=[];const e=Xs(Qo.getDefaults(),arguments,["callback","events","subdivision"]);this._subdivision=this.toTicks(e.subdivision),this.events=e.events,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.playbackRate=e.playbackRate,this.probability=e.probability,this.humanize=e.humanize,this.mute=e.mute,this.playbackRate=e.playbackRate}static getDefaults(){return Object.assign(Ks(Ro.getDefaults(),["value"]),{events:[],loop:!0,loopEnd:0,loopStart:0,subdivision:"8n"})}_seqCallback(e,t){null!==t&&this.callback(e,t)}get events(){return this._events}set events(e){this.clear(),this._eventsArray=e,this._events=this._createSequence(this._eventsArray),this._eventsUpdated()}start(e,t){return this._part.start(e,t?this._indexTime(t):t),this}stop(e){return this._part.stop(e),this}get subdivision(){return new ar(this.context,this._subdivision).toSeconds()}_createSequence(e){return new Proxy(e,{get:(e,t)=>e[t],set:(e,t,n)=>(qs(t)&&isFinite(parseInt(t,10))&&Ns(n)?e[t]=this._createSequence(n):e[t]=n,this._eventsUpdated(),!0)})}_eventsUpdated(){this._part.clear(),this._rescheduleSequence(this._eventsArray,this._subdivision,this.startOffset),this.loopEnd=this.loopEnd}_rescheduleSequence(e,t,n){e.forEach(((e,s)=>{const i=s*t+n;if(Ns(e))this._rescheduleSequence(e,t/e.length,i);else{const t=new ar(this.context,i,"i").toSeconds();this._part.add(t,e)}}))}_indexTime(e){return new ar(this.context,e*this._subdivision+this.startOffset).toSeconds()}clear(){return this._part.clear(),this}dispose(){return super.dispose(),this._part.dispose(),this}get loop(){return this._part.loop}set loop(e){this._part.loop=e}get loopStart(){return this._loopStart}set loopStart(e){this._loopStart=e,this._part.loopStart=this._indexTime(e)}get loopEnd(){return this._loopEnd}set loopEnd(e){this._loopEnd=e,this._part.loopEnd=0===e?this._indexTime(this._eventsArray.length):this._indexTime(e)}get startOffset(){return this._part.startOffset}set startOffset(e){this._part.startOffset=e}get playbackRate(){return this._part.playbackRate}set playbackRate(e){this._part.playbackRate=e}get probability(){return this._part.probability}set probability(e){this._part.probability=e}get progress(){return this._part.progress}get humanize(){return this._part.humanize}set humanize(e){this._part.humanize=e}get length(){return this._part.length}}class Go extends Wi{constructor(){super(Object.assign(Xs(Go.getDefaults(),arguments,["fade"]))),this.name="CrossFade",this._panner=this.context.createStereoPanner(),this._split=this.context.createChannelSplitter(2),this._g2a=new Yr({context:this.context}),this.a=new Gi({context:this.context,gain:0}),this.b=new Gi({context:this.context,gain:0}),this.output=new Gi({context:this.context}),this._internalChannels=[this.a,this.b];const e=Xs(Go.getDefaults(),arguments,["fade"]);this.fade=new Xi({context:this.context,units:"normalRange",value:e.fade}),fi(this,"fade"),this.context.getConstant(1).connect(this._panner),this._panner.connect(this._split),this._panner.channelCount=1,this._panner.channelCountMode="explicit",$i(this._split,this.a.gain,0),$i(this._split,this.b.gain,1),this.fade.chain(this._g2a,this._panner.pan),this.a.connect(this.output),this.b.connect(this.output)}static getDefaults(){return Object.assign(Wi.getDefaults(),{fade:.5})}dispose(){return super.dispose(),this.a.dispose(),this.b.dispose(),this.output.dispose(),this.fade.dispose(),this._g2a.dispose(),this._panner.disconnect(),this._split.disconnect(),this}}class Ho extends Wi{constructor(e){super(e),this.name="Effect",this._dryWet=new Go({context:this.context}),this.wet=this._dryWet.fade,this.effectSend=new Gi({context:this.context}),this.effectReturn=new Gi({context:this.context}),this.input=new Gi({context:this.context}),this.output=this._dryWet,this.input.fan(this._dryWet.a,this.effectSend),this.effectReturn.connect(this._dryWet.b),this.wet.setValueAtTime(e.wet,0),this._internalChannels=[this.effectReturn,this.effectSend],fi(this,"wet")}static getDefaults(){return Object.assign(Wi.getDefaults(),{wet:1})}connectEffect(e){return this._internalChannels.push(e),this.effectSend.chain(e,this.effectReturn),this}dispose(){return super.dispose(),this._dryWet.dispose(),this.effectSend.dispose(),this.effectReturn.dispose(),this.wet.dispose(),this}}class Yo extends Ho{constructor(e){super(e),this.name="LFOEffect",this._lfo=new Br({context:this.context,frequency:e.frequency,amplitude:e.depth}),this.depth=this._lfo.amplitude,this.frequency=this._lfo.frequency,this.type=e.type,fi(this,["frequency","depth"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{frequency:1,type:"sine",depth:1})}start(e){return this._lfo.start(e),this}stop(e){return this._lfo.stop(e),this}sync(){return this._lfo.sync(),this}unsync(){return this._lfo.unsync(),this}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Xo extends Yo{constructor(){super(Xs(Xo.getDefaults(),arguments,["frequency","baseFrequency","octaves"])),this.name="AutoFilter";const e=Xs(Xo.getDefaults(),arguments,["frequency","baseFrequency","octaves"]);this.filter=new po(Object.assign(e.filter,{context:this.context})),this.connectEffect(this.filter),this._lfo.connect(this.filter.frequency),this.octaves=e.octaves,this.baseFrequency=e.baseFrequency}static getDefaults(){return Object.assign(Yo.getDefaults(),{baseFrequency:200,octaves:2.6,filter:{type:"lowpass",rolloff:-12,Q:1}})}get baseFrequency(){return this._lfo.min}set baseFrequency(e){this._lfo.min=this.toFrequency(e),this.octaves=this._octaves}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._lfo.max=this._lfo.min*Math.pow(2,e)}dispose(){return super.dispose(),this.filter.dispose(),this}}class Zo extends Wi{constructor(){super(Object.assign(Xs(Zo.getDefaults(),arguments,["pan"]))),this.name="Panner",this._panner=this.context.createStereoPanner(),this.input=this._panner,this.output=this._panner;const e=Xs(Zo.getDefaults(),arguments,["pan"]);this.pan=new Bi({context:this.context,param:this._panner.pan,value:e.pan,minValue:-1,maxValue:1}),this._panner.channelCount=e.channelCount,this._panner.channelCountMode="explicit",fi(this,"pan")}static getDefaults(){return Object.assign(Wi.getDefaults(),{pan:0,channelCount:1})}dispose(){return super.dispose(),this._panner.disconnect(),this.pan.dispose(),this}}class Ko extends Yo{constructor(){super(Xs(Ko.getDefaults(),arguments,["frequency"])),this.name="AutoPanner";const e=Xs(Ko.getDefaults(),arguments,["frequency"]);this._panner=new Zo({context:this.context,channelCount:e.channelCount}),this.connectEffect(this._panner),this._lfo.connect(this._panner.pan),this._lfo.min=-1,this._lfo.max=1}static getDefaults(){return Object.assign(Yo.getDefaults(),{channelCount:1})}dispose(){return super.dispose(),this._panner.dispose(),this}}class Jo extends Wi{constructor(){super(Xs(Jo.getDefaults(),arguments,["smoothing"])),this.name="Follower";const e=Xs(Jo.getDefaults(),arguments,["smoothing"]);this._abs=this.input=new Hr({context:this.context}),this._lowpass=this.output=new Eo({context:this.context,frequency:1/this.toSeconds(e.smoothing),type:"lowpass"}),this._abs.connect(this._lowpass),this._smoothing=e.smoothing}static getDefaults(){return Object.assign(Wi.getDefaults(),{smoothing:.05})}get smoothing(){return this._smoothing}set smoothing(e){this._smoothing=e,this._lowpass.frequency=1/this.toSeconds(this.smoothing)}dispose(){return super.dispose(),this._abs.dispose(),this._lowpass.dispose(),this}}class ea extends Ho{constructor(){super(Xs(ea.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"])),this.name="AutoWah";const e=Xs(ea.getDefaults(),arguments,["baseFrequency","octaves","sensitivity"]);this._follower=new Jo({context:this.context,smoothing:e.follower}),this._sweepRange=new to({context:this.context,min:0,max:1,exponent:.5}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this._inputBoost=new Gi({context:this.context}),this._bandpass=new po({context:this.context,rolloff:-48,frequency:0,Q:e.Q}),this._peaking=new po({context:this.context,type:"peaking"}),this._peaking.gain.value=e.gain,this.gain=this._peaking.gain,this.Q=this._bandpass.Q,this.effectSend.chain(this._inputBoost,this._follower,this._sweepRange),this._sweepRange.connect(this._bandpass.frequency),this._sweepRange.connect(this._peaking.frequency),this.effectSend.chain(this._bandpass,this._peaking,this.effectReturn),this._setSweepRange(),this.sensitivity=e.sensitivity,fi(this,["gain","Q"])}static getDefaults(){return Object.assign(Ho.getDefaults(),{baseFrequency:100,octaves:6,sensitivity:0,Q:2,gain:2,follower:.2})}get octaves(){return this._octaves}set octaves(e){this._octaves=e,this._setSweepRange()}get follower(){return this._follower.smoothing}set follower(e){this._follower.smoothing=e}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._setSweepRange()}get sensitivity(){return Ti(1/this._inputBoost.gain.value)}set sensitivity(e){this._inputBoost.gain.value=1/ki(e)}_setSweepRange(){this._sweepRange.min=this._baseFrequency,this._sweepRange.max=Math.min(this._baseFrequency*Math.pow(2,this._octaves),this.context.sampleRate/2)}dispose(){return super.dispose(),this._follower.dispose(),this._sweepRange.dispose(),this._bandpass.dispose(),this._peaking.dispose(),this._inputBoost.dispose(),this}}const ta="bit-crusher";ko(ta,"\n\tclass BitCrusherWorklet extends SingleIOProcessor {\n\n\t\tstatic get parameterDescriptors() {\n\t\t\treturn [{\n\t\t\t\tname: \"bits\",\n\t\t\t\tdefaultValue: 12,\n\t\t\t\tminValue: 1,\n\t\t\t\tmaxValue: 16,\n\t\t\t\tautomationRate: 'k-rate'\n\t\t\t}];\n\t\t}\n\n\t\tgenerate(input, _channel, parameters) {\n\t\t\tconst step = Math.pow(0.5, parameters.bits - 1);\n\t\t\tconst val = step * Math.floor(input / step + 0.5);\n\t\t\treturn val;\n\t\t}\n\t}\n");class na extends Ho{constructor(){super(Xs(na.getDefaults(),arguments,["bits"])),this.name="BitCrusher";const e=Xs(na.getDefaults(),arguments,["bits"]);this._bitCrusherWorklet=new sa({context:this.context,bits:e.bits}),this.connectEffect(this._bitCrusherWorklet),this.bits=this._bitCrusherWorklet.bits}static getDefaults(){return Object.assign(Ho.getDefaults(),{bits:4})}dispose(){return super.dispose(),this._bitCrusherWorklet.dispose(),this}}class sa extends To{constructor(){super(Xs(sa.getDefaults(),arguments)),this.name="BitCrusherWorklet";const e=Xs(sa.getDefaults(),arguments);this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this.bits=new Bi({context:this.context,value:e.bits,units:"positive",minValue:1,maxValue:16,param:this._dummyParam,swappable:!0})}static getDefaults(){return Object.assign(To.getDefaults(),{bits:12})}_audioWorkletName(){return ta}onReady(e){Ui(this.input,e,this.output);const t=e.parameters.get("bits");this.bits.setParam(t)}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.bits.dispose(),this}}class ia extends Ho{constructor(){super(Xs(ia.getDefaults(),arguments,["order"])),this.name="Chebyshev";const e=Xs(ia.getDefaults(),arguments,["order"]);this._shaper=new Ar({context:this.context,length:4096}),this._order=e.order,this.connectEffect(this._shaper),this.order=e.order,this.oversample=e.oversample}static getDefaults(){return Object.assign(Ho.getDefaults(),{order:1,oversample:"none"})}_getCoefficient(e,t,n){return n.has(t)||(0===t?n.set(t,0):1===t?n.set(t,e):n.set(t,2*e*this._getCoefficient(e,t-1,n)-this._getCoefficient(e,t-2,n))),n.get(t)}get order(){return this._order}set order(e){this._order=e,this._shaper.setMap((t=>this._getCoefficient(t,e,new Map)))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class ra extends Wi{constructor(){super(Xs(ra.getDefaults(),arguments,["channels"])),this.name="Split";const e=Xs(ra.getDefaults(),arguments,["channels"]);this._splitter=this.input=this.output=this.context.createChannelSplitter(e.channels),this._internalChannels=[this._splitter]}static getDefaults(){return Object.assign(Wi.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._splitter.disconnect(),this}}class oa extends Wi{constructor(){super(Xs(oa.getDefaults(),arguments,["channels"])),this.name="Merge";const e=Xs(oa.getDefaults(),arguments,["channels"]);this._merger=this.output=this.input=this.context.createChannelMerger(e.channels)}static getDefaults(){return Object.assign(Wi.getDefaults(),{channels:2})}dispose(){return super.dispose(),this._merger.disconnect(),this}}class aa extends Wi{constructor(e){super(e),this.name="StereoEffect",this.input=new Gi({context:this.context}),this.input.channelCount=2,this.input.channelCountMode="explicit",this._dryWet=this.output=new Go({context:this.context,fade:e.wet}),this.wet=this._dryWet.fade,this._split=new ra({context:this.context,channels:2}),this._merge=new oa({context:this.context,channels:2}),this.input.connect(this._split),this.input.connect(this._dryWet.a),this._merge.connect(this._dryWet.b),fi(this,["wet"])}connectEffectLeft(...e){this._split.connect(e[0],0,0),Ui(...e),$i(e[e.length-1],this._merge,0,0)}connectEffectRight(...e){this._split.connect(e[0],1,0),Ui(...e),$i(e[e.length-1],this._merge,0,1)}static getDefaults(){return Object.assign(Wi.getDefaults(),{wet:1})}dispose(){return super.dispose(),this._dryWet.dispose(),this._split.dispose(),this._merge.dispose(),this}}class la extends aa{constructor(e){super(e),this.feedback=new Xi({context:this.context,value:e.feedback,units:"normalRange"}),this._feedbackL=new Gi({context:this.context}),this._feedbackR=new Gi({context:this.context}),this._feedbackSplit=new ra({context:this.context,channels:2}),this._feedbackMerge=new oa({context:this.context,channels:2}),this._merge.connect(this._feedbackSplit),this._feedbackMerge.connect(this._split),this._feedbackSplit.connect(this._feedbackL,0,0),this._feedbackL.connect(this._feedbackMerge,0,0),this._feedbackSplit.connect(this._feedbackR,1,0),this._feedbackR.connect(this._feedbackMerge,0,1),this.feedback.fan(this._feedbackL.gain,this._feedbackR.gain),fi(this,["feedback"])}static getDefaults(){return Object.assign(aa.getDefaults(),{feedback:.5})}dispose(){return super.dispose(),this.feedback.dispose(),this._feedbackL.dispose(),this._feedbackR.dispose(),this._feedbackSplit.dispose(),this._feedbackMerge.dispose(),this}}class ua extends la{constructor(){super(Xs(ua.getDefaults(),arguments,["frequency","delayTime","depth"])),this.name="Chorus";const e=Xs(ua.getDefaults(),arguments,["frequency","delayTime","depth"]);this._depth=e.depth,this._delayTime=e.delayTime/1e3,this._lfoL=new Br({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Br({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._delayNodeL=new nr({context:this.context}),this._delayNodeR=new nr({context:this.context}),this.frequency=this._lfoL.frequency,fi(this,["frequency"]),this._lfoL.frequency.connect(this._lfoR.frequency),this.connectEffectLeft(this._delayNodeL),this.connectEffectRight(this._delayNodeR),this._lfoL.connect(this._delayNodeL.delayTime),this._lfoR.connect(this._delayNodeR.delayTime),this.depth=this._depth,this.type=e.type,this.spread=e.spread}static getDefaults(){return Object.assign(la.getDefaults(),{frequency:1.5,delayTime:3.5,depth:.7,type:"sine",spread:180,feedback:0,wet:.5})}get depth(){return this._depth}set depth(e){this._depth=e;const t=this._delayTime*e;this._lfoL.min=Math.max(this._delayTime-t,0),this._lfoL.max=this._delayTime+t,this._lfoR.min=Math.max(this._delayTime-t,0),this._lfoR.max=this._delayTime+t}get delayTime(){return 1e3*this._delayTime}set delayTime(e){this._delayTime=e/1e3,this.depth=this._depth}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._delayNodeL.dispose(),this._delayNodeR.dispose(),this.frequency.dispose(),this}}class ca extends Ho{constructor(){super(Xs(ca.getDefaults(),arguments,["distortion"])),this.name="Distortion";const e=Xs(ca.getDefaults(),arguments,["distortion"]);this._shaper=new Ar({context:this.context,length:4096}),this._distortion=e.distortion,this.connectEffect(this._shaper),this.distortion=e.distortion,this.oversample=e.oversample}static getDefaults(){return Object.assign(Ho.getDefaults(),{distortion:.4,oversample:"none"})}get distortion(){return this._distortion}set distortion(e){this._distortion=e;const t=100*e,n=Math.PI/180;this._shaper.setMap((e=>Math.abs(e)<.001?0:(3+t)*e*20*n/(Math.PI+t*Math.abs(e))))}get oversample(){return this._shaper.oversample}set oversample(e){this._shaper.oversample=e}dispose(){return super.dispose(),this._shaper.dispose(),this}}class ha extends Ho{constructor(e){super(e),this.name="FeedbackEffect",this._feedbackGain=new Gi({context:this.context,gain:e.feedback,units:"normalRange"}),this.feedback=this._feedbackGain.gain,fi(this,"feedback"),this.effectReturn.chain(this._feedbackGain,this.effectSend)}static getDefaults(){return Object.assign(Ho.getDefaults(),{feedback:.125})}dispose(){return super.dispose(),this._feedbackGain.dispose(),this.feedback.dispose(),this}}class da extends ha{constructor(){super(Xs(da.getDefaults(),arguments,["delayTime","feedback"])),this.name="FeedbackDelay";const e=Xs(da.getDefaults(),arguments,["delayTime","feedback"]);this._delayNode=new nr({context:this.context,delayTime:e.delayTime,maxDelay:e.maxDelay}),this.delayTime=this._delayNode.delayTime,this.connectEffect(this._delayNode),fi(this,"delayTime")}static getDefaults(){return Object.assign(ha.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._delayNode.dispose(),this.delayTime.dispose(),this}}class pa extends Wi{constructor(e){super(e),this.name="PhaseShiftAllpass",this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this.offset90=new Gi({context:this.context}),this._bank0=this._createAllPassFilterBank([.6923878,.9360654322959,.988229522686,.9987488452737]),this._bank1=this._createAllPassFilterBank([.4021921162426,.856171088242,.9722909545651,.9952884791278]),this._oneSampleDelay=this.context.createIIRFilter([0,1],[1,0]),Ui(this.input,...this._bank0,this._oneSampleDelay,this.output),Ui(this.input,...this._bank1,this.offset90)}_createAllPassFilterBank(e){return e.map((e=>{const t=[[e*e,0,-1],[1,0,-e*e]];return this.context.createIIRFilter(t[0],t[1])}))}dispose(){return super.dispose(),this.input.dispose(),this.output.dispose(),this.offset90.dispose(),this._bank0.forEach((e=>e.disconnect())),this._bank1.forEach((e=>e.disconnect())),this._oneSampleDelay.disconnect(),this}}class fa extends Ho{constructor(){super(Xs(fa.getDefaults(),arguments,["frequency"])),this.name="FrequencyShifter";const e=Xs(fa.getDefaults(),arguments,["frequency"]);this.frequency=new Xi({context:this.context,units:"frequency",value:e.frequency,minValue:-this.context.sampleRate/2,maxValue:this.context.sampleRate/2}),this._sine=new Cr({context:this.context,type:"sine"}),this._cosine=new Or({context:this.context,phase:-90,type:"sine"}),this._sineMultiply=new Mr({context:this.context}),this._cosineMultiply=new Mr({context:this.context}),this._negate=new Xr({context:this.context}),this._add=new Vr({context:this.context}),this._phaseShifter=new pa({context:this.context}),this.effectSend.connect(this._phaseShifter),this.frequency.fan(this._sine.frequency,this._cosine.frequency),this._phaseShifter.offset90.connect(this._cosineMultiply),this._cosine.connect(this._cosineMultiply.factor),this._phaseShifter.connect(this._sineMultiply),this._sine.connect(this._sineMultiply.factor),this._sineMultiply.connect(this._negate),this._cosineMultiply.connect(this._add),this._negate.connect(this._add.addend),this._add.connect(this.effectReturn);const t=this.immediate();this._sine.start(t),this._cosine.start(t)}static getDefaults(){return Object.assign(Ho.getDefaults(),{frequency:0})}dispose(){return super.dispose(),this.frequency.dispose(),this._add.dispose(),this._cosine.dispose(),this._cosineMultiply.dispose(),this._negate.dispose(),this._phaseShifter.dispose(),this._sine.dispose(),this._sineMultiply.dispose(),this}}const ma=[1557/44100,1617/44100,1491/44100,1422/44100,1277/44100,1356/44100,1188/44100,1116/44100],ga=[225,556,441,341];class _a extends aa{constructor(){super(Xs(_a.getDefaults(),arguments,["roomSize","dampening"])),this.name="Freeverb",this._combFilters=[],this._allpassFiltersL=[],this._allpassFiltersR=[];const e=Xs(_a.getDefaults(),arguments,["roomSize","dampening"]);this.roomSize=new Xi({context:this.context,value:e.roomSize,units:"normalRange"}),this._allpassFiltersL=ga.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._allpassFiltersR=ga.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._combFilters=ma.map(((t,n)=>{const s=new Ao({context:this.context,dampening:e.dampening,delayTime:t});return n<ma.length/2?this.connectEffectLeft(s,...this._allpassFiltersL):this.connectEffectRight(s,...this._allpassFiltersR),this.roomSize.connect(s.resonance),s})),fi(this,["roomSize"])}static getDefaults(){return Object.assign(aa.getDefaults(),{roomSize:.7,dampening:3e3})}get dampening(){return this._combFilters[0].dampening}set dampening(e){this._combFilters.forEach((t=>t.dampening=e))}dispose(){return super.dispose(),this._allpassFiltersL.forEach((e=>e.disconnect())),this._allpassFiltersR.forEach((e=>e.disconnect())),this._combFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this}}const va=[.06748,.06404,.08212,.09004],ya=[.773,.802,.753,.733],ba=[347,113,37];class wa extends aa{constructor(){super(Xs(wa.getDefaults(),arguments,["roomSize"])),this.name="JCReverb",this._allpassFilters=[],this._feedbackCombFilters=[];const e=Xs(wa.getDefaults(),arguments,["roomSize"]);this.roomSize=new Xi({context:this.context,value:e.roomSize,units:"normalRange"}),this._scaleRoomSize=new Lr({context:this.context,min:-.733,max:.197}),this._allpassFilters=ba.map((e=>{const t=this.context.createBiquadFilter();return t.type="allpass",t.frequency.value=e,t})),this._feedbackCombFilters=va.map(((e,t)=>{const n=new Oo({context:this.context,delayTime:e});return this._scaleRoomSize.connect(n.resonance),n.resonance.value=ya[t],t<va.length/2?this.connectEffectLeft(...this._allpassFilters,n):this.connectEffectRight(...this._allpassFilters,n),n})),this.roomSize.connect(this._scaleRoomSize),fi(this,["roomSize"])}static getDefaults(){return Object.assign(aa.getDefaults(),{roomSize:.5})}dispose(){return super.dispose(),this._allpassFilters.forEach((e=>e.disconnect())),this._feedbackCombFilters.forEach((e=>e.dispose())),this.roomSize.dispose(),this._scaleRoomSize.dispose(),this}}class xa extends la{constructor(e){super(e),this._feedbackL.disconnect(),this._feedbackL.connect(this._feedbackMerge,0,1),this._feedbackR.disconnect(),this._feedbackR.connect(this._feedbackMerge,0,0),fi(this,["feedback"])}}class Sa extends xa{constructor(){super(Xs(Sa.getDefaults(),arguments,["delayTime","feedback"])),this.name="PingPongDelay";const e=Xs(Sa.getDefaults(),arguments,["delayTime","feedback"]);this._leftDelay=new nr({context:this.context,maxDelay:e.maxDelay}),this._rightDelay=new nr({context:this.context,maxDelay:e.maxDelay}),this._rightPreDelay=new nr({context:this.context,maxDelay:e.maxDelay}),this.delayTime=new Xi({context:this.context,units:"time",value:e.delayTime}),this.connectEffectLeft(this._leftDelay),this.connectEffectRight(this._rightPreDelay,this._rightDelay),this.delayTime.fan(this._leftDelay.delayTime,this._rightDelay.delayTime,this._rightPreDelay.delayTime),this._feedbackL.disconnect(),this._feedbackL.connect(this._rightDelay),fi(this,["delayTime"])}static getDefaults(){return Object.assign(xa.getDefaults(),{delayTime:.25,maxDelay:1})}dispose(){return super.dispose(),this._leftDelay.dispose(),this._rightDelay.dispose(),this._rightPreDelay.dispose(),this.delayTime.dispose(),this}}class ka extends ha{constructor(){super(Xs(ka.getDefaults(),arguments,["pitch"])),this.name="PitchShift";const e=Xs(ka.getDefaults(),arguments,["pitch"]);this._frequency=new Xi({context:this.context}),this._delayA=new nr({maxDelay:1,context:this.context}),this._lfoA=new Br({context:this.context,min:0,max:.1,type:"sawtooth"}).connect(this._delayA.delayTime),this._delayB=new nr({maxDelay:1,context:this.context}),this._lfoB=new Br({context:this.context,min:0,max:.1,type:"sawtooth",phase:180}).connect(this._delayB.delayTime),this._crossFade=new Go({context:this.context}),this._crossFadeLFO=new Br({context:this.context,min:0,max:1,type:"triangle",phase:90}).connect(this._crossFade.fade),this._feedbackDelay=new nr({delayTime:e.delayTime,context:this.context}),this.delayTime=this._feedbackDelay.delayTime,fi(this,"delayTime"),this._pitch=e.pitch,this._windowSize=e.windowSize,this._delayA.connect(this._crossFade.a),this._delayB.connect(this._crossFade.b),this._frequency.fan(this._lfoA.frequency,this._lfoB.frequency,this._crossFadeLFO.frequency),this.effectSend.fan(this._delayA,this._delayB),this._crossFade.chain(this._feedbackDelay,this.effectReturn);const t=this.now();this._lfoA.start(t),this._lfoB.start(t),this._crossFadeLFO.start(t),this.windowSize=this._windowSize}static getDefaults(){return Object.assign(ha.getDefaults(),{pitch:0,windowSize:.1,delayTime:0,feedback:0})}get pitch(){return this._pitch}set pitch(e){this._pitch=e;let t=0;e<0?(this._lfoA.min=0,this._lfoA.max=this._windowSize,this._lfoB.min=0,this._lfoB.max=this._windowSize,t=Ci(e-1)+1):(this._lfoA.min=this._windowSize,this._lfoA.max=0,this._lfoB.min=this._windowSize,this._lfoB.max=0,t=Ci(e)-1),this._frequency.value=t*(1.2/this._windowSize)}get windowSize(){return this._windowSize}set windowSize(e){this._windowSize=this.toSeconds(e),this.pitch=this._pitch}dispose(){return super.dispose(),this._frequency.dispose(),this._delayA.dispose(),this._delayB.dispose(),this._lfoA.dispose(),this._lfoB.dispose(),this._crossFade.dispose(),this._crossFadeLFO.dispose(),this._feedbackDelay.dispose(),this}}class Ta extends aa{constructor(){super(Xs(Ta.getDefaults(),arguments,["frequency","octaves","baseFrequency"])),this.name="Phaser";const e=Xs(Ta.getDefaults(),arguments,["frequency","octaves","baseFrequency"]);this._lfoL=new Br({context:this.context,frequency:e.frequency,min:0,max:1}),this._lfoR=new Br({context:this.context,frequency:e.frequency,min:0,max:1,phase:180}),this._baseFrequency=this.toFrequency(e.baseFrequency),this._octaves=e.octaves,this.Q=new Xi({context:this.context,value:e.Q,units:"positive"}),this._filtersL=this._makeFilters(e.stages,this._lfoL),this._filtersR=this._makeFilters(e.stages,this._lfoR),this.frequency=this._lfoL.frequency,this.frequency.value=e.frequency,this.connectEffectLeft(...this._filtersL),this.connectEffectRight(...this._filtersR),this._lfoL.frequency.connect(this._lfoR.frequency),this.baseFrequency=e.baseFrequency,this.octaves=e.octaves,this._lfoL.start(),this._lfoR.start(),fi(this,["frequency","Q"])}static getDefaults(){return Object.assign(aa.getDefaults(),{frequency:.5,octaves:3,stages:10,Q:10,baseFrequency:350})}_makeFilters(e,t){const n=[];for(let s=0;s<e;s++){const e=this.context.createBiquadFilter();e.type="allpass",this.Q.connect(e.Q),t.connect(e.frequency),n.push(e)}return n}get octaves(){return this._octaves}set octaves(e){this._octaves=e;const t=this._baseFrequency*Math.pow(2,e);this._lfoL.max=t,this._lfoR.max=t}get baseFrequency(){return this._baseFrequency}set baseFrequency(e){this._baseFrequency=this.toFrequency(e),this._lfoL.min=this._baseFrequency,this._lfoR.min=this._baseFrequency,this.octaves=this._octaves}dispose(){return super.dispose(),this.Q.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._filtersL.forEach((e=>e.disconnect())),this._filtersR.forEach((e=>e.disconnect())),this.frequency.dispose(),this}}class Ca extends Ho{constructor(){super(Xs(Ca.getDefaults(),arguments,["decay"])),this.name="Reverb",this._convolver=this.context.createConvolver(),this.ready=Promise.resolve();const e=Xs(Ca.getDefaults(),arguments,["decay"]);this._decay=e.decay,this._preDelay=e.preDelay,this.generate(),this.connectEffect(this._convolver)}static getDefaults(){return Object.assign(Ho.getDefaults(),{decay:1.5,preDelay:.01})}get decay(){return this._decay}set decay(e){Ss(e=this.toSeconds(e),.001),this._decay=e,this.generate()}get preDelay(){return this._preDelay}set preDelay(e){Ss(e=this.toSeconds(e),0),this._preDelay=e,this.generate()}generate(){return zs(this,void 0,void 0,(function*(){const e=this.ready,t=new vi(2,this._decay+this._preDelay,this.context.sampleRate),n=new br({context:t}),s=new br({context:t}),i=new oa({context:t});n.connect(i,0,0),s.connect(i,0,1);const r=new Gi({context:t}).toDestination();i.connect(r),n.start(0),s.start(0),r.gain.setValueAtTime(0,0),r.gain.setValueAtTime(1,this._preDelay),r.gain.exponentialApproachValueAtTime(0,this._preDelay,this.decay);const o=t.render();return this.ready=o.then(gi),yield e,this._convolver.buffer=(yield o).get(),this}))}dispose(){return super.dispose(),this._convolver.disconnect(),this}}class Oa extends Wi{constructor(){super(Xs(Oa.getDefaults(),arguments)),this.name="MidSideSplit",this._split=this.input=new ra({channels:2,context:this.context}),this._midAdd=new Vr({context:this.context}),this.mid=new Mr({context:this.context,value:Math.SQRT1_2}),this._sideSubtract=new Zr({context:this.context}),this.side=new Mr({context:this.context,value:Math.SQRT1_2}),this._split.connect(this._midAdd,0),this._split.connect(this._midAdd.addend,1),this._split.connect(this._sideSubtract,0),this._split.connect(this._sideSubtract.subtrahend,1),this._midAdd.connect(this.mid),this._sideSubtract.connect(this.side)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midAdd.dispose(),this._sideSubtract.dispose(),this._split.dispose(),this}}class Ea extends Wi{constructor(){super(Xs(Ea.getDefaults(),arguments)),this.name="MidSideMerge",this.mid=new Gi({context:this.context}),this.side=new Gi({context:this.context}),this._left=new Vr({context:this.context}),this._leftMult=new Mr({context:this.context,value:Math.SQRT1_2}),this._right=new Zr({context:this.context}),this._rightMult=new Mr({context:this.context,value:Math.SQRT1_2}),this._merge=this.output=new oa({context:this.context}),this.mid.fan(this._left),this.side.connect(this._left.addend),this.mid.connect(this._right),this.side.connect(this._right.subtrahend),this._left.connect(this._leftMult),this._right.connect(this._rightMult),this._leftMult.connect(this._merge,0,0),this._rightMult.connect(this._merge,0,1)}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._leftMult.dispose(),this._rightMult.dispose(),this._left.dispose(),this._right.dispose(),this}}class Aa extends Ho{constructor(e){super(e),this.name="MidSideEffect",this._midSideMerge=new Ea({context:this.context}),this._midSideSplit=new Oa({context:this.context}),this._midSend=this._midSideSplit.mid,this._sideSend=this._midSideSplit.side,this._midReturn=this._midSideMerge.mid,this._sideReturn=this._midSideMerge.side,this.effectSend.connect(this._midSideSplit),this._midSideMerge.connect(this.effectReturn)}connectEffectMid(...e){this._midSend.chain(...e,this._midReturn)}connectEffectSide(...e){this._sideSend.chain(...e,this._sideReturn)}dispose(){return super.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this._midSend.dispose(),this._sideSend.dispose(),this._midReturn.dispose(),this._sideReturn.dispose(),this}}class Da extends Aa{constructor(){super(Xs(Da.getDefaults(),arguments,["width"])),this.name="StereoWidener";const e=Xs(Da.getDefaults(),arguments,["width"]);this.width=new Xi({context:this.context,value:e.width,units:"normalRange"}),fi(this,["width"]),this._twoTimesWidthMid=new Mr({context:this.context,value:2}),this._twoTimesWidthSide=new Mr({context:this.context,value:2}),this._midMult=new Mr({context:this.context}),this._twoTimesWidthMid.connect(this._midMult.factor),this.connectEffectMid(this._midMult),this._oneMinusWidth=new Zr({context:this.context}),this._oneMinusWidth.connect(this._twoTimesWidthMid),$i(this.context.getConstant(1),this._oneMinusWidth),this.width.connect(this._oneMinusWidth.subtrahend),this._sideMult=new Mr({context:this.context}),this.width.connect(this._twoTimesWidthSide),this._twoTimesWidthSide.connect(this._sideMult.factor),this.connectEffectSide(this._sideMult)}static getDefaults(){return Object.assign(Aa.getDefaults(),{width:.5})}dispose(){return super.dispose(),this.width.dispose(),this._midMult.dispose(),this._sideMult.dispose(),this._twoTimesWidthMid.dispose(),this._twoTimesWidthSide.dispose(),this._oneMinusWidth.dispose(),this}}class Ma extends aa{constructor(){super(Xs(Ma.getDefaults(),arguments,["frequency","depth"])),this.name="Tremolo";const e=Xs(Ma.getDefaults(),arguments,["frequency","depth"]);this._lfoL=new Br({context:this.context,type:e.type,min:1,max:0}),this._lfoR=new Br({context:this.context,type:e.type,min:1,max:0}),this._amplitudeL=new Gi({context:this.context}),this._amplitudeR=new Gi({context:this.context}),this.frequency=new Xi({context:this.context,value:e.frequency,units:"frequency"}),this.depth=new Xi({context:this.context,value:e.depth,units:"normalRange"}),fi(this,["frequency","depth"]),this.connectEffectLeft(this._amplitudeL),this.connectEffectRight(this._amplitudeR),this._lfoL.connect(this._amplitudeL.gain),this._lfoR.connect(this._amplitudeR.gain),this.frequency.fan(this._lfoL.frequency,this._lfoR.frequency),this.depth.fan(this._lfoR.amplitude,this._lfoL.amplitude),this.spread=e.spread}static getDefaults(){return Object.assign(aa.getDefaults(),{frequency:10,type:"sine",depth:.5,spread:180})}start(e){return this._lfoL.start(e),this._lfoR.start(e),this}stop(e){return this._lfoL.stop(e),this._lfoR.stop(e),this}sync(){return this._lfoL.sync(),this._lfoR.sync(),this.context.transport.syncSignal(this.frequency),this}unsync(){return this._lfoL.unsync(),this._lfoR.unsync(),this.context.transport.unsyncSignal(this.frequency),this}get type(){return this._lfoL.type}set type(e){this._lfoL.type=e,this._lfoR.type=e}get spread(){return this._lfoR.phase-this._lfoL.phase}set spread(e){this._lfoL.phase=90-e/2,this._lfoR.phase=e/2+90}dispose(){return super.dispose(),this._lfoL.dispose(),this._lfoR.dispose(),this._amplitudeL.dispose(),this._amplitudeR.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Pa extends Ho{constructor(){super(Xs(Pa.getDefaults(),arguments,["frequency","depth"])),this.name="Vibrato";const e=Xs(Pa.getDefaults(),arguments,["frequency","depth"]);this._delayNode=new nr({context:this.context,delayTime:0,maxDelay:e.maxDelay}),this._lfo=new Br({context:this.context,type:e.type,min:0,max:e.maxDelay,frequency:e.frequency,phase:-90}).start().connect(this._delayNode.delayTime),this.frequency=this._lfo.frequency,this.depth=this._lfo.amplitude,this.depth.value=e.depth,fi(this,["frequency","depth"]),this.effectSend.chain(this._delayNode,this.effectReturn)}static getDefaults(){return Object.assign(Ho.getDefaults(),{maxDelay:.005,frequency:5,depth:.1,type:"sine"})}get type(){return this._lfo.type}set type(e){this._lfo.type=e}dispose(){return super.dispose(),this._delayNode.dispose(),this._lfo.dispose(),this.frequency.dispose(),this.depth.dispose(),this}}class Ra extends Wi{constructor(){super(Xs(Ra.getDefaults(),arguments,["type","size"])),this.name="Analyser",this._analysers=[],this._buffers=[];const e=Xs(Ra.getDefaults(),arguments,["type","size"]);this.input=this.output=this._gain=new Gi({context:this.context}),this._split=new ra({context:this.context,channels:e.channels}),this.input.connect(this._split),Ss(e.channels,1);for(let t=0;t<e.channels;t++)this._analysers[t]=this.context.createAnalyser(),this._split.connect(this._analysers[t],t,0);this.size=e.size,this.type=e.type}static getDefaults(){return Object.assign(Wi.getDefaults(),{size:1024,smoothing:.8,type:"fft",channels:1})}getValue(){return this._analysers.forEach(((e,t)=>{const n=this._buffers[t];"fft"===this._type?e.getFloatFrequencyData(n):"waveform"===this._type&&e.getFloatTimeDomainData(n)})),1===this.channels?this._buffers[0]:this._buffers}get size(){return this._analysers[0].frequencyBinCount}set size(e){this._analysers.forEach(((t,n)=>{t.fftSize=2*e,this._buffers[n]=new Float32Array(e)}))}get channels(){return this._analysers.length}get type(){return this._type}set type(e){xs("waveform"===e||"fft"===e,`Analyser: invalid type: ${e}`),this._type=e}get smoothing(){return this._analysers[0].smoothingTimeConstant}set smoothing(e){this._analysers.forEach((t=>t.smoothingTimeConstant=e))}dispose(){return super.dispose(),this._analysers.forEach((e=>e.disconnect())),this._split.dispose(),this._gain.dispose(),this}}class Ia extends Wi{constructor(){super(Xs(Ia.getDefaults(),arguments)),this.name="MeterBase",this.input=this.output=this._analyser=new Ra({context:this.context,size:256,type:"waveform"})}dispose(){return super.dispose(),this._analyser.dispose(),this}}class Na extends Ia{constructor(){super(Xs(Na.getDefaults(),arguments,["smoothing"])),this.name="Meter",this._rms=0;const e=Xs(Na.getDefaults(),arguments,["smoothing"]);this.input=this.output=this._analyser=new Ra({context:this.context,size:256,type:"waveform",channels:e.channels}),this.smoothing=e.smoothing,this.normalRange=e.normalRange}static getDefaults(){return Object.assign(Ia.getDefaults(),{smoothing:.8,normalRange:!1,channels:1})}getLevel(){return Es("'getLevel' has been changed to 'getValue'"),this.getValue()}getValue(){const e=this._analyser.getValue(),t=(1===this.channels?[e]:e).map((e=>{const t=e.reduce(((e,t)=>e+t*t),0),n=Math.sqrt(t/e.length);return this._rms=Math.max(n,this._rms*this.smoothing),this.normalRange?this._rms:Ti(this._rms)}));return 1===this.channels?t[0]:t}get channels(){return this._analyser.channels}dispose(){return super.dispose(),this._analyser.dispose(),this}}class qa extends Ia{constructor(){super(Xs(qa.getDefaults(),arguments,["size"])),this.name="FFT";const e=Xs(qa.getDefaults(),arguments,["size"]);this.normalRange=e.normalRange,this._analyser.type="fft",this.size=e.size}static getDefaults(){return Object.assign(Wi.getDefaults(),{normalRange:!1,size:1024,smoothing:.8})}getValue(){return this._analyser.getValue().map((e=>this.normalRange?ki(e):e))}get size(){return this._analyser.size}set size(e){this._analyser.size=e}get smoothing(){return this._analyser.smoothing}set smoothing(e){this._analyser.smoothing=e}getFrequencyOfIndex(e){return xs(0<=e&&e<this.size,`index must be greater than or equal to 0 and less than ${this.size}`),e*this.context.sampleRate/(2*this.size)}}class Fa extends Ia{constructor(){super(Xs(Fa.getDefaults(),arguments)),this.name="DCMeter",this._analyser.type="waveform",this._analyser.size=256}getValue(){return this._analyser.getValue()[0]}}class ja extends Ia{constructor(){super(Xs(ja.getDefaults(),arguments,["size"])),this.name="Waveform";const e=Xs(ja.getDefaults(),arguments,["size"]);this._analyser.type="waveform",this.size=e.size}static getDefaults(){return Object.assign(Ia.getDefaults(),{size:1024})}getValue(){return this._analyser.getValue()}get size(){return this._analyser.size}set size(e){this._analyser.size=e}}class Va extends Wi{constructor(){super(Xs(Va.getDefaults(),arguments,["solo"])),this.name="Solo";const e=Xs(Va.getDefaults(),arguments,["solo"]);this.input=this.output=new Gi({context:this.context}),Va._allSolos.has(this.context)||Va._allSolos.set(this.context,new Set),Va._allSolos.get(this.context).add(this),this.solo=e.solo}static getDefaults(){return Object.assign(Wi.getDefaults(),{solo:!1})}get solo(){return this._isSoloed()}set solo(e){e?this._addSolo():this._removeSolo(),Va._allSolos.get(this.context).forEach((e=>e._updateSolo()))}get muted(){return 0===this.input.gain.value}_addSolo(){Va._soloed.has(this.context)||Va._soloed.set(this.context,new Set),Va._soloed.get(this.context).add(this)}_removeSolo(){Va._soloed.has(this.context)&&Va._soloed.get(this.context).delete(this)}_isSoloed(){return Va._soloed.has(this.context)&&Va._soloed.get(this.context).has(this)}_noSolos(){return!Va._soloed.has(this.context)||Va._soloed.has(this.context)&&0===Va._soloed.get(this.context).size}_updateSolo(){this._isSoloed()||this._noSolos()?this.input.gain.value=1:this.input.gain.value=0}dispose(){return super.dispose(),Va._allSolos.get(this.context).delete(this),this._removeSolo(),this}}Va._allSolos=new Map,Va._soloed=new Map;class La extends Wi{constructor(){super(Xs(La.getDefaults(),arguments,["pan","volume"])),this.name="PanVol";const e=Xs(La.getDefaults(),arguments,["pan","volume"]);this._panner=this.input=new Zo({context:this.context,pan:e.pan,channelCount:e.channelCount}),this.pan=this._panner.pan,this._volume=this.output=new dr({context:this.context,volume:e.volume}),this.volume=this._volume.volume,this._panner.connect(this._volume),this.mute=e.mute,fi(this,["pan","volume"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{mute:!1,pan:0,volume:0,channelCount:1})}get mute(){return this._volume.mute}set mute(e){this._volume.mute=e}dispose(){return super.dispose(),this._panner.dispose(),this.pan.dispose(),this._volume.dispose(),this.volume.dispose(),this}}class za extends Wi{constructor(){super(Xs(za.getDefaults(),arguments,["volume","pan"])),this.name="Channel";const e=Xs(za.getDefaults(),arguments,["volume","pan"]);this._solo=this.input=new Va({solo:e.solo,context:this.context}),this._panVol=this.output=new La({context:this.context,pan:e.pan,volume:e.volume,mute:e.mute,channelCount:e.channelCount}),this.pan=this._panVol.pan,this.volume=this._panVol.volume,this._solo.connect(this._panVol),fi(this,["pan","volume"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{pan:0,volume:0,mute:!1,solo:!1,channelCount:1})}get solo(){return this._solo.solo}set solo(e){this._solo.solo=e}get muted(){return this._solo.muted||this.mute}get mute(){return this._panVol.mute}set mute(e){this._panVol.mute=e}_getBus(e){return za.buses.has(e)||za.buses.set(e,new Gi({context:this.context})),za.buses.get(e)}send(e,t=0){const n=this._getBus(e),s=new Gi({context:this.context,units:"decibels",gain:t});return this.connect(s),s.connect(n),s}receive(e){return this._getBus(e).connect(this),this}dispose(){return super.dispose(),this._panVol.dispose(),this.pan.dispose(),this.volume.dispose(),this._solo.dispose(),this}}za.buses=new Map;class Ba extends Wi{constructor(){super(Xs(Ba.getDefaults(),arguments)),this.name="Mono",this.input=new Gi({context:this.context}),this._merge=this.output=new oa({channels:2,context:this.context}),this.input.connect(this._merge,0,0),this.input.connect(this._merge,0,1)}dispose(){return super.dispose(),this._merge.dispose(),this.input.dispose(),this}}class Wa extends Wi{constructor(){super(Xs(Wa.getDefaults(),arguments,["lowFrequency","highFrequency"])),this.name="MultibandSplit",this.input=new Gi({context:this.context}),this.output=void 0,this.low=new po({context:this.context,frequency:0,type:"lowpass"}),this._lowMidFilter=new po({context:this.context,frequency:0,type:"highpass"}),this.mid=new po({context:this.context,frequency:0,type:"lowpass"}),this.high=new po({context:this.context,frequency:0,type:"highpass"}),this._internalChannels=[this.low,this.mid,this.high];const e=Xs(Wa.getDefaults(),arguments,["lowFrequency","highFrequency"]);this.lowFrequency=new Xi({context:this.context,units:"frequency",value:e.lowFrequency}),this.highFrequency=new Xi({context:this.context,units:"frequency",value:e.highFrequency}),this.Q=new Xi({context:this.context,units:"positive",value:e.Q}),this.input.fan(this.low,this.high),this.input.chain(this._lowMidFilter,this.mid),this.lowFrequency.fan(this.low.frequency,this._lowMidFilter.frequency),this.highFrequency.fan(this.mid.frequency,this.high.frequency),this.Q.connect(this.low.Q),this.Q.connect(this._lowMidFilter.Q),this.Q.connect(this.mid.Q),this.Q.connect(this.high.Q),fi(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{Q:1,highFrequency:2500,lowFrequency:400})}dispose(){return super.dispose(),mi(this,["high","mid","low","highFrequency","lowFrequency"]),this.low.dispose(),this._lowMidFilter.dispose(),this.mid.dispose(),this.high.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this.Q.dispose(),this}}class Ua extends Wi{constructor(){super(...arguments),this.name="Listener",this.positionX=new Bi({context:this.context,param:this.context.rawContext.listener.positionX}),this.positionY=new Bi({context:this.context,param:this.context.rawContext.listener.positionY}),this.positionZ=new Bi({context:this.context,param:this.context.rawContext.listener.positionZ}),this.forwardX=new Bi({context:this.context,param:this.context.rawContext.listener.forwardX}),this.forwardY=new Bi({context:this.context,param:this.context.rawContext.listener.forwardY}),this.forwardZ=new Bi({context:this.context,param:this.context.rawContext.listener.forwardZ}),this.upX=new Bi({context:this.context,param:this.context.rawContext.listener.upX}),this.upY=new Bi({context:this.context,param:this.context.rawContext.listener.upY}),this.upZ=new Bi({context:this.context,param:this.context.rawContext.listener.upZ})}static getDefaults(){return Object.assign(Wi.getDefaults(),{positionX:0,positionY:0,positionZ:0,forwardX:0,forwardY:0,forwardZ:-1,upX:0,upY:1,upZ:0})}dispose(){return super.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this.forwardX.dispose(),this.forwardY.dispose(),this.forwardZ.dispose(),this.upX.dispose(),this.upY.dispose(),this.upZ.dispose(),this}}li((e=>{e.listener=new Ua({context:e})})),ci((e=>{e.listener.dispose()}));class $a extends Wi{constructor(){super(Xs($a.getDefaults(),arguments,["positionX","positionY","positionZ"])),this.name="Panner3D";const e=Xs($a.getDefaults(),arguments,["positionX","positionY","positionZ"]);this._panner=this.input=this.output=this.context.createPanner(),this.panningModel=e.panningModel,this.maxDistance=e.maxDistance,this.distanceModel=e.distanceModel,this.coneOuterGain=e.coneOuterGain,this.coneOuterAngle=e.coneOuterAngle,this.coneInnerAngle=e.coneInnerAngle,this.refDistance=e.refDistance,this.rolloffFactor=e.rolloffFactor,this.positionX=new Bi({context:this.context,param:this._panner.positionX,value:e.positionX}),this.positionY=new Bi({context:this.context,param:this._panner.positionY,value:e.positionY}),this.positionZ=new Bi({context:this.context,param:this._panner.positionZ,value:e.positionZ}),this.orientationX=new Bi({context:this.context,param:this._panner.orientationX,value:e.orientationX}),this.orientationY=new Bi({context:this.context,param:this._panner.orientationY,value:e.orientationY}),this.orientationZ=new Bi({context:this.context,param:this._panner.orientationZ,value:e.orientationZ})}static getDefaults(){return Object.assign(Wi.getDefaults(),{coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,distanceModel:"inverse",maxDistance:1e4,orientationX:0,orientationY:0,orientationZ:0,panningModel:"equalpower",positionX:0,positionY:0,positionZ:0,refDistance:1,rolloffFactor:1})}setPosition(e,t,n){return this.positionX.value=e,this.positionY.value=t,this.positionZ.value=n,this}setOrientation(e,t,n){return this.orientationX.value=e,this.orientationY.value=t,this.orientationZ.value=n,this}get panningModel(){return this._panner.panningModel}set panningModel(e){this._panner.panningModel=e}get refDistance(){return this._panner.refDistance}set refDistance(e){this._panner.refDistance=e}get rolloffFactor(){return this._panner.rolloffFactor}set rolloffFactor(e){this._panner.rolloffFactor=e}get distanceModel(){return this._panner.distanceModel}set distanceModel(e){this._panner.distanceModel=e}get coneInnerAngle(){return this._panner.coneInnerAngle}set coneInnerAngle(e){this._panner.coneInnerAngle=e}get coneOuterAngle(){return this._panner.coneOuterAngle}set coneOuterAngle(e){this._panner.coneOuterAngle=e}get coneOuterGain(){return this._panner.coneOuterGain}set coneOuterGain(e){this._panner.coneOuterGain=e}get maxDistance(){return this._panner.maxDistance}set maxDistance(e){this._panner.maxDistance=e}dispose(){return super.dispose(),this._panner.disconnect(),this.orientationX.dispose(),this.orientationY.dispose(),this.orientationZ.dispose(),this.positionX.dispose(),this.positionY.dispose(),this.positionZ.dispose(),this}}class Qa extends Wi{constructor(){super(Xs(Qa.getDefaults(),arguments)),this.name="Recorder";const e=Xs(Qa.getDefaults(),arguments);this.input=new Gi({context:this.context}),xs(Qa.supported,"Media Recorder API is not available"),this._stream=this.context.createMediaStreamDestination(),this.input.connect(this._stream),this._recorder=new MediaRecorder(this._stream.stream,{mimeType:e.mimeType})}static getDefaults(){return Wi.getDefaults()}get mimeType(){return this._recorder.mimeType}static get supported(){return null!==js&&Reflect.has(js,"MediaRecorder")}get state(){return"inactive"===this._recorder.state?"stopped":"paused"===this._recorder.state?"paused":"started"}start(){return zs(this,void 0,void 0,(function*(){xs("started"!==this.state,"Recorder is already started");const e=new Promise((e=>{const t=()=>{this._recorder.removeEventListener("start",t,!1),e()};this._recorder.addEventListener("start",t,!1)}));return this._recorder.start(),yield e}))}stop(){return zs(this,void 0,void 0,(function*(){xs("stopped"!==this.state,"Recorder is not started");const e=new Promise((e=>{const t=n=>{this._recorder.removeEventListener("dataavailable",t,!1),e(n.data)};this._recorder.addEventListener("dataavailable",t,!1)}));return this._recorder.stop(),yield e}))}pause(){return xs("started"===this.state,"Recorder must be started"),this._recorder.pause(),this}dispose(){return super.dispose(),this.input.dispose(),this._stream.disconnect(),this}}class Ga extends Wi{constructor(){super(Xs(Ga.getDefaults(),arguments,["threshold","ratio"])),this.name="Compressor",this._compressor=this.context.createDynamicsCompressor(),this.input=this._compressor,this.output=this._compressor;const e=Xs(Ga.getDefaults(),arguments,["threshold","ratio"]);this.threshold=new Bi({minValue:this._compressor.threshold.minValue,maxValue:this._compressor.threshold.maxValue,context:this.context,convert:!1,param:this._compressor.threshold,units:"decibels",value:e.threshold}),this.attack=new Bi({minValue:this._compressor.attack.minValue,maxValue:this._compressor.attack.maxValue,context:this.context,param:this._compressor.attack,units:"time",value:e.attack}),this.release=new Bi({minValue:this._compressor.release.minValue,maxValue:this._compressor.release.maxValue,context:this.context,param:this._compressor.release,units:"time",value:e.release}),this.knee=new Bi({minValue:this._compressor.knee.minValue,maxValue:this._compressor.knee.maxValue,context:this.context,convert:!1,param:this._compressor.knee,units:"decibels",value:e.knee}),this.ratio=new Bi({minValue:this._compressor.ratio.minValue,maxValue:this._compressor.ratio.maxValue,context:this.context,convert:!1,param:this._compressor.ratio,units:"positive",value:e.ratio}),fi(this,["knee","release","attack","ratio","threshold"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{attack:.003,knee:30,ratio:12,release:.25,threshold:-24})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.disconnect(),this.attack.dispose(),this.release.dispose(),this.threshold.dispose(),this.ratio.dispose(),this.knee.dispose(),this}}class Ha extends Wi{constructor(){super(Object.assign(Xs(Ha.getDefaults(),arguments,["threshold","smoothing"]))),this.name="Gate";const e=Xs(Ha.getDefaults(),arguments,["threshold","smoothing"]);this._follower=new Jo({context:this.context,smoothing:e.smoothing}),this._gt=new Jr({context:this.context,value:ki(e.threshold)}),this.input=new Gi({context:this.context}),this._gate=this.output=new Gi({context:this.context}),this.input.connect(this._gate),this.input.chain(this._follower,this._gt,this._gate.gain)}static getDefaults(){return Object.assign(Wi.getDefaults(),{smoothing:.1,threshold:-40})}get threshold(){return Ti(this._gt.value)}set threshold(e){this._gt.value=ki(e)}get smoothing(){return this._follower.smoothing}set smoothing(e){this._follower.smoothing=e}dispose(){return super.dispose(),this.input.dispose(),this._follower.dispose(),this._gt.dispose(),this._gate.dispose(),this}}class Ya extends Wi{constructor(){super(Object.assign(Xs(Ya.getDefaults(),arguments,["threshold"]))),this.name="Limiter";const e=Xs(Ya.getDefaults(),arguments,["threshold"]);this._compressor=this.input=this.output=new Ga({context:this.context,ratio:20,attack:.003,release:.01,threshold:e.threshold}),this.threshold=this._compressor.threshold,fi(this,"threshold")}static getDefaults(){return Object.assign(Wi.getDefaults(),{threshold:-12})}get reduction(){return this._compressor.reduction}dispose(){return super.dispose(),this._compressor.dispose(),this.threshold.dispose(),this}}class Xa extends Wi{constructor(){super(Object.assign(Xs(Xa.getDefaults(),arguments))),this.name="MidSideCompressor";const e=Xs(Xa.getDefaults(),arguments);this._midSideSplit=this.input=new Oa({context:this.context}),this._midSideMerge=this.output=new Ea({context:this.context}),this.mid=new Ga(Object.assign(e.mid,{context:this.context})),this.side=new Ga(Object.assign(e.side,{context:this.context})),this._midSideSplit.mid.chain(this.mid,this._midSideMerge.mid),this._midSideSplit.side.chain(this.side,this._midSideMerge.side),fi(this,["mid","side"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},side:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10}})}dispose(){return super.dispose(),this.mid.dispose(),this.side.dispose(),this._midSideSplit.dispose(),this._midSideMerge.dispose(),this}}class Za extends Wi{constructor(){super(Object.assign(Xs(Za.getDefaults(),arguments))),this.name="MultibandCompressor";const e=Xs(Za.getDefaults(),arguments);this._splitter=this.input=new Wa({context:this.context,lowFrequency:e.lowFrequency,highFrequency:e.highFrequency}),this.lowFrequency=this._splitter.lowFrequency,this.highFrequency=this._splitter.highFrequency,this.output=new Gi({context:this.context}),this.low=new Ga(Object.assign(e.low,{context:this.context})),this.mid=new Ga(Object.assign(e.mid,{context:this.context})),this.high=new Ga(Object.assign(e.high,{context:this.context})),this._splitter.low.chain(this.low,this.output),this._splitter.mid.chain(this.mid,this.output),this._splitter.high.chain(this.high,this.output),fi(this,["high","mid","low","highFrequency","lowFrequency"])}static getDefaults(){return Object.assign(Wi.getDefaults(),{lowFrequency:250,highFrequency:2e3,low:{ratio:6,threshold:-30,release:.25,attack:.03,knee:10},mid:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16},high:{ratio:3,threshold:-24,release:.03,attack:.02,knee:16}})}dispose(){return super.dispose(),this._splitter.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.output.dispose(),this}}class Ka extends Wi{constructor(){super(Xs(Ka.getDefaults(),arguments,["low","mid","high"])),this.name="EQ3",this.output=new Gi({context:this.context}),this._internalChannels=[];const e=Xs(Ka.getDefaults(),arguments,["low","mid","high"]);this.input=this._multibandSplit=new Wa({context:this.context,highFrequency:e.highFrequency,lowFrequency:e.lowFrequency}),this._lowGain=new Gi({context:this.context,gain:e.low,units:"decibels"}),this._midGain=new Gi({context:this.context,gain:e.mid,units:"decibels"}),this._highGain=new Gi({context:this.context,gain:e.high,units:"decibels"}),this.low=this._lowGain.gain,this.mid=this._midGain.gain,this.high=this._highGain.gain,this.Q=this._multibandSplit.Q,this.lowFrequency=this._multibandSplit.lowFrequency,this.highFrequency=this._multibandSplit.highFrequency,this._multibandSplit.low.chain(this._lowGain,this.output),this._multibandSplit.mid.chain(this._midGain,this.output),this._multibandSplit.high.chain(this._highGain,this.output),fi(this,["low","mid","high","lowFrequency","highFrequency"]),this._internalChannels=[this._multibandSplit]}static getDefaults(){return Object.assign(Wi.getDefaults(),{high:0,highFrequency:2500,low:0,lowFrequency:400,mid:0})}dispose(){return super.dispose(),mi(this,["low","mid","high","lowFrequency","highFrequency"]),this._multibandSplit.dispose(),this.lowFrequency.dispose(),this.highFrequency.dispose(),this._lowGain.dispose(),this._midGain.dispose(),this._highGain.dispose(),this.low.dispose(),this.mid.dispose(),this.high.dispose(),this.Q.dispose(),this}}class Ja extends Wi{constructor(){super(Xs(Ja.getDefaults(),arguments,["url","onload"])),this.name="Convolver",this._convolver=this.context.createConvolver();const e=Xs(Ja.getDefaults(),arguments,["url","onload"]);this._buffer=new _i(e.url,(t=>{this.buffer=t,e.onload()})),this.input=new Gi({context:this.context}),this.output=new Gi({context:this.context}),this._buffer.loaded&&(this.buffer=this._buffer),this.normalize=e.normalize,this.input.chain(this._convolver,this.output)}static getDefaults(){return Object.assign(Wi.getDefaults(),{normalize:!0,onload:gi})}load(e){return zs(this,void 0,void 0,(function*(){this.buffer=yield this._buffer.load(e)}))}get buffer(){return this._buffer.length?this._buffer:null}set buffer(e){e&&this._buffer.set(e),this._convolver.buffer&&(this.input.disconnect(),this._convolver.disconnect(),this._convolver=this.context.createConvolver(),this.input.chain(this._convolver,this.output));const t=this._buffer.get();this._convolver.buffer=t||null}get normalize(){return this._convolver.normalize}set normalize(e){this._convolver.normalize=e}dispose(){return super.dispose(),this._buffer.dispose(),this._convolver.disconnect(),this}}function el(){return wi().now()}function tl(){return wi().immediate()}const nl=wi().transport;function sl(){return wi().transport}const il=wi().destination,rl=wi().destination;function ol(){return wi().destination}const al=wi().listener;function ll(){return wi().listener}const ul=wi().draw;function cl(){return wi().draw}const hl=wi();function dl(){return _i.loaded()}const pl=_i,fl=ir,ml=yr},64:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useAppDispatch=void 0;const i=n(355),r=n(940),o=s(n(567)),a=s(n(83)),l=i.configureStore({reducer:{sequencer:a.default,instruments:o.default}});t.default=l,t.useAppDispatch=()=>r.useDispatch()},626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InstrumentParameter=t.BaseInstrument=void 0,t.BaseInstrument=class{constructor(e){this.params={byId:{},allIds:e.map((e=>e.name))};for(let t of e)this.params.byId[t.name]=new n(t.name,t.min,t.max,t.value,t.step)}getAllParameterNames(){return this.params.allIds}getParameterConfig(e){return{name:this.params.byId[e].name,min:this.params.byId[e].min,max:this.params.byId[e].max,value:this.params.byId[e].value,step:this.params.byId[e].step}}getParameterValue(e){return this.params.byId[e].value}setParameterValue(e,t){this.params.byId[e].value=t}};class n{constructor(e,t,n,s,i){this.name=e,this.min=t,this.max=n,this.value=s,this.step=i}getValue(){return this.value}setValue(e){this.value=e}}t.InstrumentParameter=n},381:function(e,t,n){"use strict";var s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Sample=t.Noise=t.Pulse=t.Sweep=void 0;const i=s(n(120)),r=n(626);class o extends r.BaseInstrument{constructor(e){super([{name:"attack",min:0,max:1,value:.2,step:.1},{name:"release",min:0,max:1,value:.5,step:.1}]),this.audioCtx=e,this.wave=this.audioCtx.createPeriodicWave(i.default.real,i.default.imag)}schedule(e){const t=this.audioCtx.createOscillator();t.setPeriodicWave(this.wave),t.frequency.value=440;let n=this.audioCtx.createGain();n.gain.cancelScheduledValues(e),n.gain.setValueAtTime(0,e),n.gain.linearRampToValueAtTime(1,e+this.getParameterValue("attack")),n.gain.linearRampToValueAtTime(0,e+2-this.getParameterValue("release")),t.connect(n).connect(this.audioCtx.destination),t.start(e),t.stop(e+1)}}t.Sweep=o;class a extends r.BaseInstrument{constructor(e){super([{name:"lfoHz",min:20,max:40,value:30,step:1},{name:"pulseHz",min:660,max:1320,value:880,step:1}]),this.audioCtx=e}schedule(e){let t=this.audioCtx.createOscillator();t.type="sine",t.frequency.value=this.getParameterValue("pulseHz");let n=this.audioCtx.createGain();n.gain.value=1;let s=this.audioCtx.createOscillator();s.type="square",s.frequency.value=this.getParameterValue("lfoHz"),s.connect(n.gain),t.connect(n).connect(this.audioCtx.destination),s.start(),t.start(e),t.stop(e+1)}}t.Pulse=a;class l extends r.BaseInstrument{constructor(e){super([{name:"noiseDuration",min:.1,max:2,value:1,step:.1},{name:"bandHz",min:400,max:1200,value:660,step:1}]),this.audioCtx=e}schedule(e){const t=this.audioCtx.sampleRate*this.getParameterValue("noiseDuration"),n=this.audioCtx.createBuffer(1,t,this.audioCtx.sampleRate);let s=n.getChannelData(0);for(let e=0;e<t;e++)s[e]=2*Math.random()-1;let i=this.audioCtx.createBufferSource();i.buffer=n;let r=this.audioCtx.createBiquadFilter();r.type="bandpass",r.frequency.value=this.getParameterValue("bandHz"),i.connect(r).connect(this.audioCtx.destination),i.start(e)}}t.Noise=l;class u extends r.BaseInstrument{constructor(e,t){super([{name:"playbackRate",min:.1,max:2,value:1,step:.1}]),this.audioCtx=e,this.filePath=t}async schedule(e){this.audioBuffer=this.audioBuffer||await this.getSampleFromFile();const t=this.audioCtx.createBufferSource();t.buffer=this.audioBuffer,t.playbackRate.value=this.getParameterValue("playbackRate"),t.connect(this.audioCtx.destination),t.start(e)}async getSampleFromFile(){const e=await fetch(this.filePath),t=await e.arrayBuffer();return await this.audioCtx.decodeAudioData(t)}}t.Sample=u},567:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.instrumentAdded=t.selectInstrumentParameter=t.selectParameterNamesForInstrument=t.selectInstrumentConfigs=t.selectInstrumentConfig=t.selectInstrumentNames=t.updateInstrumentParameter=t.addInstrument=t.instrumentsSlice=void 0;const s=n(355),i=n(737),r=n(564);t.instrumentsSlice=s.createSlice({name:"instruments",initialState:{instruments:{byId:{},allIds:[]}},reducers:{instrumentAdded:{reducer(e,t){const{name:n,params:s}=t.payload,i=n;e.instruments.allIds.push(i),e.instruments.byId[i]={name:i,params:s}},prepare:(e,t)=>({payload:{name:e,params:i.normalizedObjectFromTuples(t.getAllParameterNames().map((e=>[e,t.getParameterConfig(e)])))}})},instrumentParameterUpdated:{reducer(e,t){const{instrumentName:n,parameterName:s,value:i}=t.payload;e.instruments.byId[n].params.byId[s].value=i},prepare:(e,t,n)=>({payload:{instrumentName:e,parameterName:t,value:n}})}}}),t.addInstrument=function(e,n){return function(s,i){r.addInstrumentToScheduler(e,n),s(t.instrumentsSlice.actions.instrumentAdded(e,n))}},t.updateInstrumentParameter=function(e,n,s){return function(i,o){r.getInstrument(e).setParameterValue(n,s),i(t.instrumentsSlice.actions.instrumentParameterUpdated(e,n,s))}},t.selectInstrumentNames=e=>e.instruments.instruments.allIds,t.selectInstrumentConfig=(e,t)=>e.instruments.instruments.byId[t],t.selectInstrumentConfigs=s.createSelector([t.selectInstrumentNames,e=>e.instruments.instruments.byId],((e,t)=>e.map((e=>t[e])))),t.selectParameterNamesForInstrument=(e,t)=>e.instruments.instruments.byId[t].params.allIds,t.selectInstrumentParameter=(e,t,n)=>e.instruments.instruments.byId[t].params.byId[n],t.instrumentAdded=t.instrumentsSlice.actions.instrumentAdded,t.default=t.instrumentsSlice.reducer},561:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ToneSampler=t.FirstToneInstrument=void 0;const o=r(n(264)),a=n(626);class l extends a.BaseInstrument{constructor(){super([]),this.synth=(new o.Synth).toDestination()}schedule(e){this.synth.triggerAttackRelease("C2","4n",e)}}t.FirstToneInstrument=l;class u extends a.BaseInstrument{constructor(e){super([]),this.player=new o.Player(e).toDestination()}schedule(e){this.player.start(e)}}t.ToneSampler=u},121:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(184)),l=r(n(294)),u=n(940),c=n(64),h=o(n(646)),d=o(n(757)),p=o(n(301)),f=n(83);t.default=function(e){const{instrumentName:t}=e,n=u.useSelector(f.selectNBars),s=u.useSelector(f.selectBeatsPerBar),i=u.useSelector(f.selectPadsPerBeat),r=(c.useAppDispatch(),a.default("track",t));return l.createElement("section",{className:r},l.createElement("span",null,t),l.createElement(d.default,{instrumentName:t}),Array.from(h.default(0,n)).map((e=>Array.from(h.default(0,s)).map((n=>l.createElement(l.Fragment,null,n+1,Array.from(h.default(0,i)).map((s=>l.createElement(p.default,{key:`${t}${e}${n}${s}`,instrumentName:t,bari:e,beati:n,padi:s})))))))))}},757:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=r(n(294)),l=n(940),u=n(64),c=o(n(166)),h=n(567);t.default=function(e){const{instrumentName:t}=e,n=l.useSelector((e=>h.selectParameterNamesForInstrument(e,t))),s=u.useAppDispatch();return a.createElement(a.Fragment,null,n.map((e=>a.createElement(c.default,{key:e,kind:"selector",selector:n=>h.selectInstrumentParameter(n,t,e),onInput:n=>s(h.updateInstrumentParameter(t,e,n))}))))}},301:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=o(n(184)),l=r(n(294)),u=n(940),c=n(64),h=n(83);t.default=function(e){const{instrumentName:t,bari:n,beati:s,padi:i}=e,r=u.useSelector((e=>h.selectPad(e,t,n,s,i))),o=c.useAppDispatch(),d=a.default("pad",r?"on":"off");return l.createElement("button",{className:d,onClick:()=>o(h.padClick(t,n,s,i))})}},707:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(294));t.default=function(e){const{isPlaying:t,onClick:n}=e;return o.createElement("button",{onClick:n},o.createElement("span",null,t?"Pause":"Play"))}},166:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const o=r(n(294)),a=n(940);t.default=function(e){let t;switch(e.kind){case"selector":t=a.useSelector(e.selector);break;case"object":t=e.config}const{name:n="defaultName?",min:s=0,max:i=1,value:r=.5,step:l=.1}=t;return o.createElement("div",null,o.createElement("label",{htmlFor:n},"slider for ",n," (",r,")"),o.createElement("input",{name:n,id:n,type:"range",min:s,max:i,value:r,step:l,onInput:t=>e.onInput(parseFloat(t.target.value))}))}},83:(e,t,n)=>{"use strict";var s;Object.defineProperty(t,"__esModule",{value:!0}),t.padClick=t.setTempo=t.pause=t.selectPad=t.selectPadNames=t.selectPadsPerBeat=t.selectBeatsPerBar=t.selectNBars=t.selectNumberOfPads=t.playThunk=t.sequencerSlice=void 0;const i=n(355),r=n(564),o=n(567);t.sequencerSlice=i.createSlice({name:"sequencer",initialState:{nBars:1,beatsPerBar:4,padsPerBeat:4,pads:{byId:{},allIds:[]},isPlaying:!1,tempo:60,timerId:0},reducers:{play:e=>{e.isPlaying=!0},pause:e=>{e.isPlaying=!1},setTempo:(e,t)=>{e.tempo=t.payload},padClick:{reducer(e,t){const{instrumentName:n,bari:s,beati:i,padi:r}=t.payload;e.pads.byId[n][s][i][r]=!e.pads.byId[n][s][i][r]},prepare:(e,t,n,s)=>({payload:{instrumentName:e,bari:t,beati:n,padi:s}})}},extraReducers:e=>{e.addCase(o.instrumentAdded,((e,t)=>{const{nBars:n,beatsPerBar:s,padsPerBeat:i}=e,{name:r}=t.payload;e.pads.allIds.push(r),e.pads.byId[r]=new Array(n).fill(new Array(s).fill(new Array(i).fill(!1)))}))}}),t.playThunk=async function(e,n){e(t.sequencerSlice.actions.play());const s=await r.getAudioContext();"suspended"===s.state&&s.resume();let i=0,o=0,a=0,l=s.currentTime,u=null;s.currentTime,console.log("starting schedule()"),function e(){const{nBars:c,beatsPerBar:h,padsPerBeat:d,isPlaying:p,tempo:f,pads:m}=n().sequencer,{instruments:g}=n().instruments;if(t.selectNumberOfPads(n()),!p)return void console.log("isPlaying false. stopping schedule() timeout");const _=60/f/d,v=s.currentTime+.1;for(;l<v;)g.allIds.forEach((e=>{m.byId[e][i][o][a]&&r.scheduleInstrument(e,l)})),a=(a+1)%d,0===a&&(o=(o+1)%h,0===o&&(i=(i+1)%c)),l+=_;u=window.setTimeout(e,25)}()},t.selectNumberOfPads=e=>e.sequencer.nBars*e.sequencer.beatsPerBar*e.sequencer.padsPerBeat,t.selectNBars=e=>e.sequencer.nBars,t.selectBeatsPerBar=e=>e.sequencer.beatsPerBar,t.selectPadsPerBeat=e=>e.sequencer.padsPerBeat,t.selectPadNames=e=>e.sequencer.pads.allIds,t.selectPad=(e,t,n,s,i)=>e.sequencer.pads.byId[t][n][s][i],s=t.sequencerSlice.actions,t.pause=s.pause,t.setTempo=s.setTempo,t.padClick=s.padClick,t.default=t.sequencerSlice.reducer},646:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function*(e,t,n=1){for(let s=e;s<t;s+=n)yield s}},775:function(e,t,n){"use strict";var s=this&&this.__createBinding||(Object.create?function(e,t,n,s){void 0===s&&(s=n),Object.defineProperty(e,s,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,s){void 0===s&&(s=n),e[s]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&s(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useKeyboardShortcut=void 0;const o=r(n(294));var a;function l(e,t){switch(t.type){case"keyDown":e[t.payload]=!0;break;case"keyUp":e[t.payload]=!1}return e}t.useKeyboardShortcut=(e,t)=>{const n=e.reduce(((e,t)=>(e[t]=!1,e)),{}),[s,i]=o.useReducer(l,n),r=o.useCallback((t=>{const{key:n,target:r,repeat:o}=t;o||e.includes(n)&&(s[n]||i(a.actions.KEYDOWN(n)))}),[e,s]),u=o.useCallback((n=>{const{key:r,target:o}=n;e.includes(r)&&s[r]&&(i(a.actions.KEYUP(r)),t())}),[e,s]);o.useEffect((()=>(window.addEventListener("keydown",r,!0),()=>window.removeEventListener("keydown",r,!0))),[r]),o.useEffect((()=>(window.addEventListener("keyup",u,!0),()=>window.removeEventListener("keyup",u,!0))),[u])},function(e){e.actions={KEYDOWN:e=>({type:"keyDown",payload:e}),KEYUP:e=>({type:"keyUp",payload:e})}}(a||(a={}))},737:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.normalizedObjectFromTuples=void 0,t.normalizedObjectFromTuples=function(e){return{byId:Object.fromEntries(e),allIds:e.map((e=>e[0]))}}}},t={};function n(s){var i=t[s];if(void 0!==i)return i.exports;var r=t[s]={id:s,exports:{}};return e[s].call(r.exports,r,r.exports,n),r.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var s in t)n.o(t,s)&&!n.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e=n(294),t=n(935),s=n(379),i=n.n(s),r=n(795),o=n.n(r),a=n(695),l=n.n(a),u=n(216),c=n.n(u),h=n(763),d={styleTagTransform:function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}},setAttributes:function(e){var t=n.nc;t&&e.setAttribute("nonce",t)},insert:function(e){var t=l()("head");if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(e)}};d.domAPI=o(),d.insertStyleElement=c(),i()(h.Z,d),h.Z&&h.Z.locals&&h.Z.locals;var p=n(940),f=n(121),m=n.n(f),g=n(707),_=n.n(g),v=n(166),y=n.n(v),b=n(83),w=n(567),x=(n(381),n(561)),S=n(564),k=n(775);const T=function(){const t=(0,p.useSelector)((e=>e.sequencer.tempo)),n=(0,p.useSelector)((e=>e.sequencer.isPlaying)),s=(0,p.useSelector)(w.selectInstrumentNames),i=(0,p.useDispatch)();(0,e.useEffect)((async()=>{await(0,S.getAudioContext)(),i((0,w.addInstrument)("hat",new x.ToneSampler("/assets/audio/hat.wav"))),i((0,w.addInstrument)("lazertom",new x.ToneSampler("/assets/audio/lazertom.wav"))),i((0,w.addInstrument)("electrotom",new x.ToneSampler("/assets/audio/electrotom.wav"))),i((0,w.addInstrument)("snare",new x.ToneSampler("/assets/audio/snare.wav"))),i((0,w.addInstrument)("kick",new x.ToneSampler("/assets/audio/kick.wav"))),i((0,w.addInstrument)("tonesynth",new x.FirstToneInstrument))}),[]);const r=()=>i(n?(0,b.pause)():b.playThunk);return(0,k.useKeyboardShortcut)([" "],r),e.createElement("section",{className:"stepSequencer"},e.createElement("section",{className:"sequencerControls"},e.createElement("span",null,e.createElement(y(),{kind:"object",config:{name:"bpm",min:10,max:200,value:t,step:1},onInput:e=>i((0,b.setTempo)(e))}),e.createElement(_(),{isPlaying:n,onClick:r}))),e.createElement("section",{className:"tracks"},s.map((t=>e.createElement(m(),{key:t,instrumentName:t})))))},C=function(){return e.createElement(T,null)};var O=n(64),E=n.n(O);const A=document.querySelector("#stepsequencer_container");t.render(e.createElement(p.Provider,{store:E()},e.createElement(C,null)),A)})()})();